!function(t){function e(e){for(var n,o,r=e[0],a=e[1],s=0,c=[];s<r.length;s++)o=r[s],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&c.push(i[o][0]),i[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(l&&l(e);c.length;)c.shift()()}var n={},i={0:0,4:0};function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(t){var e=[],n=i[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,o){n=i[t]=[e,o]}));e.push(n[2]=r);var a,s=document.createElement("script");s.charset="utf-8",s.timeout=120,o.nc&&s.setAttribute("nonce",o.nc),s.src=function(t){return o.p+""+({}[t]||t)+"-"+{6:"4495ec57c52d0f8afbbe"}[t]+".js"}(t);var l=new Error;a=function(e){s.onerror=s.onload=null,clearTimeout(c);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",l.name="ChunkLoadError",l.type=o,l.request=r,n[1](l)}i[t]=void 0}};var c=setTimeout((function(){a({type:"timeout",target:s})}),12e4);s.onerror=s.onload=a,document.head.appendChild(s)}return Promise.all(e)},o.m=t,o.c=n,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/js/",o.oe=function(t){throw console.error(t),t};var r=window.webpackJsonp=window.webpackJsonp||[],a=r.push.bind(r);r.push=e,r=r.slice();for(var s=0;s<r.length;s++)e(r[s]);var l=a;o(o.s=482)}([function(t,e,n){var i=n(2),o=n(18),r=n(11),a=n(12),s=n(19),l=function(t,e,n){var c,d,u,p,f=t&l.F,h=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,b=h?i:m?i[e]||(i[e]={}):(i[e]||{}).prototype,y=h?o:o[e]||(o[e]={}),w=y.prototype||(y.prototype={});for(c in h&&(n=e),n)u=((d=!f&&b&&void 0!==b[c])?b:n)[c],p=v&&d?s(u,i):g&&"function"==typeof u?s(Function.call,u):u,b&&a(b,c,u,t&l.U),y[c]!=u&&r(y,c,p),g&&w[c]!=u&&(w[c]=u)};i.core=o,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){var i=n(4);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(49)("wks"),o=n(34),r=n(2).Symbol,a="function"==typeof r;(t.exports=function(t){return i[t]||(i[t]=a&&r[t]||(a?r:o)("Symbol."+t))}).store=i},function(t,e,n){var i=n(21),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,n){var i=n(1),o=n(99),r=n(23),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(24);t.exports=function(t){return Object(i(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(8),o=n(33);t.exports=n(7)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(2),o=n(11),r=n(14),a=n(34)("src"),s=n(145),l=(""+s).split("toString");n(18).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(r(n,"name")||o(n,"name",e)),t[e]!==n&&(c&&(r(n,a)||o(n,a,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:o(t,e,n):(delete t[e],o(t,e,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[a]||s.call(this)}))},function(t,e,n){var i=n(0),o=n(3),r=n(24),a=/"/g,s=function(t,e,n,i){var o=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+o+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})),"String",n)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(50),o=n(24);t.exports=function(t){return i(o(t))}},function(t,e,n){var i=n(51),o=n(33),r=n(15),a=n(23),s=n(14),l=n(99),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=r(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(14),o=n(9),r=n(71)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,r)?t[r]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){var i=n(10);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){"use strict";var i=n(3);t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(0),o=n(18),r=n(3);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*r((function(){n(1)})),"Object",a)}},function(t,e,n){var i=n(19),o=n(50),r=n(9),a=n(6),s=n(87);t.exports=function(t,e){var n=1==t,l=2==t,c=3==t,d=4==t,u=6==t,p=5==t||u,f=e||s;return function(e,s,h){for(var m,g,v=r(e),b=o(v),y=i(s,h,3),w=a(b.length),x=0,_=n?f(e,w):l?f(e,0):void 0;w>x;x++)if((p||x in b)&&(g=y(m=b[x],x,v),t))if(n)_[x]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return x;case 2:_.push(m)}else if(d)return!1;return u?-1:c||d?d:_}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){var t,e,n,i={appName:"Mobirise",version:"5.0.0",dataLocation:"",projectDataLocation:"@DATA_LOCATION@/projectData",tempLocation:"",publicTempLocation:"@TEMP_LOCATION@",docLocation:"",imgLocation:"@DOC_LOCATION@",projectsLocation:"@DATA_LOCATION@/projects",isPro:!0,isDev:!1,debug:0,getArgs:(n=window.location.href,function(t){return t?t(n.split(/\&|\?/)):(e||((e=n.replace(/^.*?(\?|$)/,"").split("&").reduce((function(t,e){return(e=e.split("="))[0]&&(t[e[0]]=decodeURIComponent(e.slice(1).join("="))),t}),{})).embedded=function(){try{return window.self!==window.top}catch(t){return!0}}(),e.external="true"===e.external),e)}),templating:function(t){return t},openUrl:function(t){window.open(t,"_blank")},runFileDialog:function(t,e,n,i,o){c()||l(),i&&i("")},runFileDialog2:function(t,e){var n=[];t&&(n.push(e&&e.caption||""),n.push(e&&e.path||""),n.push(e&&e.filter||""),n.push(t),n.push(e&&e.multi),i.runFileDialog.apply(i,n))},initProject:function(t,e){t&&t("",{path:i.dataLocation+"/projects/project-"+i.dateFormat(new Date,"yyyy-MM-dd_hhmmss"),name:e})},saveLocalFile:function(t,e,n){if(console.warn('call Bridge.saveLocalFile("'+t+'", String['+e.length+"])"),!c()&&(/^\/projects\/.+project\.mobirise$/.test(t)||/^\/recents.list$/.test(t)))return i.FILES=i.FILES||{},i.FILES[t]=e,void(n&&n(!0));n&&n(!1)},loadLocalFile:function(t,e){e=e||function(){},c()||!(/^\/projects\/.+project\.mobirise$/.test(t)||t.indexOf(i._recentsFile)>=0)?i.http(i.path2app(t),{success:e,error:function(){e("")}}):e(i.FILES&&i.FILES[t]||"")},registerPreviewPath:function(){return i.publicTempLocation+"/"+i.dateFormat(new Date,"yyyyMMdd_hhmmss")},copyLocal:function(t,e,n){n&&n("")},removeLocal:function(t,e){e&&e(!1)},isExistsLocal:function(t,e){i.loadLocalFile(t,(function(t){e&&e(!!t)}))},dirList:function(t,e,n){e&&e([])},getInfoLocal:function(t,e){e&&e()},moveLocal:function(t,e,n){n&&n(!1)},loadLocalBase64:function(t,e){i.loadLocalFile(t,(function(t){e(btoa(t))}))},loadLocalBlob:function(t,e){i.loadLocalFile(t,(function(t){callback(new Blob([t],{type:"text/plain"}))}))},saveLocalBase64:function(t,e,n){n&&n(!1)},md5_base64:function(t,e){console.warn("call md5_base64"),e&&e("")},uploadBuildIn:function(t,e,n){if(!t||!e)return"file";n=o(n,{onStart:function(t){},onFile:function(t){},onUploaded:function(t){},onError:function(t){},onClose:function(t){},onData:function(t,e){return""}});var r=1,a=-1;function s(o){switch(r){case 4:return;case 1:if(o)return void(r=o);break;case 2:if(!o||3==o)return;r=o,o=0;break;case 3:return o?void(r=o):void(r=2);case 5:if(o)return;t=""}if(a<0)i._uploadBuildIn_init(t,(function(t){t?(r=2,n.onError(t)):(n.onStart(e.length),a=0,s())}));else{if(a>=e.length||5==r)return r=4,void i._uploadBuildIn_done(t,(function(e){e&&n.onError(e),n.onClose(t)}));var l=e[a++];n.onFile(l.dest),i._uploadBuildIn_file(l,n.onData,t,(function(t){t?(r=2,n.onError(t)):(n.onUploaded(l.dest),s())}))}}return setTimeout(s,1),{resume:function(){s(1)},pause:function(){s(3)},exit:function(){s(5)}}},_uploadBuildIn_init:function(t,e){console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout((function(){e&&e("")}),1)},_uploadBuildIn_done:function(t,e){console.log("Upload is done! url =",t),setTimeout((function(){e&&e("")}),1)},_uploadBuildIn_file:function(t,e,n,i){console.log("Uploading file "+t.dest);for(var o=0;o<t.srcList.length;o++){var r=t.srcList[o];if(r.filter){var a=e(r.src,r.filter);console.log("<<< "+r.src+" <<< data.length="+a.length)}else console.log("<<< "+r.src)}setTimeout((function(){i&&i("")}),100)},supportedImgExts:["jpg","jpeg","png","gif","bmp","svg","ico"],getScreen:function(t,e,n,i){console.warn("call Bridge.getScreen()"),t&&t()},zip:function(){return new JSZip},saveAs:function(t,e,n){window.saveAs(t,e,n)},setSettings:function(t,e,n){console.warn("call Bridge.setSettings("+t+","+e+")"),n&&n(!1)},getSettings:function(t,e){var n="";"account"==t&&(n='{"email":"8b@gmail.com","token":"1234"}'),e&&e(n)},setSettingsArray:function(t,e){for(var n=0;n<e.length;n++)i.setSettings(t+"/"+n,e[n]);!function e(n){i.getSettings(t+"/"+n,(function(o){o&&(i.setSettings(t+"/"+n,""),e(n+1))}))}(e.length)},getSettingsArray:function(t,e){!function n(o,r){i.getSettings(t+"/"+o,(function(t){t?(r.push(t),n(o+1,r)):e(r)}))}(0,[])},encode:function(t,e){e&&e(t)},decode:function(t,e){e&&e(t)},download:function(t,e){e&&e(t)},download2:function(t,e,n){e&&e(t)},osLocale:function(t){t(window.navigator.language.replace("-","_"))},args:{},isValid:function(){return!1},versionCmp:function(t,e){t=(t||"").split("."),e=(e||"").split(".");for(var n=0;n<t.length||n<e.length;n++)if(t[n]=parseInt(t[n])||0,e[n]=parseInt(e[n])||0,t[n]!=e[n])return t[n]-e[n];return 0},base:(t=location.origin+location.pathname,t.substr(0,t.lastIndexOf("/")+1)),path2app:function(t){return/^(\w*\:)?\/\//.test(t)?t:t&&t.startsWith("web/")?t.replace("web/",i.base):"../"+t},url2sys:function(t){return t=decodeURI(t),t=/^file:\/\/\/\w+\:/.test(t)?t.replace(/^file:\/\/\/(\w+\:)/,"$1").replace(/\//g,"\\"):t.replace(/^file:\/\//,"")},sys2url:function(t,e){return t?("/"!=(e=e||i.base)[e.length-1]&&(e+="/"),t=encodeURI(t.replace(/\\/g,"/")),/^(\w*\:)?\//.test(t)?"file://"+t.replace(/^\w+\:\//,"/$&"):e+t):e||""},substUrl:function(t){return t.replace("%name%",i.appName).replace("%ver%",i.version).replace("%os%",i.getPlatform()).replace("%reg%",i.isPro?"pro":"free")},FileManager:function(t,e,n){if(!t||!e)return i.uploadBuildIn("");var r=!1,a=i._fmQueue;n=o({start:function(t){},file:function(t){},uploaded:function(t){},error:function(t){console.log("FileManager error:"+t),l()},close:function(t){}},n,!0);var s=this._run=function(){var n={onStart:c,onFile:d,onUploaded:u,onError:p,onClose:f,onData:i.templating};if(!(r=i.uploadBuildIn(e,t,n)))for(var o=0;o<i._fileManagerUploaders.length&&!(r=i._fileManagerUploaders[o](e,t,n));o++);};this.pause=function(){r&&r.pause()};var l=this.resume=function(){r&&r.resume()};this.exit=function(){r&&r.exit()};var c=function(t){1&i.debug&&console.log("FileManager:emitStart",t),setTimeout((function(){n.start(t)}),1)},d=function(t){1&i.debug&&console.log("FileManager:emitFile",t),setTimeout((function(){n.file(t)}),1)},u=function(t){1&i.debug&&console.log("FileManager:emitUploaded",t),setTimeout((function(){n.uploaded(t)}),1)},p=function(t){1&i.debug&&console.log("FileManager:emitError",t),setTimeout((function(){n.error(t)}),1)},f=function(t){1&i.debug&&console.log("FileManager:emitClose",t),r=!1,setTimeout((function(){n.close(t)}),1),setTimeout((function(){a.shift(),a.length&&a[0]._run()}),1)};a.push(this),1==a.length&&s()},_fmQueue:[],fileManagerAddUploader:function(t){i._fileManagerUploaders.push(t)},_fileManagerUploaders:[],parseUrl:function(t){return{url:(t=/^([^:]*)\:(?:\/\/(?:(?:([^\/:]*)(?:\:([^\/]*))?@)?([^\/@:]+)(?:\:(\d+))?))?(\/[^?]*)?(?:\?([^?]*))?$/.exec(t)||[])[0],scheme:t[1],user:t[2],password:t[3],domain:t[4],port:parseInt(t[5]),path:t[6],query:t[7]}},joinUrl:function(t){return((t=t||{}).scheme||"")+":"+(t.domain?"//"+(t.user?t.user+("password"in t?":"+t.password:"")+"@":"")+t.domain+(t.port?":"+t.port:""):"")+(t.path?("/"!=t.path[0]?"/":"")+t.path:"")+(t.query?"?"+t.query:"")},bind:function(t,e){this[t="on"+t.toLowerCase()]||(this[t]=[]),this[t].push(e)},unbind:function(t,e){if(t="on"+t.toLowerCase(),!e)return this[t]=[];var n=this[t].indexOf(e);return n>-1?this[t].splice(n,1):void 0},emit:function(t,e){if(this[t="on"+t.toLowerCase()])for(var n=0;n<this[t].length;n++)try{this[t][n](e)}catch(t){}},initPath:"",OnReady:[],setOnReady:function(t){i.OnReady?i.OnReady.push(t):t()},emitOnReady:function(){for(;i.OnReady&&i.OnReady.length;)try{i.OnReady.shift()()}catch(t){console.error(t)}i.OnReady=0},regQuitTask:function(t){r.push(t)},getPlatform:function(){return navigator.userAgent.match(/Mobirise-webview/i)?"android":!/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase())||navigator.standalone||/safari/.test(navigator.userAgent.toLowerCase())?navigator.platform.match(/Mac/i)?"mac":navigator.platform.match(/Linux/i)?"linux":"win":"ios"},isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),_recentsFile:"recents.list",getRecentsList:function(t){i.loadLocalFile(i.dataLocation+"/"+i._recentsFile,(function(e){var n;try{n=JSON.parse(e)}catch(t){}t(n||[])}))},addRecent:function(t,e){t&&t.path?i.getRecentsList((function(n){n=n||[];for(var o=0;o<n.length;o++)if(n[o].path==t.path){var r=n.splice(o,1)[0]||{};t.name=t.name||r.name,t.screenshot=t.screenshot||r.screenshot;break}n.unshift(t),i.saveLocalFile(i.dataLocation+"/"+i._recentsFile,JSON.stringify(n),(function(t){t||console.error("Error: unable to save recent list"),e&&e(t)}))})):e&&e(!1)},moveRecent:function(t,e,n){i.getRecentsList((function(o){for(var r=0;r<o.length;r++)if(o[r].path==t)return o.splice(e,0,o.splice(r,1)[0]),void i.saveLocalFile(i.dataLocation+"/"+i._recentsFile,JSON.stringify(o),n);n&&n(!1)}))},rmRecent:function(t,e){t&&i.getRecentsList((function(n){for(var o=[],r=0;r<n.length;r++)n[r].path!=t&&o.push(n[r]);if(!c())return l(),void e(!1);i.saveLocalFile(i.dataLocation+"/"+i._recentsFile,JSON.stringify(o),e)}))},getRecentSettings:function(t,e){if(!e)return!1;t||e(!1),i.getRecentsList((function(n){for(var i=0;i<n.length;i++)if(n[i].path==t)return e(n[i]);e(!1)}))},changeRecentSettings:function(t,e,n){t&&e&&i.getRecentsList((function(o){for(var r=0;r<o.length;r++)if(o[r].path==t)for(var a in e)o[r][a]=e[a];i.saveLocalFile(i.dataLocation+"/"+i._recentsFile,JSON.stringify(o),n)}))},saveAllRecents:function(t,e){i.saveLocalFile(i.dataLocation+"/"+i._recentsFile,JSON.stringify(t),e)},http:function(t,e){var n,i=performance.now();e=o(e||{},{method:"GET",headers:{},data:null,success:function(t){},error:function(t){}});try{n=new XMLHttpRequest}catch(t){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){console.log(t.message),e.error(t.message)}}if(n){n.onreadystatechange=function(){if(4==n.readyState){e.timeout&&clearTimeout(a);var t=performance.now()-i;200!=n.status&&n.status&&201!=n.status&&204!=n.status?e.error(n.status,n):e.success(n.responseText,n,t)}};try{for(var r in n.open(e.method,t,!0),n.withCredentials=void 0===e.withCredentials||e.withCredentials,e.headers)n.setRequestHeader(r,e.headers[r]);if(n.send(e.data),e.timeout)var a=setTimeout((function(){n.abort(),e.error("something went wrong",n)}),e.timeout)}catch(t){console.log(t.message),e.error(t.message)}}return n},dateFormat:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return e},waitForEach:function t(e,n,i){if(e.length){var o=e.splice(0,1)[0];n.call(this,o,(function(o){t(e,n,(function(t){t.splice(0,0,o),i(t)}))}))}else i([])},splitPath:function(t){t=t.split("/");var e={},n=e.fullname=t.splice(t.length-1,1)[0];return e.noExt=n.indexOf(".")<0,e.noExt?(e.ext="",e.name=n):(e.ext=n.substr(n.lastIndexOf(".")+1),e.name=n.substr(0,n.lastIndexOf("."))),e.dir=t.join("/"),e},openImage:function(t,e,n,r,a,s){function c(t){a&&a(s?t||[]:t?t[0]:"")}if(!i.transformImage)return l(),void c();var d={width:-1,height:-1,keepAspectRatio:!0,shrinkLarge:!1,stretchSmall:!1,quality:100,format:"",multi:!1};function u(t){"/"!=e.substr(-1)&&(e+="/"),i.waitForEach(t,(function(t,n){!function t(e,n,o,r){i.isExistsLocal(e,(function(a){if(a){var s=i.splitPath(e),l=s.name;r&&(l=l.substr(0,l.lastIndexOf(n+r))),l=l+n+(r=(r||0)+1),t(s.dir+"/"+l+(s.noExt?"":"."+s.ext),n,o,r)}else o(e)}))}(e+i.cleanURI(t.split("/").pop(),"_"),"_",(function(e){r?i.moveLocal(t,e,(function(i){i||console.error("Error image re-save file "+t+" to "+e),n(e)})):i.copyLocal(t,e,(function(i){i||console.error("Error image re-save file "+t+" to "+e),n(i||e)}))}))}),c)}i.getSettings("lastImageDialogDir",(function(a){var l="Images (*."+i.supportedImgExts.join(" *.")+")";i.runFileDialog(t,n||a||i.imgLocation,l,(function(t){t&&t.length&&(1!=t.length||t[0])?(t=s?t:[t],i.setSettings("lastImageDialogDir",i.splitPath(t[0]).dir),r||(/(jpeg)$/i.test(i.splitPath(t[0]).ext)?r={format:"jpg",quality:60}:/(bmp)$/i.test(i.splitPath(t[0]).ext)&&(r={format:"png"})),r?(r=o(d,r,!0),i.waitForEach(t,(function(t,e){var n=o({},r,!0);n.format=n.format||(/jpg|jpeg/i.test(i.splitPath(t).ext)?"jpg":"png"),"png"==n.format&&(n.quality=1),/(tiff|tif)$/i.test(i.splitPath(t).ext)?e(t):i.transformImage(t,n,e)}),e?u:c)):(e||(e=i.tempLocation+"/open"+i.dateFormat(new Date,"yyyyMMdd_hhmmss")),u(t))):c()}),s)}))},saveFileUnique:function(t,e,n){n=n||function(){},i.getLocalJSON(e+"/hashes.json",(function(o){function r(t,n,r){o[n]=t,i.saveLocalFile(e+"/hashes.json",JSON.stringify(o),(function(n){n||console.error("unable to save "+e+"/hashes.json"),r(e+"/"+t)}))}o=o||{},i.md5_base64(t,(function(a){if(!a)return console.error("unable access to file "+t),void n("");if(o[a]){var s=e+"/"+o[a];i.isExistsLocal(e+"/"+o[a],(function(e){e?n(s):i.copyLocal(t,s,(function(t){t||console.error("unable to save "+t),n(t)}))}))}else{var l=t.split("/").pop().toLowerCase();0!=t.indexOf(e+"/")?(l=function(t){var e=/(?:[-_](\d+))?(?:(?:-\d+x\d+)*-(\d+x\d+))?(?:[-_](\d+))?\.([^\.]+)$/.exec(t);return{name:t,base:e?t.replace(e[0],""):t,index:e?parseInt(e[1]):0,size:e?e[2]:"",ext:e?e[4]:""}}(l),i.dirList(e,(function(o){o=o.join("\n").toLowerCase().split("\n");var s,c=l.index||0;do{s=l.base+(c?"-"+c:"")+(l.size?"-"+l.size:"")+"."+l.ext,c++}while(o.indexOf(s)>=0);i.copyLocal(t,e+"/"+s,(function(t){if(!t)return console.error("unable to save "+e+s),void n("");r(t.split("/").pop(),a,n)}))}),{names:[l.base+"*."+l.ext],filter:1,recursive:!1})):r(l,a,n)}}))}))},moveFileClean:function(t,e,n){var o=e+"/"+i.cleanURI(t.split("/").pop());i.copyLocal(t,o,(function(){n(o)}))},cleanURI:function(t,e){return t=decodeURI(t).replace(/\-|[^a-zA-Z0-9\/_.| -]/g,e||"").toLowerCase().replace(/[\/| -]+/g,e||"_"),encodeURI(t)},moveFile:function(t,e,n){return this.moveFileClean(t,e,n)},getLocalJSON:function(t,e,n){i.loadLocalFile(t,(function(i){var o;if(i)try{o=JSON.parse(i)}catch(e){var r=e.message+(e.line?" at line "+e.line:"")+" in file "+t;console.error(new Error(r,t)),n&&n(r)}e&&e(o)}))}};function o(t,e,n){for(var i in t=t||{},e=e||{})(n||null==t[i])&&(t[i]=e[i]);return t}var r=[];function a(t){if(i.versionName=i.versionName||i.version,i.version=function(t){t=(t||"").split(".");for(var e=0;e<t.length;e++)t[e]=parseInt(t[e])||0;return t}(i.version).join("."),i.projectDataLocation=s(i.projectDataLocation)||i.dataLocation,i.publicTempLocation=s(i.publicTempLocation)||i.tempLocation,i.imgLocation=s(i.imgLocation)||i.docLocation,i.projectsLocation=s(i.projectsLocation)||i.dataLocation,t=t||function(){},4&i.debug)for(var e in i)"function"==typeof i[e]&&function(t){var e=i[t];i[t]=function(){return console.log("Bridge."+t,arguments),e.apply(this,arguments)}}(e);o(i.args,i.getArgs()),t()}function s(t){return t.replace("@DATA_LOCATION@",i.dataLocation).replace("@TEMP_LOCATION@",i.tempLocation).replace("@DOC_LOCATION@",i.docLocation)}function l(){(window.bootbox&&bootbox.alert||window.alert)("Unfortunately, this feature is not available in your browser.")}function c(){return"undefined"!=typeof qt||navigator.userAgent.match(/Mobirise/i)||navigator.userAgent.match(/Electron/i)||/ios/.test(i.getPlatform())}i.bind("close",(function(){function t(t){t>=0&&(r[t]=0);for(var e=0;e<r.length;e++)if(r[e])return;i.quit()}r.forEach((function(e,n){if(e){try{e((function(){i&&clearTimeout(i),t(n)}))}catch(e){console.error(e),t(n)}var i=setTimeout((function(){t(n)}),1e3)}})),t(-1)})),c()||(i.isDev=!0,i.isValid=function(){return!0});var d=setInterval((function(){i.isValid()&&(clearInterval(d),a((function(){i.emitOnReady()})))}),100);return i}();e.Bridge=i},function(t,e,n){"use strict";if(n(7)){var i=n(30),o=n(2),r=n(3),a=n(0),s=n(64),l=n(95),c=n(19),d=n(40),u=n(33),p=n(11),f=n(42),h=n(21),m=n(6),g=n(127),v=n(36),b=n(23),y=n(14),w=n(45),x=n(4),_=n(9),S=n(84),k=n(37),C=n(17),P=n(38).f,T=n(86),E=n(34),A=n(5),j=n(26),L=n(54),$=n(53),F=n(89),O=n(47),D=n(59),I=n(39),N=n(88),B=n(116),M=n(8),R=n(16),U=M.f,z=R.f,H=o.RangeError,W=o.TypeError,q=o.Uint8Array,V=Array.prototype,G=l.ArrayBuffer,Y=l.DataView,K=j(0),J=j(2),X=j(3),Q=j(4),Z=j(5),tt=j(6),et=L(!0),nt=L(!1),it=F.values,ot=F.keys,rt=F.entries,at=V.lastIndexOf,st=V.reduce,lt=V.reduceRight,ct=V.join,dt=V.sort,ut=V.slice,pt=V.toString,ft=V.toLocaleString,ht=A("iterator"),mt=A("toStringTag"),gt=E("typed_constructor"),vt=E("def_constructor"),bt=s.CONSTR,yt=s.TYPED,wt=s.VIEW,xt=j(1,(function(t,e){return Pt($(t,t[vt]),e)})),_t=r((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),St=!!q&&!!q.prototype.set&&r((function(){new q(1).set({})})),kt=function(t,e){var n=h(t);if(n<0||n%e)throw H("Wrong offset!");return n},Ct=function(t){if(x(t)&&yt in t)return t;throw W(t+" is not a typed array!")},Pt=function(t,e){if(!x(t)||!(gt in t))throw W("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Et($(t,t[vt]),e)},Et=function(t,e){for(var n=0,i=e.length,o=Pt(t,i);i>n;)o[n]=e[n++];return o},At=function(t,e,n){U(t,e,{get:function(){return this._d[n]}})},jt=function(t){var e,n,i,o,r,a,s=_(t),l=arguments.length,d=l>1?arguments[1]:void 0,u=void 0!==d,p=T(s);if(null!=p&&!S(p)){for(a=p.call(s),i=[],e=0;!(r=a.next()).done;e++)i.push(r.value);s=i}for(u&&l>2&&(d=c(d,arguments[2],2)),e=0,n=m(s.length),o=Pt(this,n);n>e;e++)o[e]=u?d(s[e],e):s[e];return o},Lt=function(){for(var t=0,e=arguments.length,n=Pt(this,e);e>t;)n[t]=arguments[t++];return n},$t=!!q&&r((function(){ft.call(new q(1))})),Ft=function(){return ft.apply($t?ut.call(Ct(this)):Ct(this),arguments)},Ot={copyWithin:function(t,e){return B.call(Ct(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return Q(Ct(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return N.apply(Ct(this),arguments)},filter:function(t){return Tt(this,J(Ct(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return Z(Ct(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return tt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Ct(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return nt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return et(Ct(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ct.apply(Ct(this),arguments)},lastIndexOf:function(t){return at.apply(Ct(this),arguments)},map:function(t){return xt(Ct(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return st.apply(Ct(this),arguments)},reduceRight:function(t){return lt.apply(Ct(this),arguments)},reverse:function(){for(var t,e=Ct(this).length,n=Math.floor(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this},some:function(t){return X(Ct(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return dt.call(Ct(this),t)},subarray:function(t,e){var n=Ct(this),i=n.length,o=v(t,i);return new($(n,n[vt]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===e?i:v(e,i))-o))}},Dt=function(t,e){return Tt(this,ut.call(Ct(this),t,e))},It=function(t){Ct(this);var e=kt(arguments[1],1),n=this.length,i=_(t),o=m(i.length),r=0;if(o+e>n)throw H("Wrong length!");for(;r<o;)this[e+r]=i[r++]},Nt={entries:function(){return rt.call(Ct(this))},keys:function(){return ot.call(Ct(this))},values:function(){return it.call(Ct(this))}},Bt=function(t,e){return x(t)&&t[yt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Mt=function(t,e){return Bt(t,e=b(e,!0))?u(2,t[e]):z(t,e)},Rt=function(t,e,n){return!(Bt(t,e=b(e,!0))&&x(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?U(t,e,n):(t[e]=n.value,t)};bt||(R.f=Mt,M.f=Rt),a(a.S+a.F*!bt,"Object",{getOwnPropertyDescriptor:Mt,defineProperty:Rt}),r((function(){pt.call({})}))&&(pt=ft=function(){return ct.call(this)});var Ut=f({},Ot);f(Ut,Nt),p(Ut,ht,Nt.values),f(Ut,{slice:Dt,set:It,constructor:function(){},toString:pt,toLocaleString:Ft}),At(Ut,"buffer","b"),At(Ut,"byteOffset","o"),At(Ut,"byteLength","l"),At(Ut,"length","e"),U(Ut,mt,{get:function(){return this[yt]}}),t.exports=function(t,e,n,l){var c=t+((l=!!l)?"Clamped":"")+"Array",u="get"+t,f="set"+t,h=o[c],v=h||{},b=h&&C(h),y=!h||!s.ABV,_={},S=h&&h.prototype,T=function(t,n){U(t,n,{get:function(){return function(t,n){var i=t._d;return i.v[u](n*e+i.o,_t)}(this,n)},set:function(t){return function(t,n,i){var o=t._d;l&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),o.v[f](n*e+o.o,i,_t)}(this,n,t)},enumerable:!0})};y?(h=n((function(t,n,i,o){d(t,h,c,"_d");var r,a,s,l,u=0,f=0;if(x(n)){if(!(n instanceof G||"ArrayBuffer"==(l=w(n))||"SharedArrayBuffer"==l))return yt in n?Et(h,n):jt.call(h,n);r=n,f=kt(i,e);var v=n.byteLength;if(void 0===o){if(v%e)throw H("Wrong length!");if((a=v-f)<0)throw H("Wrong length!")}else if((a=m(o)*e)+f>v)throw H("Wrong length!");s=a/e}else s=g(n),r=new G(a=s*e);for(p(t,"_d",{b:r,o:f,l:a,e:s,v:new Y(r)});u<s;)T(t,u++)})),S=h.prototype=k(Ut),p(S,"constructor",h)):r((function(){h(1)}))&&r((function(){new h(-1)}))&&D((function(t){new h,new h(null),new h(1.5),new h(t)}),!0)||(h=n((function(t,n,i,o){var r;return d(t,h,c),x(n)?n instanceof G||"ArrayBuffer"==(r=w(n))||"SharedArrayBuffer"==r?void 0!==o?new v(n,kt(i,e),o):void 0!==i?new v(n,kt(i,e)):new v(n):yt in n?Et(h,n):jt.call(h,n):new v(g(n))})),K(b!==Function.prototype?P(v).concat(P(b)):P(v),(function(t){t in h||p(h,t,v[t])})),h.prototype=S,i||(S.constructor=h));var E=S[ht],A=!!E&&("values"==E.name||null==E.name),j=Nt.values;p(h,gt,!0),p(S,yt,c),p(S,wt,!0),p(S,vt,h),(l?new h(1)[mt]==c:mt in S)||U(S,mt,{get:function(){return c}}),_[c]=h,a(a.G+a.W+a.F*(h!=v),_),a(a.S,c,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*r((function(){v.of.call(h,1)})),c,{from:jt,of:Lt}),"BYTES_PER_ELEMENT"in S||p(S,"BYTES_PER_ELEMENT",e),a(a.P,c,Ot),I(c),a(a.P+a.F*St,c,{set:It}),a(a.P+a.F*!A,c,Nt),i||S.toString==pt||(S.toString=pt),a(a.P+a.F*r((function(){new h(1).slice()})),c,{slice:Dt}),a(a.P+a.F*(r((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!r((function(){S.toLocaleString.call([1,2])}))),c,{toLocaleString:Ft}),O[c]=A?E:j,i||A||p(S,ht,j)}}else t.exports=function(){}},function(t,e,n){var i=n(122),o=n(0),r=n(49)("metadata"),a=r.store||(r.store=new(n(125))),s=function(t,e,n){var o=a.get(t);if(!o){if(!n)return;a.set(t,o=new i)}var r=o.get(e);if(!r){if(!n)return;o.set(e,r=new i)}return r};t.exports={store:a,map:s,has:function(t,e,n){var i=s(e,n,!1);return void 0!==i&&i.has(t)},get:function(t,e,n){var i=s(e,n,!1);return void 0===i?void 0:i.get(t)},set:function(t,e,n,i){s(n,i,!0).set(t,e)},keys:function(t,e){var n=s(t,e,!1),i=[];return n&&n.forEach((function(t,e){i.push(e)})),i},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){o(o.S,"Reflect",t)}}},function(t,e){t.exports=!1},function(t,e,n){var i=n(34)("meta"),o=n(4),r=n(14),a=n(8).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(3)((function(){return l(Object.preventExtensions({}))})),d=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},u=t.exports={KEY:i,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,i)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[i].i},getWeak:function(t,e){if(!r(t,i)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[i].w},onFreeze:function(t){return c&&u.NEED&&l(t)&&!r(t,i)&&d(t),t}}},function(t,e,n){var i=n(5)("unscopables"),o=Array.prototype;null==o[i]&&n(11)(o,i,{}),t.exports=function(t){o[i][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(101),o=n(72);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){var i=n(21),o=Math.max,r=Math.min;t.exports=function(t,e){return(t=i(t))<0?o(t+e,0):r(t,e)}},function(t,e,n){var i=n(1),o=n(102),r=n(72),a=n(71)("IE_PROTO"),s=function(){},l=function(){var t,e=n(69)("iframe"),i=r.length;for(e.style.display="none",n(73).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l.prototype[r[i]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=i(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(101),o=n(72).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){"use strict";var i=n(2),o=n(8),r=n(7),a=n(5)("species");t.exports=function(t){var e=i[t];r&&e&&!e[a]&&o.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(19),o=n(114),r=n(84),a=n(1),s=n(6),l=n(86),c={},d={};(e=t.exports=function(t,e,n,u,p){var f,h,m,g,v=p?function(){return t}:l(t),b=i(n,u,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(r(v)){for(f=s(t.length);f>y;y++)if((g=e?b(a(h=t[y])[0],h[1]):b(t[y]))===c||g===d)return g}else for(m=v.call(t);!(h=m.next()).done;)if((g=o(m,b,h.value,e))===c||g===d)return g}).BREAK=c,e.RETURN=d},function(t,e,n){var i=n(12);t.exports=function(t,e,n){for(var o in e)i(t,o,e[o],n);return t}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(!i(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,n){var i=n(8).f,o=n(14),r=n(5)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,r)&&i(t,r,{configurable:!0,value:e})}},function(t,e,n){var i=n(20),o=n(5)("toStringTag"),r="Arguments"==i(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:r?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(0),o=n(24),r=n(3),a=n(75),s="["+a+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),d=function(t,e,n){var o={},s=r((function(){return!!a[t]()||"​"!="​"[t]()})),l=o[t]=s?e(u):a[t];n&&(o[n]=l),i(i.P+i.F*s,"String",o)},u=d.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(c,"")),t};t.exports=d},function(t,e){t.exports={}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(18),o=n(2),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(30)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(20);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(1);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(1),o=n(10),r=n(5)("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||null==(n=i(a)[r])?e:o(n)}},function(t,e,n){var i=n(15),o=n(6),r=n(36);t.exports=function(t){return function(e,n,a){var s,l=i(e),c=o(l.length),d=r(a,c);if(t&&n!=n){for(;c>d;)if((s=l[d++])!=s)return!0}else for(;c>d;d++)if((t||d in l)&&l[d]===n)return t||d||0;return!t&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(20);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(21),o=n(24);t.exports=function(t){return function(e,n){var r,a,s=String(o(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(r=s.charCodeAt(l))<55296||r>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):r:t?s.slice(l,l+2):a-56320+(r-55296<<10)+65536}}},function(t,e,n){var i=n(4),o=n(20),r=n(5)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},function(t,e,n){var i=n(5)("iterator"),o=!1;try{var r=[7][i]();r.return=function(){o=!0},Array.from(r,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var r=[7],a=r[i]();a.next=function(){return{done:n=!0}},r[i]=function(){return a},t(r)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(45),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var r=n.call(t,e);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";n(118);var i=n(12),o=n(11),r=n(3),a=n(24),s=n(5),l=n(90),c=s("species"),d=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var p=s(t),f=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),h=f?!r((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[p](""),!e})):void 0;if(!f||!h||"replace"===t&&!d||"split"===t&&!u){var m=/./[p],g=n(a,p,""[t],(function(t,e,n,i,o){return e.exec===l?f&&!o?{done:!0,value:m.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}})),v=g[0],b=g[1];i(String.prototype,t,v),o(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},function(t,e,n){var i=n(2).navigator;t.exports=i&&i.userAgent||""},function(t,e,n){"use strict";var i=n(2),o=n(0),r=n(12),a=n(42),s=n(31),l=n(41),c=n(40),d=n(4),u=n(3),p=n(59),f=n(44),h=n(76);t.exports=function(t,e,n,m,g,v){var b=i[t],y=b,w=g?"set":"add",x=y&&y.prototype,_={},S=function(t){var e=x[t];r(x,t,"delete"==t||"has"==t?function(t){return!(v&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(v||x.forEach&&!u((function(){(new y).entries().next()})))){var k=new y,C=k[w](v?{}:-0,1)!=k,P=u((function(){k.has(1)})),T=p((function(t){new y(t)})),E=!v&&u((function(){for(var t=new y,e=5;e--;)t[w](e,e);return!t.has(-0)}));T||((y=e((function(e,n){c(e,y,t);var i=h(new b,e,y);return null!=n&&l(n,g,i[w],i),i}))).prototype=x,x.constructor=y),(P||E)&&(S("delete"),S("has"),g&&S("get")),(E||C)&&S(w),v&&x.clear&&delete x.clear}else y=m.getConstructor(e,t,g,w),a(y.prototype,n),s.NEED=!0;return f(y,t),_[t]=y,o(o.G+o.W+o.F*(y!=b),_),v||m.setStrong(y,t,g),y}},function(t,e,n){for(var i,o=n(2),r=n(11),a=n(34),s=a("typed_array"),l=a("view"),c=!(!o.ArrayBuffer||!o.DataView),d=c,u=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");u<9;)(i=o[p[u++]])?(r(i.prototype,s,!0),r(i.prototype,l,!0)):d=!1;t.exports={ABV:c,CONSTR:d,TYPED:s,VIEW:l}},function(t,e,n){"use strict";t.exports=n(30)||!n(3)((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete n(2)[t]}))},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(0),o=n(10),r=n(19),a=n(41);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,s,l=arguments[1];return o(this),(e=void 0!==l)&&o(l),null==t?new this:(n=[],e?(i=0,s=r(l,arguments[2],2),a(t,!1,(function(t){n.push(s(t,i++))}))):a(t,!1,n.push,n),new this(n))}})}},,function(t,e,n){var i=n(4),o=n(2).document,r=i(o)&&i(o.createElement);t.exports=function(t){return r?o.createElement(t):{}}},function(t,e,n){var i=n(2),o=n(18),r=n(30),a=n(100),s=n(8).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=r?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(49)("keys"),o=n(34);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var i=n(2).document;t.exports=i&&i.documentElement},function(t,e,n){var i=n(4),o=n(1),r=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{(i=n(19)(Function.call,n(16).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:r}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){var i=n(4),o=n(74).set;t.exports=function(t,e,n){var r,a=e.constructor;return a!==n&&"function"==typeof a&&(r=a.prototype)!==n.prototype&&i(r)&&o&&o(t,r),t}},function(t,e,n){"use strict";var i=n(21),o=n(24);t.exports=function(t){var e=String(o(this)),n="",r=i(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";var i=n(30),o=n(0),r=n(12),a=n(11),s=n(47),l=n(81),c=n(44),d=n(17),u=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,n,h,m,g,v){l(n,e,h);var b,y,w,x=function(t){if(!p&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},_=e+" Iterator",S="values"==m,k=!1,C=t.prototype,P=C[u]||C["@@iterator"]||m&&C[m],T=P||x(m),E=m?S?x("entries"):T:void 0,A="Array"==e&&C.entries||P;if(A&&(w=d(A.call(new t)))!==Object.prototype&&w.next&&(c(w,_,!0),i||"function"==typeof w[u]||a(w,u,f)),S&&P&&"values"!==P.name&&(k=!0,T=function(){return P.call(this)}),i&&!v||!p&&!k&&C[u]||a(C,u,T),s[e]=T,s[_]=f,m)if(b={values:S?T:x("values"),keys:g?T:x("keys"),entries:E},v)for(y in b)y in C||r(C,y,b[y]);else o(o.P+o.F*(p||k),e,b);return b}},function(t,e,n){"use strict";var i=n(37),o=n(33),r=n(44),a={};n(11)(a,n(5)("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=i(a,{next:o(1,n)}),r(t,e+" Iterator")}},function(t,e,n){var i=n(58),o=n(24);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},function(t,e,n){var i=n(5)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var i=n(47),o=n(5)("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||r[o]===t)}},function(t,e,n){"use strict";var i=n(8),o=n(33);t.exports=function(t,e,n){e in t?i.f(t,e,o(0,n)):t[e]=n}},function(t,e,n){var i=n(45),o=n(5)("iterator"),r=n(47);t.exports=n(18).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||r[i(t)]}},function(t,e,n){var i=n(234);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(9),o=n(36),r=n(6);t.exports=function(t){for(var e=i(this),n=r(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:o(l,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";var i=n(32),o=n(117),r=n(47),a=n(15);t.exports=n(80)(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),r.Arguments=r.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,o,r=n(52),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(i=/a/,o=/b*/g,a.call(i,"a"),a.call(o,"a"),0!==i.lastIndex||0!==o.lastIndex),d=void 0!==/()??/.exec("")[1];(c||d)&&(l=function(t){var e,n,i,o,l=this;return d&&(n=new RegExp("^"+l.source+"$(?!\\s)",r.call(l))),c&&(e=l.lastIndex),i=a.call(l,t),c&&i&&(l.lastIndex=l.global?i.index+i[0].length:e),d&&i&&i.length>1&&s.call(i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i}),t.exports=l},function(t,e,n){"use strict";var i=n(57)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){var i,o,r,a=n(19),s=n(107),l=n(73),c=n(69),d=n(2),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,g=0,v={},b=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){b.call(t.data)};p&&f||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},i(g),g},f=function(t){delete v[t]},"process"==n(20)(u)?i=function(t){u.nextTick(a(b,t,1))}:m&&m.now?i=function(t){m.now(a(b,t,1))}:h?(r=(o=new h).port2,o.port1.onmessage=y,i=a(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(t){d.postMessage(t+"","*")},d.addEventListener("message",y,!1)):i="onreadystatechange"in c("script")?function(t){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),t.exports={set:p,clear:f}},function(t,e,n){var i=n(2),o=n(92).set,r=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,l="process"==n(20)(a);t.exports=function(){var t,e,n,c=function(){var i,o;for(l&&(i=a.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(i){throw t?n():e=void 0,i}}e=void 0,i&&i.enter()};if(l)n=function(){a.nextTick(c)};else if(!r||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);n=function(){d.then(c)}}else n=function(){o.call(i,c)};else{var u=!0,p=document.createTextNode("");new r(c).observe(p,{characterData:!0}),n=function(){p.data=u=!u}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){"use strict";var i=n(10);function o(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var i=n(2),o=n(7),r=n(30),a=n(64),s=n(11),l=n(42),c=n(3),d=n(40),u=n(21),p=n(6),f=n(127),h=n(38).f,m=n(8).f,g=n(88),v=n(44),b=i.ArrayBuffer,y=i.DataView,w=i.Math,x=i.RangeError,_=i.Infinity,S=b,k=w.abs,C=w.pow,P=w.floor,T=w.log,E=w.LN2,A=o?"_b":"buffer",j=o?"_l":"byteLength",L=o?"_o":"byteOffset";function $(t,e,n){var i,o,r,a=new Array(n),s=8*n-e-1,l=(1<<s)-1,c=l>>1,d=23===e?C(2,-24)-C(2,-77):0,u=0,p=t<0||0===t&&1/t<0?1:0;for((t=k(t))!=t||t===_?(o=t!=t?1:0,i=l):(i=P(T(t)/E),t*(r=C(2,-i))<1&&(i--,r*=2),(t+=i+c>=1?d/r:d*C(2,1-c))*r>=2&&(i++,r/=2),i+c>=l?(o=0,i=l):i+c>=1?(o=(t*r-1)*C(2,e),i+=c):(o=t*C(2,c-1)*C(2,e),i=0));e>=8;a[u++]=255&o,o/=256,e-=8);for(i=i<<e|o,s+=e;s>0;a[u++]=255&i,i/=256,s-=8);return a[--u]|=128*p,a}function F(t,e,n){var i,o=8*n-e-1,r=(1<<o)-1,a=r>>1,s=o-7,l=n-1,c=t[l--],d=127&c;for(c>>=7;s>0;d=256*d+t[l],l--,s-=8);for(i=d&(1<<-s)-1,d>>=-s,s+=e;s>0;i=256*i+t[l],l--,s-=8);if(0===d)d=1-a;else{if(d===r)return i?NaN:c?-_:_;i+=C(2,e),d-=a}return(c?-1:1)*i*C(2,d-e)}function O(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function D(t){return[255&t]}function I(t){return[255&t,t>>8&255]}function N(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function B(t){return $(t,52,8)}function M(t){return $(t,23,4)}function R(t,e,n){m(t.prototype,e,{get:function(){return this[n]}})}function U(t,e,n,i){var o=f(+n);if(o+e>t[j])throw x("Wrong index!");var r=t[A]._b,a=o+t[L],s=r.slice(a,a+e);return i?s:s.reverse()}function z(t,e,n,i,o,r){var a=f(+n);if(a+e>t[j])throw x("Wrong index!");for(var s=t[A]._b,l=a+t[L],c=i(+o),d=0;d<e;d++)s[l+d]=c[r?d:e-d-1]}if(a.ABV){if(!c((function(){b(1)}))||!c((function(){new b(-1)}))||c((function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name}))){for(var H,W=(b=function(t){return d(this,b),new S(f(t))}).prototype=S.prototype,q=h(S),V=0;q.length>V;)(H=q[V++])in b||s(b,H,S[H]);r||(W.constructor=b)}var G=new y(new b(2)),Y=y.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||l(y.prototype,{setInt8:function(t,e){Y.call(this,t,e<<24>>24)},setUint8:function(t,e){Y.call(this,t,e<<24>>24)}},!0)}else b=function(t){d(this,b,"ArrayBuffer");var e=f(t);this._b=g.call(new Array(e),0),this[j]=e},y=function(t,e,n){d(this,y,"DataView"),d(t,b,"DataView");var i=t[j],o=u(e);if(o<0||o>i)throw x("Wrong offset!");if(o+(n=void 0===n?i-o:p(n))>i)throw x("Wrong length!");this[A]=t,this[L]=o,this[j]=n},o&&(R(b,"byteLength","_l"),R(y,"buffer","_b"),R(y,"byteLength","_l"),R(y,"byteOffset","_o")),l(y.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return O(U(this,4,t,arguments[1]))},getUint32:function(t){return O(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){z(this,1,t,D,e)},setUint8:function(t,e){z(this,1,t,D,e)},setInt16:function(t,e){z(this,2,t,I,e,arguments[2])},setUint16:function(t,e){z(this,2,t,I,e,arguments[2])},setInt32:function(t,e){z(this,4,t,N,e,arguments[2])},setUint32:function(t,e){z(this,4,t,N,e,arguments[2])},setFloat32:function(t,e){z(this,4,t,M,e,arguments[2])},setFloat64:function(t,e){z(this,8,t,B,e,arguments[2])}});v(b,"ArrayBuffer"),v(y,"DataView"),s(y.prototype,a.VIEW,!0),e.ArrayBuffer=b,e.DataView=y},,function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.PREMIUM_URL=e.WEB_URL=e.mbrServer=void 0;var i,o=n(344),r=(i=o)&&i.__esModule?i:{default:i};var a=t.env.WEB_URL,s=new r.default("https://my.mobirise.com/api/");e.mbrServer=s,e.WEB_URL=a,e.PREMIUM_URL="https://b.8b.com"}).call(this,n(136))},,function(t,e,n){t.exports=!n(7)&&!n(3)((function(){return 7!=Object.defineProperty(n(69)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){e.f=n(5)},function(t,e,n){var i=n(14),o=n(15),r=n(54)(!1),a=n(71)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),l=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);for(;e.length>l;)i(s,n=e[l++])&&(~r(c,n)||c.push(n));return c}},function(t,e,n){var i=n(8),o=n(1),r=n(35);t.exports=n(7)?Object.defineProperties:function(t,e){o(t);for(var n,a=r(e),s=a.length,l=0;s>l;)i.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var i=n(15),o=n(38).f,r={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==r.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(i(t))}},function(t,e,n){"use strict";var i=n(7),o=n(35),r=n(55),a=n(51),s=n(9),l=n(50),c=Object.assign;t.exports=!c||n(3)((function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach((function(t){e[t]=t})),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i}))?function(t,e){for(var n=s(t),c=arguments.length,d=1,u=r.f,p=a.f;c>d;)for(var f,h=l(arguments[d++]),m=u?o(h).concat(u(h)):o(h),g=m.length,v=0;g>v;)f=m[v++],i&&!p.call(h,f)||(n[f]=h[f]);return n}:c},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(10),o=n(4),r=n(107),a=[].slice,s={},l=function(t,e,n){if(!(e in s)){for(var i=[],o=0;o<e;o++)i[o]="a["+o+"]";s[e]=Function("F,a","return new F("+i.join(",")+")")}return s[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),s=function(){var i=n.concat(a.call(arguments));return this instanceof s?l(e,i.length,i):r(e,i,t)};return o(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(2).parseInt,o=n(46).trim,r=n(75),a=/^[-+]?0[xX]/;t.exports=8!==i(r+"08")||22!==i(r+"0x16")?function(t,e){var n=o(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},function(t,e,n){var i=n(2).parseFloat,o=n(46).trim;t.exports=1/i(n(75)+"-0")!=-1/0?function(t){var e=o(String(t),3),n=i(e);return 0===n&&"-"==e.charAt(0)?-0:n}:i},function(t,e,n){var i=n(20);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(4),o=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&o(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(78),o=Math.pow,r=o(2,-52),a=o(2,-23),s=o(2,127)*(2-a),l=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=Math.abs(t),c=i(t);return o<l?c*(o/l/a+1/r-1/r)*l*a:(n=(e=(1+a/r)*o)-(e-o))>s||n!=n?c*(1/0):c*n}},function(t,e,n){var i=n(1);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&i(r.call(t)),e}}},function(t,e,n){var i=n(10),o=n(9),r=n(50),a=n(6);t.exports=function(t,e,n,s,l){i(e);var c=o(t),d=r(c),u=a(c.length),p=l?u-1:0,f=l?-1:1;if(n<2)for(;;){if(p in d){s=d[p],p+=f;break}if(p+=f,l?p<0:u<=p)throw TypeError("Reduce of empty array with no initial value")}for(;l?p>=0:u>p;p+=f)p in d&&(s=e(s,d[p],p,c));return s}},function(t,e,n){"use strict";var i=n(9),o=n(36),r=n(6);t.exports=[].copyWithin||function(t,e){var n=i(this),a=r(n.length),s=o(t,a),l=o(e,a),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?a:o(c,a))-l,a-s),u=1;for(l<s&&s<l+d&&(u=-1,l+=d-1,s+=d-1);d-- >0;)l in n?n[s]=n[l]:delete n[s],s+=u,l+=u;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(90);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(52)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(1),o=n(4),r=n(94);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=r.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var i=n(123),o=n(43);t.exports=n(63)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=i.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return i.def(o(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";var i=n(8).f,o=n(37),r=n(42),a=n(19),s=n(40),l=n(41),c=n(80),d=n(117),u=n(39),p=n(7),f=n(31).fastKey,h=n(43),m=p?"_s":"size",g=function(t,e){var n,i=f(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var d=t((function(t,i){s(t,d,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[m]=0,null!=i&&l(i,n,t[c],t)}));return r(d.prototype,{clear:function(){for(var t=h(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=h(this,e),i=g(n,t);if(i){var o=i.n,r=i.p;delete n._i[i.i],i.r=!0,r&&(r.n=o),o&&(o.p=r),n._f==i&&(n._f=o),n._l==i&&(n._l=r),n[m]--}return!!i},forEach:function(t){h(this,e);for(var n,i=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(i(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(h(this,e),t)}}),p&&i(d.prototype,"size",{get:function(){return h(this,e)[m]}}),d},def:function(t,e,n){var i,o,r=g(t,e);return r?r.v=n:(t._l=r={i:o=f(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=r),i&&(i.n=r),t[m]++,"F"!==o&&(t._i[o]=r)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,(function(t,n){this._t=h(t,e),this._k=n,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?d(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,d(1))}),n?"entries":"values",!n,!0),u(e)}}},function(t,e,n){"use strict";var i=n(123),o=n(43);t.exports=n(63)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(o(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";var i,o=n(2),r=n(26)(0),a=n(12),s=n(31),l=n(104),c=n(126),d=n(4),u=n(43),p=n(43),f=!o.ActiveXObject&&"ActiveXObject"in o,h=s.getWeak,m=Object.isExtensible,g=c.ufstore,v=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(t){if(d(t)){var e=h(t);return!0===e?g(u(this,"WeakMap")).get(t):e?e[this._i]:void 0}},set:function(t,e){return c.def(u(this,"WeakMap"),t,e)}},y=t.exports=n(63)("WeakMap",v,b,c,!0,!0);p&&f&&(l((i=c.getConstructor(v,"WeakMap")).prototype,b),s.NEED=!0,r(["delete","has","get","set"],(function(t){var e=y.prototype,n=e[t];a(e,t,(function(e,o){if(d(e)&&!m(e)){this._f||(this._f=new i);var r=this._f[t](e,o);return"set"==t?this:r}return n.call(this,e,o)}))})))},function(t,e,n){"use strict";var i=n(42),o=n(31).getWeak,r=n(1),a=n(4),s=n(40),l=n(41),c=n(26),d=n(14),u=n(43),p=c(5),f=c(6),h=0,m=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return p(t.a,(function(t){return t[0]===e}))};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,(function(e){return e[0]===t}));return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,r){var c=t((function(t,i){s(t,c,e,"_i"),t._t=e,t._i=h++,t._l=void 0,null!=i&&l(i,n,t[r],t)}));return i(c.prototype,{delete:function(t){if(!a(t))return!1;var n=o(t);return!0===n?m(u(this,e)).delete(t):n&&d(n,this._i)&&delete n[this._i]},has:function(t){if(!a(t))return!1;var n=o(t);return!0===n?m(u(this,e)).has(t):n&&d(n,this._i)}}),c},def:function(t,e,n){var i=o(r(e),!0);return!0===i?m(t).set(e,n):i[t._i]=n,t},ufstore:m}},function(t,e,n){var i=n(21),o=n(6);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=o(e);if(e!==n)throw RangeError("Wrong length!");return n}},function(t,e,n){var i=n(38),o=n(55),r=n(1),a=n(2).Reflect;t.exports=a&&a.ownKeys||function(t){var e=i.f(r(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var i=n(56),o=n(4),r=n(6),a=n(19),s=n(5)("isConcatSpreadable");t.exports=function t(e,n,l,c,d,u,p,f){for(var h,m,g=d,v=0,b=!!p&&a(p,f,3);v<c;){if(v in l){if(h=b?b(l[v],v,n):l[v],m=!1,o(h)&&(m=void 0!==(m=h[s])?!!m:i(h)),m&&u>0)g=t(e,n,h,r(h.length),g,u-1)-1;else{if(g>=9007199254740991)throw TypeError();e[g]=h}g++}v++}return g}},function(t,e,n){var i=n(6),o=n(77),r=n(24);t.exports=function(t,e,n,a){var s=String(r(t)),l=s.length,c=void 0===n?" ":String(n),d=i(e);if(d<=l||""==c)return s;var u=d-l,p=o.call(c,Math.ceil(u/c.length));return p.length>u&&(p=p.slice(0,u)),a?p+s:s+p}},function(t,e,n){var i=n(7),o=n(35),r=n(15),a=n(51).f;t.exports=function(t){return function(e){for(var n,s=r(e),l=o(s),c=l.length,d=0,u=[];c>d;)n=l[d++],i&&!a.call(s,n)||u.push(t?[n,s[n]]:s[n]);return u}}},function(t,e,n){var i=n(45),o=n(133);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var i=n(41);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,i,o){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||o!=o?NaN:t===1/0||t===-1/0?t:(t-e)*(o-i)/(n-e)+i}},function(t,e){t.exports=window.jQuery},function(t,e){var n,i,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!d){var t=s(p);d=!0;for(var e=c.length;e;){for(l=c,c=[];++u<e;)l&&l[u].run();u=-1,e=c.length}l=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||d||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(27),o={unzip:function(t,e){var n=jQuery.Deferred();return i.Bridge.unzip(t,e,(function(t){t?n.resolve():n.reject()})),n},zip:function(t,e){var n=jQuery.Deferred();return i.Bridge.zip(t,e,(function(t){t?n.resolve():n.reject()})),n},dirList:function(t,e){var n=jQuery.Deferred();return i.Bridge.dirList(t,(function(t){n.resolve(t)}),e),n},moveLocal:function(t,e){var n=jQuery.Deferred();return i.Bridge.moveLocal(t,e,(function(t){t?n.resolve():n.reject()})),n},copyLocal:function(t,e){var n=jQuery.Deferred();return i.Bridge.copyLocal(t,e,(function(t){t?n.resolve(t):n.reject()})),n},removeLocal:function(t){var e=jQuery.Deferred();return i.Bridge.removeLocal(t,(function(t){t?e.resolve():e.reject()})),e},loadLocalFile:function(t){var e=jQuery.Deferred();return i.Bridge.loadLocalFile(t,(function(t){e.resolve(t)})),e},saveLocalFile:function(t,e){var n=jQuery.Deferred();return i.Bridge.saveLocalFile(t,e,(function(t){t?n.resolve():n.reject()})),n},getLocalJSON:function(t){var e=jQuery.Deferred();return i.Bridge.getLocalJSON(t,(function(t){e.resolve(t)}),(function(t){e.reject(t)})),e},getScreen:function(t,e,n){var o=jQuery.Deferred();return i.Bridge.getScreen((function(t){t?o.resolve(t):o.reject()}),t,e,n),o},runFileDialog:function(t,e,n,o){var r=jQuery.Deferred();return i.Bridge.runFileDialog(t,e,n,(function(t){t?r.resolve(t):r.reject()}),o),r},runFileDialog2:function(t){var e=jQuery.Deferred();return i.Bridge.runFileDialog2((function(t){t?e.resolve(t):e.reject()}),t),e},isExistsLocal:function(t,e){var n=jQuery.Deferred();return i.Bridge.isExistsLocal(t,(function(t){n.resolve(t),e&&e(t)})),n},addRecent:function(t,e){var n=jQuery.Deferred();return i.Bridge.addRecent(t,(function(t){t?n.resolve():n.reject(),e&&e(t)})),n},md5_base64:function(t,e){var n=jQuery.Deferred();return i.Bridge.md5_base64(t,(function(t){n.resolve(t),e&&e(t)})),n},getSettings:function(t){var e=jQuery.Deferred();return i.Bridge.getSettings(t,(function(t){e.resolve(t)})),e},setSettings:function(t,e){var n=jQuery.Deferred();return i.Bridge.setSettings(t,e,(function(t){t?n.resolve():n.reject()})),n},getRecentsList:function(){var t=jQuery.Deferred();return i.Bridge.getRecentsList((function(e){t.resolve(e)})),t},osLocale:function(){var t=jQuery.Deferred();return i.Bridge.osLocale((function(e){t.resolve(e)})),t}};e.default=o},function(t,e,n){"use strict";n.r(e),n.d(e,"Headers",(function(){return h})),n.d(e,"Request",(function(){return x})),n.d(e,"Response",(function(){return S})),n.d(e,"DOMException",(function(){return C})),n.d(e,"fetch",(function(){return P}));var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i&&i,o="URLSearchParams"in i,r="Symbol"in i&&"iterator"in Symbol,a="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in i,l="ArrayBuffer"in i;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function g(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=g(e);return e.readAsArrayBuffer(t),n}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():l&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(t)||d(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=m(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var t,e,n,i=m(this);if(i)return i;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=g(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=p(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=p(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(t,e){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i,o=(e=e||{}).body;if(t instanceof x){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",i=n.toUpperCase(),w.indexOf(i)>-1?i:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(o))}})),e}function S(t,e){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},y.call(x.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var t=new S(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];S.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new S(null,{status:e,headers:{location:t}})};var C=i.DOMException;try{new C}catch(t){(C=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),C.prototype.constructor=C}function P(t,e){return new Promise((function(n,o){var r=new x(t,e);if(r.signal&&r.signal.aborted)return o(new C("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,i={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();e.append(i,o)}})),e)};i.url="responseURL"in s?s.responseURL:i.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;setTimeout((function(){n(new S(o,i))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new C("Aborted","AbortError"))}),0)},s.open(r.method,function(t){try{return""===t&&i.location.href?i.location.href:t}catch(e){return t}}(r.url),!0),"include"===r.credentials?s.withCredentials=!0:"omit"===r.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":l&&r.headers.get("Content-Type")&&-1!==r.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof h?r.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,p(e.headers[t]))})),r.signal&&(r.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&r.signal.removeEventListener("abort",c)}),s.send(void 0===r._bodyInit?null:r._bodyInit)}))}P.polyfill=!0,i.fetch||(i.fetch=P,i.Headers=h,i.Request=x,i.Response=S)},function(t,e,n){"use strict";(function(t){if(n(143),n(340),n(341),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach((function(t){[][t]&&e(Array,t,Function.call.bind([][t]))}))}).call(this,n(48))},function(t,e,n){n(144),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(224),n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(89),n(248),n(118),n(249),n(119),n(250),n(251),n(252),n(253),n(254),n(122),n(124),n(125),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),t.exports=n(18)},function(t,e,n){"use strict";var i=n(2),o=n(14),r=n(7),a=n(0),s=n(12),l=n(31).KEY,c=n(3),d=n(49),u=n(44),p=n(34),f=n(5),h=n(100),m=n(70),g=n(146),v=n(56),b=n(1),y=n(4),w=n(9),x=n(15),_=n(23),S=n(33),k=n(37),C=n(103),P=n(16),T=n(55),E=n(8),A=n(35),j=P.f,L=E.f,$=C.f,F=i.Symbol,O=i.JSON,D=O&&O.stringify,I=f("_hidden"),N=f("toPrimitive"),B={}.propertyIsEnumerable,M=d("symbol-registry"),R=d("symbols"),U=d("op-symbols"),z=Object.prototype,H="function"==typeof F&&!!T.f,W=i.QObject,q=!W||!W.prototype||!W.prototype.findChild,V=r&&c((function(){return 7!=k(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=j(z,e);i&&delete z[e],L(t,e,n),i&&t!==z&&L(z,e,i)}:L,G=function(t){var e=R[t]=k(F.prototype);return e._k=t,e},Y=H&&"symbol"==typeof F.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof F},K=function(t,e,n){return t===z&&K(U,e,n),b(t),e=_(e,!0),b(n),o(R,e)?(n.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),n=k(n,{enumerable:S(0,!1)})):(o(t,I)||L(t,I,S(1,{})),t[I][e]=!0),V(t,e,n)):L(t,e,n)},J=function(t,e){b(t);for(var n,i=g(e=x(e)),o=0,r=i.length;r>o;)K(t,n=i[o++],e[n]);return t},X=function(t){var e=B.call(this,t=_(t,!0));return!(this===z&&o(R,t)&&!o(U,t))&&(!(e||!o(this,t)||!o(R,t)||o(this,I)&&this[I][t])||e)},Q=function(t,e){if(t=x(t),e=_(e,!0),t!==z||!o(R,e)||o(U,e)){var n=j(t,e);return!n||!o(R,e)||o(t,I)&&t[I][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=$(x(t)),i=[],r=0;n.length>r;)o(R,e=n[r++])||e==I||e==l||i.push(e);return i},tt=function(t){for(var e,n=t===z,i=$(n?U:x(t)),r=[],a=0;i.length>a;)!o(R,e=i[a++])||n&&!o(z,e)||r.push(R[e]);return r};H||(s((F=function(){if(this instanceof F)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(U,n),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),V(this,t,S(1,n))};return r&&q&&V(z,t,{configurable:!0,set:e}),G(t)}).prototype,"toString",(function(){return this._k})),P.f=Q,E.f=K,n(38).f=C.f=Z,n(51).f=X,T.f=tt,r&&!n(30)&&s(z,"propertyIsEnumerable",X,!0),h.f=function(t){return G(f(t))}),a(a.G+a.W+a.F*!H,{Symbol:F});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)f(et[nt++]);for(var it=A(f.store),ot=0;it.length>ot;)m(it[ot++]);a(a.S+a.F*!H,"Symbol",{for:function(t){return o(M,t+="")?M[t]:M[t]=F(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in M)if(M[e]===t)return e},useSetter:function(){q=!0},useSimple:function(){q=!1}}),a(a.S+a.F*!H,"Object",{create:function(t,e){return void 0===e?k(t):J(k(t),e)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt});var rt=c((function(){T.f(1)}));a(a.S+a.F*rt,"Object",{getOwnPropertySymbols:function(t){return T.f(w(t))}}),O&&a(a.S+a.F*(!H||c((function(){var t=F();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(y(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),i[1]=e,D.apply(O,i)}}),F.prototype[N]||n(11)(F.prototype,N,F.prototype.valueOf),u(F,"Symbol"),u(Math,"Math",!0),u(i.JSON,"JSON",!0)},function(t,e,n){t.exports=n(49)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(35),o=n(55),r=n(51);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var a,s=n(t),l=r.f,c=0;s.length>c;)l.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(37)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperties:n(102)})},function(t,e,n){var i=n(15),o=n(16).f;n(25)("getOwnPropertyDescriptor",(function(){return function(t,e){return o(i(t),e)}}))},function(t,e,n){var i=n(9),o=n(17);n(25)("getPrototypeOf",(function(){return function(t){return o(i(t))}}))},function(t,e,n){var i=n(9),o=n(35);n(25)("keys",(function(){return function(t){return o(i(t))}}))},function(t,e,n){n(25)("getOwnPropertyNames",(function(){return n(103).f}))},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(25)("freeze",(function(t){return function(e){return t&&i(e)?t(o(e)):e}}))},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(25)("seal",(function(t){return function(e){return t&&i(e)?t(o(e)):e}}))},function(t,e,n){var i=n(4),o=n(31).onFreeze;n(25)("preventExtensions",(function(t){return function(e){return t&&i(e)?t(o(e)):e}}))},function(t,e,n){var i=n(4);n(25)("isFrozen",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(4);n(25)("isSealed",(function(t){return function(e){return!i(e)||!!t&&t(e)}}))},function(t,e,n){var i=n(4);n(25)("isExtensible",(function(t){return function(e){return!!i(e)&&(!t||t(e))}}))},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(104)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(105)})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(74).set})},function(t,e,n){"use strict";var i=n(45),o={};o[n(5)("toStringTag")]="z",o+""!="[object z]"&&n(12)(Object.prototype,"toString",(function(){return"[object "+i(this)+"]"}),!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(106)})},function(t,e,n){var i=n(8).f,o=Function.prototype,r=/^\s*function ([^ (]*)/;"name"in o||n(7)&&i(o,"name",{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(4),o=n(17),r=n(5)("hasInstance"),a=Function.prototype;r in a||n(8).f(a,r,{value:function(t){if("function"!=typeof this||!i(t))return!1;if(!i(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var i=n(0),o=n(108);i(i.G+i.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var i=n(0),o=n(109);i(i.G+i.F*(parseFloat!=o),{parseFloat:o})},function(t,e,n){"use strict";var i=n(2),o=n(14),r=n(20),a=n(76),s=n(23),l=n(3),c=n(38).f,d=n(16).f,u=n(8).f,p=n(46).trim,f=i.Number,h=f,m=f.prototype,g="Number"==r(n(37)(m)),v="trim"in String.prototype,b=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){var n,i,o,r=(e=v?e.trim():p(e,3)).charCodeAt(0);if(43===r||45===r){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:i=2,o=49;break;case 79:case 111:i=8,o=55;break;default:return+e}for(var a,l=e.slice(2),c=0,d=l.length;c<d;c++)if((a=l.charCodeAt(c))<48||a>o)return NaN;return parseInt(l,i)}}return+e};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof f&&(g?l((function(){m.valueOf.call(n)})):"Number"!=r(n))?a(new h(b(e)),n,f):b(e)};for(var y,w=n(7)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)o(h,y=w[x])&&!o(f,y)&&u(f,y,d(h,y));f.prototype=m,m.constructor=f,n(12)(i,"Number",f)}},function(t,e,n){"use strict";var i=n(0),o=n(21),r=n(110),a=n(77),s=1..toFixed,l=Math.floor,c=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",u=function(t,e){for(var n=-1,i=e;++n<6;)i+=t*c[n],c[n]=i%1e7,i=l(i/1e7)},p=function(t){for(var e=6,n=0;--e>=0;)n+=c[e],c[e]=l(n/t),n=n%t*1e7},f=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==c[t]){var n=String(c[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e},h=function(t,e,n){return 0===e?n:e%2==1?h(t,e-1,n*t):h(t*t,e/2,n)};i(i.P+i.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)((function(){s.call({})}))),"Number",{toFixed:function(t){var e,n,i,s,l=r(this,d),c=o(t),m="",g="0";if(c<0||c>20)throw RangeError(d);if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(m="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*h(2,69,1))-69)<0?l*h(2,-e,1):l/h(2,e,1),n*=4503599627370496,(e=52-e)>0){for(u(0,n),i=c;i>=7;)u(1e7,0),i-=7;for(u(h(10,i,1),0),i=e-1;i>=23;)p(1<<23),i-=23;p(1<<i),u(1,1),p(2),g=f()}else u(0,n),u(1<<-e,0),g=f()+a.call("0",c);return g=c>0?m+((s=g.length)<=c?"0."+a.call("0",c-s)+g:g.slice(0,s-c)+"."+g.slice(s-c)):m+g}})},function(t,e,n){"use strict";var i=n(0),o=n(3),r=n(110),a=1..toPrecision;i(i.P+i.F*(o((function(){return"1"!==a.call(1,void 0)}))||!o((function(){a.call({})}))),"Number",{toPrecision:function(t){var e=r(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),o=n(2).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(111)})},function(t,e,n){var i=n(0);i(i.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),o=n(111),r=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return o(t)&&r(t)<=9007199254740991}})},function(t,e,n){var i=n(0);i(i.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var i=n(0);i(i.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),o=n(109);i(i.S+i.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(t,e,n){var i=n(0),o=n(108);i(i.S+i.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(t,e,n){var i=n(0),o=n(112),r=Math.sqrt,a=Math.acosh;i(i.S+i.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:o(t-1+r(t-1)*r(t+1))}})},function(t,e,n){var i=n(0),o=Math.asinh;i(i.S+i.F*!(o&&1/o(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var i=n(0),o=Math.atanh;i(i.S+i.F*!(o&&1/o(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),o=n(78);i(i.S,"Math",{cbrt:function(t){return o(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var i=n(0),o=Math.exp;i(i.S,"Math",{cosh:function(t){return(o(t=+t)+o(-t))/2}})},function(t,e,n){var i=n(0),o=n(79);i(i.S+i.F*(o!=Math.expm1),"Math",{expm1:o})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(113)})},function(t,e,n){var i=n(0),o=Math.abs;i(i.S,"Math",{hypot:function(t,e){for(var n,i,r=0,a=0,s=arguments.length,l=0;a<s;)l<(n=o(arguments[a++]))?(r=r*(i=l/n)*i+1,l=n):r+=n>0?(i=n/l)*i:n;return l===1/0?1/0:l*Math.sqrt(r)}})},function(t,e,n){var i=n(0),o=Math.imul;i(i.S+i.F*n(3)((function(){return-5!=o(4294967295,5)||2!=o.length})),"Math",{imul:function(t,e){var n=+t,i=+e,o=65535&n,r=65535&i;return 0|o*r+((65535&n>>>16)*r+o*(65535&i>>>16)<<16>>>0)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(112)})},function(t,e,n){var i=n(0);i(i.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(78)})},function(t,e,n){var i=n(0),o=n(79),r=Math.exp;i(i.S+i.F*n(3)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(o(t)-o(-t))/2:(r(t-1)-r(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),o=n(79),r=Math.exp;i(i.S,"Math",{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(r(t)+r(-t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),o=n(36),r=String.fromCharCode,a=String.fromCodePoint;i(i.S+i.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,a=0;i>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?r(e):r(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),o=n(15),r=n(6);i(i.S,"String",{raw:function(t){for(var e=o(t.raw),n=r(e.length),i=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<i&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";n(46)("trim",(function(t){return function(){return t(this,3)}}))},function(t,e,n){"use strict";var i=n(57)(!0);n(80)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";var i=n(0),o=n(57)(!1);i(i.P,"String",{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var i=n(0),o=n(6),r=n(82),a="".endsWith;i(i.P+i.F*n(83)("endsWith"),"String",{endsWith:function(t){var e=r(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,i=o(e.length),s=void 0===n?i:Math.min(o(n),i),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";var i=n(0),o=n(82);i(i.P+i.F*n(83)("includes"),"String",{includes:function(t){return!!~o(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(77)})},function(t,e,n){"use strict";var i=n(0),o=n(6),r=n(82),a="".startsWith;i(i.P+i.F*n(83)("startsWith"),"String",{startsWith:function(t){var e=r(this,t,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return a?a.call(e,i,n):e.slice(n,n+i.length)===i}})},function(t,e,n){"use strict";n(13)("anchor",(function(t){return function(e){return t(this,"a","name",e)}}))},function(t,e,n){"use strict";n(13)("big",(function(t){return function(){return t(this,"big","","")}}))},function(t,e,n){"use strict";n(13)("blink",(function(t){return function(){return t(this,"blink","","")}}))},function(t,e,n){"use strict";n(13)("bold",(function(t){return function(){return t(this,"b","","")}}))},function(t,e,n){"use strict";n(13)("fixed",(function(t){return function(){return t(this,"tt","","")}}))},function(t,e,n){"use strict";n(13)("fontcolor",(function(t){return function(e){return t(this,"font","color",e)}}))},function(t,e,n){"use strict";n(13)("fontsize",(function(t){return function(e){return t(this,"font","size",e)}}))},function(t,e,n){"use strict";n(13)("italics",(function(t){return function(){return t(this,"i","","")}}))},function(t,e,n){"use strict";n(13)("link",(function(t){return function(e){return t(this,"a","href",e)}}))},function(t,e,n){"use strict";n(13)("small",(function(t){return function(){return t(this,"small","","")}}))},function(t,e,n){"use strict";n(13)("strike",(function(t){return function(){return t(this,"strike","","")}}))},function(t,e,n){"use strict";n(13)("sub",(function(t){return function(){return t(this,"sub","","")}}))},function(t,e,n){"use strict";n(13)("sup",(function(t){return function(){return t(this,"sup","","")}}))},function(t,e,n){var i=n(0);i(i.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(23);i(i.P+i.F*n(3)((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})),"Date",{toJSON:function(t){var e=o(this),n=r(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),o=n(223);i(i.P+i.F*(Date.prototype.toISOString!==o),"Date",{toISOString:o})},function(t,e,n){"use strict";var i=n(3),o=Date.prototype.getTime,r=Date.prototype.toISOString,a=function(t){return t>9?t:"0"+t};t.exports=i((function(){return"0385-07-25T07:06:39.999Z"!=r.call(new Date(-50000000000001))}))||!i((function(){r.call(new Date(NaN))}))?function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),n=t.getUTCMilliseconds(),i=e<0?"-":e>9999?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(n>99?n:"0"+a(n))+"Z"}:r},function(t,e,n){var i=Date.prototype,o=i.toString,r=i.getTime;new Date(NaN)+""!="Invalid Date"&&n(12)(i,"toString",(function(){var t=r.call(this);return t==t?o.call(this):"Invalid Date"}))},function(t,e,n){var i=n(5)("toPrimitive"),o=Date.prototype;i in o||n(11)(o,i,n(226))},function(t,e,n){"use strict";var i=n(1),o=n(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(56)})},function(t,e,n){"use strict";var i=n(19),o=n(0),r=n(9),a=n(114),s=n(84),l=n(6),c=n(85),d=n(86);o(o.S+o.F*!n(59)((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,o,u,p=r(t),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,b=d(p);if(g&&(m=i(m,h>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(e=l(p.length));e>v;v++)c(n,v,g?m(p[v],v):p[v]);else for(u=b.call(p),n=new f;!(o=u.next()).done;v++)c(n,v,g?a(u,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(t,e,n){"use strict";var i=n(0),o=n(85);i(i.S+i.F*n(3)((function(){function t(){}return!(Array.of.call(t)instanceof t)})),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),o=n(15),r=[].join;i(i.P+i.F*(n(50)!=Object||!n(22)(r)),"Array",{join:function(t){return r.call(o(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),o=n(73),r=n(20),a=n(36),s=n(6),l=[].slice;i(i.P+i.F*n(3)((function(){o&&l.call(o)})),"Array",{slice:function(t,e){var n=s(this.length),i=r(this);if(e=void 0===e?n:e,"Array"==i)return l.call(this,t,e);for(var o=a(t,n),c=a(e,n),d=s(c-o),u=new Array(d),p=0;p<d;p++)u[p]="String"==i?this.charAt(o+p):this[o+p];return u}})},function(t,e,n){"use strict";var i=n(0),o=n(10),r=n(9),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a((function(){l.sort(void 0)}))||!a((function(){l.sort(null)}))||!n(22)(s)),"Array",{sort:function(t){return void 0===t?s.call(r(this)):s.call(r(this),o(t))}})},function(t,e,n){"use strict";var i=n(0),o=n(26)(0),r=n(22)([].forEach,!0);i(i.P+i.F*!r,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var i=n(4),o=n(56),r=n(5)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),i(e)&&null===(e=e[r])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){"use strict";var i=n(0),o=n(26)(1);i(i.P+i.F*!n(22)([].map,!0),"Array",{map:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(26)(2);i(i.P+i.F*!n(22)([].filter,!0),"Array",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(26)(3);i(i.P+i.F*!n(22)([].some,!0),"Array",{some:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(26)(4);i(i.P+i.F*!n(22)([].every,!0),"Array",{every:function(t){return o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(115);i(i.P+i.F*!n(22)([].reduce,!0),"Array",{reduce:function(t){return o(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),o=n(115);i(i.P+i.F*!n(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return o(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),o=n(54)(!1),r=[].indexOf,a=!!r&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(22)(r)),"Array",{indexOf:function(t){return a?r.apply(this,arguments)||0:o(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),o=n(15),r=n(21),a=n(6),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(22)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=o(this),n=a(e.length),i=n-1;for(arguments.length>1&&(i=Math.min(i,r(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(116)}),n(32)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(88)}),n(32)("fill")},function(t,e,n){"use strict";var i=n(0),o=n(26)(5),r=!0;"find"in[]&&Array(1).find((function(){r=!1})),i(i.P+i.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("find")},function(t,e,n){"use strict";var i=n(0),o=n(26)(6),r="findIndex",a=!0;r in[]&&Array(1)[r]((function(){a=!1})),i(i.P+i.F*a,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)(r)},function(t,e,n){n(39)("Array")},function(t,e,n){var i=n(2),o=n(76),r=n(8).f,a=n(38).f,s=n(58),l=n(52),c=i.RegExp,d=c,u=c.prototype,p=/a/g,f=/a/g,h=new c(p)!==p;if(n(7)&&(!h||n(3)((function(){return f[n(5)("match")]=!1,c(p)!=p||c(f)==f||"/a/i"!=c(p,"i")})))){c=function(t,e){var n=this instanceof c,i=s(t),r=void 0===e;return!n&&i&&t.constructor===c&&r?t:o(h?new d(i&&!r?t.source:t,e):d((i=t instanceof c)?t.source:t,i&&r?l.call(t):e),n?this:u,c)};for(var m=function(t){t in c||r(c,t,{configurable:!0,get:function(){return d[t]},set:function(e){d[t]=e}})},g=a(d),v=0;g.length>v;)m(g[v++]);u.constructor=c,c.prototype=u,n(12)(i,"RegExp",c)}n(39)("RegExp")},function(t,e,n){"use strict";n(119);var i=n(1),o=n(52),r=n(7),a=/./.toString,s=function(t){n(12)(RegExp.prototype,"toString",t,!0)};n(3)((function(){return"/a/b"!=a.call({source:"a",flags:"b"})}))?s((function(){var t=i(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)})):"toString"!=a.name&&s((function(){return a.call(this)}))},function(t,e,n){"use strict";var i=n(1),o=n(6),r=n(91),a=n(60);n(61)("match",1,(function(t,e,n,s){return[function(n){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var l=i(t),c=String(this);if(!l.global)return a(l,c);var d=l.unicode;l.lastIndex=0;for(var u,p=[],f=0;null!==(u=a(l,c));){var h=String(u[0]);p[f]=h,""===h&&(l.lastIndex=r(c,o(l.lastIndex),d)),f++}return 0===f?null:p}]}))},function(t,e,n){"use strict";var i=n(1),o=n(9),r=n(6),a=n(21),s=n(91),l=n(60),c=Math.max,d=Math.min,u=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(61)("replace",2,(function(t,e,n,h){return[function(i,o){var r=t(this),a=null==i?void 0:i[e];return void 0!==a?a.call(i,r,o):n.call(String(r),i,o)},function(t,e){var o=h(n,t,this,e);if(o.done)return o.value;var u=i(t),p=String(this),f="function"==typeof e;f||(e=String(e));var g=u.global;if(g){var v=u.unicode;u.lastIndex=0}for(var b=[];;){var y=l(u,p);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(u.lastIndex=s(p,r(u.lastIndex),v))}for(var w,x="",_=0,S=0;S<b.length;S++){y=b[S];for(var k=String(y[0]),C=c(d(a(y.index),p.length),0),P=[],T=1;T<y.length;T++)P.push(void 0===(w=y[T])?w:String(w));var E=y.groups;if(f){var A=[k].concat(P,C,p);void 0!==E&&A.push(E);var j=String(e.apply(void 0,A))}else j=m(k,p,C,P,E,e);C>=_&&(x+=p.slice(_,C)+j,_=C+k.length)}return x+p.slice(_)}];function m(t,e,i,r,a,s){var l=i+t.length,c=r.length,d=f;return void 0!==a&&(a=o(a),d=p),n.call(s,d,(function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,i);case"'":return e.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var d=+o;if(0===d)return n;if(d>c){var p=u(d/10);return 0===p?n:p<=c?void 0===r[p-1]?o.charAt(1):r[p-1]+o.charAt(1):n}s=r[d-1]}return void 0===s?"":s}))}}))},function(t,e,n){"use strict";var i=n(1),o=n(105),r=n(60);n(61)("search",1,(function(t,e,n,a){return[function(n){var i=t(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=i(t),l=String(this),c=s.lastIndex;o(c,0)||(s.lastIndex=0);var d=r(s,l);return o(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]}))},function(t,e,n){"use strict";var i=n(58),o=n(1),r=n(53),a=n(91),s=n(6),l=n(60),c=n(90),d=n(3),u=Math.min,p=[].push,f="length",h=!d((function(){RegExp(4294967295,"y")}));n(61)("split",2,(function(t,e,n,d){var m;return m="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[f]||2!="ab".split(/(?:ab)*/)[f]||4!=".".split(/(.?)(.?)/)[f]||".".split(/()()/)[f]>1||"".split(/.?/)[f]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(o,t,e);for(var r,a,s,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,h=void 0===e?4294967295:e>>>0,m=new RegExp(t.source,d+"g");(r=c.call(m,o))&&!((a=m.lastIndex)>u&&(l.push(o.slice(u,r.index)),r[f]>1&&r.index<o[f]&&p.apply(l,r.slice(1)),s=r[0][f],u=a,l[f]>=h));)m.lastIndex===r.index&&m.lastIndex++;return u===o[f]?!s&&m.test("")||l.push(""):l.push(o.slice(u)),l[f]>h?l.slice(0,h):l}:"0".split(void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var o=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o,i):m.call(String(o),n,i)},function(t,e){var i=d(m,t,this,e,m!==n);if(i.done)return i.value;var c=o(t),p=String(this),f=r(c,RegExp),g=c.unicode,v=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(h?"y":"g"),b=new f(h?c:"^(?:"+c.source+")",v),y=void 0===e?4294967295:e>>>0;if(0===y)return[];if(0===p.length)return null===l(b,p)?[p]:[];for(var w=0,x=0,_=[];x<p.length;){b.lastIndex=h?x:0;var S,k=l(b,h?p:p.slice(x));if(null===k||(S=u(s(b.lastIndex+(h?0:x)),p.length))===w)x=a(p,x,g);else{if(_.push(p.slice(w,x)),_.length===y)return _;for(var C=1;C<=k.length-1;C++)if(_.push(k[C]),_.length===y)return _;x=w=S}}return _.push(p.slice(w)),_}]}))},function(t,e,n){"use strict";var i,o,r,a,s=n(30),l=n(2),c=n(19),d=n(45),u=n(0),p=n(4),f=n(10),h=n(40),m=n(41),g=n(53),v=n(92).set,b=n(93)(),y=n(94),w=n(120),x=n(62),_=n(121),S=l.TypeError,k=l.process,C=k&&k.versions,P=C&&C.v8||"",T=l.Promise,E="process"==d(k),A=function(){},j=o=y.f,L=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(A,A)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof e&&0!==P.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),$=function(t){var e;return!(!p(t)||"function"!=typeof(e=t.then))&&e},F=function(t,e){if(!t._n){t._n=!0;var n=t._c;b((function(){for(var i=t._v,o=1==t._s,r=0,a=function(e){var n,r,a,s=o?e.ok:e.fail,l=e.resolve,c=e.reject,d=e.domain;try{s?(o||(2==t._h&&I(t),t._h=1),!0===s?n=i:(d&&d.enter(),n=s(i),d&&(d.exit(),a=!0)),n===e.promise?c(S("Promise-chain cycle")):(r=$(n))?r.call(n,l,c):l(n)):c(i)}catch(t){d&&!a&&d.exit(),c(t)}};n.length>r;)a(n[r++]);t._c=[],t._n=!1,e&&!t._h&&O(t)}))}},O=function(t){v.call(l,(function(){var e,n,i,o=t._v,r=D(t);if(r&&(e=w((function(){E?k.emit("unhandledRejection",o,t):(n=l.onunhandledrejection)?n({promise:t,reason:o}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",o)})),t._h=E||D(t)?2:1),t._a=void 0,r&&e.e)throw e.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){v.call(l,(function(){var e;E?k.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})}))},N=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),F(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=$(t))?b((function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(N,i,1))}catch(t){N.call(i,t)}})):(n._v=t,n._s=1,F(n,!1))}catch(t){N.call({_w:n,_d:!1},t)}}};L||(T=function(t){h(this,T,"Promise","_h"),f(t),i.call(this);try{t(c(B,this,1),c(N,this,1))}catch(t){N.call(this,t)}},(i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(42)(T.prototype,{then:function(t,e){var n=j(g(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&F(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(N,t,1)},y.f=j=function(t){return t===T||t===a?new r(t):o(t)}),u(u.G+u.W+u.F*!L,{Promise:T}),n(44)(T,"Promise"),n(39)("Promise"),a=n(18).Promise,u(u.S+u.F*!L,"Promise",{reject:function(t){var e=j(this);return(0,e.reject)(t),e.promise}}),u(u.S+u.F*(s||!L),"Promise",{resolve:function(t){return _(s&&this===a?T:this,t)}}),u(u.S+u.F*!(L&&n(59)((function(t){T.all(t).catch(A)}))),"Promise",{all:function(t){var e=this,n=j(e),i=n.resolve,o=n.reject,r=w((function(){var n=[],r=0,a=1;m(t,!1,(function(t){var s=r++,l=!1;n.push(void 0),a++,e.resolve(t).then((function(t){l||(l=!0,n[s]=t,--a||i(n))}),o)})),--a||i(n)}));return r.e&&o(r.v),n.promise},race:function(t){var e=this,n=j(e),i=n.reject,o=w((function(){m(t,!1,(function(t){e.resolve(t).then(n.resolve,i)}))}));return o.e&&i(o.v),n.promise}})},function(t,e,n){"use strict";var i=n(126),o=n(43);n(63)("WeakSet",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return i.def(o(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),o=n(64),r=n(95),a=n(1),s=n(36),l=n(6),c=n(4),d=n(2).ArrayBuffer,u=n(53),p=r.ArrayBuffer,f=r.DataView,h=o.ABV&&d.isView,m=p.prototype.slice,g=o.VIEW;i(i.G+i.W+i.F*(d!==p),{ArrayBuffer:p}),i(i.S+i.F*!o.CONSTR,"ArrayBuffer",{isView:function(t){return h&&h(t)||c(t)&&g in t}}),i(i.P+i.U+i.F*n(3)((function(){return!new p(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(a(this),t);for(var n=a(this).byteLength,i=s(t,n),o=s(void 0===e?n:e,n),r=new(u(this,p))(l(o-i)),c=new f(this),d=new f(r),h=0;i<o;)d.setUint8(h++,c.getUint8(i++));return r}}),n(39)("ArrayBuffer")},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(64).ABV,{DataView:n(95).DataView})},function(t,e,n){n(28)("Int8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Uint8",1,(function(t){return function(e,n,i){return t(this,e,n,i)}}),!0)},function(t,e,n){n(28)("Int16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Uint16",2,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Int32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Uint32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){n(28)("Float64",8,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},function(t,e,n){var i=n(0),o=n(10),r=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)((function(){a((function(){}))})),"Reflect",{apply:function(t,e,n){var i=o(t),l=r(n);return a?a(i,e,l):s.call(i,e,l)}})},function(t,e,n){var i=n(0),o=n(37),r=n(10),a=n(1),s=n(4),l=n(3),c=n(106),d=(n(2).Reflect||{}).construct,u=l((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),p=!l((function(){d((function(){}))}));i(i.S+i.F*(u||p),"Reflect",{construct:function(t,e){r(t),a(e);var n=arguments.length<3?t:r(arguments[2]);if(p&&!u)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var l=n.prototype,f=o(s(l)?l:Object.prototype),h=Function.apply.call(t,f,e);return s(h)?h:f}})},function(t,e,n){var i=n(8),o=n(0),r=n(1),a=n(23);o(o.S+o.F*n(3)((function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(t,e,n){r(t),e=a(e,!0),r(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),o=n(16).f,r=n(1);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=o(r(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";var i=n(0),o=n(1),r=function(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)};n(81)(r,"Object",(function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}})),i(i.S,"Reflect",{enumerate:function(t){return new r(t)}})},function(t,e,n){var i=n(16),o=n(17),r=n(14),a=n(0),s=n(4),l=n(1);a(a.S,"Reflect",{get:function t(e,n){var a,c,d=arguments.length<3?e:arguments[2];return l(e)===d?e[n]:(a=i.f(e,n))?r(a,"value")?a.value:void 0!==a.get?a.get.call(d):void 0:s(c=o(e))?t(c,n,d):void 0}})},function(t,e,n){var i=n(16),o=n(0),r=n(1);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(r(t),e)}})},function(t,e,n){var i=n(0),o=n(17),r=n(1);i(i.S,"Reflect",{getPrototypeOf:function(t){return o(r(t))}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),o=n(1),r=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return o(t),!r||r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(128)})},function(t,e,n){var i=n(0),o=n(1),r=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){o(t);try{return r&&r(t),!0}catch(t){return!1}}})},function(t,e,n){var i=n(8),o=n(16),r=n(17),a=n(14),s=n(0),l=n(33),c=n(1),d=n(4);s(s.S,"Reflect",{set:function t(e,n,s){var u,p,f=arguments.length<4?e:arguments[3],h=o.f(c(e),n);if(!h){if(d(p=r(e)))return t(p,n,s,f);h=l(0)}if(a(h,"value")){if(!1===h.writable||!d(f))return!1;if(u=o.f(f,n)){if(u.get||u.set||!1===u.writable)return!1;u.value=s,i.f(f,n,u)}else i.f(f,n,l(0,s));return!0}return void 0!==h.set&&(h.set.call(f,s),!0)}})},function(t,e,n){var i=n(0),o=n(74);o&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){o.check(t,e);try{return o.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(0),o=n(54)(!0);i(i.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(32)("includes")},function(t,e,n){"use strict";var i=n(0),o=n(129),r=n(9),a=n(6),s=n(10),l=n(87);i(i.P,"Array",{flatMap:function(t){var e,n,i=r(this);return s(t),e=a(i.length),n=l(i,0),o(n,i,i,e,0,1,t,arguments[1]),n}}),n(32)("flatMap")},function(t,e,n){"use strict";var i=n(0),o=n(129),r=n(9),a=n(6),s=n(21),l=n(87);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=r(this),n=a(e.length),i=l(e,0);return o(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(32)("flatten")},function(t,e,n){"use strict";var i=n(0),o=n(57)(!0);i(i.P,"String",{at:function(t){return o(this,t)}})},function(t,e,n){"use strict";var i=n(0),o=n(130),r=n(62),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);i(i.P+i.F*a,"String",{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),o=n(130),r=n(62),a=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r);i(i.P+i.F*a,"String",{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(46)("trimLeft",(function(t){return function(){return t(this,1)}}),"trimStart")},function(t,e,n){"use strict";n(46)("trimRight",(function(t){return function(){return t(this,2)}}),"trimEnd")},function(t,e,n){"use strict";var i=n(0),o=n(24),r=n(6),a=n(58),s=n(52),l=RegExp.prototype,c=function(t,e){this._r=t,this._s=e};n(81)(c,"RegExp String",(function(){var t=this._r.exec(this._s);return{value:t,done:null===t}})),i(i.P,"String",{matchAll:function(t){if(o(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),n="flags"in l?String(t.flags):s.call(t),i=new RegExp(t.source,~n.indexOf("g")?n:"g"+n);return i.lastIndex=r(t.lastIndex),new c(i,e)}})},function(t,e,n){n(70)("asyncIterator")},function(t,e,n){n(70)("observable")},function(t,e,n){var i=n(0),o=n(128),r=n(15),a=n(16),s=n(85);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=r(t),l=a.f,c=o(i),d={},u=0;c.length>u;)void 0!==(n=l(i,e=c[u++]))&&s(d,e,n);return d}})},function(t,e,n){var i=n(0),o=n(131)(!1);i(i.S,"Object",{values:function(t){return o(t)}})},function(t,e,n){var i=n(0),o=n(131)(!0);i(i.S,"Object",{entries:function(t){return o(t)}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineGetter__:function(t,e){a.f(o(this),t,{get:r(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(10),a=n(8);n(7)&&i(i.P+n(65),"Object",{__defineSetter__:function(t,e){a.f(o(this),t,{set:r(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(23),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupGetter__:function(t){var e,n=o(this),i=r(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),o=n(9),r=n(23),a=n(17),s=n(16).f;n(7)&&i(i.P+n(65),"Object",{__lookupSetter__:function(t){var e,n=o(this),i=r(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(132)("Map")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(132)("Set")})},function(t,e,n){n(66)("Map")},function(t,e,n){n(66)("Set")},function(t,e,n){n(66)("WeakMap")},function(t,e,n){n(66)("WeakSet")},function(t,e,n){n(67)("Map")},function(t,e,n){n(67)("Set")},function(t,e,n){n(67)("WeakMap")},function(t,e,n){n(67)("WeakSet")},function(t,e,n){var i=n(0);i(i.G,{global:n(2)})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(t,e,n){var i=n(0),o=n(20);i(i.S,"Error",{isError:function(t){return"Error"===o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var i=n(0),o=180/Math.PI;i(i.S,"Math",{degrees:function(t){return t*o}})},function(t,e,n){var i=n(0),o=n(134),r=n(113);i(i.S,"Math",{fscale:function(t,e,n,i,a){return r(o(t,e,n,i,a))}})},function(t,e,n){var i=n(0);i(i.S,"Math",{iaddh:function(t,e,n,i){var o=t>>>0,r=n>>>0;return(e>>>0)+(i>>>0)+((o&r|(o|r)&~(o+r>>>0))>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{isubh:function(t,e,n,i){var o=t>>>0,r=n>>>0;return(e>>>0)-(i>>>0)-((~o&r|~(o^r)&o-r>>>0)>>>31)|0}})},function(t,e,n){var i=n(0);i(i.S,"Math",{imulh:function(t,e){var n=+t,i=+e,o=65535&n,r=65535&i,a=n>>16,s=i>>16,l=(a*r>>>0)+(o*r>>>16);return a*s+(l>>16)+((o*s>>>0)+(65535&l)>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var i=n(0),o=Math.PI/180;i(i.S,"Math",{radians:function(t){return t*o}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(134)})},function(t,e,n){var i=n(0);i(i.S,"Math",{umulh:function(t,e){var n=+t,i=+e,o=65535&n,r=65535&i,a=n>>>16,s=i>>>16,l=(a*r>>>0)+(o*r>>>16);return a*s+(l>>>16)+((o*s>>>0)+(65535&l)>>>16)}})},function(t,e,n){var i=n(0);i(i.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:t>0}})},function(t,e,n){"use strict";var i=n(0),o=n(18),r=n(2),a=n(53),s=n(121);i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,o.Promise||r.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then((function(){return n}))}:t,n?function(n){return s(e,t()).then((function(){throw n}))}:t)}})},function(t,e,n){"use strict";var i=n(0),o=n(94),r=n(120);i(i.S,"Promise",{try:function(t){var e=o.f(this),n=r(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){var i=n(29),o=n(1),r=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,o(n),r(i))}})},function(t,e,n){var i=n(29),o=n(1),r=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:r(arguments[2]),i=a(o(e),n,!1);if(void 0===i||!i.delete(t))return!1;if(i.size)return!0;var l=s.get(e);return l.delete(n),!!l.size||s.delete(e)}})},function(t,e,n){var i=n(29),o=n(1),r=n(17),a=i.has,s=i.get,l=i.key,c=function(t,e,n){if(a(t,e,n))return s(t,e,n);var i=r(e);return null!==i?c(t,i,n):void 0};i.exp({getMetadata:function(t,e){return c(t,o(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(124),o=n(133),r=n(29),a=n(1),s=n(17),l=r.keys,c=r.key,d=function(t,e){var n=l(t,e),r=s(t);if(null===r)return n;var a=d(r,e);return a.length?n.length?o(new i(n.concat(a))):a:n};r.exp({getMetadataKeys:function(t){return d(a(t),arguments.length<2?void 0:c(arguments[1]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return r(o(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){var i=n(29),o=n(1),r=n(17),a=i.has,s=i.key,l=function(t,e,n){if(a(t,e,n))return!0;var i=r(e);return null!==i&&l(t,i,n)};i.exp({hasMetadata:function(t,e){return l(t,o(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return r(t,o(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(29),o=n(1),r=n(10),a=i.key,s=i.set;i.exp({metadata:function(t,e){return function(n,i){s(t,e,(void 0!==i?o:r)(n),a(i))}}})},function(t,e,n){var i=n(0),o=n(93)(),r=n(2).process,a="process"==n(20)(r);i(i.G,{asap:function(t){var e=a&&r.domain;o(e?e.bind(t):t)}})},function(t,e,n){"use strict";var i=n(0),o=n(2),r=n(18),a=n(93)(),s=n(5)("observable"),l=n(10),c=n(1),d=n(40),u=n(42),p=n(11),f=n(41),h=f.RETURN,m=function(t){return null==t?void 0:l(t)},g=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},b=function(t){v(t)||(t._o=void 0,g(t))},y=function(t,e){c(t),this._c=void 0,this._o=t,t=new w(this);try{var n=e(t),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:l(n),this._c=n)}catch(e){return void t.error(e)}v(this)&&g(this)};y.prototype=u({},{unsubscribe:function(){b(this)}});var w=function(t){this._s=t};w.prototype=u({},{next:function(t){var e=this._s;if(!v(e)){var n=e._o;try{var i=m(n.next);if(i)return i.call(n,t)}catch(t){try{b(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var n=e._o;e._o=void 0;try{var i=m(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{g(e)}finally{throw t}}return g(e),t},complete:function(t){var e=this._s;if(!v(e)){var n=e._o;e._o=void 0;try{var i=m(n.complete);t=i?i.call(n,t):void 0}catch(t){try{g(e)}finally{throw t}}return g(e),t}}});var x=function(t){d(this,x,"Observable","_f")._f=l(t)};u(x.prototype,{subscribe:function(t){return new y(t,this._f)},forEach:function(t){var e=this;return new(r.Promise||o.Promise)((function(n,i){l(t);var o=e.subscribe({next:function(e){try{return t(e)}catch(t){i(t),o.unsubscribe()}},error:i,complete:n})}))}}),u(x,{from:function(t){var e="function"==typeof this?this:x,n=m(c(t)[s]);if(n){var i=c(n.call(t));return i.constructor===e?i:new e((function(t){return i.subscribe(t)}))}return new e((function(e){var n=!1;return a((function(){if(!n){try{if(f(t,!1,(function(t){if(e.next(t),n)return h}))===h)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}})),function(){n=!0}}))},of:function(){for(var t=0,e=arguments.length,n=new Array(e);t<e;)n[t]=arguments[t++];return new("function"==typeof this?this:x)((function(t){var e=!1;return a((function(){if(!e){for(var i=0;i<n.length;++i)if(t.next(n[i]),e)return;t.complete()}})),function(){e=!0}}))}}),p(x.prototype,s,(function(){return this})),i(i.G,{Observable:x}),n(39)("Observable")},function(t,e,n){var i=n(2),o=n(0),r=n(62),a=[].slice,s=/MSIE .\./.test(r),l=function(t){return function(e,n){var i=arguments.length>2,o=!!i&&a.call(arguments,2);return t(i?function(){("function"==typeof e?e:Function(e)).apply(this,o)}:e,n)}};o(o.G+o.B+o.F*s,{setTimeout:l(i.setTimeout),setInterval:l(i.setInterval)})},function(t,e,n){var i=n(0),o=n(92);i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},function(t,e,n){for(var i=n(89),o=n(35),r=n(12),a=n(2),s=n(11),l=n(47),c=n(5),d=c("iterator"),u=c("toStringTag"),p=l.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(f),m=0;m<h.length;m++){var g,v=h[m],b=f[v],y=a[v],w=y&&y.prototype;if(w&&(w[d]||s(w,d,p),w[u]||s(w,u,v),l[v]=p,b))for(g in i)w[g]||r(w,g,i[g],!0)}},function(t,e,n){(function(e){!function(e){"use strict";var n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",l="object"==typeof t,c=e.regeneratorRuntime;if(c)l&&(t.exports=c);else{(c=e.regeneratorRuntime=l?t.exports:{}).wrap=m;var d={},u={};u[r]=function(){return this};var p=Object.getPrototypeOf,f=p&&p(p(P([])));f&&f!==n&&i.call(f,r)&&(u=f);var h=y.prototype=v.prototype=Object.create(u);b.prototype=h.constructor=y,y.constructor=b,y[s]=b.displayName="GeneratorFunction",c.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},c.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(h),t},c.awrap=function(t){return{__await:t}},w(x.prototype),x.prototype[a]=function(){return this},c.AsyncIterator=x,c.async=function(t,e,n,i){var o=new x(m(t,e,n,i));return c.isGeneratorFunction(e)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},w(h),h[s]="Generator",h[r]=function(){return this},h.toString=function(){return"[object Generator]"},c.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},c.values=P,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,i){return a.type="throw",a.arg=t,e.next=n,i&&(e.method="next",e.arg=void 0),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;k(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:P(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}}}function m(t,e,n,i){var o=e&&e.prototype instanceof v?e:v,r=Object.create(o.prototype),a=new C(i||[]);return r._invoke=function(t,e,n){var i="suspendedStart";return function(o,r){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===o)throw r;return T()}for(n.method=o,n.arg=r;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=g(t,e,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),r}function g(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function v(){}function b(){}function y(){}function w(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t){function n(e,o,r,a){var s=g(t[e],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then((function(t){n("next",t,r,a)}),(function(t){n("throw",t,r,a)})):Promise.resolve(c).then((function(t){l.value=t,r(l)}),a)}a(s.arg)}var o;"object"==typeof e.process&&e.process.domain&&(n=e.process.domain.bind(n)),this._invoke=function(t,e){function i(){return new Promise((function(i,o){n(t,e,i,o)}))}return o=o?o.then(i,i):i()}}function _(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=g(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,d;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,n(48))},function(t,e,n){n(342),t.exports=n(18).RegExp.escape},function(t,e,n){var i=n(0),o=n(343)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return o(t)}})},function(t,e){t.exports=function(t,e){var n=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),r=n(27);var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._apiUrl=e}return o(t,[{key:"getApiUrl",value:function(){return this._apiUrl}},{key:"ajax",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.method||"GET").toUpperCase();"POST"!=e&&"PUT"!=e||(t.contentType="application/json","data"in t&&(t.data=JSON.stringify(t.data))),t.url&&!/^(http|https):/.test(t.url)&&(t.url=this.getApiUrl()+t.url);var n=r.Bridge.getArgs();return n.url&&(t.headers=i(t.headers||{},{"X-SITE-URL":n.url,"X-SITE-EXTERNAL":n.external})),fetch(t.url,{credentials:"include",method:e,headers:i(t.headers||{},{"X-XSRF-TOKEN":s(),"X-App":r.Bridge.appName+"/"+r.Bridge.version,"content-type":"json"}),body:t.data}).then((function(t){return t.text().then((function(t){try{0==t.indexOf(")]}',\n")&&(t=t.substr(6)),t=JSON.parse(t)}catch(t){throw new Error("Incorrect server response.")}if(t&&t.error)throw i(new Error(t.response),{code:t.error});return t.response}))}),(function(){throw new Error("The request to the server could not be completed.")}))}},{key:"signin",value:function(t){return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{email:t.email,is_app:!1,password:t.password}}).then((function(t){if(t&&t["XSRF-TOKEN"])return l(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")}))}},{key:"signinByToken",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.service,n=t.token;return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{service:e,token:n,is_app:!1}}).then((function(t){if(t&&t["XSRF-TOKEN"])return l(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")}))}},{key:"signup",value:function(t){return this.ajax({url:this.getApiUrl()+"signup",method:"POST",data:{email:t}})}},{key:"signout",value:function(){return this._profile=0,this.ajax({url:this.getApiUrl()+"signout",method:"POST"})}},{key:"getProfile",value:function(){var t=this,e=this;return new Promise((function(n,i){e._profile?n(e._profile):t.ajax({url:t.getApiUrl()+"profile"}).then((function(t){e._profile=t,n(t)})).catch(i)}))}},{key:"profile",value:function(){return this.getProfile()}},{key:"isAuthorized",value:function(){var t=this;return new Promise((function(e,n){t.getProfile().then((function(){e(!0)})).catch((function(t){if(403!==t.code)return n(t);e(!1)}))}))}},{key:"getAuthToken",value:function(){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:"https://mobirisesite.com"}}).then((function(t){return{access_token:t.access_token}}))}},{key:"lostpassword",value:function(t){return this.ajax({url:this.getApiUrl()+"lostpassword",method:"POST",data:{email:t}})}},{key:"url",value:function(t){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:t||""}}).then((function(t){return t.authURL}))}},{key:"sendMessage",value:function(t,e){return this.ajax({url:this.getApiUrl()+"users/"+t+"/messages",method:"POST",data:{text:e}})}},{key:"addons",value:function(t,e){var n=this;return new Promise((function(t,e){n.ajax({url:n.getApiUrl()+"addons?web_compatible=1",method:"GET"}).then((function(e){t(e)}),(function(t){e(t)}))}))}},{key:"post",value:function(t,e){return this.ajax({url:t,method:"POST",data:e})}},{key:"get",value:function(t){return this.ajax({url:t,method:"GET"})}},{key:"put",value:function(t,e){return this.ajax({url:t,method:"PUT",data:e})}},{key:"delete",value:function(t){return this.ajax({url:t,method:"DELETE"})}}]),t}();function s(){return localStorage.getItem("XSRF-TOKEN")||""}function l(t){localStorage.setItem("XSRF-TOKEN",t)}e.default=a},,,,,,,,function(t,e,n){"use strict";var i=u(n(368)),o=u(n(140)),r=n(97);n(374),n(375),n(376);var a=u(n(377));n(378);var s=u(n(379)),l=u(n(380)),c=u(n(384)),d=u(n(385));function u(t){return t&&t.__esModule?t:{default:t}}n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(450),n(451),n(452),n(453),n(454),n(456),n(366),n(457),n(458),n(459),n(460),defineM("Bridge",(function(){return i.default})),defineM("$Bridge",(function(){return o.default})),defineM("mbrServer",(function(){return r.mbrServer})),window.noUiSlider=a.default,window.bootbox=s.default,window.JSZipUtils=c.default,window.JSZip=l.default,window.saveAs=d.default,defineM("jQuery",(function(){return jQuery}))},,,,,,,,,,,,,function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(381),o=n(382),r=n(383);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return c(this,t,e,n)}function c(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=p(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|h(e,n),o=(t=s(t,i)).write(e,n);o!==i&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|f(e.length);return 0===(t=s(t,n)).length||e.copy(t,0,0,n),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?s(t,0):p(t,e);if("Buffer"===e.type&&r(e.data))return p(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(d(e),t=s(t,e<0?0:0|f(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function p(t,e){var n=e.length<0?0:0|f(e.length);t=s(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function f(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function h(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return U(t).length;default:if(i)return R(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return A(this,e,n);case"utf8":case"utf-8":return P(this,e,n);case"ascii":return T(this,e,n);case"latin1":case"binary":return E(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function v(t,e,n,i,o){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:b(t,e,n,i,o);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,i,o);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,i,o){var r,a=1,s=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var d=-1;for(r=n;r<s;r++)if(c(t,r)===c(e,-1===d?0:r-d)){if(-1===d&&(d=r),r-d+1===l)return d*a}else-1!==d&&(r-=r-d),d=-1}else for(n+l>s&&(n=s-l),r=n;r>=0;r--){for(var u=!0,p=0;p<l;p++)if(c(t,r+p)!==c(e,p)){u=!1;break}if(u)return r}return-1}function y(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i))>o&&(i=o):i=o;var r=e.length;if(r%2!=0)throw new TypeError("Invalid hex string");i>r/2&&(i=r/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,i){return z(R(e,t.length-n),t,n,i)}function x(t,e,n,i){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function _(t,e,n,i){return x(t,e,n,i)}function S(t,e,n,i){return z(U(e),t,n,i)}function k(t,e,n,i){return z(function(t,e){for(var n,i,o,r=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),i=n>>8,o=n%256,r.push(o),r.push(i);return r}(e,t.length-n),t,n,i)}function C(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function P(t,e,n){n=Math.min(t.length,n);for(var i=[],o=e;o<n;){var r,a,s,l,c=t[o],d=null,u=c>239?4:c>223?3:c>191?2:1;if(o+u<=n)switch(u){case 1:c<128&&(d=c);break;case 2:128==(192&(r=t[o+1]))&&(l=(31&c)<<6|63&r)>127&&(d=l);break;case 3:r=t[o+1],a=t[o+2],128==(192&r)&&128==(192&a)&&(l=(15&c)<<12|(63&r)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:r=t[o+1],a=t[o+2],s=t[o+3],128==(192&r)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&r)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,u=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|1023&d),i.push(d),o+=u}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=4096));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return c(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return d(e),e<=0?s(t,e):void 0!==n?"string"==typeof i?s(t,e).fill(n,i):s(t,e).fill(n):s(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return u(null,t)},l.allocUnsafeSlow=function(t){return u(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,r=Math.min(n,i);o<r;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?P(this,0,t):m.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,o){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var r=(o>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(r,a),c=this.slice(i,o),d=t.slice(e,n),u=0;u<s;++u)if(c[u]!==d[u]){r=c[u],a=d[u];break}return r<a?-1:a<r?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return v(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return v(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var r=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return x(this,t,e,n);case"latin1":case"binary":return _(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(r)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),r=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(127&t[o]);return i}function E(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;o<n;++o)i+=String.fromCharCode(t[o]);return i}function A(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var o="",r=e;r<n;++r)o+=M(t[r]);return o}function j(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function L(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function $(t,e,n,i,o,r){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<r)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function F(t,e,n,i){e<0&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);o<r;++o)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function O(t,e,n,i){e<0&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);o<r;++o)t[n+o]=e>>>8*(i?o:3-o)&255}function D(t,e,n,i,o,r){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(t,e,n,i,r){return r||D(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function N(t,e,n,i,r){return r||D(t,0,n,8),o.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var o=e-t;n=new l(o,void 0);for(var r=0;r<o;++r)n[r]=this[r+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i},l.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=this[t],o=1,r=0;++r<e&&(o*=256);)i+=this[t+r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||L(t,e,this.length);for(var i=e,o=1,r=this[t+--i];i>0&&(o*=256);)r+=this[t+--i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},l.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),o.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),o.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),o.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),o.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||$(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,r=0;for(this[e]=255&t;++r<n&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||$(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,r=1;for(this[e+o]=255&t;--o>=0&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):O(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);$(this,t,e,n,o-1,-o)}var r=0,a=1,s=0;for(this[e]=255&t;++r<n&&(a*=256);)t<0&&0===s&&0!==this[e+r-1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var o=Math.pow(2,8*n-1);$(this,t,e,n,o-1,-o)}var r=n-1,a=1,s=0;for(this[e+r]=255&t;--r>=0&&(a*=256);)t<0&&0===s&&0!==this[e+r+1]&&(s=1),this[e+r]=(t/a>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||$(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):O(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return I(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return I(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o,r=i-n;if(this===t&&n<e&&e<i)for(o=r-1;o>=0;--o)t[o+e]=this[o+n];else if(r<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<r;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+r),e);return r},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var r;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(r=e;r<n;++r)this[r]=t;else{var a=l.isBuffer(t)?t:R(new l(t,i).toString()),s=a.length;for(r=0;r<n-e;++r)this[r+e]=a[r%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t,e){var n;e=e||1/0;for(var i=t.length,o=null,r=[],a=0;a<i;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&r.push(239,191,189);continue}if(a+1===i){(e-=3)>-1&&r.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&r.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&r.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;r.push(n)}else if(n<2048){if((e-=2)<0)break;r.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;r.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;r.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return r}function U(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(B,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,i){for(var o=0;o<i&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(48))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=2147483647,o=/^xn--/,r=/[^\0-\x7E]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},l=Math.floor,c=String.fromCharCode;function d(t){throw new RangeError(s[t])}function u(t,e){var n=t.split("@"),i="";n.length>1&&(i=n[0]+"@",t=n[1]);var o=function(t,e){for(var n=[],i=t.length;i--;)n[i]=e(t[i]);return n}((t=t.replace(a,".")).split("."),e).join(".");return i+o}function p(t){for(var e=[],n=0,i=t.length;n<i;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){var r=t.charCodeAt(n++);56320==(64512&r)?e.push(((1023&o)<<10)+(1023&r)+65536):(e.push(o),n--)}else e.push(o)}return e}var f=function(t,e){return t+22+75*(t<26)-((0!=e)<<5)},h=function(t,e,n){var i=0;for(t=n?l(t/700):t>>1,t+=l(t/e);t>455;i+=36)t=l(t/35);return l(i+36*t/(t+38))},m=function(t){var e,n=[],o=t.length,r=0,a=128,s=72,c=t.lastIndexOf("-");c<0&&(c=0);for(var u=0;u<c;++u)t.charCodeAt(u)>=128&&d("not-basic"),n.push(t.charCodeAt(u));for(var p=c>0?c+1:0;p<o;){for(var f=r,m=1,g=36;;g+=36){p>=o&&d("invalid-input");var v=(e=t.charCodeAt(p++))-48<10?e-22:e-65<26?e-65:e-97<26?e-97:36;(v>=36||v>l((i-r)/m))&&d("overflow"),r+=v*m;var b=g<=s?1:g>=s+26?26:g-s;if(v<b)break;var y=36-b;m>l(i/y)&&d("overflow"),m*=y}var w=n.length+1;s=h(r-f,w,0==f),l(r/w)>i-a&&d("overflow"),a+=l(r/w),r%=w,n.splice(r++,0,a)}return String.fromCodePoint.apply(String,n)},g=function(t){var e=[],n=(t=p(t)).length,o=128,r=0,a=72,s=!0,u=!1,m=void 0;try{for(var g,v=t[Symbol.iterator]();!(s=(g=v.next()).done);s=!0){var b=g.value;b<128&&e.push(c(b))}}catch(t){u=!0,m=t}finally{try{!s&&v.return&&v.return()}finally{if(u)throw m}}var y=e.length,w=y;for(y&&e.push("-");w<n;){var x=i,_=!0,S=!1,k=void 0;try{for(var C,P=t[Symbol.iterator]();!(_=(C=P.next()).done);_=!0){var T=C.value;T>=o&&T<x&&(x=T)}}catch(t){S=!0,k=t}finally{try{!_&&P.return&&P.return()}finally{if(S)throw k}}var E=w+1;x-o>l((i-r)/E)&&d("overflow"),r+=(x-o)*E,o=x;var A=!0,j=!1,L=void 0;try{for(var $,F=t[Symbol.iterator]();!(A=($=F.next()).done);A=!0){var O=$.value;if(O<o&&++r>i&&d("overflow"),O==o){for(var D=r,I=36;;I+=36){var N=I<=a?1:I>=a+26?26:I-a;if(D<N)break;var B=D-N,M=36-N;e.push(c(f(N+B%M,0))),D=l(B/M)}e.push(c(f(D,0))),a=h(r,E,w==y),r=0,++w}}}catch(t){j=!0,L=t}finally{try{!A&&F.return&&F.return()}finally{if(j)throw L}}++r,++o}return e.join("")},v={version:"2.1.0",ucs2:{decode:p,encode:function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}},decode:m,encode:g,toASCII:function(t){return u(t,(function(t){return r.test(t)?"xn--"+g(t):t}))},toUnicode:function(t){return u(t,(function(t){return o.test(t)?m(t.slice(4).toLowerCase()):t}))}};e.default=v},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o=c(n(369)),r=c(n(370)),a=n(97),s=n(27),l=n(371);function c(t){return t&&t.__esModule?t:{default:t}}n(372),n(373);var d={"web/app/interface/kw.template.js":o.default,"web/app/interface/kw.txt":r.default};function u(t){var e=Date.now().toString(36);function n(t){if(t&&t.startsWith(s.Bridge.projectsLocation))return{id:(t=t.substring(s.Bridge.projectsLocation.length+1).split("/")).shift(),path:t.join("/")}}function o(t){return s.Bridge.args.external?s.Bridge.args.url.replace(/\?.*$/,"")+"?page=api/v1/"+t.replace("?","&"):"https://api.mobirisesite.com/v2/"+t}var r={dataLocation:"@DATA@",tempLocation:"@TEMP@",publicTempLocation:"@PUBLICTEMP@",docLocation:"@DOCUMENTS@",imgLocation:"@DOCUMENTS@/images",projectsLocation:"@SITES@",openUrl:function(t){var e=n(t);e?s.Bridge.getRecentSettings(t,(function(t){var n=t.publicUrl.replace(/^https:/,document.location.protocol);window.open(n+e.path,"_blank")})):window.open(t,"_blank")},runFileDialog:function(t,e,n,i,o){i=i||function(){};var r=document.createElement("input");r.setAttribute("type","file");var a=[];(n||"").replace(/\*\.[\w]+/g,(function(t){return a.push(t.substr(1))})),a.length?r.setAttribute("accept",a.join(",")):r.removeAttribute("accept"),o&&r.setAttribute("multiple",!0),r.onchange=function(){for(var t=[],e=0;e<this.files.length;e++){var n=this.files[e],a="@LOCAL@/"+s.Bridge._selNum+++"/"+n.name;s.Bridge._selFiles[a]=n,t.push(a)}i(o?t:t[0]),r.onchange=0},r.click()},_selFiles:{},_selNum:0,_addLocal:function(t,e){var n="@LOCAL@/"+s.Bridge._selNum+++"/"+t;return s.Bridge._selFiles[n]=e,n},saveLocalFile:function(t,e,i){i=i||function(){};var o=n(t);if(o&&o.id&&o.path)return e.length>3e6?(console.error("File size limit exceeded, max=3000000, current="+e.length),void i(!1)):void this._REST("sites/"+o.id+"/files/"+o.path,{method:"POST",data:e,headers:{}}).then((function(t){return i(t&&t.success)})).catch((function(t){return i(!1)}));console.warn('call saveLocalFile("'+t+'", String['+e.length+"])"),i&&i(!1)},saveLocalBase64:function(t,e,i){i=i||function(){};var o=n(t);if(o&&o.id&&o.path)return e.length>45e5?(console.error("File size limit exceeded, max=3000000, current about "+e.length/1.5),void i(!1)):void this._REST("sites/"+o.id+"/files/"+o.path,{method:"POST",data:e,headers:{"X-Payload-Encoding":"base64"}}).then((function(t){return i(t&&t.success)})).catch((function(t){console.error(t),i(!1)}));console.warn('call saveLocalBase64("'+t+'", String['+e.length+"])"),i&&i(!1)},initProject:function(t,e){var n=this;this._REST("sites",{method:"POST",data:JSON.stringify({title:e})}).then((function(e){if(!e||!e.id)throw new Error("Wrong server responce");var i=s.Bridge.projectsLocation+"/"+e.id;e.path=e.path||i,n.addRecent(e),t(0,e)})).catch((function(e){return t(e)}))},getRecentsList:function(t,e){var n=this;t&&this._REST("/me/sites").then((function(o){var r=(o&&o.items||[]).map((function(t){return i(t||{},{path:s.Bridge.projectsLocation+"/"+t.id,name:t.title||t.name})}));n.getSettings("_recent",(function(n){if(n){for(var i=-1,o=0;o<r.length;o++)if(r[o].path==n){i=o;break}i>0&&r.unshift(r.splice(i,1)[0])}e?t(null,r):t(r)}))})).catch((function(n){t(e?n:[])}))},_getSiteInfo:function(t,e){e=e||function(){},this.getRecentsList((function(n){for(var i=0;i<n.length;i++)if(n[i].id==t)return e(n[i]);e()}))},addRecent:function(t,e){t&&t.path?this.setSettings("_recent",t.path,e):(console.warn("addRecent data is empty"),e&&e(!1))},getRecentSettings:function(t,e){var o=this,r=n(t);if(r&&r.id){if(r.id in this._SitesSettings)return e(this._SitesSettings[r.id]);s.Bridge._REST("sites/"+r.id).then((function(t){var n=i(t||{},{path:s.Bridge.projectsLocation+"/"+t.id});n.name=n.title||n.name,o._SitesSettings[r.id]=n,e(n)})).catch((function(t){return e()}))}},_SitesSettings:{},path2app:function(t){if(!t||/^(\w*\:)?\/\//.test(t))return t;var e=n(t);return e&&e.id&&e.id in this._SitesSettings?this._SitesSettings[e.id].resourcesUrl+e.path:t&&t.startsWith("web/")?t.replace("web/",s.Bridge.base):s.Bridge.base+t},rmRecent:function(t,e){var i=n(t);i.id?this._REST("sites/"+i.id,{method:"DELETE"}).then((function(t){return e(!0)})):e(!0)},changeRecentSettings:function(t,e,o){var r=this;o=o||function(){};var a=n(t);if(a&&a.id){var l={};return e&&(e.title=e.name||e.title),"title".split(",").forEach((function(t){t in e&&(l[t]=e[t])})),void s.Bridge._REST("sites/"+a.id,{method:"PUT",data:JSON.stringify(l)}).then((function(t){r._SitesSettings[a.id]&&i(r._SitesSettings[a.id],l),o(!0)})).catch((function(t){console.error(t),o(!1)}))}o(!1)},saveAllRecents:function(t,e){console.error("Error to saveAllRecents"),e(!1)},loadLocalFile:function(t,e){e=e||function(){},t.endsWith("addons/list.json")?e(""):t in d?e(d[t]):this._loadFile(t).then((function(t){var n=new FileReader;n.onload=function(){e(n.result||"")},n.onerror=function(){e("")},n.readAsText(t)})).catch((function(t){e("")}))},loadLocalBase64:function(t,e){e=e||function(){},this._loadFile(t).then((function(t){var n=new FileReader;n.onload=function(){e(n.result.replace(/^[^,]*,?/,""))},n.onerror=function(){e("")},n.readAsDataURL(t)})).catch((function(t){e("")}))},loadLocalBlob:function(t,e){this._loadFile(t).then(e).catch((function(t){e(new Blob)}))},_uploadBuildIn_init:function(t,e){t.startsWith(this.projectsLocation)?e():(console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout((function(){e&&e("")}),1))},_uploadBuildIn_done:function(t,e){setTimeout((function(){e&&e("")}),1)},_uploadBuildIn_file:function(t,e,n,i){if(i=i||function(){},n.startsWith(this.projectsLocation)){var o=n+"/"+t.dest;if(1==t.srcList.length&&!t.srcList[0].filter){var r=t.srcList[0];return void s.Bridge.copyLocal(r.src,o,(function(t){i(t?"":"Unable to copy file "+r.src+" to "+o)}))}for(var a=new Promise((function(t){return t("")})),l=function(n){var i=t.srcList[n];a=a.then((function(t){return new Promise((function(n){t=t||"",i.filter?n(t+e(i.src,i.filter)):s.Bridge.loadLocalFile(i.src,(function(e){n(t+(e||""))}))}))}))},c=0;c<t.srcList.length;c++)l(c);a.then((function(e){s.Bridge.saveLocalFile(o,e,(function(e){i(e?"":"Error to save file "+t.dest)}))})).catch((function(e){i(e&&e.message||"Publish file error "+t.dest)}))}else console.warn("Unsupporting publish destination for "+t.dest),setTimeout((function(){i("")}),100)},registerPreviewPath:function(t){return t||s.Bridge.publicTempLocation},reload:function(){console.warn("reload..."),window.onbeforeunload=null,window.location.reload()},_loadFile:function(t){if(t instanceof Blob)return Promise.resolve(t);if(t in s.Bridge._selFiles)return Promise.resolve(s.Bridge._selFiles[t]);if(t.indexOf("translation")>-1||t.indexOf("component.json")>-1)return Promise.reject();var i=n(t);if(i){var o=s.Bridge.splitPath(i.path).ext;return s.Bridge.args.external||"html|xml|css|map|less|js|json|mobirise|svg|".split("|").includes(o)?this._REST("sites/"+i.id+"/files/"+i.path,{method:"GET",row:!0}):r(Date.now().toString(36))}if(/^@\w+@/.test(t))return console.warn('call _loadFile("'+t+'")'),Promise.resolve(new Blob);function r(e){var n=s.Bridge.path2app(t);n.includes("?")||(n+="?ts="+e);var i={method:"GET",mode:"cors"};return 0===t.indexOf("https://e.mobirise.com")&&(i.credentials="include"),fetch(n,i).then((function(t){return 200!=t.status?new Blob:t.blob()})).catch((function(t){return new Blob}))}return r(e)},removeLocal:function(t,e){e=e||function(){};var i=n(t);return i?i.path.startsWith("fonts/")?e(!0):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"DELETE"}).then((function(n){n&&n.success||console.warn("Error while removeLocal",n,t),e(n&&n.success)})).catch((function(n){console.error(n,t),e(!1)})):t in s.Bridge._selFiles?(s.Bridge._selFiles[t]=0,e(!0)):(console.warn('call removeLocal("'+t+'")'),void e(!1))},copyLocal:function(t,e,n){var i=this;n=n||function(){},this.loadLocalBase64(t,(function(t){i.saveLocalBase64(e,t,(function(t){return n(t?e:"")}))}))},moveLocal:function(t,e,n){var i=this;this.copyLocal(t,e,(function(e){i.removeLocal(t,n)}))},dirList:function(t,e,i){console.warn("call dirList is deprecated");var o=n(t);o?this._getDirList(o.id,o.path,i||{}).then(e).catch((function(t){return e([])})):(console.warn("call AwsBridge.dirList("+t+")"),e&&e([]))},isExistsLocal:function(t,e){t&&!t.endsWith("/assets/images/hashes.json")?t in s.Bridge._selFiles?e(!0):this._loadFile(t).then((function(t){e(!!t.size)})):e(!1)},setSettings:function(t,e,n){(0,l.setLocalStorageData)(t,e),n&&n(!0)},getSettings:function(t,e){e&&e((0,l.getLocalStorageData)(t))},transformImage:function(t,e,n){if(t){var o=void 0,r=void 0;"string"==typeof t?(o=s.Bridge.splitPath(t).name,r=s.Bridge.splitPath(t).ext.toLowerCase()):(o=s.Bridge.splitPath(t.name||"image").name,r=s.Bridge.splitPath(t.name||"").ext.toLowerCase()||t.type.replace("image/","")),(e=i({width:-1,height:-1,shrinkLarge:!1,stretchSmall:!1,keepAspectRatio:!0,quality:100,format:/jpg|jpeg/.test(r)?"jpg":"png",fillColor:"transparent"},e||{})).width=parseInt(e.width)<0?0:parseInt(e.width),e.height=parseInt(e.height)<0?0:parseInt(e.height),/(gif|svg|ico)/i.test(e.format)?n(t):this._loadFile(t).then((function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t){e.onload=function(){return t(e.result)}}))})).then((function(t){var e=new Image;return e.src=t,new Promise((function(t){e.onload=function(){return t(e)}}))})).then((function(t){var n=function(t){var n=t.width,i=t.height,o=document.createElement("canvas"),r=o.getContext("2d"),a=1;e.width>0||e.height>0?!e.keepAspectRatio||e.shrinkLarge?(a=Math.max(e.width/n,e.height/i),!e.stretchSmall&&e.keepAspectRatio&&(a=Math.min(a,1)),e.width=Math.min(e.width||Number.MAX_VALUE,n*a),e.height=Math.min(e.height||Number.MAX_VALUE,i*a)):(a=Math.min(e.width/n||Number.MAX_VALUE,e.height/i||Number.MAX_VALUE),e.stretchSmall||(a=Math.min(a,1)),e.width=n*a,e.height=i*a):(e.width=n,e.height=i);e.width=Math.floor(e.width),e.height=Math.floor(e.height),o.width=e.width,o.height=e.height,e.fillColor&&(r.beginPath(),r.rect(0,0,e.width,e.height),r.fillStyle=e.fillColor,r.fill());return r.drawImage(t,(n-e.width/a)/2>=0?(n-e.width/a)/2:0,(i-e.height/a)/2>=0?(i-e.height/a)/2:0,e.width/a>n?n:e.width/a,e.height/a>i?i:e.height/a,0,0,e.width,e.height),o}(t);return new Promise((function(t){n.toBlob(t,"image/"+("jpg"===e.format?"jpeg":"png"),e.quality>0?e.quality/100:1)}))})).then((function(t){o=s.Bridge.splitPath(o).name+"-"+e.width+"x"+e.height+"."+e.format,n(s.Bridge._addLocal(o,t))})).catch((function(e){return n(t)}))}else console.error("Bridge.transformImage: invalid input file.")},getPlatform:function(){return"aws"},_getAuthToken:function(t){var e=this;return new Promise((function(n,i){!e._authToken||t?a.mbrServer.getAuthToken().then((function(t){n(e._authToken=t.access_token)})).catch(i):n(e._authToken)}))},_getDirList:function(){var t=/[-\/\\^$*+?.()|[\]{}]/g,e=function(t){return"*"==t?".*":"?"==t?".":"\\"+t};function n(t,e,n){for(var i=0,o=0,r=n.lastIndexOf("/");i<r;i++){if(n[i]!==e[i]){for(;(o=n.indexOf("/",o+1))>=0;){var a=n.substr(0,o);t.indexOf(a)<0&&t.push(a)}break}"/"===n[i]&&(o=i)}}function i(t){return t.split("/").pop()}return function(o,a,s){return new Promise((function(l,c){s||(s={}),s.names=s.names||["*"],s.filter=s.filter||1,"recursive"in s||(s.recursive=!0),"/"!=a.substr(-1)&&(a+="/"),"/"!=a[0]&&(a="/"+a);var d=function(n){Array.isArray(n)||(n=[n]);var i=new RegExp("^("+n.map((function(n){return n.replace(t,e)})).join("|")+")$","i");return i.test.bind(i)}(s.names),u=a,p=[];function f(t){return r._REST("sites/"+o+"/files"+a+"?delimiter="+(s.recursive?"":"/")+"&continuationToken="+encodeURIComponent(t||""))}f().then((function t(e){var o=[],r=e.contents.filter((function(t){return"/"!=t.substr(-1)||(o.push(t.slice(0,-1)),!1)}));if(s.recursive){if(s.filter>1)for(var h=0;h<r.length;h++)n(o,u,u=r[h])}else o=e.commonPrefixes.map((function(t){return t.Prefix.slice(0,-1)}));3==s.filter?r.push.apply(r,o):2==s.filter&&(r=o);for(var m="/"==a?0:a.length-1,g=0;g<r.length;g++)if(d(i(r[g]))){var v=r[g].substr(m);v&&p.push(v)}e.isTruncated?f(e.nextContinuationToken).then(t).catch(c):l(p)})).catch(c)}))}}(),_REST:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this;return new Promise((function(r,a){i._getAuthToken(n).then((function(l){e.headers=e.headers||{},e.headers[s.Bridge.args.external?"X-Authorization":"Authorization"]="Bearer "+l,fetch(o(t),{method:(e.method||"GET").toUpperCase(),headers:e.headers,body:e.data,mode:"cors"}).then((function(o){return o.status>=200&&o.status<300?e.row?o.blob():o.json():o.json().then((function(r){var a=r&&r.message||"The request to the server could not be completed.";if(403==o.status){if(console.warn(a),!n)return i._REST(t,e,!0);s.Bridge.emit("auth-error",a)}throw new Error(a)}))})).then(r).catch(a)})).catch((function(t){console.error(t),s.Bridge.emit("auth-error",t.message),a(t)}))}))},_signout:function(){a.mbrServer.signout().then((function(){document.cookie="XSRF-TOKEN=; Max-Age=-99999999;",s.Bridge._authToken="",console.log("logout")})).catch(console.error)},_clean:function(){a.mbrServer.isAuthorized().then((function(){return console.log(JSON.stringify(arguments)),console.log("Bridge._REST('sites')()"),s.Bridge._REST("/me/sites")})).then((function(t){console.log(JSON.stringify(arguments));for(var e=0;e<t.items.length;e++)console.log("Bridge._REST('sites/' + siteId, {method: 'DELETE'}):"+t.items[e].id),s.Bridge._REST("sites/"+t.items[e].id,{method:"DELETE"}).then((function(){console.log(JSON.stringify(arguments))}))}))},isDev:"https:"!==location.protocol,isValid:function(){return!1},goLogin:function(){console.log("go to login..."),setTimeout((function(t){var e=location.origin+"/login.html"+(location.search?location.search:"");s.Bridge.getArgs().external||s.Bridge.getArgs().embedded?window.top.location.href=("http:"===document.location.protocol?"http:":"https:")+"//c.ybnz.com/login.html"+(location.search?location.search:""):window.location.href=e}),1e3)},getAddonsDir:function(){return"https://e.mobirise.com"}};for(var c in a.WEB_URL&&(r.base=a.WEB_URL),r)s.Bridge[c]=r[c];var u=setInterval((function(){clearInterval(u),a.mbrServer.isAuthorized().then((function(t){if(!t)throw new Error("Unauthorized!")})).then((function(){s.Bridge.isValid=function(){return!0}})).catch((function(t){console.error(t),console.warn("catch, reload..."),s.Bridge.goLogin()}))}))}window.TextDecoder?u(window.TextDecoder):n.e(6).then(function(t){u(n(367).TextDecoder)}.bind(null,n)).catch(n.oe),e.default=s.Bridge},function(t,e){t.exports="'use strict';\n\n!function () {\n    try {\n        document.getElementsById('top-1')[0].getElementsByTagName('a')[0].removeAttribute('rel');\n    } catch (err) {}\n    if (!document.getElementById('top-1')) {\n        var e = document.createElement(\"section\");\n        e.id = \"top-1\";\n        e.style = \"display: none\";\n        e.innerHTML = '<a href=\"https://mobirise.in\">$TEXT$</a> Mobirise v$VERSION$';\n        document.body.insertBefore(e, document.body.childNodes[0]);\n    }\n}();"},function(t,e){t.exports="website builder\r\nfree website builder\r\nbest website builder\r\nwebsite creator\r\nwebsite maker\r\nweb design software\r\nbest free website builder\r\nfree website maker\r\nfree website creator\r\nwebsite design software\r\nwebsite builder free\r\nwebsite builder software\r\neasy website builder\r\nbest web design software\r\nwebsite building software\r\nmobile website builder\r\nfree web design software\r\nfree website builder software\r\ndrag and drop website builder\r\nwebsite creator free\r\nweb page design software\r\neasiest website builder\r\nwebsite generator\r\nbest website builder software\r\nwebsite maker free\r\nweb development software\r\nweb page creator\r\nfree website design software\r\nhtml website builder\r\nwebsite creation software\r\nbest website design software\r\nbest website creator\r\nopen source website builder\r\nfree web page builder\r\nsimple website builder\r\nweb building software\r\nresponsive website builder\r\nmac website builder\r\nweb design software mac\r\nweb page software\r\nwhat is the best website builder\r\nwebsite creator software\r\nmac web design software\r\nbest website maker\r\nfree mobile website builder\r\nweb builder software\r\nhtml5 website builder\r\nbest website builder for mac\r\nwebsite maker for free\r\nbootstrap layout builder\r\nfree easy website builder\r\nbest web development software\r\nmobile site builder\r\nbest free web design software\r\neasy free website builder\r\nbest site builder\r\nweb site maker\r\nweb design software free\r\nbest free website creator\r\nwebsite builder for mac\r\nsite creator\r\nbest free website maker\r\nresponsive web design software\r\nwebsite builder software free\r\none page website builder\r\nmobile website creator\r\nbest web design software for mac\r\ndrag and drop website builder software\r\neasy website creator\r\nweb site creator\r\nmobile friendly website template\r\nwebsite builder mac\r\nwebsite layout maker\r\nfree website creator software\r\nbest drag and drop website builder\r\nbest mobile website builder\r\nweb page builder software\r\nwebsite software for mac\r\nhtml page builder\r\nbest website builder free\r\nweb creation software\r\nthe best free website builder\r\nweb page development software\r\nwebsite design software mac\r\noffline website builder\r\neasy web design software\r\nresponsive layout maker\r\nmac website software\r\nfree website generator\r\nresponsive website builder software\r\nsite builder software\r\nwebsite making software\r\nmobile website builder software\r\nhtml page creator\r\nbest free website builder software\r\neasy website maker\r\nwebsite maker software\r\nfree web page creator\r\nweb page creator software\r\nmobile website maker\r\nmobile website software\r\nmac website creator\r\nhtml website creator\r\nhtml site builder\r\nfree web site maker\r\nsoftware to create website\r\neasy website builder software\r\ndrag and drop web design\r\nfree html website builder\r\ntop free website builder\r\nhtml website maker\r\nhtml5 site builder\r\nmobile site creator\r\nresponsive website software\r\nwindows website builder\r\nfree site maker\r\nfree mobile site builder\r\ndrag and drop site builder\r\nhtml5 website builder software\r\nmobile website generator\r\nmobile website builder free\r\nbest responsive website builder\r\nfree website maker software\r\noffline website builder software\r\nfree site creator"},function(t,e,n){"use strict";function i(){return void 0!==window.localStorage||(console.warn("LocalStorage is not available in this browser!"),!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorageData=function(t){if(i())return localStorage.getItem(t)},e.setLocalStorageData=function(t,e){i()&&localStorage.setItem(t,e)}},function(t,e){
/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
!function(t){"use strict";var e,n=t.Uint8Array,i=t.HTMLCanvasElement,o=i&&i.prototype,r=/\s*;\s*base64\s*(?:;|$)/i,a="toDataURL",s=function(t){for(var i,o,r=t.length,a=new n(r/4*3|0),s=0,l=0,c=[0,0],d=0,u=0;r--;)o=t.charCodeAt(s++),255!==(i=e[o-43])&&void 0!==i&&(c[1]=c[0],c[0]=o,u=u<<6|i,4===++d&&(a[l++]=u>>>16,61!==c[1]&&(a[l++]=u>>>8),61!==c[0]&&(a[l++]=u),d=0));return a};n&&(e=new n([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!i||o.toBlob&&o.toBlobHD||(o.toBlob||(o.toBlob=function(t,e){if(e||(e="image/png"),this.mozGetAsFile)t(this.mozGetAsFile("canvas",e));else if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e))t(this.msToBlob());else{var i,o=Array.prototype.slice.call(arguments,1),l=this[a].apply(this,o),c=l.indexOf(","),d=l.substring(c+1),u=r.test(l.substring(0,c));Blob.fake?((i=new Blob).encoding=u?"base64":"URI",i.data=d,i.size=d.length):n&&(i=u?new Blob([s(d)],{type:e}):new Blob([decodeURIComponent(d)],{type:e})),t(i)}}),!o.toBlobHD&&o.toDataURLHD?o.toBlobHD=function(){a="toDataURLHD";var t=this.toBlob();return a="toDataURL",t}:o.toBlobHD=o.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e){"createImageBitmap"in window||(window.createImageBitmap=async function(t){return new Promise((e,n)=>{let i;if(t instanceof Blob)i=URL.createObjectURL(t);else{if(!(t instanceof ImageData))throw new Error("createImageBitmap does not handle the provided image source type");{const e=document.createElement("canvas"),n=e.getContext("2d");e.width=t.width,e.height=t.height,n.putImageData(t,0,0),i=e.toDataURL()}}const o=document.createElement("img");o.addEventListener("load",(function(){e(this)})),o.src=i})})},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(),(i=jQuery).fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",(function(){e=!0})),setTimeout((function(){e||i(n).trigger(i.support.transition.end)}),t),this},i((function(){i.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){return i(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})),function(t){var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var o=t(this),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,""));var a=t(r);e&&e.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)}))},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){function e(e){return this.each((function(){var i=t(this),r=i.data("bs.button"),a="object"==(void 0===e?"undefined":o(e))&&e;r||i.data("bs.button",r=new n(this,a)),"toggle"==e?r.toggle():e&&r.setState(e)}))}var n=function e(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.2",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy((function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))}),this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',(function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',(function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))}))}(jQuery),function(t){function e(e){return this.each((function(){var i=t(this),r=i.data("bs.carousel"),a=t.extend({},n.DEFAULTS,i.data(),"object"==(void 0===e?"undefined":o(e))&&e),s="string"==typeof e?e:a.slide;r||i.data("bs.carousel",r=new n(this,a)),"number"==typeof e?r.to(e):s?r[s]():a.interval&&r.pause().cycle()}))}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",(function(){e.to(t)})):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(e,o),a=this.interval,s="next"==e?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",(function(){r.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout((function(){l.$element.trigger(p)}),0)})).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,o=t(this),r=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=t.extend({},r.data(),o.data()),s=o.attr("data-slide-to");s&&(a.interval=!1),e.call(r,a),s&&r.data("bs.carousel").to(s),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",(function(){t('[data-ride="carousel"]').each((function(){var n=t(this);e.call(n,n.data())}))}))}(jQuery),function(t){function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each((function(){var n=t(this),r=n.data("bs.collapse"),a=t.extend({},i.DEFAULTS,n.data(),"object"==(void 0===e?"undefined":o(e))&&e);!r&&a.toggle&&"show"==e&&(a.toggle=!1),r||n.data("bs.collapse",r=new i(this,a)),"string"==typeof e&&r[e]()}))}var i=function e(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+n.id+'"], [data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.2",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy((function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)}),this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',(function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var r=e(o),a=r.data("bs.collapse")?"toggle":t.extend({},o.data(),{trigger:this});n.call(r,a)}))}(jQuery),function(t){function e(e){e&&3===e.which||(t(i).remove(),t(o).each((function(){var i=t(this),o=n(i),r={relatedTarget:this};o.hasClass("open")&&(o.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger("hidden.bs.dropdown",r)))})))}function n(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.2",r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var r=n(o),a=r.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a&&27!=e.which||a&&27==e.which)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(e.target);38==e.which&&c>0&&c--,40==e.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)}))},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),function(t){function e(e,i){return this.each((function(){var r=t(this),a=r.data("bs.modal"),s=t.extend({},n.DEFAULTS,r.data(),"object"==(void 0===e?"undefined":o(e))&&e);a||r.data("bs.modal",a=new n(this,s)),"string"==typeof e?a[e](i):s.show&&a.show(i)}))}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy((function(){this.$element.trigger("loaded.bs.modal")}),this))};n.VERSION="3.3.2",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop((function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$element.find(".modal-dialog").one("bsTransitionEnd",(function(){i.$element.trigger("focus").trigger(r)})).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)})))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy((function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")}),this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy((function(t){27==t.which&&this.hide()}),this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop((function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")}))},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t('<div class="modal-backdrop '+o+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy((function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))}),this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(n){var i=t(this),o=i.attr("href"),r=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=r.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},r.data(),i.data());i.is("a")&&n.preventDefault(),r.one("show.bs.modal",(function(t){t.isDefaultPrevented()||r.one("hidden.bs.modal",(function(){i.is(":visible")&&i.trigger("focus")}))})),e.call(r,a,this)}))}(jQuery),function(t){var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.VERSION="3.3.2",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,(function(t,i){n[t]!=i&&(e[t]=i)})),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout((function(){"in"==n.hoverState&&n.show()}),n.options.delay.show)):n.show())},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout((function(){"out"==n.hoverState&&n.hide()}),n.options.delay.hide)):n.hide()},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var o=this,r=this.tip(),a=this.getUID(this.type);this.setContent(),r.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&r.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var d=this.getPosition(),u=r[0].offsetWidth,p=r[0].offsetHeight;if(c){var f=s,h=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(h);s="bottom"==s&&d.bottom+p>m.bottom?"top":"top"==s&&d.top-p<m.top?"bottom":"right"==s&&d.right+u>m.width?"left":"left"==s&&d.left-u<m.left?"right":s,r.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,d,u,p);this.applyPlacement(g,s);var v=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",v).emulateTransitionEnd(e.TRANSITION_DURATION):v()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(n,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var u=/top|bottom/.test(n),p=u?2*d.left-o+l:2*d.top-r+c,f=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(p,i[0][f],u)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(n){function i(){"in"!=o.hoverState&&r.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),n&&n()}var o=this,r=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(e.TRANSITION_DURATION):i(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=i?{top:0,left:0}:e.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,s,r)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,d=e.left+r+n;c<a.left?o.left=a.left-c:d>a.width&&(o.left=a.left+a.width-d)}return o},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide((function(){t.$element.off("."+t.type).removeData("bs."+t.type)}))};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each((function(){var i=t(this),r=i.data("bs.tooltip"),a="object"==(void 0===n?"undefined":o(n))&&n;(r||"destroy"!=n)&&(r||i.data("bs.tooltip",r=new e(this,a)),"string"==typeof n&&r[n]())}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.2",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each((function(){var i=t(this),r=i.data("bs.popover"),a="object"==(void 0===n?"undefined":o(n))&&n;(r||"destroy"!=n)&&(r||i.data("bs.popover",r=new e(this,a)),"string"==typeof n&&r[n]())}))},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){function e(n,i){var o=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o),this.refresh(),this.process()}function n(n){return this.each((function(){var i=t(this),r=i.data("bs.scrollspy"),a="object"==(void 0===n?"undefined":o(n))&&n;r||i.data("bs.scrollspy",r=new e(this,a)),"string"==typeof n&&r[n]()}))}e.VERSION="3.3.2",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map((function(){var i=t(this),o=i.data("target")||i.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+n,o]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){i.offsets.push(this[0]),i.targets.push(this[1])}))},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);n.call(e,e.data())}))}))}(jQuery),function(t){function e(e){return this.each((function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()}))}var n=function(e){this.element=t(e)};n.VERSION="3.3.2",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),(function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})}))}}},n.prototype.activate=function(e,i,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .active"),s=o&&t.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(n.TRANSITION_DURATION):r(),a.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){function e(e){return this.each((function(){var i=t(this),r=i.data("bs.affix"),a="object"==(void 0===e?"undefined":o(e))&&e;r||i.data("bs.affix",r=new n(this,a)),"string"==typeof e&&r[e]()}))}var n=function e(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.2",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>o&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(t-i>=o+a)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&n>=o?"top":null!=i&&l+(s?a:e)>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,a=i.bottom,s=t("body").height();"object"!=(void 0===i?"undefined":o(i))&&(a=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof a&&(a=i.bottom(this.$element));var l=this.getState(s,e,r,a);if(this.affixed!=l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),d=t.Event(c+".bs.affix");if(this.$element.trigger(d),d.isDefaultPrevented())return;this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(c.replace("affix","affixed")+".bs.affix")}"bottom"==l&&this.$element.offset({top:s-e-a})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)}))}))}(jQuery)},function(t,e,n){"use strict";!function(t){function e(e,n){return t.map(e,(function(t){return function(t,e){return t+".touchspin_"+e}(t,n)}))}var n=0;t.fn.TouchSpin=function(i){if("destroy"!==i){var o={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},r={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each((function(){function a(e){g=t.extend({},g,e)}function s(e){e.addClass("bootstrap-touchspin");var n,i,o=k.prev(),r=k.next(),a='<span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+"</span>",s='<span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+"</span>";o.hasClass("input-group-btn")?(n='<button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+"</button>",o.append(n)):(n='<span class="input-group-btn"><button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+"</button></span>",t(n).insertBefore(k)),r.hasClass("input-group-btn")?(i='<button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button>",r.prepend(i)):(i='<span class="input-group-btn"><button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button></span>",t(i).insertAfter(k)),t(a).insertBefore(k),t(s).insertAfter(k),v=e}function l(){var e;e=g.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+'</span><span class="input-group-btn-vertical"><button class="'+g.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+g.verticalupclass+'"></i></button><button class="'+g.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+g.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+g.buttondown_class+' bootstrap-touchspin-down" type="button">'+g.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+g.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+g.postfix+'</span><span class="input-group-btn"><button class="'+g.buttonup_class+' bootstrap-touchspin-up" type="button">'+g.buttonup_txt+"</button></span></div>",v=t(e).insertBefore(k),t(".bootstrap-touchspin-prefix",v).after(k),k.hasClass("input-sm")?v.addClass("input-group-sm"):k.hasClass("input-lg")&&v.addClass("input-group-lg")}function c(){var t,e,n;""!==(t=k.val())&&(g.decimals>0&&"."===t||(e=parseFloat(t),isNaN(e)&&(e=0),n=e,e.toString()!==t&&(n=e),e<g.min&&(n=g.min),e>g.max&&(n=g.max),n=function(t){switch(g.forcestepdivisibility){case"round":return(Math.round(t/g.step)*g.step).toFixed(g.decimals);case"floor":return(Math.floor(t/g.step)*g.step).toFixed(g.decimals);case"ceil":return(Math.ceil(t/g.step)*g.step).toFixed(g.decimals);default:return t}}(n),Number(t).toString()!==n.toString()&&(k.val(n),k.trigger("change"))))}function d(){if(g.booster){var t=Math.pow(2,Math.floor(P/g.boostat))*g.step;return g.maxboostedstep&&t>g.maxboostedstep&&(t=g.maxboostedstep,y=Math.round(y/t)*t),Math.max(g.step,t)}return g.step}function u(){c(),y=parseFloat(b.input.val()),isNaN(y)&&(y=0);var t=y,e=d();(y+=e)>g.max&&(y=g.max,k.trigger("touchspin.on.max"),m()),b.input.val(Number(y).toFixed(g.decimals)),t!==y&&k.trigger("change")}function p(){c(),y=parseFloat(b.input.val()),isNaN(y)&&(y=0);var t=y,e=d();(y-=e)<g.min&&(y=g.min,k.trigger("touchspin.on.min"),m()),b.input.val(y.toFixed(g.decimals)),t!==y&&k.trigger("change")}function f(){m(),P=0,T="down",k.trigger("touchspin.on.startspin"),k.trigger("touchspin.on.startdownspin"),_=setTimeout((function(){w=setInterval((function(){P++,p()}),g.stepinterval)}),g.stepintervaldelay)}function h(){m(),P=0,T="up",k.trigger("touchspin.on.startspin"),k.trigger("touchspin.on.startupspin"),S=setTimeout((function(){x=setInterval((function(){P++,u()}),g.stepinterval)}),g.stepintervaldelay)}function m(){switch(clearTimeout(_),clearTimeout(S),clearInterval(w),clearInterval(x),T){case"up":k.trigger("touchspin.on.stopupspin"),k.trigger("touchspin.on.stopspin");break;case"down":k.trigger("touchspin.on.stopdownspin"),k.trigger("touchspin.on.stopspin")}P=0,T=!1}var g,v,b,y,w,x,_,S,k=t(this),C=k.data(),P=0,T=!1;!function(){if(!k.data("alreadyinitialized")){if(k.data("alreadyinitialized",!0),n+=1,k.data("spinnerid",n),!k.is("input"))return void console.log("Must be an input.");""!==(g=t.extend({},o,C,function(){var e={};return t.each(r,(function(t,n){var i="bts-"+n;k.is("[data-"+i+"]")&&(e[t]=k.data(i))})),e}(),i)).initval&&""===k.val()&&k.val(g.initval),c(),function(){var t=k.val(),e=k.parent();""!==t&&(t=Number(t).toFixed(g.decimals)),k.data("initvalue",t).val(t),k.addClass("form-control"),e.hasClass("input-group")?s(e):l()}(),b={down:t(".bootstrap-touchspin-down",v),up:t(".bootstrap-touchspin-up",v),input:t("input",v),prefix:t(".bootstrap-touchspin-prefix",v).addClass(g.prefix_extraclass),postfix:t(".bootstrap-touchspin-postfix",v).addClass(g.postfix_extraclass)},""===g.prefix&&b.prefix.hide(),""===g.postfix&&b.postfix.hide(),k.on("keydown",(function(t){var e=t.keyCode||t.which;38===e?("up"!==T&&(u(),h()),t.preventDefault()):40===e&&("down"!==T&&(p(),f()),t.preventDefault())})),k.on("keyup",(function(t){var e=t.keyCode||t.which;(38===e||40===e)&&m()})),k.on("blur",(function(){c()})),b.down.on("keydown",(function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("down"!==T&&(p(),f()),t.preventDefault())})),b.down.on("keyup",(function(t){var e=t.keyCode||t.which;(32===e||13===e)&&m()})),b.up.on("keydown",(function(t){var e=t.keyCode||t.which;(32===e||13===e)&&("up"!==T&&(u(),h()),t.preventDefault())})),b.up.on("keyup",(function(t){var e=t.keyCode||t.which;(32===e||13===e)&&m()})),b.down.on("mousedown.touchspin",(function(t){b.down.off("touchstart.touchspin"),k.is(":disabled")||(p(),f(),t.preventDefault(),t.stopPropagation())})),b.down.on("touchstart.touchspin",(function(t){b.down.off("mousedown.touchspin"),k.is(":disabled")||(p(),f(),t.preventDefault(),t.stopPropagation())})),b.up.on("mousedown.touchspin",(function(t){b.up.off("touchstart.touchspin"),k.is(":disabled")||(u(),h(),t.preventDefault(),t.stopPropagation())})),b.up.on("touchstart.touchspin",(function(t){b.up.off("mousedown.touchspin"),k.is(":disabled")||(u(),h(),t.preventDefault(),t.stopPropagation())})),b.up.on("mouseout touchleave touchend touchcancel",(function(t){T&&(t.stopPropagation(),m())})),b.down.on("mouseout touchleave touchend touchcancel",(function(t){T&&(t.stopPropagation(),m())})),b.down.on("mousemove touchmove",(function(t){T&&(t.stopPropagation(),t.preventDefault())})),b.up.on("mousemove touchmove",(function(t){T&&(t.stopPropagation(),t.preventDefault())})),t(document).on(e(["mouseup","touchend","touchcancel"],n).join(" "),(function(t){T&&(t.preventDefault(),m())})),t(document).on(e(["mousemove","touchmove","scroll","scrollstart"],n).join(" "),(function(t){T&&(t.preventDefault(),m())})),k.on("mousewheel DOMMouseScroll",(function(t){if(g.mousewheel&&k.is(":focus")){var e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail;t.stopPropagation(),t.preventDefault(),0>e?p():u()}})),k.on("touchspin.uponce",(function(){m(),u()})),k.on("touchspin.downonce",(function(){m(),p()})),k.on("touchspin.startupspin",(function(){h()})),k.on("touchspin.startdownspin",(function(){f()})),k.on("touchspin.stopspin",(function(){m()})),k.on("touchspin.updatesettings",(function(t,e){!function(t){a(t),c();var e=b.input.val();""!==e&&(e=Number(b.input.val()),b.input.val(e.toFixed(g.decimals)))}(e)})),b.input.css("display","block")}}()}))}this.each((function(){var n=t(this).data();t(document).off(e(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],n.spinnerid).join(" "))}))}}(jQuery)},function(t,e,n){"use strict";var i;(i=jQuery).expr[":"].notmdproc=function(t){return!i(t).data("mdproc")},i.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(t){i(t||this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(t){i(t||this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(t){i(t||this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(t){i(t||this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each((function(){var t=i(this);if(i(this).attr("data-hint")||t.hasClass("floating-label")){if(t.wrap("<div class=form-control-wrapper></div>"),t.after("<span class=material-input></span>"),t.hasClass("floating-label")){var e=t.attr("placeholder");t.attr("placeholder",null).removeClass("floating-label"),t.after("<div class=floating-label>"+e+"</div>")}if(t.attr("data-hint")&&t.after("<div class=hint>"+t.attr("data-hint")+"</div>"),(null===t.val()||"undefined"==t.val()||""===t.val())&&t.addClass("empty"),t.parent().next().is("[type=file]")){t.parent().addClass("fileinput");var n=t.parent().next().detach();t.after(n)}}})),i(document).on("change",".checkbox input[type=checkbox]",(function(){i(this).blur()})).on("keydown paste",".form-control",(function(t){(function(t){return void 0===t.which||"number"==typeof t.which&&t.which>0&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!=t.which&&9!=t.which})(t)&&i(this).removeClass("empty")})).on("keyup change",".form-control",(function(){var t=i(this);""===t.val()&&void 0!==t[0].checkValidity&&t[0].checkValidity()?t.addClass("empty"):t.removeClass("empty")})).on("focus",".form-control-wrapper.fileinput",(function(){i(this).find("input").addClass("focus")})).on("blur",".form-control-wrapper.fileinput",(function(){i(this).find("input").removeClass("focus")})).on("change",".form-control-wrapper.fileinput [type=file]",(function(){var t="";i.each(i(this)[0].files,(function(e,n){t+=n.name+", "})),(t=t.substring(0,t.length-2))?i(this).prev().removeClass("empty"):i(this).prev().addClass("empty"),i(this).prev().val(t)}))},ripples:function(t){i(t||this.options.withRipples).ripples()},autofill:function(){var t,e=setInterval((function(){i("input[type!=checkbox]").each((function(){i(this).val()&&i(this).val()!==i(this).attr("value")&&i(this).trigger("change")}))}),100);setTimeout((function(){clearInterval(e)}),1e4),i(document).on("focus","input",(function(){var e=i(this).parents("form").find("input").not("[type=file]");t=setInterval((function(){e.each((function(){i(this).val()!==i(this).attr("value")&&i(this).trigger("change")}))}),100)})).on("blur","input",(function(){clearInterval(t)}))},init:function(){i.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(i.fn.ripples&&this.options.ripples&&i(document).arrive(this.options.withRipples,(function(){i.material.ripples(i(this))})),this.options.input&&i(document).arrive(this.options.inputElements,(function(){i.material.input(i(this))})),this.options.checkbox&&i(document).arrive(this.options.checkboxElements,(function(){i.material.checkbox(i(this))})),this.options.radio&&i(document).arrive(this.options.radioElements,(function(){i.material.radio(i(this))})),this.options.togglebutton&&i(document).arrive(this.options.togglebuttonElements,(function(){i.material.togglebutton(i(this))})))}}},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[],void 0===(r="function"==typeof(i=function(){function t(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||n.parentWindow,o=n.documentElement,r=i.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r=0),{top:e.top+i.pageYOffset-o.clientTop,left:e.left+r-o.clientLeft}}function e(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function n(t,e,n){r(t,e),setTimeout((function(){s(t,e)}),n)}function i(t){return Math.max(Math.min(t,100),0)}function o(t){return Array.isArray(t)?t:[t]}function r(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function s(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function l(t,e){return 100/(e-t)}function c(t,e){return 100*e/(t[1]-t[0])}function d(t,e){for(var n=1;t>=e[n];)n+=1;return n}function u(t,e,n){if(n>=t.slice(-1)[0])return 100;var i,o,r,a,s=d(n,t);return i=t[s-1],o=t[s],r=e[s-1],a=e[s],r+function(t,e){return c(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}([i,o],n)/l(r,a)}function p(t,e,n,i){if(100===i)return i;var o,r,a=d(i,t);return n?i-(o=t[a-1])>((r=t[a])-o)/2?r:o:e[a-1]?t[a-1]+function(t,e){return Math.round(t/e)*e}(i-t[a-1],e[a-1]):i}function f(t,n,i){var o;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider: 'range' contains invalid value.");if(!e(o="min"===t?0:"max"===t?100:parseFloat(t))||!e(n[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");i.xPct.push(o),i.xVal.push(n[0]),o?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1])}function h(t,e,n){return!e||void(n.xSteps[t]=c([n.xVal[t],n.xVal[t+1]],e)/l(n.xPct[t],n.xPct[t+1]))}function m(t,e,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var o,r=[];for(o in t)t.hasOwnProperty(o)&&r.push([t[o],o]);for(r.sort((function(t,e){return t[0]-e[0]})),o=0;o<r.length;o++)f(r[o][1],r[o][0],this);for(this.xNumSteps=this.xSteps.slice(0),o=0;o<this.xNumSteps.length;o++)h(o,this.xNumSteps[o],this)}function g(t,n){if(!e(n))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=n}function v(t,e){if("object"!=(void 0===e?"undefined":a(e))||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new m(e,t.snap,t.dir,t.singleStep)}function b(t,e){if(e=o(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function y(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function w(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function x(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(!0===e&&2===t.handles)t.connect=3;else{if(!1!==e)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function _(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function S(t,n){if(!e(n))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(n),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function k(t,n){if(!e(n))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(n),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function C(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function P(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,o=e.indexOf("fixed")>=0,r=e.indexOf("snap")>=0;t.events={tap:n||r,drag:i,fixed:o,snap:r}}function T(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function E(t,e,n){var o=t+e[0],r=t+e[1];return n?(0>o&&(r+=Math.abs(o)),r>100&&(o-=r-100),[i(o),i(r)]):[o,r]}function A(t,e){var n=document.createElement("div"),i=document.createElement("div"),o=["-lower","-upper"];return t&&o.reverse(),r(i,F[3]),r(i,F[3]+o[e]),r(n,F[2]),n.appendChild(i),n}function j(t,e,n){var i,o=[];for(i=0;t>i;i+=1)o.push(n.appendChild(A(e,i)));return o}function L(e,a){function l(t,e,n){var i=k.direction,o={},r=k.xVal[0],a=k.xVal[k.xVal.length-1],s=!1,l=!1,c=0;return k.direction=0,(n=function(t){return t.filter((function(t){return!this[t]&&(this[t]=!0)}),{})}(n.slice().sort((function(t,e){return t-e}))))[0]!==r&&(n.unshift(r),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach((function(i,r){var a,d,u,p,f,h,m,g,v,b=i,y=n[r+1];if("steps"===e&&(a=k.xNumSteps[r]),a||(a=y-b),!1!==b&&void 0!==y)for(d=b;y>=d;d+=a){for(m=(f=(p=k.toStepping(d))-c)/t,v=f/(g=Math.round(m)),u=1;g>=u;u+=1)o[(c+u*v).toFixed(5)]=["x",0];h=n.indexOf(d)>-1?1:"steps"===e?2:0,!r&&s&&(h=0),d===y&&l||(o[p.toFixed(5)]=[d,h]),c=p}})),k.direction=i,o}function c(t,e,n){function i(t,e,n){return'class="'+e+" "+e+"-"+s+" "+e+function(t){return["-normal","-large","-sub"][t]}(n[1])+'" style="'+a.style+": "+t+'%"'}function o(t,o){k.direction&&(t=100-t),o[1]=o[1]&&e?e(o[0],o[1]):o[1],l.innerHTML+="<div "+i(t,"noUi-marker",o)+"></div>",o[1]&&(l.innerHTML+="<div "+i(t,"noUi-value",o)+">"+n.to(o[0])+"</div>")}var s=["horizontal","vertical"][a.ort],l=document.createElement("div");return r(l,"noUi-pips"),r(l,"noUi-pips-"+s),Object.keys(t).forEach((function(e){o(e,t[e])})),l}function d(){return w["offset"+["Width","Height"][a.ort]]}function u(t,e){void 0!==e&&(e=Math.abs(e-a.dir)),Object.keys(P).forEach((function(n){var i=n.split(".")[0];t===i&&P[n].forEach((function(t){t(o(y()),e,p(Array.prototype.slice.call(C)))}))}))}function p(t){return 1===t.length?t[0]:a.dir?t.reverse():t}function f(t,e,n,i){var o=function(e){return!_.hasAttribute("disabled")&&!function(t,e){t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}(_,F[14])&&(e=function(t){t.preventDefault();var e,n,i=0===t.type.indexOf("touch"),o=0===t.type.indexOf("mouse"),r=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(r=!0),i&&(e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY),(o||r)&&(e=t.clientX+window.pageXOffset,n=t.clientY+window.pageYOffset),a.points=[e,n],a.cursor=o||r,a}(e),!(t===$.start&&void 0!==e.buttons&&e.buttons>1)&&(e.calcPoint=e.points[a.ort],void n(e,i)))},r=[];return t.split(" ").forEach((function(t){e.addEventListener(t,o,!1),r.push([t,o])})),r}function h(t,e){var n,i,o=e.handles||x,r=!1,a=100*(t.calcPoint-e.start)/d(),s=o[0]===x[0]?0:1;if(n=E(a,e.positions,o.length>1),r=b(o[0],n[s],1===o.length),o.length>1){if(r=b(o[1],n[s?0:1],!1)||r)for(i=0;i<e.handles.length;i++)u("slide",i)}else r&&u("slide",s)}function m(t,e){var n=w.getElementsByClassName(F[15]),i=e.handles[0]===x[0]?0:1;n.length&&s(n[0],F[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var o=document.documentElement;o.noUiListeners.forEach((function(t){o.removeEventListener(t[0],t[1])})),s(_,F[12]),u("set",i),u("change",i)}function g(t,e){var n=document.documentElement;if(1===e.handles.length&&(r(e.handles[0].children[0],F[15]),e.handles[0].hasAttribute("disabled")))return!1;t.stopPropagation();var i=f($.move,n,h,{start:t.calcPoint,handles:e.handles,positions:[S[0],S[x.length-1]]}),o=f($.end,n,m,{handles:e.handles});if(n.noUiListeners=i.concat(o),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,x.length>1&&r(_,F[12]);var a=function(){return!1};document.body.noUiListener=a,document.body.addEventListener("selectstart",a,!1)}}function v(e){var i,o,r=e.calcPoint,s=0;return e.stopPropagation(),x.forEach((function(e){s+=t(e)[a.style]})),i=s/2>r||1===x.length?0:1,o=100*(r-=t(w)[a.style])/d(),a.events.snap||n(_,F[14],300),!x[i].hasAttribute("disabled")&&(b(x[i],o),u("slide",i),u("set",i),u("change",i),void(a.events.snap&&g(e,{handles:[x[s]]})))}function b(t,e,n){var o=t!==x[0]?1:0,l=S[0]+a.margin,c=S[1]-a.margin,d=S[0]+a.limit,p=S[1]-a.limit;return x.length>1&&(e=o?Math.max(e,l):Math.min(e,c)),!1!==n&&a.limit&&x.length>1&&(e=o?Math.min(e,d):Math.max(e,p)),e=k.getStep(e),(e=i(parseFloat(e.toFixed(7))))!==S[o]&&(t.style[a.style]=e+"%",t.previousSibling||(s(t,F[17]),e>50&&r(t,F[17])),S[o]=e,C[o]=k.fromStepping(e),u("update",o),!0)}function y(){var t,e=[];for(t=0;t<a.handles;t+=1)e[t]=a.format.to(C[t]);return p(e)}var w,x,_=e,S=[-1,-1],k=a.spectrum,C=[],P={};if(_.noUiSlider)throw new Error("Slider was already initialized.");return w=function(t,e,n){r(n,F[0]),r(n,F[8+t]),r(n,F[4+e]);var i=document.createElement("div");return r(i,F[1]),n.appendChild(i),i}(a.dir,a.ort,_),x=j(a.handles,a.dir,w),function(t,e,n){switch(t){case 1:r(e,F[7]),r(n[0],F[6]);break;case 3:r(n[1],F[6]);case 2:r(n[0],F[7]);case 0:r(e,F[6])}}(a.connect,_,x),function(t){var e,n;if(!t.fixed)for(e=0;e<x.length;e+=1)f($.start,x[e].children[0],g,{handles:[x[e]]});t.tap&&f($.start,w,v,{handles:x}),t.drag&&(r((n=[w.getElementsByClassName(F[7])[0]])[0],F[10]),t.fixed&&n.push(x[n[0]===x[0]?1:0].children[0]),n.forEach((function(t){f($.start,t,g,{handles:x})})))}(a.events),a.pips&&function(t){var e=t.mode,n=t.density||1,i=t.filter||!1,o=function(t,e,n){if("range"===t||"steps"===t)return k.xVal;if("count"===t){var i,o=100/(e-1),r=0;for(e=[];(i=r++*o)<=100;)e.push(i);t="positions"}return"positions"===t?e.map((function(t){return k.fromStepping(n?k.getStep(t):t)})):"values"===t?n?e.map((function(t){return k.fromStepping(k.getStep(k.toStepping(t)))})):e:void 0}(e,t.values||!1,t.stepped||!1),r=l(n,e,o),a=t.format||{to:Math.round};_.appendChild(c(r,i,a))}(a.pips),{destroy:function(){F.forEach((function(t){t&&s(_,t)})),_.innerHTML="",delete _.noUiSlider},steps:function(){return p(S.map((function(t,e){var n=k.getApplicableStep(t),i=function(t){var e=t.split(".");return e.length>1?e[1].length:0}(String(n[2])),o=C[e],r=100===t?null:n[2],a=Number((o-n[2]).toFixed(i));return[0===t?null:a>=n[1]?n[2]:n[0]||!1,r]})))},on:function(t,e){P[t]=P[t]||[],P[t].push(e),"update"===t.split(".")[0]&&x.forEach((function(t,e){u("update",e)}))},off:function(t){var e=t.split(".")[0],n=t.substring(e.length);Object.keys(P).forEach((function(t){var i=t.split(".")[0],o=t.substring(i.length);e&&e!==i||n&&n!==o||delete P[t]}))},get:y,set:function(t){var e,i,r=o(t);for(a.dir&&a.handles>1&&r.reverse(),a.animate&&-1!==S[0]&&n(_,F[14],300),e=x.length>1?3:1,1===r.length&&(e=1),function(t,e){var n,i,o;for(a.limit&&(t+=1),n=0;t>n;n+=1)null!==(o=e[i=n%2])&&!1!==o&&("number"==typeof o&&(o=String(o)),(!1===(o=a.format.from(o))||isNaN(o)||!1===b(x[i],k.toStepping(o),n===3-a.dir))&&u("update",i))}(e,r),i=0;i<x.length;i++)u("set",i)}}}var $=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},F=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"];m.prototype.getMargin=function(t){return 2===this.xPct.length&&c(this.xVal,t)},m.prototype.toStepping=function(t){return t=u(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},m.prototype.fromStepping=function(t){return this.direction&&(t=100-t),function(t){var e=Math.pow(10,7);return Number((Math.round(t*e)/e).toFixed(7))}(function(t,e,n){if(n>=100)return t.slice(-1)[0];var i,o=d(n,e);return function(t,e){return e*(t[1]-t[0])/100+t[0]}([t[o-1],t[o]],(n-(i=e[o-1]))*l(i,e[o]))}(this.xVal,this.xPct,t))},m.prototype.getStep=function(t){return this.direction&&(t=100-t),t=p(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},m.prototype.getApplicableStep=function(t){var e=d(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},m.prototype.convert=function(t){return this.getStep(this.toStepping(t))};var O={to:function(t){return t.toFixed(2)},from:Number};return{create:function(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=function(t){var e,n={margin:0,limit:0,animate:!0,format:O};e={step:{r:!1,t:g},start:{r:!0,t:b},connect:{r:!0,t:x},direction:{r:!0,t:C},snap:{r:!1,t:y},animate:{r:!1,t:w},range:{r:!0,t:v},orientation:{r:!1,t:_},margin:{r:!1,t:S},limit:{r:!1,t:k},behaviour:{r:!0,t:P},format:{r:!1,t:T}};var i={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(i).forEach((function(e){void 0===t[e]&&(t[e]=i[e])})),Object.keys(e).forEach((function(i){var o=e[i];if(void 0===t[i]){if(o.r)throw new Error("noUiSlider: '"+i+"' is required.");return!0}o.t(n,t[i])})),n.pips=t.pips,n.style=n.ort?"top":"left",n}(e),i=L(t,n);i.set(n.start),t.noUiSlider=i}}})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[n(135)],void 0===(r="function"==typeof(i=function(t){var e={options:{optionClass:"",dropdownClass:"",autoinit:!1,callback:!1,onSelected:!1,absolutePos:!1,align:"left",dynamicOptLabel:"Add a new option..."},init:function(n){function i(n){var i=n.data("dropdownjs-ul");i.find("li").not(".dropdownjs-add").remove(),n.find("option").each((function(){var n=t(this);e._addOption(i,n)}))}function o(o){if(!o.data("dropdownjs")&&o.is("select")){var r=o.attr("multiple"),a=o.attr("data-dynamic-opts"),s=t(),l=t("<div></div>");l.addClass("dropdownjs").addClass(n.dropdownStyle),l.data("select",o);var c=t("<input type=text readonly class=fakeinput>");t.material&&c.data("mdproc",!0),o.is(":disabled")&&c.prop("disabled",!0),l.append(c);var d,u=t("<ul></ul>");if(u.addClass("dropdownjs-ul"),u.data("select",o),o.hide().attr("data-dropdownjs",!0).data("dropdownjs-ul",u),n.absolutePos?t("body").append(u):l.append(u),c.attr("placeholder",o.attr("placeholder")),i(o),a&&((s=t("<li class=dropdownjs-add></li>")).append('<input type="text">'),s.find("input").attr("placeholder",n.dynamicOptLabel),u.append(s)),l.find("li"),r){var p=[],f=o.val();for(var h in f)p.push("li[value="+f[h]+"]");p.length>0&&e._select(l,l.find(p.join(",")))}else{var m;m=o.find(":selected").length?o.find(":selected").last():o.find("option, li").first(),e._select(l,m)}c.addClass(o[0].className),c.css({"moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none","-o-user-select":"none"}),o.on("remove",(function(){u.remove()})),o.after(l),n.callback&&n.callback(l),u.on("click","li:not(.dropdownjs-add)",(function(n){var i,r,a,s,c;e._select(l,t(this)),i=o.get(0),r="change",(c=document.createEvent)?(s=document.createEvent("HTMLEvents")).initEvent(r,!0,!0):s=document.createEventObject(),s.memo=a||{},c?i.dispatchEvent(s):i.fireEvent("on"+r,s)})),u.on("keydown","li:not(.dropdownjs-add)",(function(n){return 27===n.which?(t(".dropdownjs > ul > li").attr("tabindex",-1),u.removeClass("focus"),c.removeClass("focus").blur()):32!==n.which||t(n.target).is("input")?void 0:(e._select(l,t(this)),!1)})),u.on("focus","li:not(.dropdownjs-add)",(function(){o.is(":disabled")||c.addClass("focus")})),a&&a.length&&s.on("keydown",(function(e){if(13===e.which){var n=t("<option>"),i=s.find("input").val();s.find("input").val(""),n.attr("value",i),n.text(i),o.append(n)}})),o.on("DOMNodeInserted",(function(n){var i=t(n.target);i.val()&&(e._addOption(u,i),u.find("li").not(".dropdownjs-add").attr("tabindex",0))})),o.on("change",(function(n){var a,s=t(n.target);s.val()&&s.val().length&&(r||(i(o),a=o.find(":selected").length?o.find(":selected").last():o.find("option, li").first(),e.select(l,a.val())))})),c.on("click",(function(e){e.stopPropagation(),o.is(":disabled")||(u.hasClass("focus")?g():(clearTimeout(d),d=setTimeout((function(){!function(){var e=c;t(".dropdownjs-ul > li").attr("tabindex",-1),t(".dropdownjs > input").not(e).removeClass("focus").blur(),t(".dropdownjs").not(e).removeClass("focus").blur(),t(".dropdownjs-ul").not(u).removeClass("focus"),t(".dropdownjs-ul > li").not(".dropdownjs-add").attr("tabindex",0);var i={top:e.offset().top-t(document).scrollTop(),left:e.offset().left-t(document).scrollLeft(),bottom:t(window).height()-(e.offset().top-t(document).scrollTop())-e.outerHeight(),right:t(window).width()-(e.offset().left-t(document).scrollLeft())-e.outerWidth()};n.absolutePos&&u.css(n.align,i[n.align]);var o=i.bottom;o<200&&i.top>o?(o=i.top,u.attr("placement","top-"+n.align)):u.attr("placement","bottom-"+n.align),n.absolutePos&&u.css({top:/top/.test(u.attr("placement"))?"auto":i.top+c.outerHeight(),bottom:/bottom/.test(u.attr("placement"))?"auto":i.bottom+c.outerHeight()}),u.css("max-height",o-20),u.addClass("focus"),e.addClass("focus")}()}),100)))})),t(document).on("click",(function(e){r&&(t(e.target).parents(".dropdownjs").length||t(e.target).parents(".dropdownjs-ul").length||t(e.target).is(".dropdownjs-ul"))||t(e.target).parents(".dropdownjs-add").length||t(e.target).is(".dropdownjs-add")||g()}))}function g(){t(".dropdownjs-ul > li").attr("tabindex",-1),c.removeClass("focus"),u.removeClass("focus")}}(n=n?t.extend(e.options,n):e.options).autoinit&&t(document).on("DOMNodeInserted",(function(e){var i=t(e.target);i.is("select")||(i=i.find("select")),i.is(n.autoinit)&&i.each((function(){o(t(this))}))})),t(this).each((function(){o(t(this))}))},select:function(n,i){var o=n.data("select"),r=t(o.data("dropdownjs-ul")).find('[value="'+i+'"]');e._select(n,r)},_select:function(e,n){if(!n.is(".dropdownjs-add")){var i=e.data("select"),o=e.find("input.fakeinput"),r=t(i.data("dropdownjs-ul")),a=i.attr("multiple"),s=r.find("li");if(a){n.attr("selected",(function(t,e){return"selected"===e?null:"selected"})),n.toggleClass("selected"),n.each((function(){i.find('[value="'+t(this).attr("value")+'"]').prop("selected",t(this).hasClass("selected"))}));var l=[];s.each((function(){t(this).hasClass("selected")&&l.push(t(this).text())})),o.val(l.join(", "))}a||(n.is("li")&&s.not(n).removeClass("selected"),n.addClass("selected"),i.val(n.attr("value")),o.val(n.text().trim())),t.material&&(o.val().trim()?i.removeClass("empty"):i.addClass("empty")),this.options.onSelected&&this.options.onSelected(n.attr("value"))}},_addOption:function(e,n){var i=t("<li></li>");i.addClass(this.options.optionStyle),n.text()?i.text(n.text()):i.html("&nbsp;"),i.attr("value",n.val());var o=t.extend({},n[0].dataset);for(var r in o)i[0].dataset[r]=o[r];e.data("select").attr("data-dynamic-opts")&&(i.append("<span class=close></span>"),i.find(".close").on("click",(function(){i.remove(),n.remove()}))),n.prop("disabled")&&i.attr("disabled",!0),n.prop("selected")&&(i.attr("selected",!0),i.addClass("selected")),e.find(".dropdownjs-add").length?e.find(".dropdownjs-add").before(i):e.append(i)}};t.fn.dropdown=function(n){return e[n]?e[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"===(void 0===n?"undefined":a(n))|!n?e.init.apply(this,arguments):void t.error("Method "+n+" does not exists on jQuery.dropdown")}})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,o=[n(135)],void 0===(r="function"==typeof(i=function t(e,n){var i={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},r={};function s(t){var e=h[o.locale];return e?e[t]:h.en[t]}function l(t,n,i){t.stopPropagation(),t.preventDefault(),e.isFunction(i)&&!1===i.call(n,t)||n.modal("hide")}function c(t,n){var i=0;e.each(t,(function(t,e){n(t,e,i++)}))}function d(t,n,i){return e.extend(!0,{},t,function(t,e){var n=t.length,i={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}(n,i))}function u(t,e,n,i){return f(d({className:"bootbox-"+t,buttons:p.apply(null,e)},i,n),e)}function p(){for(var t={},e=0,n=arguments.length;e<n;e++){var i=arguments[e],o=i.toLowerCase(),r=i.toUpperCase();t[o]={label:s(r)}}return t}function f(t,e){var i={};return c(e,(function(t,e){i[e]=!0})),c(t.buttons,(function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")})),t}r.alert=function(){var t;if((t=u("alert",["ok"],["message","callback"],arguments)).callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},r.dialog(t)},r.confirm=function(){var t;if((t=u("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return r.dialog(t)},r.prompt=function(){var t,o,a,s,l,u,h;if(s=e(i.form),o={className:"bootbox-prompt",buttons:p("cancel","confirm"),value:"",inputType:"text"},u=(t=f(d(o,arguments,["title","callback"]),["cancel","confirm"])).show===n||t.show,t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=l.val();break;case"checkbox":var i=l.find("input:checked");n=[],c(i,(function(t,i){n.push(e(i).val())}))}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!i.inputs[t.inputType])throw new Error("invalid prompt type");switch(l=e(i.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":l.val(t.value);break;case"select":var m={};if(h=t.inputOptions||[],!e.isArray(h))throw new Error("Please pass an array of input options");if(!h.length)throw new Error("prompt with select requires options");c(h,(function(t,i){var o=l;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(m[i.group]||(m[i.group]=e("<optgroup/>").attr("label",i.group)),o=m[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")})),c(m,(function(t,e){l.append(e)})),l.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(!(h=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!h[0].value||!h[0].text)throw new Error("given options in wrong format");l=e("<div/>"),c(h,(function(n,o){var r=e(i.inputs[t.inputType]);r.find("input").attr("value",o.value),r.find("label").append(o.text),c(g,(function(t,e){e===o.value&&r.find("input").prop("checked",!0)})),l.append(r)}))}return t.placeholder&&l.attr("placeholder",t.placeholder),t.pattern&&l.attr("pattern",t.pattern),t.maxlength&&l.attr("maxlength",t.maxlength),s.append(l),s.on("submit",(function(t){t.preventDefault(),t.stopPropagation(),a.find(".btn-primary:last").click()})),(a=r.dialog(t)).off("shown.bs.modal"),a.on("shown.bs.modal",(function(){l.focus()})),!0===u&&a.modal("show"),a},r.dialog=function(t){t=function(t){var n,i;if("object"!==(void 0===t?"undefined":a(t)))throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=e.extend({},o,t)).buttons||(t.buttons={}),n=t.buttons,i=function(t){var e,n=0;for(e in t)n++;return n}(n),c(n,(function(t,o,r){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=i<=2&&r===i-1?"btn-primary":"btn-default")})),t}(t);var r=e(i.dialog),s=r.find(".modal-dialog"),d=r.find(".modal-body"),u=t.buttons,p="",f={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(c(u,(function(t,e){p+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",f[t]=e.callback})),d.find(".bootbox-body").html(t.message),!0===t.animate&&r.addClass("fade"),t.className&&r.addClass(t.className),"large"===t.size?s.addClass("modal-lg"):"small"===t.size?s.addClass("modal-sm"):"fullscreen"===t.size&&s.addClass("modal-fs"),t.title&&d.before(i.header),t.closeButton){var h=e(i.closeButton);t.title?r.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(d)}return t.title&&r.find(".modal-title").html(t.title),p.length&&(d.after(i.footer),r.find(".modal-footer").html(p)),r.on("hidden.bs.modal",(function(t){t.target===this&&r.remove()})),r.on("shown.bs.modal",(function(){r.find(".btn-primary:last").focus()})),"static"!==t.backdrop&&r.on("click.dismiss.bs.modal",(function(t){r.children(".modal-backdrop").length&&(t.currentTarget=r.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&r.trigger("escape.close.bb")})),r.on("escape.close.bb",(function(t){f.onEscape&&l(t,r,f.onEscape)})),r.on("click",".modal-footer button",(function(t){var n=e(this).data("bb-handler");l(t,r,f[n])})),r.on("click",".bootbox-close-button",(function(t){l(t,r,f.onEscape)})),r.on("keyup",(function(t){27===t.which&&r.trigger("escape.close.bb")})),e(t.container).append(r),r.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&r.modal("show"),r},r.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(o,t)},r.hideAll=function(){return e(".bootbox").modal("hide"),r};var h={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return r.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],(function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")})),h[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},r},r.removeLocale=function(t){return delete h[t],r},r.setLocale=function(t){return r.setDefaults("locale",t)},r.init=function(n){return t(n||e)},r})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";(function(n,i){var o,r,a,s,l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=function(){return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};e[a][0].call(c.exports,(function(t){var n=e[a][1][t];return o(n||t)}),c,c.exports,t,e,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){var i=t("./utils"),o=t("./support"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,o,a,s,l,c,d=[],u=0,p=t.length,f=p,h="string"!==i.getTypeOf(t);u<t.length;)f=p-u,h?(e=t[u++],n=u<p?t[u++]:0,o=u<p?t[u++]:0):(e=t.charCodeAt(u++),n=u<p?t.charCodeAt(u++):0,o=u<p?t.charCodeAt(u++):0),a=e>>2,s=(3&e)<<4|n>>4,l=f>1?(15&n)<<2|o>>6:64,c=f>2?63&o:64,d.push(r.charAt(a)+r.charAt(s)+r.charAt(l)+r.charAt(c));return d.join("")},n.decode=function(t){var e,n,i,a,s,l,c=0,d=0,u="data:";if(t.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var p,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===r.charAt(64)&&f--,t.charAt(t.length-2)===r.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=o.uint8array?new Uint8Array(0|f):new Array(0|f);c<t.length;)e=r.indexOf(t.charAt(c++))<<2|(a=r.indexOf(t.charAt(c++)))>>4,n=(15&a)<<4|(s=r.indexOf(t.charAt(c++)))>>2,i=(3&s)<<6|(l=r.indexOf(t.charAt(c++))),p[d++]=e,64!==s&&(p[d++]=n),64!==l&&(p[d++]=i);return p}},{"./support":30,"./utils":32}],2:[function(t,e,n){function i(t,e,n,i,o){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=o}var o=t("./external"),r=t("./stream/DataWorker"),a=t("./stream/DataLengthProbe"),s=t("./stream/Crc32Probe");a=t("./stream/DataLengthProbe"),i.prototype={getContentWorker:function(){var t=new r(o.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(o.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){var i=t("./utils"),o=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var r=o,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var r=o,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^r[255&(t^e.charCodeAt(s))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:58}],7:[function(t,e,n){function i(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),a=t("./utils"),s=t("./stream/GenericWorker"),l=o?"uint8array":"array";n.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,t.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new i("Deflate",t)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,n){function i(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var o=t("../utils"),r=t("../stream/GenericWorker"),a=t("../utf8"),s=t("../crc32"),l=t("../signature"),c=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},d=function(t,e,n,i,r,d){var u,p,f=t.file,h=t.compression,m=d!==a.utf8encode,g=o.transformTo("string",d(f.name)),v=o.transformTo("string",a.utf8encode(f.name)),b=f.comment,y=o.transformTo("string",d(b)),w=o.transformTo("string",a.utf8encode(b)),x=v.length!==f.name.length,_=w.length!==b.length,S="",k="",C="",P=f.dir,T=f.date,E={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(E.crc32=t.crc32,E.compressedSize=t.compressedSize,E.uncompressedSize=t.uncompressedSize);var A=0;e&&(A|=8),m||!x&&!_||(A|=2048);var j=0,L=0;P&&(j|=16),"UNIX"===r?(L=798,j|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(f.unixPermissions,P)):(L=20,j|=function(t,e){return 63&(t||0)}(f.dosPermissions)),u=T.getUTCHours(),u<<=6,u|=T.getUTCMinutes(),u<<=5,u|=T.getUTCSeconds()/2,p=T.getUTCFullYear()-1980,p<<=4,p|=T.getUTCMonth()+1,p<<=5,p|=T.getUTCDate(),x&&(k=c(1,1)+c(s(g),4)+v,S+="up"+c(k.length,2)+k),_&&(C=c(1,1)+c(s(y),4)+w,S+="uc"+c(C.length,2)+C);var $="";return $+="\n\0",$+=c(A,2),$+=h.magic,$+=c(u,2),$+=c(p,2),$+=c(E.crc32,4),$+=c(E.compressedSize,4),$+=c(E.uncompressedSize,4),$+=c(g.length,2),$+=c(S.length,2),{fileRecord:l.LOCAL_FILE_HEADER+$+g+S,dirRecord:l.CENTRAL_FILE_HEADER+c(L,2)+$+c(y.length,2)+"\0\0\0\0"+c(j,4)+c(i,4)+g+S+y}},u=function(t){return l.DATA_DESCRIPTOR+c(t.crc32,4)+c(t.compressedSize,4)+c(t.uncompressedSize,4)};o.inherits(i,r),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=d(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=d(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:u(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,i=function(t,e,n,i,r){var a=o.transformTo("string",r(i));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(t,2)+c(t,2)+c(e,4)+c(n,4)+c(a.length,2)+a}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var i=t("../compressions"),o=t("./ZipFileWorker"),r=function(t,e){var n=t||e,o=i[n];if(!o)throw new Error(n+" is not a valid compression method !");return o};n.generateWorker=function(t,e,n){var i=new o(e.streamFiles,n,e.platform,e.encodeFileName),a=0;try{t.forEach((function(t,n){a++;var o=r(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(o,s).withStreamInfo("file",{name:t,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(i)})),i.entriesCount=a}catch(t){i.error(t)}return i}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=t("./object"),i.prototype.loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){function i(t){return new r.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new l);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}var o=t("./utils"),r=t("./external"),a=t("./utf8"),s=(o=t("./utils"),t("./zipEntries")),l=t("./stream/Crc32Probe"),c=t("./nodejsUtils");e.exports=function(t,e){var n=this;return e=o.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):o.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new s(e);return n.load(t),n})).then((function(t){var n=[r.Promise.resolve(t)],o=t.files;if(e.checkCRC32)for(var a=0;a<o.length;a++)n.push(i(o[a]));return r.Promise.all(n)})).then((function(t){for(var i=t.shift(),o=i.files,r=0;r<o.length;r++){var a=o[r];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){function i(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var o=t("../utils"),r=t("../stream/GenericWorker");o.inherits(i,r),i.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},i.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){function i(t,e,n){o.call(this,e),this._helper=t;var i=this;t.on("data",(function(t,e){i.push(t)||i._helper.pause(),n&&n(e)})).on("error",(function(t){i.emit("error",t)})).on("end",(function(){i.push(null)}))}var o=t("readable-stream").Readable;t("../utils").inherits(i,o),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,i){e.exports={isNode:void 0!==n,newBufferFrom:function(t,e){return new n(t,e)},allocBuffer:function(t){return n.alloc?n.alloc(t):new n(t)},isBuffer:function(t){return n.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){function i(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var o=t("./utf8"),r=t("./utils"),a=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),l=t("./defaults"),c=t("./compressedObject"),d=t("./zipObject"),u=t("./generate"),p=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),h=function(t,e,n){var i,o=r.getTypeOf(e),s=r.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(t=g(t)),s.createFolders&&(i=m(t))&&v.call(this,i,!0);var u="string"===o&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!u);var h,b=e instanceof c&&0===e.uncompressedSize;(b||s.dir||!e||0===e.length)&&(s.base64=!1,s.binary=!0,e="",s.compression="STORE",o="string"),h=e instanceof c||e instanceof a?e:p.isNode&&p.isStream(e)?new f(t,e):r.prepareContent(t,e,s.binary,s.optimizedBinaryString,s.base64);var y=new d(t,h,s);this.files[t]=y},m=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},g=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},v=function(t,e){return e=void 0!==e?e:l.createFolders,t=g(t),this.files[t]||h.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1===arguments.length){if(i(t)){var o=t;return this.filter((function(t,e){return!e.dir&&o.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null}return t=this.root+t,h.call(this,t,e,n),this},folder:function(t){if(!t)return this;if(i(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=v.call(this,e),o=this.clone();return o.root=n.name,o},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=u.generateWorker(this,n,i)}catch(t){(e=new a("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){function i(t){o.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var o=t("./DataReader");t("../utils").inherits(i,o),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===e&&this.data[r+1]===n&&this.data[r+2]===i&&this.data[r+3]===o)return r-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),o=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&o===r[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var o=t("../utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return o.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./Uint8ArrayReader");t("../utils").inherits(i,o),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./DataReader");t("../utils").inherits(i,o),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){function i(t){o.call(this,t)}var o=t("./ArrayReader");t("../utils").inherits(i,o),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){var i=t("../utils"),o=t("../support"),r=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||o.uint8array?"nodebuffer"===e?new s(t):o.uint8array?new l(i.transformTo("uint8array",t)):new r(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){function i(t){o.call(this,"ConvertWorker to "+t),this.destType=t}var o=t("./GenericWorker"),r=t("../utils");r.inherits(i,o),i.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){function i(){o.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var o=t("./GenericWorker"),r=t("../crc32");t("../utils").inherits(i,o),i.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){function i(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var o=t("../utils"),r=t("./GenericWorker");o.inherits(i,r),i.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){function i(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=o.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}var o=t("../utils"),r=t("./GenericWorker");o.inherits(i,r),i.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,o.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(o.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,i){function o(t,e,n){switch(t){case"blob":return s.newBlob(s.transformTo("arraybuffer",e),n);case"base64":return d.encode(e);default:return s.transformTo(t,e)}}function r(t,e){return new p.Promise((function(i,r){var a=[],s=t._internalType,l=t._outputType,c=t._mimeType;t.on("data",(function(t,n){a.push(t),e&&e(n)})).on("error",(function(t){a=[],r(t)})).on("end",(function(){try{var t=o(l,function(t,e){var i,o=0,r=null,a=0;for(i=0;i<e.length;i++)a+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(a),i=0;i<e.length;i++)r.set(e[i],o),o+=e[i].length;return r;case"nodebuffer":return n.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(s,a),c);i(t)}catch(t){r(t)}a=[]})).resume()}))}function a(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,s.checkSupport(i),this._worker=t.pipe(new l(i)),t.lock()}catch(t){this._worker=new c("error"),this._worker.error(t)}}var s=t("../utils"),l=t("./ConvertWorker"),c=t("./GenericWorker"),d=t("../base64"),u=t("../support"),p=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}a.prototype={accumulate:function(t){return r(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){s.delay(e,arguments,n)})),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(s.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==n,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var o=new ArrayBuffer(0);try{i.blob=0===new Blob([o],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(o),i.blob=0===r.getBlob("application/zip").size}catch(t){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(t){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){function i(){l.call(this,"utf-8 decode"),this.leftOver=null}function o(){l.call(this,"utf-8 encode")}for(var r=t("./utils"),a=t("./support"),s=t("./nodejsUtils"),l=t("./stream/GenericWorker"),c=new Array(256),d=0;d<256;d++)c[d]=d>=252?6:d>=248?5:d>=240?4:d>=224?3:d>=192?2:1;c[254]=c[254]=1,n.utf8encode=function(t){return a.nodebuffer?s.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,r,s=t.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=a.uint8array?new Uint8Array(l):new Array(l),r=0,o=0;r<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|63&n):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|63&n):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|63&n);return e}(t)},n.utf8decode=function(t){return a.nodebuffer?r.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,i,o,a=t.length,s=new Array(2*a);for(n=0,e=0;e<a;)if((i=t[e++])<128)s[n++]=i;else if((o=c[i])>4)s[n++]=65533,e+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&e<a;)i=i<<6|63&t[e++],o--;o>1?s[n++]=65533:i<65536?s[n++]=i:(i-=65536,s[n++]=55296|i>>10&1023,s[n++]=56320|1023&i)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),r.applyFromCharCode(s)}(t=r.transformTo(a.uint8array?"uint8array":"array",t))},r.inherits(i,l),i.prototype.processChunk=function(t){var e=r.transformTo(a.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var i=e;(e=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),e.set(i,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+c[t[n]]>e?n:e}(e),s=e;o!==e.length&&(a.uint8array?(s=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(s=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:n.utf8decode(s),meta:t.meta})},i.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=i,r.inherits(o,l),o.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){function i(t){return r(t,l.uint8array?new Uint8Array(t.length):new Array(t.length))}function o(t){return t}function r(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function a(t){var e=65536,i=n.getTypeOf(t),o=!0;if("uint8array"===i?o=f.applyCanBeUsed.uint8array:"nodebuffer"===i&&(o=f.applyCanBeUsed.nodebuffer),o)for(;e>1;)try{return f.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return f.stringifyByChar(t)}function s(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var l=t("./support"),c=t("./base64"),d=t("./nodejsUtils"),u=t("core-js/library/fn/set-immediate"),p=t("./external");n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(t,e,n){var i=[],o=0,r=t.length;if(r<=n)return String.fromCharCode.apply(null,t);for(;o<r;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(o,Math.min(o+n,r)))):i.push(String.fromCharCode.apply(null,t.subarray(o,Math.min(o+n,r)))),o+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,d.allocBuffer(1)).length}catch(t){return!1}}()}};n.applyFromCharCode=a;var h={};h.string={string:o,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:function(t){return r(t,d.allocBuffer(t.length))}},h.array={string:a,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d.newBufferFrom(t)}},h.arraybuffer={string:function(t){return a(new Uint8Array(t))},array:function(t){return s(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d.newBufferFrom(new Uint8Array(t))}},h.uint8array={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return d.newBufferFrom(t)}},h.nodebuffer={string:a,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:o},n.transformTo=function(t,e){if(e||(e=""),!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return h[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&d.isBuffer(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){u((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,o,r,a){return p.Promise.resolve(e).then((function(t){return l.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new p.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var s=n.getTypeOf(e);return s?("arraybuffer"===s?e=n.transformTo("uint8array",e):"string"===s&&(a?e=c.decode(e):o&&!0!==r&&(e=i(e))),e):p.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,n){function i(t){this.files=[],this.loadOptions=t}var o=t("./reader/readerFor"),r=t("./utils"),a=t("./signature"),s=t("./zipEntry"),l=(t("./utf8"),t("./support"));i.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=l.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=o(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){function i(t,e){this.options=t,this.loadOptions=e}var o=t("./reader/readerFor"),r=t("./utils"),a=t("./compressedObject"),s=t("./crc32"),l=t("./utf8"),c=t("./compressions"),d=t("./support");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=o(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,o=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<o;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=o(t.value);return 1!==e.readInt(1)||s(this.fileName)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=o(t.value);return 1!==e.readInt(1)||s(this.fileComment)!==e.readInt(4)?null:l.utf8decode(e.readData(t.length-5))}return null}},e.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),r=t("./utf8"),a=t("./compressedObject"),s=t("./stream/GenericWorker"),l=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var o="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!o&&(e=e.pipe(new r.Utf8EncodeWorker)),!a&&o&&(e=e.pipe(new r.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof a&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new r.Utf8EncodeWorker)),a.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof s?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)l.prototype[c[u]]=d;e.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,n){var i=t("./_is-object");e.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],40:[function(t,e,n){var i=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=i)},{}],41:[function(t,e,n){var i=t("./_a-function");e.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":37}],42:[function(t,e,n){e.exports=!t("./_fails")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},{"./_fails":45}],43:[function(t,e,n){var i=t("./_is-object"),o=t("./_global").document,r=i(o)&&i(o.createElement);e.exports=function(t){return r?o.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,n){var i=t("./_global"),o=t("./_core"),r=t("./_ctx"),a=t("./_hide"),s="prototype",l=function t(e,n,l){var c,d,u,p=e&t.F,f=e&t.G,h=e&t.S,m=e&t.P,g=e&t.B,v=e&t.W,b=f?o:o[n]||(o[n]={}),y=b[s],w=f?i:h?i[n]:(i[n]||{})[s];for(c in f&&(l=n),l)(d=!p&&w&&void 0!==w[c])&&c in b||(u=d?w[c]:l[c],b[c]=f&&"function"!=typeof w[c]?l[c]:g&&d?r(u,i):v&&w[c]==u?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[s]=t[s],e}(u):m&&"function"==typeof u?r(Function.call,u):u,m&&((b.virtual||(b.virtual={}))[c]=u,e&t.R&&y&&!y[c]&&a(y,c,u)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],46:[function(t,e,n){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},{}],47:[function(t,e,n){var i=t("./_object-dp"),o=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")((function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a}))},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],51:[function(t,e,n){e.exports=function(t){return"object"==(void 0===t?"undefined":l(t))?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t("./_an-object"),o=t("./_ie8-dom-define"),r=t("./_to-primitive"),a=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(i(t),e=r(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,n){var i,o,r,a=t("./_ctx"),s=t("./_invoke"),l=t("./_html"),c=t("./_dom-create"),d=t("./_global"),u=d.process,p=d.setImmediate,f=d.clearImmediate,h=d.MessageChannel,m=0,g={},v="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},y=function(t){b.call(t.data)};p&&f||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},i(m),m},f=function(t){delete g[t]},"process"==t("./_cof")(u)?i=function(t){u.nextTick(a(b,t,1))}:h?(r=(o=new h).port2,o.port1.onmessage=y,i=a(r.postMessage,r,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(i=function(t){d.postMessage(t+"","*")},d.addEventListener("message",y,!1)):i=v in c("script")?function(t){l.appendChild(c("script"))[v]=function(){l.removeChild(this),b.call(t)}}:function(t){setTimeout(a(b,t,1),0)}),e.exports={set:p,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,n){var i=t("./_is-object");e.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,n){var i=t("./_export"),o=t("./_task");i(i.G+i.B,{setImmediate:o.set,clearImmediate:o.clear})},{"./_export":44,"./_task":54}],57:[function(t,e,n){(function(t){function n(){c=!0;for(var t,e,n=d.length;n;){for(e=d,d=[],t=-1;++t<n;)e[t]();n=d.length}c=!1}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var r=0,a=new o(n),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var l=new t.MessageChannel;l.port1.onmessage=n,i=function(){l.port2.postMessage(0)}}var c,d=[];e.exports=function(t){1!==d.push(t)||c||i()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){function i(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==i&&c(this,t)}function r(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function a(t,e,n){u((function(){var i;try{i=e(n)}catch(e){return p.reject(t,e)}i===t?p.reject(t,new TypeError("Cannot resolve promise with itself")):p.resolve(t,i)}))}function s(t){var e=t&&t.then;if(t&&("object"==(void 0===t?"undefined":l(t))||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function c(t,e){function n(e){o||(o=!0,p.reject(t,e))}function i(e){o||(o=!0,p.resolve(t,e))}var o=!1,r=d((function(){e(i,n)}));"error"===r.status&&n(r.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var u=t("immediate"),p={},f=["REJECTED"],h=["FULFILLED"],m=["PENDING"];e.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===h||"function"!=typeof e&&this.state===f)return this;var n=new this.constructor(i);return this.state!==m?a(n,this.state===h?t:e,this.outcome):this.queue.push(new r(n,t,e)),n},r.prototype.callFulfilled=function(t){p.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){a(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){p.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){a(this.promise,this.onRejected,t)},p.resolve=function(t,e){var n=d(s,e);if("error"===n.status)return p.reject(t,n.value);var i=n.value;if(i)c(t,i);else{t.state=h,t.outcome=e;for(var o=-1,r=t.queue.length;++o<r;)t.queue[o].callFulfilled(e)}return t},p.reject=function(t,e){t.state=f,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},o.resolve=function(t){return t instanceof this?t:p.resolve(new this(i),t)},o.reject=function(t){var e=new this(i);return p.reject(e,t)},o.all=function(t){function e(t,e){n.resolve(t).then((function(t){a[e]=t,++s!==o||r||(r=!0,p.resolve(c,a))}),(function(t){r||(r=!0,p.reject(c,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,r=!1;if(!o)return this.resolve([]);for(var a=new Array(o),s=0,l=-1,c=new this(i);++l<o;)e(t[l],l);return c},o.race=function(t){function e(t){n.resolve(t).then((function(t){r||(r=!0,p.resolve(s,t))}),(function(t){r||(r=!0,p.reject(s,t))}))}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,r=!1;if(!o)return this.resolve([]);for(var a=-1,s=new this(i);++a<o;)e(t[a]);return s}},{immediate:57}],59:[function(t,e,n){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({level:p,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(l[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var o;if(o="string"==typeof e.dictionary?s.string2buf(e.dictionary):"[object ArrayBuffer]"===d.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=r.deflateSetDictionary(this.strm,o))!==u)throw new Error(l[n]);this._dict_set=!0}}function o(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}var r=t("./zlib/deflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),d=Object.prototype.toString,u=0,p=-1,f=0,h=8;i.prototype.push=function(t,e){var n,i,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?o.input=s.string2buf(t):"[object ArrayBuffer]"===d.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(l),o.next_out=0,o.avail_out=l),1!==(n=r.deflate(o,i))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(s.buf2binstring(a.shrinkBuf(o.output,o.next_out))):this.onData(a.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===i?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==i||(this.onEnd(u),o.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=i,n.deflate=o,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,o(t,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==l.Z_OK)throw new Error(c[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function o(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||c[n.err];return n.result}var r=t("./zlib/inflate"),a=t("./utils/common"),s=t("./utils/strings"),l=t("./zlib/constants"),c=t("./zlib/messages"),d=t("./zlib/zstream"),u=t("./zlib/gzheader"),p=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,o,c,d,u,f=this.strm,h=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?l.Z_FINISH:l.Z_NO_FLUSH,"string"==typeof t?f.input=s.binstring2buf(t):"[object ArrayBuffer]"===p.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(h),f.next_out=0,f.avail_out=h),(n=r.inflate(f,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&m&&(u="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===p.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,u)),n===l.Z_BUF_ERROR&&!0===g&&(n=l.Z_OK,g=!1),n!==l.Z_STREAM_END&&n!==l.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==l.Z_STREAM_END&&(0!==f.avail_in||i!==l.Z_FINISH&&i!==l.Z_SYNC_FLUSH)||("string"===this.options.to?(o=s.utf8border(f.output,f.next_out),c=f.next_out-o,d=s.buf2string(f.output,o),f.next_out=c,f.avail_out=h-c,c&&a.arraySet(f.output,f.output,o,c,0),this.onData(d)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==l.Z_STREAM_END);return n===l.Z_STREAM_END&&(i=l.Z_FINISH),i===l.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l.Z_OK):i!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),f.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===l.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=i,n.inflate=o,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,o(t,e)},n.ungzip=o},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=(void 0===n?"undefined":l(n)))throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),o);else for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){var e,n,i,o,r,a;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(a=new Uint8Array(i),o=0,e=0,n=t.length;e<n;e++)r=t[e],a.set(r,o),o+=r.length;return a}},r={arraySet:function(t,e,n,i,o){for(var r=0;r<i;r++)t[o+r]=e[n+r]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,r))},n.setTyped(i)},{}],63:[function(t,e,n){function i(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&r))return String.fromCharCode.apply(null,o.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var o=t("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var s=new o.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;s[254]=s[254]=1,n.string2buf=function(t){var e,n,i,r,a,s=t.length,l=0;for(r=0;r<s;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new o.Buf8(l),a=0,r=0;a<l;r++)55296==(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},n.buf2binstring=function(t){return i(t,t.length)},n.binstring2buf=function(t){for(var e=new o.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,o,r,a,l=e||t.length,c=new Array(2*l);for(o=0,n=0;n<l;)if((r=t[n++])<128)c[o++]=r;else if((a=s[r])>4)c[o++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&n<l;)r=r<<6|63&t[n++],a--;a>1?c[o++]=65533:r<65536?c[o++]=r:(r-=65536,c[o++]=55296|r>>10&1023,c[o++]=56320|1023&r)}return i(c,o)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}},{"./common":62}],64:[function(t,e,n){e.exports=function(t,e,n,i){for(var o=65535&t|0,r=t>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{r=r+(o=o+e[i++]|0)|0}while(--a);o%=65521,r%=65521}return o|r<<16|0}},{}],65:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,n){var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,o){var r=i,a=o+n;t^=-1;for(var s=o;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t}},{}],67:[function(t,e,n){function i(t,e){return t.msg=T[e],e}function o(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function a(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(S.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function s(t,e){k._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,a(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function c(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function d(t,e,n,i){var o=t.avail_in;return o>i&&(o=i),0===o?0:(t.avail_in-=o,S.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=C(t.adler,e,o,n):2===t.state.wrap&&(t.adler=P(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function u(t,e){var n,i,o=t.max_chain_length,r=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-nt?t.strstart-(t.w_size-nt):0,c=t.window,d=t.w_mask,u=t.prev,p=t.strstart+et,f=c[r+a-1],h=c[r+a];t.prev_length>=t.good_match&&(o>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===h&&c[n+a-1]===f&&c[n]===c[r]&&c[++n]===c[r+1]){r+=2,n++;do{}while(c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&c[++r]===c[++n]&&r<p);if(i=et-(p-r),r=p-et,i>a){if(t.match_start=e,a=i,i>=s)break;f=c[r+a-1],h=c[r+a]}}}while((e=u[e&d])>l&&0!=--o);return a<=t.lookahead?a:t.lookahead}function p(t){var e,n,i,o,r,a=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=a+(a-nt)){S.arraySet(t.window,t.window,a,a,0),t.match_start-=a,t.strstart-=a,t.block_start-=a,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=a?i-a:0}while(--n);e=n=a;do{i=t.prev[--e],t.prev[e]=i>=a?i-a:0}while(--n);o+=a}if(0===t.strm.avail_in)break;if(n=d(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=tt)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+tt-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<tt)););}while(t.lookahead<nt&&0!==t.strm.avail_in)}function f(t,e){for(var n,i;;){if(t.lookahead<nt){if(p(t),t.lookahead<nt&&e===E)return ut;if(0===t.lookahead)break}if(n=0,t.lookahead>=tt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-nt&&(t.match_length=u(t,n)),t.match_length>=tt)if(i=k._tr_tally(t,t.strstart-t.match_start,t.match_length-tt),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=tt){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(s(t,!1),0===t.strm.avail_out))return ut}return t.insert=t.strstart<tt-1?t.strstart:tt-1,e===L?(s(t,!0),0===t.strm.avail_out?ft:ht):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?ut:pt}function h(t,e){for(var n,i,o;;){if(t.lookahead<nt){if(p(t),t.lookahead<nt&&e===E)return ut;if(0===t.lookahead)break}if(n=0,t.lookahead>=tt&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=tt-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-nt&&(t.match_length=u(t,n),t.match_length<=5&&(t.strategy===M||t.match_length===tt&&t.strstart-t.match_start>4096)&&(t.match_length=tt-1)),t.prev_length>=tt&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-tt,i=k._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-tt),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+tt-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=tt-1,t.strstart++,i&&(s(t,!1),0===t.strm.avail_out))return ut}else if(t.match_available){if((i=k._tr_tally(t,0,t.window[t.strstart-1]))&&s(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return ut}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=k._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<tt-1?t.strstart:tt-1,e===L?(s(t,!0),0===t.strm.avail_out?ft:ht):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?ut:pt}function m(t,e){for(var n,i,o,r,a=t.window;;){if(t.lookahead<=et){if(p(t),t.lookahead<=et&&e===E)return ut;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=tt&&t.strstart>0&&(i=a[o=t.strstart-1])===a[++o]&&i===a[++o]&&i===a[++o]){r=t.strstart+et;do{}while(i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&i===a[++o]&&o<r);t.match_length=et-(r-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=tt?(n=k._tr_tally(t,1,t.match_length-tt),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(s(t,!1),0===t.strm.avail_out))return ut}return t.insert=0,e===L?(s(t,!0),0===t.strm.avail_out?ft:ht):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?ut:pt}function g(t,e){for(var n;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===E)return ut;break}if(t.match_length=0,n=k._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(s(t,!1),0===t.strm.avail_out))return ut}return t.insert=0,e===L?(s(t,!0),0===t.strm.avail_out?ft:ht):t.last_lit&&(s(t,!1),0===t.strm.avail_out)?ut:pt}function v(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new S.Buf16(2*Q),this.dyn_dtree=new S.Buf16(2*(2*J+1)),this.bl_tree=new S.Buf16(2*(2*X+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new S.Buf16(Z+1),this.heap=new S.Buf16(2*K+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new S.Buf16(2*K+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=W,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ot:ct,t.adler=2===e.wrap?0:1,e.last_flush=E,k._tr_init(e),F):i(t,D)}function w(t){var e=y(t);return e===F&&function(t){t.window_size=2*t.w_size,r(t.head),t.max_lazy_match=_[t.level].max_lazy,t.good_match=_[t.level].good_length,t.nice_match=_[t.level].nice_length,t.max_chain_length=_[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=tt-1,t.match_available=0,t.ins_h=0}(t.state),e}function x(t,e,n,o,r,a){if(!t)return D;var s=1;if(e===B&&(e=6),o<0?(s=0,o=-o):o>15&&(s=2,o-=16),r<1||r>V||n!==q||o<8||o>15||e<0||e>9||a<0||a>z)return i(t,D);8===o&&(o=9);var l=new b;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=o,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=r+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+tt-1)/tt),l.window=new S.Buf8(2*l.w_size),l.head=new S.Buf16(l.hash_size),l.prev=new S.Buf16(l.w_size),l.lit_bufsize=1<<r+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new S.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=a,l.method=n,w(t)}var _,S=t("../utils/common"),k=t("./trees"),C=t("./adler32"),P=t("./crc32"),T=t("./messages"),E=0,A=1,j=3,L=4,$=5,F=0,O=1,D=-2,I=-3,N=-5,B=-1,M=1,R=2,U=3,z=4,H=0,W=2,q=8,V=9,G=15,Y=8,K=286,J=30,X=19,Q=2*K+1,Z=15,tt=3,et=258,nt=et+tt+1,it=32,ot=42,rt=69,at=73,st=91,lt=103,ct=113,dt=666,ut=1,pt=2,ft=3,ht=4,mt=3;_=[new v(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===E)return ut;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,s(t,!1),0===t.strm.avail_out))return ut;if(t.strstart-t.block_start>=t.w_size-nt&&(s(t,!1),0===t.strm.avail_out))return ut}return t.insert=0,e===L?(s(t,!0),0===t.strm.avail_out?ft:ht):(t.strstart>t.block_start&&(s(t,!1),t.strm.avail_out),ut)})),new v(4,4,8,4,f),new v(4,5,16,8,f),new v(4,6,32,32,f),new v(4,4,16,16,h),new v(8,16,32,32,h),new v(8,16,128,128,h),new v(8,32,128,256,h),new v(32,128,258,1024,h),new v(32,258,258,4096,h)],n.deflateInit=function(t,e){return x(t,e,q,G,Y,H)},n.deflateInit2=x,n.deflateReset=w,n.deflateResetKeep=y,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?D:(t.state.gzhead=e,F):D},n.deflate=function(t,e){var n,s,d,u;if(!t||!t.state||e>$||e<0)return t?i(t,D):D;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===dt&&e!==L)return i(t,0===t.avail_out?N:D);if(s.strm=t,n=s.last_flush,s.last_flush=e,s.status===ot)if(2===s.wrap)t.adler=0,l(s,31),l(s,139),l(s,8),s.gzhead?(l(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),l(s,255&s.gzhead.time),l(s,s.gzhead.time>>8&255),l(s,s.gzhead.time>>16&255),l(s,s.gzhead.time>>24&255),l(s,9===s.level?2:s.strategy>=R||s.level<2?4:0),l(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(l(s,255&s.gzhead.extra.length),l(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=P(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=rt):(l(s,0),l(s,0),l(s,0),l(s,0),l(s,0),l(s,9===s.level?2:s.strategy>=R||s.level<2?4:0),l(s,mt),s.status=ct);else{var p=q+(s.w_bits-8<<4)<<8;p|=(s.strategy>=R||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=it),p+=31-p%31,s.status=ct,c(s,p),0!==s.strstart&&(c(s,t.adler>>>16),c(s,65535&t.adler)),t.adler=1}if(s.status===rt)if(s.gzhead.extra){for(d=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending!==s.pending_buf_size));)l(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=at)}else s.status=at;if(s.status===at)if(s.gzhead.name){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){u=1;break}u=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,l(s,u)}while(0!==u);s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),0===u&&(s.gzindex=0,s.status=st)}else s.status=st;if(s.status===st)if(s.gzhead.comment){d=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),a(t),d=s.pending,s.pending===s.pending_buf_size)){u=1;break}u=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,l(s,u)}while(0!==u);s.gzhead.hcrc&&s.pending>d&&(t.adler=P(t.adler,s.pending_buf,s.pending-d,d)),0===u&&(s.status=lt)}else s.status=lt;if(s.status===lt&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(t),s.pending+2<=s.pending_buf_size&&(l(s,255&t.adler),l(s,t.adler>>8&255),t.adler=0,s.status=ct)):s.status=ct),0!==s.pending){if(a(t),0===t.avail_out)return s.last_flush=-1,F}else if(0===t.avail_in&&o(e)<=o(n)&&e!==L)return i(t,N);if(s.status===dt&&0!==t.avail_in)return i(t,N);if(0!==t.avail_in||0!==s.lookahead||e!==E&&s.status!==dt){var f=s.strategy===R?g(s,e):s.strategy===U?m(s,e):_[s.level].func(s,e);if(f!==ft&&f!==ht||(s.status=dt),f===ut||f===ft)return 0===t.avail_out&&(s.last_flush=-1),F;if(f===pt&&(e===A?k._tr_align(s):e!==$&&(k._tr_stored_block(s,0,0,!1),e===j&&(r(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(t),0===t.avail_out))return s.last_flush=-1,F}return e!==L?F:s.wrap<=0?O:(2===s.wrap?(l(s,255&t.adler),l(s,t.adler>>8&255),l(s,t.adler>>16&255),l(s,t.adler>>24&255),l(s,255&t.total_in),l(s,t.total_in>>8&255),l(s,t.total_in>>16&255),l(s,t.total_in>>24&255)):(c(s,t.adler>>>16),c(s,65535&t.adler)),a(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?F:O)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==ot&&e!==rt&&e!==at&&e!==st&&e!==lt&&e!==ct&&e!==dt?i(t,D):(t.state=null,e===ct?i(t,I):F):D},n.deflateSetDictionary=function(t,e){var n,i,o,a,s,l,c,d,u=e.length;if(!t||!t.state)return D;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==ot||n.lookahead)return D;for(1===a&&(t.adler=C(t.adler,e,u,0)),n.wrap=0,u>=n.w_size&&(0===a&&(r(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new S.Buf8(n.w_size),S.arraySet(d,e,u-n.w_size,n.w_size,0),e=d,u=n.w_size),s=t.avail_in,l=t.next_in,c=t.input,t.avail_in=u,t.next_in=0,t.input=e,p(n);n.lookahead>=tt;){i=n.strstart,o=n.lookahead-(tt-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+tt-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=tt-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=tt-1,n.match_available=0,t.next_in=l,t.input=c,t.avail_in=s,n.wrap=a,F},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(t,e,n){e.exports=function(t,e){var n,i,o,r,a,s,l,c,d,u,p,f,h,m,g,v,b,y,w,x,_,S,k,C,P;n=t.state,i=t.next_in,C=t.input,o=i+(t.avail_in-5),r=t.next_out,P=t.output,a=r-(e-t.avail_out),s=r+(t.avail_out-257),l=n.dmax,c=n.wsize,d=n.whave,u=n.wnext,p=n.window,f=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,b=(1<<n.distbits)-1;t:do{h<15&&(f+=C[i++]<<h,h+=8,f+=C[i++]<<h,h+=8),y=m[f&v];e:for(;;){if(f>>>=w=y>>>24,h-=w,0==(w=y>>>16&255))P[r++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=m[(65535&y)+(f&(1<<w)-1)];continue e}if(32&w){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&y,(w&=15)&&(h<w&&(f+=C[i++]<<h,h+=8),x+=f&(1<<w)-1,f>>>=w,h-=w),h<15&&(f+=C[i++]<<h,h+=8,f+=C[i++]<<h,h+=8),y=g[f&b];n:for(;;){if(f>>>=w=y>>>24,h-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=g[(65535&y)+(f&(1<<w)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(_=65535&y,h<(w&=15)&&(f+=C[i++]<<h,(h+=8)<w&&(f+=C[i++]<<h,h+=8)),(_+=f&(1<<w)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=w,h-=w,_>(w=r-a)){if((w=_-w)>d&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,k=p,0===u){if(S+=c-w,w<x){x-=w;do{P[r++]=p[S++]}while(--w);S=r-_,k=P}}else if(u<w){if(S+=c+u-w,(w-=u)<x){x-=w;do{P[r++]=p[S++]}while(--w);if(S=0,u<x){x-=w=u;do{P[r++]=p[S++]}while(--w);S=r-_,k=P}}}else if(S+=u-w,w<x){x-=w;do{P[r++]=p[S++]}while(--w);S=r-_,k=P}for(;x>2;)P[r++]=k[S++],P[r++]=k[S++],P[r++]=k[S++],x-=3;x&&(P[r++]=k[S++],x>1&&(P[r++]=k[S++]))}else{S=r-_;do{P[r++]=P[S++],P[r++]=P[S++],P[r++]=P[S++],x-=3}while(x>2);x&&(P[r++]=P[S++],x>1&&(P[r++]=P[S++]))}break}}break}}while(i<o&&r<s);i-=x=h>>3,f&=(1<<(h-=x<<3))-1,t.next_in=i,t.next_out=r,t.avail_in=i<o?o-i+5:5-(i-o),t.avail_out=r<s?s-r+257:257-(r-s),n.hold=f,n.bits=h}},{}],70:[function(t,e,n){function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=$,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new f.Buf32(dt),e.distcode=e.distdyn=new f.Buf32(ut),e.sane=1,e.back=-1,k):T}function a(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):T}function s(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?T:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,a(t))):T}function l(t,e){var n,i;return t?(i=new o,t.state=i,i.window=null,(n=s(t,e))!==k&&(t.state=null),n):T}function c(t){if(ft){var e;for(u=new f.Buf32(512),p=new f.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(v(y,t.lens,0,288,u,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;v(w,t.lens,0,32,p,0,t.work,{bits:5}),ft=!1}t.lencode=u,t.lenbits=9,t.distcode=p,t.distbits=5}function d(t,e,n,i){var o,r=t.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new f.Buf8(r.wsize)),i>=r.wsize?(f.arraySet(r.window,e,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((o=r.wsize-r.wnext)>i&&(o=i),f.arraySet(r.window,e,n-i,o,r.wnext),(i-=o)?(f.arraySet(r.window,e,n-i,i,0),r.wnext=i,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}var u,p,f=t("../utils/common"),h=t("./adler32"),m=t("./crc32"),g=t("./inffast"),v=t("./inftrees"),b=0,y=1,w=2,x=4,_=5,S=6,k=0,C=1,P=2,T=-2,E=-3,A=-4,j=-5,L=8,$=1,F=2,O=3,D=4,I=5,N=6,B=7,M=8,R=9,U=10,z=11,H=12,W=13,q=14,V=15,G=16,Y=17,K=18,J=19,X=20,Q=21,Z=22,tt=23,et=24,nt=25,it=26,ot=27,rt=28,at=29,st=30,lt=31,ct=32,dt=852,ut=592,pt=15,ft=!0;n.inflateReset=a,n.inflateReset2=s,n.inflateResetKeep=r,n.inflateInit=function(t){return l(t,pt)},n.inflateInit2=l,n.inflate=function(t,e){var n,o,r,a,s,l,u,p,dt,ut,pt,ft,ht,mt,gt,vt,bt,yt,wt,xt,_t,St,kt,Ct,Pt=0,Tt=new f.Buf8(4),Et=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return T;(n=t.state).mode===H&&(n.mode=W),s=t.next_out,r=t.output,u=t.avail_out,a=t.next_in,o=t.input,l=t.avail_in,p=n.hold,dt=n.bits,ut=l,pt=u,St=k;t:for(;;)switch(n.mode){case $:if(0===n.wrap){n.mode=W;break}for(;dt<16;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(2&n.wrap&&35615===p){n.check=0,Tt[0]=255&p,Tt[1]=p>>>8&255,n.check=m(n.check,Tt,2,0),p=0,dt=0,n.mode=F;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",n.mode=st;break}if((15&p)!==L){t.msg="unknown compression method",n.mode=st;break}if(dt-=4,_t=8+(15&(p>>>=4)),0===n.wbits)n.wbits=_t;else if(_t>n.wbits){t.msg="invalid window size",n.mode=st;break}n.dmax=1<<_t,t.adler=n.check=1,n.mode=512&p?U:H,p=0,dt=0;break;case F:for(;dt<16;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(n.flags=p,(255&n.flags)!==L){t.msg="unknown compression method",n.mode=st;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=st;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,n.check=m(n.check,Tt,2,0)),p=0,dt=0,n.mode=O;case O:for(;dt<32;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.head&&(n.head.time=p),512&n.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,Tt[2]=p>>>16&255,Tt[3]=p>>>24&255,n.check=m(n.check,Tt,4,0)),p=0,dt=0,n.mode=D;case D:for(;dt<16;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,n.check=m(n.check,Tt,2,0)),p=0,dt=0,n.mode=I;case I:if(1024&n.flags){for(;dt<16;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(Tt[0]=255&p,Tt[1]=p>>>8&255,n.check=m(n.check,Tt,2,0)),p=0,dt=0}else n.head&&(n.head.extra=null);n.mode=N;case N:if(1024&n.flags&&((ft=n.length)>l&&(ft=l),ft&&(n.head&&(_t=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,o,a,ft,_t)),512&n.flags&&(n.check=m(n.check,o,ft,a)),l-=ft,a+=ft,n.length-=ft),n.length))break t;n.length=0,n.mode=B;case B:if(2048&n.flags){if(0===l)break t;ft=0;do{_t=o[a+ft++],n.head&&_t&&n.length<65536&&(n.head.name+=String.fromCharCode(_t))}while(_t&&ft<l);if(512&n.flags&&(n.check=m(n.check,o,ft,a)),l-=ft,a+=ft,_t)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=M;case M:if(4096&n.flags){if(0===l)break t;ft=0;do{_t=o[a+ft++],n.head&&_t&&n.length<65536&&(n.head.comment+=String.fromCharCode(_t))}while(_t&&ft<l);if(512&n.flags&&(n.check=m(n.check,o,ft,a)),l-=ft,a+=ft,_t)break t}else n.head&&(n.head.comment=null);n.mode=R;case R:if(512&n.flags){for(;dt<16;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(p!==(65535&n.check)){t.msg="header crc mismatch",n.mode=st;break}p=0,dt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=H;break;case U:for(;dt<32;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}t.adler=n.check=i(p),p=0,dt=0,n.mode=z;case z:if(0===n.havedict)return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=p,n.bits=dt,P;t.adler=n.check=1,n.mode=H;case H:if(e===_||e===S)break t;case W:if(n.last){p>>>=7&dt,dt-=7&dt,n.mode=ot;break}for(;dt<3;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}switch(n.last=1&p,dt-=1,3&(p>>>=1)){case 0:n.mode=q;break;case 1:if(c(n),n.mode=X,e===S){p>>>=2,dt-=2;break t}break;case 2:n.mode=Y;break;case 3:t.msg="invalid block type",n.mode=st}p>>>=2,dt-=2;break;case q:for(p>>>=7&dt,dt-=7&dt;dt<32;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if((65535&p)!=(p>>>16^65535)){t.msg="invalid stored block lengths",n.mode=st;break}if(n.length=65535&p,p=0,dt=0,n.mode=V,e===S)break t;case V:n.mode=G;case G:if(ft=n.length){if(ft>l&&(ft=l),ft>u&&(ft=u),0===ft)break t;f.arraySet(r,o,a,ft,s),l-=ft,a+=ft,u-=ft,s+=ft,n.length-=ft;break}n.mode=H;break;case Y:for(;dt<14;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(n.nlen=257+(31&p),p>>>=5,dt-=5,n.ndist=1+(31&p),p>>>=5,dt-=5,n.ncode=4+(15&p),p>>>=4,dt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=st;break}n.have=0,n.mode=K;case K:for(;n.have<n.ncode;){for(;dt<3;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.lens[Et[n.have++]]=7&p,p>>>=3,dt-=3}for(;n.have<19;)n.lens[Et[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,kt={bits:n.lenbits},St=v(b,n.lens,0,19,n.lencode,0,n.work,kt),n.lenbits=kt.bits,St){t.msg="invalid code lengths set",n.mode=st;break}n.have=0,n.mode=J;case J:for(;n.have<n.nlen+n.ndist;){for(;vt=(Pt=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,bt=65535&Pt,!((gt=Pt>>>24)<=dt);){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(bt<16)p>>>=gt,dt-=gt,n.lens[n.have++]=bt;else{if(16===bt){for(Ct=gt+2;dt<Ct;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(p>>>=gt,dt-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=st;break}_t=n.lens[n.have-1],ft=3+(3&p),p>>>=2,dt-=2}else if(17===bt){for(Ct=gt+3;dt<Ct;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}dt-=gt,_t=0,ft=3+(7&(p>>>=gt)),p>>>=3,dt-=3}else{for(Ct=gt+7;dt<Ct;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}dt-=gt,_t=0,ft=11+(127&(p>>>=gt)),p>>>=7,dt-=7}if(n.have+ft>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=st;break}for(;ft--;)n.lens[n.have++]=_t}}if(n.mode===st)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=st;break}if(n.lenbits=9,kt={bits:n.lenbits},St=v(y,n.lens,0,n.nlen,n.lencode,0,n.work,kt),n.lenbits=kt.bits,St){t.msg="invalid literal/lengths set",n.mode=st;break}if(n.distbits=6,n.distcode=n.distdyn,kt={bits:n.distbits},St=v(w,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,kt),n.distbits=kt.bits,St){t.msg="invalid distances set",n.mode=st;break}if(n.mode=X,e===S)break t;case X:n.mode=Q;case Q:if(l>=6&&u>=258){t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=p,n.bits=dt,g(t,pt),s=t.next_out,r=t.output,u=t.avail_out,a=t.next_in,o=t.input,l=t.avail_in,p=n.hold,dt=n.bits,n.mode===H&&(n.back=-1);break}for(n.back=0;vt=(Pt=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,bt=65535&Pt,!((gt=Pt>>>24)<=dt);){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(vt&&0==(240&vt)){for(yt=gt,wt=vt,xt=bt;vt=(Pt=n.lencode[xt+((p&(1<<yt+wt)-1)>>yt)])>>>16&255,bt=65535&Pt,!(yt+(gt=Pt>>>24)<=dt);){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}p>>>=yt,dt-=yt,n.back+=yt}if(p>>>=gt,dt-=gt,n.back+=gt,n.length=bt,0===vt){n.mode=it;break}if(32&vt){n.back=-1,n.mode=H;break}if(64&vt){t.msg="invalid literal/length code",n.mode=st;break}n.extra=15&vt,n.mode=Z;case Z:if(n.extra){for(Ct=n.extra;dt<Ct;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,dt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=tt;case tt:for(;vt=(Pt=n.distcode[p&(1<<n.distbits)-1])>>>16&255,bt=65535&Pt,!((gt=Pt>>>24)<=dt);){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(0==(240&vt)){for(yt=gt,wt=vt,xt=bt;vt=(Pt=n.distcode[xt+((p&(1<<yt+wt)-1)>>yt)])>>>16&255,bt=65535&Pt,!(yt+(gt=Pt>>>24)<=dt);){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}p>>>=yt,dt-=yt,n.back+=yt}if(p>>>=gt,dt-=gt,n.back+=gt,64&vt){t.msg="invalid distance code",n.mode=st;break}n.offset=bt,n.extra=15&vt,n.mode=et;case et:if(n.extra){for(Ct=n.extra;dt<Ct;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,dt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=st;break}n.mode=nt;case nt:if(0===u)break t;if(ft=pt-u,n.offset>ft){if((ft=n.offset-ft)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=st;break}ft>n.wnext?(ft-=n.wnext,ht=n.wsize-ft):ht=n.wnext-ft,ft>n.length&&(ft=n.length),mt=n.window}else mt=r,ht=s-n.offset,ft=n.length;ft>u&&(ft=u),u-=ft,n.length-=ft;do{r[s++]=mt[ht++]}while(--ft);0===n.length&&(n.mode=Q);break;case it:if(0===u)break t;r[s++]=n.length,u--,n.mode=Q;break;case ot:if(n.wrap){for(;dt<32;){if(0===l)break t;l--,p|=o[a++]<<dt,dt+=8}if(pt-=u,t.total_out+=pt,n.total+=pt,pt&&(t.adler=n.check=n.flags?m(n.check,r,pt,s-pt):h(n.check,r,pt,s-pt)),pt=u,(n.flags?p:i(p))!==n.check){t.msg="incorrect data check",n.mode=st;break}p=0,dt=0}n.mode=rt;case rt:if(n.wrap&&n.flags){for(;dt<32;){if(0===l)break t;l--,p+=o[a++]<<dt,dt+=8}if(p!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=st;break}p=0,dt=0}n.mode=at;case at:St=C;break t;case st:St=E;break t;case lt:return A;case ct:default:return T}return t.next_out=s,t.avail_out=u,t.next_in=a,t.avail_in=l,n.hold=p,n.bits=dt,(n.wsize||pt!==t.avail_out&&n.mode<st&&(n.mode<ot||e!==x))&&d(t,t.output,t.next_out,pt-t.avail_out)?(n.mode=lt,A):(ut-=t.avail_in,pt-=t.avail_out,t.total_in+=ut,t.total_out+=pt,n.total+=pt,n.wrap&&pt&&(t.adler=n.check=n.flags?m(n.check,r,pt,t.next_out-pt):h(n.check,r,pt,t.next_out-pt)),t.data_type=n.bits+(n.last?64:0)+(n.mode===H?128:0)+(n.mode===X||n.mode===V?256:0),(0===ut&&0===pt||e===x)&&St===k&&(St=j),St)},n.inflateEnd=function(t){if(!t||!t.state)return T;var e=t.state;return e.window&&(e.window=null),t.state=null,k},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?T:(n.head=e,e.done=!1,k):T},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==z?T:n.mode===z&&h(1,e,i,0)!==n.check?E:d(t,e,i,i)?(n.mode=lt,A):(n.havedict=1,k):T},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,n){var i=t("../utils/common"),o=15,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,c,d,u,p,f){var h,m,g,v,b,y,w,x,_,S=f.bits,k=0,C=0,P=0,T=0,E=0,A=0,j=0,L=0,$=0,F=0,O=null,D=0,I=new i.Buf16(16),N=new i.Buf16(16),B=null,M=0;for(k=0;k<=o;k++)I[k]=0;for(C=0;C<c;C++)I[e[n+C]]++;for(E=S,T=o;T>=1&&0===I[T];T--);if(E>T&&(E=T),0===T)return d[u++]=20971520,d[u++]=20971520,f.bits=1,0;for(P=1;P<T&&0===I[P];P++);for(E<P&&(E=P),L=1,k=1;k<=o;k++)if(L<<=1,(L-=I[k])<0)return-1;if(L>0&&(0===t||1!==T))return-1;for(N[1]=0,k=1;k<o;k++)N[k+1]=N[k]+I[k];for(C=0;C<c;C++)0!==e[n+C]&&(p[N[e[n+C]]++]=C);if(0===t?(O=B=p,y=19):1===t?(O=r,D-=257,B=a,M-=257,y=256):(O=s,B=l,y=-1),F=0,C=0,k=P,b=u,A=E,j=0,g=-1,v=($=1<<E)-1,1===t&&$>852||2===t&&$>592)return 1;for(;;){w=k-j,p[C]<y?(x=0,_=p[C]):p[C]>y?(x=B[M+p[C]],_=O[D+p[C]]):(x=96,_=0),h=1<<k-j,P=m=1<<A;do{d[b+(F>>j)+(m-=h)]=w<<24|x<<16|_|0}while(0!==m);for(h=1<<k-1;F&h;)h>>=1;if(0!==h?(F&=h-1,F+=h):F=0,C++,0==--I[k]){if(k===T)break;k=e[n+p[C]]}if(k>E&&(F&v)!==g){for(0===j&&(j=E),b+=P,L=1<<(A=k-j);A+j<T&&!((L-=I[A+j])<=0);)A++,L<<=1;if($+=1<<A,1===t&&$>852||2===t&&$>592)return 1;d[g=F&v]=E<<24|A<<16|b-u|0}}return 0!==F&&(d[b+F]=k-j<<24|64<<16|0),f.bits=E,0}},{"../utils/common":62}],72:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,n){function i(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function r(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function a(t){return t<256?Y[t]:Y[256+(t>>>7)]}function s(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function l(t,e,n){t.bi_valid>I-n?(t.bi_buf|=e<<t.bi_valid&65535,s(t,t.bi_buf),t.bi_buf=e>>I-t.bi_valid,t.bi_valid+=n-I):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function c(t,e,n){l(t,n[2*e],n[2*e+1])}function d(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function u(t,e,n){var i,o,r=new Array(D+1),a=0;for(i=1;i<=D;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=e;o++){var s=t[2*o+1];0!==s&&(t[2*o]=d(r[s]++,s))}}function p(t){var e;for(e=0;e<L;e++)t.dyn_ltree[2*e]=0;for(e=0;e<$;e++)t.dyn_dtree[2*e]=0;for(e=0;e<F;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*B]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function f(t){t.bi_valid>8?s(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function h(t,e,n,i){var o=2*e,r=2*n;return t[o]<t[r]||t[o]===t[r]&&i[e]<=i[n]}function m(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&h(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!h(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function g(t,e,n){var i,o,r,s,d=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*d]<<8|t.pending_buf[t.d_buf+2*d+1],o=t.pending_buf[t.l_buf+d],d++,0===i?c(t,o,e):(c(t,(r=K[o])+j+1,e),0!==(s=z[r])&&l(t,o-=J[r],s),c(t,r=a(--i),n),0!==(s=H[r])&&l(t,i-=X[r],s))}while(d<t.last_lit);c(t,B,e)}function v(t,e){var n,i,o,r=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=O,n=0;n<l;n++)0!==r[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):r[2*n+1]=0;for(;t.heap_len<2;)r[2*(o=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[o]=0,t.opt_len--,s&&(t.static_len-=a[2*o+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)m(t,r,n);o=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],m(t,r,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,r[2*o]=r[2*n]+r[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,r[2*n+1]=r[2*i+1]=o,t.heap[1]=o++,m(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,o,r,a,s,l=e.dyn_tree,c=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,h=e.stat_desc.max_length,m=0;for(r=0;r<=D;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<O;n++)(r=l[2*l[2*(i=t.heap[n])+1]+1]+1)>h&&(r=h,m++),l[2*i+1]=r,i>c||(t.bl_count[r]++,a=0,i>=f&&(a=p[i-f]),s=l[2*i],t.opt_len+=s*(r+a),u&&(t.static_len+=s*(d[2*i+1]+a)));if(0!==m){do{for(r=h-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[h]--,m-=2}while(m>0);for(r=h;0!==r;r--)for(i=t.bl_count[r];0!==i;)(o=t.heap[--n])>c||(l[2*o+1]!==r&&(t.opt_len+=(r-l[2*o+1])*l[2*o],l[2*o+1]=r),i--)}}(t,e),u(r,c,t.bl_count)}function b(t,e,n){var i,o,r=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=a,a=e[2*(i+1)+1],++s<l&&o===a||(s<c?t.bl_tree[2*o]+=s:0!==o?(o!==r&&t.bl_tree[2*o]++,t.bl_tree[2*M]++):s<=10?t.bl_tree[2*R]++:t.bl_tree[2*U]++,s=0,r=o,0===a?(l=138,c=3):o===a?(l=6,c=3):(l=7,c=4))}function y(t,e,n){var i,o,r=-1,a=e[1],s=0,d=7,u=4;for(0===a&&(d=138,u=3),i=0;i<=n;i++)if(o=a,a=e[2*(i+1)+1],!(++s<d&&o===a)){if(s<u)do{c(t,o,t.bl_tree)}while(0!=--s);else 0!==o?(o!==r&&(c(t,o,t.bl_tree),s--),c(t,M,t.bl_tree),l(t,s-3,2)):s<=10?(c(t,R,t.bl_tree),l(t,s-3,3)):(c(t,U,t.bl_tree),l(t,s-11,7));s=0,r=o,0===a?(d=138,u=3):o===a?(d=6,u=3):(d=7,u=4)}}function w(t,e,n,i){l(t,(P<<1)+(i?1:0),3),function(t,e,n,i){f(t),i&&(s(t,n),s(t,~n)),x.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}var x=t("../utils/common"),_=4,S=0,k=1,C=2,P=0,T=1,E=2,A=29,j=256,L=j+1+A,$=30,F=19,O=2*L+1,D=15,I=16,N=7,B=256,M=16,R=17,U=18,z=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],H=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(2*(L+2));i(V);var G=new Array(2*$);i(G);var Y=new Array(512);i(Y);var K=new Array(256);i(K);var J=new Array(A);i(J);var X=new Array($);i(X);var Q,Z,tt,et=!1;n._tr_init=function(t){et||(function(){var t,e,n,i,r,a=new Array(D+1);for(n=0,i=0;i<A-1;i++)for(J[i]=n,t=0;t<1<<z[i];t++)K[n++]=i;for(K[n-1]=i,r=0,i=0;i<16;i++)for(X[i]=r,t=0;t<1<<H[i];t++)Y[r++]=i;for(r>>=7;i<$;i++)for(X[i]=r<<7,t=0;t<1<<H[i]-7;t++)Y[256+r++]=i;for(e=0;e<=D;e++)a[e]=0;for(t=0;t<=143;)V[2*t+1]=8,t++,a[8]++;for(;t<=255;)V[2*t+1]=9,t++,a[9]++;for(;t<=279;)V[2*t+1]=7,t++,a[7]++;for(;t<=287;)V[2*t+1]=8,t++,a[8]++;for(u(V,L+1,a),t=0;t<$;t++)G[2*t+1]=5,G[2*t]=d(t,5);Q=new o(V,z,j+1,L,D),Z=new o(G,H,0,$,D),tt=new o(new Array(0),W,0,F,N)}(),et=!0),t.l_desc=new r(t.dyn_ltree,Q),t.d_desc=new r(t.dyn_dtree,Z),t.bl_desc=new r(t.bl_tree,tt),t.bi_buf=0,t.bi_valid=0,p(t)},n._tr_stored_block=w,n._tr_flush_block=function(t,e,n,i){var o,r,a=0;t.level>0?(t.strm.data_type===C&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return S;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return k;for(e=32;e<j;e++)if(0!==t.dyn_ltree[2*e])return k;return S}(t)),v(t,t.l_desc),v(t,t.d_desc),a=function(t){var e;for(b(t,t.dyn_ltree,t.l_desc.max_code),b(t,t.dyn_dtree,t.d_desc.max_code),v(t,t.bl_desc),e=F-1;e>=3&&0===t.bl_tree[2*q[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),o=t.opt_len+3+7>>>3,(r=t.static_len+3+7>>>3)<=o&&(o=r)):o=r=n+5,n+4<=o&&-1!==e?w(t,e,n,i):t.strategy===_||r===o?(l(t,(T<<1)+(i?1:0),3),g(t,V,G)):(l(t,(E<<1)+(i?1:0),3),function(t,e,n,i){var o;for(l(t,e-257,5),l(t,n-1,5),l(t,i-4,4),o=0;o<i;o++)l(t,t.bl_tree[2*q[o]+1],3);y(t,t.dyn_ltree,e-1),y(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),g(t,t.dyn_ltree,t.dyn_dtree)),p(t),i&&f(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(K[n]+j+1)]++,t.dyn_dtree[2*a(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){l(t,T<<1,3),c(t,B,V),function(t){16===t.bi_valid?(s(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},{"../utils/common":62}],74:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)},"object"==l(e)&&void 0!==t?t.exports=s():(r=[],void 0===(a="function"==typeof(o=s)?o.apply(e,r):o)||(t.exports=a))}).call(this,n(365).Buffer,n(48))},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=c(t),a=i[0],s=i[1],l=new r(function(t,e,n){return 3*(e+n)/4-n}(0,a,s)),d=0,u=s>0?a-4:a;for(n=0;n<u;n+=4)e=o[t.charCodeAt(n)]<<18|o[t.charCodeAt(n+1)]<<12|o[t.charCodeAt(n+2)]<<6|o[t.charCodeAt(n+3)],l[d++]=e>>16&255,l[d++]=e>>8&255,l[d++]=255&e;2===s&&(e=o[t.charCodeAt(n)]<<2|o[t.charCodeAt(n+1)]>>4,l[d++]=255&e);1===s&&(e=o[t.charCodeAt(n)]<<10|o[t.charCodeAt(n+1)]<<4|o[t.charCodeAt(n+2)]>>2,l[d++]=e>>8&255,l[d++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,r=[],a=0,s=n-o;a<s;a+=16383)r.push(d(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],r.push(i[e>>2]+i[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],r.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return r.join("")};for(var i=[],o=[],r="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)i[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function d(t,e,n){for(var o,r,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(i[(r=o)>>18&63]+i[r>>12&63]+i[r>>6&63]+i[63&r]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,i,o){var r,a,s=8*o-i-1,l=(1<<s)-1,c=l>>1,d=-7,u=n?o-1:0,p=n?-1:1,f=t[e+u];for(u+=p,r=f&(1<<-d)-1,f>>=-d,d+=s;d>0;r=256*r+t[e+u],u+=p,d-=8);for(a=r&(1<<-d)-1,r>>=-d,d+=i;d>0;a=256*a+t[e+u],u+=p,d-=8);if(0===r)r=1-c;else{if(r===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,i),r-=c}return(f?-1:1)*a*Math.pow(2,r-i)},e.write=function(t,e,n,i,o,r){var a,s,l,c=8*r-o-1,d=(1<<c)-1,u=d>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:r-1,h=i?1:-1,m=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=d):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+u>=1?p/l:p*Math.pow(2,1-u))*l>=2&&(a++,l/=2),a+u>=d?(s=0,a=d):a+u>=1?(s=(e*l-1)*Math.pow(2,o),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,o),a=0));o>=8;t[n+f]=255&s,f+=h,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+f]=255&a,f+=h,a/=256,c-=8);t[n+f-h]|=128*m}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){if(r)return r(a,!0);throw new Error("Cannot find module '"+a+"'")}var l=n[a]={exports:{}};e[a][0].call(l.exports,(function(t){var n=e[a][1][t];return o(n||t)}),l,l.exports,t,e,n,i)}return n[a].exports}for(var r=!1,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e){function n(){try{return new window.XMLHttpRequest}catch(t){}}var i={_getBinaryFromXHR:function(t){return t.response||t.responseText}},o=window.ActiveXObject?function(){return n()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:n;i.getBinaryContent=function(t,e){try{var n=o();n.open("GET",t,!0),"responseType"in n&&(n.responseType="arraybuffer"),n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.onreadystatechange=function(){var o,r;if(4===n.readyState)if(200===n.status||0===n.status){o=null,r=null;try{o=i._getBinaryFromXHR(n)}catch(t){r=new Error(t)}e(r,o)}else e(new Error("Ajax error for "+t+" : "+this.status+" "+this.statusText),null)},n.send()}catch(t){e(new Error(t),null)}},e.exports=i},{}]},{},[1])(1)},"object"==a(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)},function(t,e,n){"use strict";(function(n){var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[],void 0===(r="function"==typeof(i=function(){function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==("undefined"==typeof window?"undefined":a(window))&&window.window===window?window:"object"==("undefined"==typeof self?"undefined":a(self))&&self.self===self?self:"object"==(void 0===n?"undefined":a(n))&&n.global===n?n:void 0,s=r.saveAs||("object"!=("undefined"==typeof window?"undefined":a(window))||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,a){var s=r.URL||r.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?o(l):i(l.href)?e(t,n,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,r){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=(void 0===e?"undefined":a(e))&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,r),n);else if(i(t))e(t,n,r);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){o(s)}))}}:function(t,n,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&l)&&"object"==("undefined"==typeof FileReader?"undefined":a(FileReader))){var d=new FileReader;d.onloadend=function(){var t=d.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},d.readAsDataURL(t)}else{var u=r.URL||r.webkitURL,p=u.createObjectURL(t);o?o.location=p:location.href=p,o=null,setTimeout((function(){u.revokeObjectURL(p)}),4e4)}});r.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,o):i)||(t.exports=r)}).call(this,n(48))},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[n(135)],void 0===(r="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e=0,n=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,o,r;for(r=0;null!=(o=n[r]);r++)try{(i=t._data(o,"events"))&&i.remove&&t(o).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var o,r,a,s={},l=e.split(".")[0],c=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][c.toLowerCase()]=function(e){return!!t.data(e,c)},t[l]=t[l]||{},o=t[l][e],r=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,(function(e,i){return t.isFunction(i)?void(s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function o(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,r=this._superApply;return this._super=t,this._superApply=o,e=i.apply(this,arguments),this._super=n,this._superApply=r,e}}()):void(s[e]=i)})),r.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},s,{constructor:r,namespace:l,widgetName:e,widgetFullName:c}),o?(t.each(o._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,r,n._proto)})),delete o._childConstructors):n._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,o,r=n.call(arguments,1),a=0,s=r.length;s>a;a++)for(i in r[a])o=r[a][i],r[a].hasOwnProperty(i)&&void 0!==o&&(e[i]=t.isPlainObject(o)?t.isPlainObject(e[i])?t.widget.extend({},e[i],o):t.widget.extend({},o):o);return e},t.widget.bridge=function(e,i){var o=i.prototype.widgetFullName||e;t.fn[e]=function(r){var a="string"==typeof r,s=n.call(arguments,1),l=this;return a?this.length||"instance"!==r?this.each((function(){var n,i=t.data(this,o);return"instance"===r?(l=i,!1):i?t.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):l=void 0:(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each((function(){var e=t.data(this,o);e?(e.option(r||{}),e._init&&e._init()):t.data(this,o,new i(r,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(n,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,o,r,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(o=a[e]=t.widget.extend({},this.options[e]),r=0;i.length-1>r;r++)o[i[r]]=o[i[r]]||{},o=o[i[r]];if(e=i.pop(),1===arguments.length)return void 0===o[e]?null:o[e];o[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,o;for(n in e)o=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&o&&o.length&&(i=t(o.get()),this._removeClass(o,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,r){var a,s;for(s=0;n.length>s;s++)a=o.classesElementLookup[n[s]]||t(),a=e.add?t(t.unique(a.get().concat(e.element.get()))):t(a.not(e.element).get()),o.classesElementLookup[n[s]]=a,i.push(n[s]),r&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],o=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,o){-1!==t.inArray(e.target,o)&&(n.classesElementLookup[i]=t(o.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var o="string"==typeof t||null===t,r={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i};return r.element.toggleClass(this._classes(r),i),this},_on:function(e,n,i){var o,r=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=o=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,o=this.widget()),t.each(i,(function(i,a){function s(){return e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof a?r[a]:a).apply(r,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+r.eventNamespace,d=l[2];d?o.on(c,d,s):n.on(c,s)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var o,r,a=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(o in r)o in n||(n[o]=r[o]);return this.element.trigger(n,i),!(t.isFunction(a)&&!1===a.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,o,r){"string"==typeof o&&(o={effect:o});var a,s=o?!0===o||"number"==typeof o?n:o.effect||n:e;"number"==typeof(o=o||{})&&(o={duration:o}),a=!t.isEmptyObject(o),o.complete=r,o.delay&&i.delay(o.delay),a&&t.effects&&t.effects.effect[s]?i[e](o):s!==e&&i[s]?i[s](o.duration,o.easing,r):i.queue((function(n){t(this)[e](),r&&r.call(i[0]),n()}))}})),t.widget,function(){function e(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var o,r=Math.max,a=Math.abs,s=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,u=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return t("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),e===(n=r.offsetWidth)&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),o=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:o,offset:i||o?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=t.extend({},o);var u,f,h,m,g,v,b=t(o.of),y=t.position.getWithinInfo(o.within),w=t.position.getScrollInfo(y),x=(o.collision||"flip").split(" "),_={};return v=i(b),b[0].preventDefault&&(o.at="left top"),f=v.width,h=v.height,m=v.offset,g=t.extend({},m),t.each(["my","at"],(function(){var t,e,n=(o[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):l.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=l.test(n[1])?n[1]:"center",t=c.exec(n[0]),e=c.exec(n[1]),_[this]=[t?t[0]:0,e?e[0]:0],o[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]})),1===x.length&&(x[1]=x[0]),"right"===o.at[0]?g.left+=f:"center"===o.at[0]&&(g.left+=f/2),"bottom"===o.at[1]?g.top+=h:"center"===o.at[1]&&(g.top+=h/2),u=e(_.at,f,h),g.left+=u[0],g.top+=u[1],this.each((function(){var i,s,l=t(this),c=l.outerWidth(),d=l.outerHeight(),p=n(this,"marginLeft"),v=n(this,"marginTop"),S=c+p+n(this,"marginRight")+w.width,k=d+v+n(this,"marginBottom")+w.height,C=t.extend({},g),P=e(_.my,l.outerWidth(),l.outerHeight());"right"===o.my[0]?C.left-=c:"center"===o.my[0]&&(C.left-=c/2),"bottom"===o.my[1]?C.top-=d:"center"===o.my[1]&&(C.top-=d/2),C.left+=P[0],C.top+=P[1],i={marginLeft:p,marginTop:v},t.each(["left","top"],(function(e,n){t.ui.position[x[e]]&&t.ui.position[x[e]][n](C,{targetWidth:f,targetHeight:h,elemWidth:c,elemHeight:d,collisionPosition:i,collisionWidth:S,collisionHeight:k,offset:[u[0]+P[0],u[1]+P[1]],my:o.my,at:o.at,within:y,elem:l})})),o.using&&(s=function(t){var e=m.left-C.left,n=e+f-c,i=m.top-C.top,s=i+h-d,u={target:{element:b,left:m.left,top:m.top,width:f,height:h},element:{element:l,left:C.left,top:C.top,width:c,height:d},horizontal:0>n?"left":e>0?"right":"center",vertical:0>s?"top":i>0?"bottom":"middle"};c>f&&f>a(e+n)&&(u.horizontal="center"),d>h&&h>a(i+s)&&(u.vertical="middle"),u.important=r(a(e),a(n))>r(a(i),a(s))?"horizontal":"vertical",o.using.call(this,t,u)}),l.offset(t.extend(C,{using:s}))}))},t.ui.position={fit:{left:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,s=t.left-e.collisionPosition.marginLeft,l=o-s,c=s+e.collisionWidth-a-o;e.collisionWidth>a?l>0&&0>=c?(n=t.left+l+e.collisionWidth-a-o,t.left+=l-n):t.left=c>0&&0>=l?o:l>c?o+a-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-s,t.left)},top:function(t,e){var n,i=e.within,o=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,s=t.top-e.collisionPosition.marginTop,l=o-s,c=s+e.collisionHeight-a-o;e.collisionHeight>a?l>0&&0>=c?(n=t.top+l+e.collisionHeight-a-o,t.top+=l-n):t.top=c>0&&0>=l?o:l>c?o+a-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,o=e.within,r=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,d=c-l,u=c+e.collisionWidth-s-l,p="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,f="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,h=-2*e.offset[0];0>d?(0>(n=t.left+p+f+h+e.collisionWidth-s-r)||a(d)>n)&&(t.left+=p+f+h):u>0&&((i=t.left-e.collisionPosition.marginLeft+p+f+h-l)>0||u>a(i))&&(t.left+=p+f+h)},top:function(t,e){var n,i,o=e.within,r=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,d=c-l,u=c+e.collisionHeight-s-l,p="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,h=-2*e.offset[1];0>d?(0>(i=t.top+p+f+h+e.collisionHeight-s-r)||a(d)>i)&&(t.top+=p+f+h):u>0&&((n=t.top-e.collisionPosition.marginTop+p+f+h-l)>0||u>a(n))&&(t.top+=p+f+h)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,o=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&o.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&r.length?r:t(this[0].ownerDocument||document)},t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var i=!1;t(document).on("mouseup",(function(){i=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){return!0===t.data(n.target,e.widgetName+".preventClickEvent")?(t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,o=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(o&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&e+n>t},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,o=!1,r=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){return t.data(this,r.widgetName+"-item")===r?(i=t(this),!1):void 0})),t.data(e.target,r.widgetName+"-item")===r&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(o=!0)})),!o)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var o,r,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(r)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,o,r,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(o=(i=this.items[n]).item[0],(r=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===r?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,o=this.placeholder.offset(),r=this.options.axis,a={};r&&"x"!==r||(a.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(a.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,o=i+this.helperProportions.height,r=t.left,a=r+t.width,s=t.top,l=s+t.height,c=this.offset.click.top,d=this.offset.click.left,u="x"===this.options.axis||i+c>s&&l>i+c,p="y"===this.options.axis||e+d>r&&a>e+d,f=u&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?f:e+this.helperProportions.width/2>r&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!o)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,o,r,a,s=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=(r=t(c[i],this.document[0])).length-1;o>=0;o--)(a=t.data(r[o],this.widgetFullName))&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;e.length>n;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,o,r,a,s,l,c,d=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--)for(i=(o=t(p[n],this.document[0])).length-1;i>=0;i--)(r=t.data(o[i],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(n=u.length-1;n>=0;n--)for(a=u[n][1],i=0,c=(s=u[n][0]).length;c>i;i++)(l=t(s[i])).data(this.widgetName+"-item",a),d.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,o,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=o.outerWidth(),i.height=o.outerHeight()),r=o.offset(),i.left=r.left,i.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)r=this.containers[n].element.offset(),this.containers[n].containerCache.left=r.left,this.containers[n].containerCache.top=r.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+i+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===i?e._createTrPlaceholder(e.currentItem,o):"img"===i&&o.attr("src",e.currentItem.attr("src")),n||o.css("visibility","hidden"),o},update:function(t,o){(!n||i.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,o,r,a,s,l,c,d,u,p=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(p&&t.contains(this.containers[n].element[0],p.element[0]))continue;p=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(p)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(o=1e4,r=null,a=(d=p.floating||this._isFloating(this.currentItem))?"left":"top",s=d?"width":"height",u=d?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[u]-l>this.items[i][s]/2&&(c=!0),o>Math.abs(e[u]-l)&&(o=Math.abs(e[u]-l),r=this.items[i],this.direction=c?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],n=t(o.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*i}},_generatePosition:function(e){var n,i,o=this.options,r=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),o.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/o.grid[1])*o.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-o.grid[1]:n+o.grid[1]:n,i=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-o.grid[0]:i+o.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay((function(){o===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(o.push((function(t){this._trigger("remove",t,this._uiHash())})),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||o.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(o.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;o.length>i;i++)o[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});var o="ui-effects-",r="ui-effects-style",s="ui-effects-animated",l=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function i(n){var i=l(),o=i._rgba=[];return n=n.toLowerCase(),f(s,(function(t,r){var a,s=r.re.exec(n),l=s&&r.parse(s),d=r.space||"rgba";return l?(a=i[d](l),i[c[d].cache]=a[c[d].cache],o=i._rgba=a._rgba,!1):e})),o.length?("0,0,0,0"===o.join()&&t.extend(o,r.transparent),i):r[n]}function o(t,e,n){return 1>6*(n=(n+1)%1)?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var r,a=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,n,i,o){return new t.Color.fn.parse(e,n,i,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",u.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),l.fn=t.extend(l.prototype,{parse:function(o,a,s,d){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(a),a=e);var u=this,p=t.type(o),h=this._rgba=[];return a!==e&&(o=[o,a,s,d],p="array"),"string"===p?this.parse(i(o)||r._default):"array"===p?(f(c.rgba.props,(function(t,e){h[e.idx]=n(o[e.idx],e)})),this):"object"===p?(f(c,o instanceof l?function(t,e){o[e.cache]&&(u[e.cache]=o[e.cache].slice())}:function(e,i){var r=i.cache;f(i.props,(function(t,e){if(!u[r]&&i.to){if("alpha"===t||null==o[t])return;u[r]=i.to(u._rgba)}u[r][e.idx]=n(o[t],e,!0)})),u[r]&&0>t.inArray(null,u[r].slice(0,3))&&(u[r][3]=1,i.from&&(u._rgba=i.from(u[r])))}),this):e},is:function(t){var n=l(t),i=!0,o=this;return f(c,(function(t,r){var a,s=n[r.cache];return s&&(a=o[r.cache]||r.to&&r.to(o._rgba)||[],f(r.props,(function(t,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:e}))),i})),i},_space:function(){var t=[],e=this;return f(c,(function(n,i){e[i.cache]&&t.push(n)})),t.pop()},transition:function(t,e){var i=l(t),o=i._space(),r=c[o],a=0===this.alpha()?l("transparent"):this,s=a[r.cache]||r.to(a._rgba),u=s.slice();return i=i[r.cache],f(r.props,(function(t,o){var r=o.idx,a=s[r],l=i[r],c=d[o.type]||{};null!==l&&(null===a?u[r]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),u[r]=n((l-a)*e+a,o)))})),this[o](u)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),o=l(e)._rgba;return l(t.map(n,(function(t,e){return(1-i)*o[e]+i*t})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=t[3],s=Math.max(i,o,r),l=Math.min(i,o,r),c=s-l,d=s+l,u=.5*d;return e=l===s?0:i===s?60*(o-r)/c+360:o===s?60*(r-i)/c+120:60*(i-o)/c+240,n=0===c?0:.5>=u?c/d:c/(2-d),[Math.round(e)%360,n,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*o(s,a,e+1/3)),Math.round(255*o(s,a,e)),Math.round(255*o(s,a,e-1/3)),r]},f(c,(function(i,o){var r=o.props,s=o.cache,c=o.to,d=o.from;l.fn[i]=function(i){if(c&&!this[s]&&(this[s]=c(this._rgba)),i===e)return this[s].slice();var o,a=t.type(i),u="array"===a||"object"===a?i:arguments,p=this[s].slice();return f(r,(function(t,e){var i=u["object"===a?t:e.idx];null==i&&(i=p[e.idx]),p[e.idx]=n(i,e)})),d?((o=l(d(p)))[s]=p,o):l(p)},f(r,(function(e,n){l.fn[e]||(l.fn[e]=function(o){var r,s=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":i,c=this[l](),d=c[n.idx];return"undefined"===s?d:("function"===s&&(o=o.call(this,d),s=t.type(o)),null==o&&n.empty?this:("string"===s&&(r=a.exec(o))&&(o=d+parseFloat(r[2])*("+"===r[1]?1:-1)),c[n.idx]=o,this[l](c)))})}))})),l.hook=function(e){var n=e.split(" ");f(n,(function(e,n){t.cssHooks[n]={set:function(e,o){var r,a,s="";if("transparent"!==o&&("string"!==t.type(o)||(r=i(o)))){if(o=l(r||o),!u.rgba&&1!==o._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(t){}o=o.blend(s&&"transparent"!==s?s:"_default")}o=o.toRgbaString()}try{e.style[n]=o}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=l(e.elem,n),e.end=l(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}))},l.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],(function(n,i){e["border"+i+"Color"]=t})),e}},r=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(l),function(){function e(e){var n,i,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(o&&o.length&&o[0]&&o[o[0]])for(i=o.length;i--;)"string"==typeof o[n=o[i]]&&(r[t.camelCase(n)]=o[n]);else for(n in o)"string"==typeof o[n]&&(r[n]=o[n]);return r}function n(e,n){var i,r,a={};for(i in n)r=n[i],e[i]!==r&&(o[i]||(t.fx.step[i]||!isNaN(parseFloat(r)))&&(a[i]=r));return a}var i=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(l.style(t.elem,n,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(o,r,a,s){var l=t.speed(r,a,s);return this.queue((function(){var r,a=t(this),s=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map((function(){return{el:t(this),start:e(this)}})),(r=function(){t.each(i,(function(t,e){o[e]&&a[e+"Class"](o[e])}))})(),c=c.map((function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this})),a.attr("class",s),c=c.map((function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()})),t.when.apply(t,c.get()).done((function(){r(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(a[0])}))}))},t.fn.extend({addClass:function(e){return function(n,i,o,r){return i?t.effects.animateClass.call(this,{add:n},i,o,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,o,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,o,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,o,r,a){return"boolean"==typeof i||void 0===i?o?t.effects.animateClass.call(this,i?{add:n}:{remove:n},o,r,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,o,r)}}(t.fn.toggleClass),switchClass:function(e,n,i,o,r){return t.effects.animateClass.call(this,{add:n,remove:e},i,o,r)}})}(),function(){function e(e,n,i,o){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(o=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(o=i,i=n,n={}),t.isFunction(i)&&(o=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=o||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==(void 0===e?"undefined":a(e))&&!e.effect}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),o=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(s)||e(n)}}(t.expr.filters.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;i>n;n++)null!==e[n]&&t.data(o+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;r>i;i++)null!==e[i]&&(n=t.data(o+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,o="vertical"!==n?(e||100)/100:1;return{height:t.height()*o,width:t.width()*i,outerHeight:t.outerHeight()*o,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(r,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(r)||"",t.removeData(r)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(o+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=o+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,o){return o=o||{},t.each(n,(function(t,n){var r=e.cssUnit(n);r[0]>0&&(o[n]=r[0]*i+r[1])})),o}}),t.fn.extend({effect:function(){function n(e){function n(){t.isFunction(c)&&c.call(a[0]),t.isFunction(e)&&e()}var a=t(this);i.mode=u.shift(),!1===t.uiBackCompat||r?"none"===i.mode?(a[d](),n()):o.call(a[0],i,(function(){a.removeData(s),t.effects.cleanUp(a),"hide"===i.mode&&a.hide(),n()})):(a.is(":hidden")?"hide"===d:"show"===d)?(a[d](),n()):o.call(a[0],i,n)}var i=e.apply(this,arguments),o=t.effects.effect[i.effect],r=o.mode,a=i.queue,l=a||"fx",c=i.complete,d=i.mode,u=[],p=function(e){var n=t(this),i=t.effects.mode(n,d)||r;n.data(s,!0),u.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!o?d?this[d](i.duration,c):this.each((function(){c&&c.call(this)})):!1===a?this.each(p).each(n):this.queue(l,p).queue(l,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="show",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="hide",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var o=e.apply(this,arguments);return o.mode="toggle",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],(function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])})),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),o=t(e.to),r="fixed"===o.css("position"),a=t("body"),s=r?a.scrollTop():0,l=r?a.scrollLeft():0,c=o.offset(),d={top:c.top-s,left:c.left-l,height:o.innerHeight(),width:o.innerWidth()},u=i.offset(),p=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-s,left:u.left-l,height:i.innerHeight(),width:i.innerWidth(),position:r?"fixed":"absolute"}).animate(d,e.duration,e.easing,(function(){p.remove(),t.isFunction(n)&&n()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,n){e[n]=function(e){return Math.pow(e,t+2)}})),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;((e=Math.pow(2,--n))-1)/11>t;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,(function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?n(2*t)/2:1-n(-2*t+2)/2}}))}(),t.effects,t.effects.define("slide","show",(function(e,n){var i,o,r=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,u=e.distance||r["top"===c?"outerHeight":"outerWidth"](!0),p={};t.effects.createPlaceholder(r),i=r.cssClip(),o=r.position()[c],p[c]=(d?-1:1)*u+o,p.clip=r.cssClip(),p.clip[a[l][1]]=p.clip[a[l][0]],"show"===s&&(r.cssClip(p.clip),r.css(c,p[c]),p.clip=i,p[c]=o),r.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}))})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 2011–2014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */!function(t){function e(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var n=t.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i)}}if(t.support.touch="ontouchend"in document,t.support.touch){var n,i=t.ui.mouse.prototype,o=i._mouseInit,r=i._mouseDestroy;i._touchStart=function(t){!n&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(n=!0,this._touchMoved=!1,e(t,"mouseover"),e(t,"mousemove"),e(t,"mousedown"))},i._touchMove=function(t){n&&(this._touchMoved=!0,e(t,"mousemove"))},i._touchEnd=function(t){n&&(e(t,"mouseup"),e(t,"mouseout"),this._touchMoved||e(t,"click"),n=!1)},i._mouseInit=function(){var e=this;e.element.bind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),o.call(e)},i._mouseDestroy=function(){var e=this;e.element.unbind({touchstart:t.proxy(e,"_touchStart"),touchmove:t.proxy(e,"_touchMove"),touchend:t.proxy(e,"_touchEnd")}),r.call(e)}}}(jQuery)},function(t,e,n){"use strict";var i,o,r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=[n(135)],void 0===(r="function"==typeof(i=function(t,e){var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],o=!!/msie/i.exec(window.navigator.userAgent),r=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),l=function(){var t="";if(o)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function c(e,n,i,o){for(var a=[],s=0;s<e.length;s++){var l=e[s];if(l){var c=tinycolor(l),d=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";d+=tinycolor.equals(n,l)?" sp-thumb-active":"";var u=c.toString(o.preferredFormat||"rgb"),p=r?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+u+'" data-color="'+c.toRgbString()+'" class="'+d+'"><span class="sp-thumb-inner" style="'+p+';"></span></span>')}else a.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",o.noColorSelectedText)).html())}return"<div class='sp-cf "+i+"'>"+a.join("")+"</div>"}function d(a,d){var u,g,v,b,y=function(e,i){var o=t.extend({},n,e);return o.callbacks={move:f(o.move,i),change:f(o.change,i),show:f(o.show,i),hide:f(o.hide,i),beforeShow:f(o.beforeShow,i)},o}(d,a),w=y.flat,x=y.showSelectionPalette,_=y.localStorageKey,S=y.theme,k=y.callbacks,C=(u=zt,g=10,function(){var t=this,e=arguments,n=function(){b=null,u.apply(t,e)};v&&clearTimeout(b),!v&&b||(b=setTimeout(n,g))}),P=!1,T=!1,E=0,A=0,j=0,L=0,$=0,F=0,O=0,D=0,I=0,N=0,B=1,M=[],R=[],U={},z=y.selectionPalette.slice(0),H=y.maxSelectionSize,W=null,q=a.ownerDocument,V=(q.body,t(a)),G=!1,Y=t(l,q).addClass(S),K=Y.find(".sp-picker-container"),J=Y.find(".sp-color"),X=Y.find(".sp-dragger"),Q=Y.find(".sp-hue"),Z=Y.find(".sp-slider"),tt=Y.find(".sp-alpha-inner"),et=Y.find(".sp-alpha"),nt=Y.find(".sp-alpha-handle"),it=Y.find(".sp-input"),ot=Y.find(".sp-palette"),rt=Y.find(".sp-initial"),at=Y.find(".sp-cancel"),st=Y.find(".sp-clear"),lt=Y.find(".sp-choose"),ct=Y.find(".sp-palette-toggle"),dt=V.is("input"),ut=dt&&"color"===V.attr("type")&&m(),pt=dt&&!w,ft=pt?t(s).addClass(S).addClass(y.className).addClass(y.replacerClassName):t([]),ht=pt?ft:V,mt=ft.find(".sp-preview-inner"),gt=y.color||dt&&V.val(),vt=!1,bt=y.preferredFormat,yt=!y.showButtons||y.clickoutFiresChange,wt=!gt,xt=y.allowEmpty&&!ut;function _t(){if(y.showPaletteOnly&&(y.showPalette=!0),ct.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),y.palette){M=y.palette.slice(0),R=t.isArray(M[0])?M:[M],U={};for(var e=0;e<R.length;e++)for(var n=0;n<R[e].length;n++){var i=tinycolor(R[e][n]).toRgbString();U[i]=!0}}Y.toggleClass("sp-flat",w),Y.toggleClass("sp-input-disabled",!y.showInput),Y.toggleClass("sp-alpha-enabled",y.showAlpha),Y.toggleClass("sp-clear-enabled",xt),Y.toggleClass("sp-buttons-disabled",!y.showButtons),Y.toggleClass("sp-palette-buttons-disabled",!y.togglePaletteOnly),Y.toggleClass("sp-palette-disabled",!y.showPalette),Y.toggleClass("sp-palette-only",y.showPaletteOnly),Y.toggleClass("sp-initial-disabled",!y.showInitial),Y.addClass(y.className).addClass(y.containerClassName),zt()}function St(){if(_&&window.localStorage){try{var e=window.localStorage[_].split(",#");e.length>1&&(delete window.localStorage[_],t.each(e,(function(t,e){kt(e)})))}catch(t){}try{z=window.localStorage[_].split(";")}catch(t){}}}function kt(e){if(x){var n=tinycolor(e).toRgbString();if(!U[n]&&-1===t.inArray(n,z))for(z.push(n);z.length>H;)z.shift();if(_&&window.localStorage)try{window.localStorage[_]=z.join(";")}catch(t){}}}function Ct(){var e=Nt(),n=t.map(R,(function(t,n){return c(t,e,"sp-palette-row sp-palette-row-"+n,y)}));St(),z&&n.push(c(function(){var t=[];if(y.showPalette)for(var e=0;e<z.length;e++){var n=tinycolor(z[e]).toRgbString();U[n]||t.push(z[e])}return t.reverse().slice(0,y.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",y)),ot.html(n.join(""))}function Pt(){if(y.showInitial){var t=vt,e=Nt();rt.html(c([t,e],e,"sp-palette-row-initial",y))}}function Tt(){(A<=0||E<=0||L<=0)&&zt(),T=!0,Y.addClass("sp-dragging"),W=null,V.trigger("dragstart.spectrum",[Nt()])}function Et(){T=!1,Y.removeClass("sp-dragging"),V.trigger("dragstop.spectrum",[Nt()])}function At(){var t=it.val();if(null!==t&&""!==t||!xt){var e=tinycolor(t);e.isValid()?(It(e),Bt(),Ut()):it.addClass("sp-validation-error")}else It(null),Bt(),Ut()}function jt(){P?Ot():Lt()}function Lt(){var e=t.Event("beforeShow.spectrum");P?zt():(V.trigger(e,[Nt()]),!1===k.beforeShow(Nt())||e.isDefaultPrevented()||(function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),P=!0,t(q).on("keydown.spectrum",$t),t(q).on("click.spectrum",Ft),t(window).on("resize.spectrum",C),ft.addClass("sp-active"),Y.removeClass("sp-hidden"),zt(),Mt(),vt=Nt(),Pt(),k.show(vt),V.trigger("show.spectrum",[vt])))}function $t(t){27===t.keyCode&&Ot()}function Ft(t){2!=t.button&&(T||(yt?Ut(!0):Dt(),Ot()))}function Ot(){P&&!w&&(P=!1,t(q).off("keydown.spectrum",$t),t(q).off("click.spectrum",Ft),t(window).off("resize.spectrum",C),ft.removeClass("sp-active"),Y.addClass("sp-hidden"),k.hide(Nt()),V.trigger("hide.spectrum",[Nt()]))}function Dt(){It(vt,!0),Ut(!0)}function It(t,e){var n,i;tinycolor.equals(t,Nt())?Mt():(!t&&xt?wt=!0:(wt=!1,i=(n=tinycolor(t)).toHsv(),D=i.h%360/360,I=i.s,N=i.v,B=i.a),Mt(),n&&n.isValid()&&!e&&(bt=y.preferredFormat||n.getFormat()))}function Nt(t){return t=t||{},xt&&wt?null:tinycolor.fromRatio({h:D,s:I,v:N,a:Math.round(1e3*B)/1e3},{format:t.format||bt})}function Bt(){Mt(),k.move(Nt()),V.trigger("move.spectrum",[Nt()])}function Mt(){it.removeClass("sp-validation-error"),Rt();var t=tinycolor.fromRatio({h:D,s:1,v:1});J.css("background-color",t.toHexString());var e=bt;B<1&&(0!==B||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Nt({format:e}),i="";if(mt.removeClass("sp-clear-display"),mt.css("background-color","transparent"),!n&&xt)mt.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(r||1===n.alpha?mt.css("background-color",s):(mt.css("background-color","transparent"),mt.css("filter",n.toFilter())),y.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),d="linear-gradient(left, "+c+", "+a+")";o?tt.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(tt.css("background","-webkit-"+d),tt.css("background","-moz-"+d),tt.css("background","-ms-"+d),tt.css("background","linear-gradient(to right, "+c+", "+a+")"))}i=n.toString(e)}y.showInput&&it.val(i),y.showPalette&&Ct(),Pt()}function Rt(){var t=I,e=N;if(xt&&wt)nt.hide(),Z.hide(),X.hide();else{nt.show(),Z.show(),X.show();var n=t*E,i=A-e*A;n=Math.max(-j,Math.min(E-j,n-j)),i=Math.max(-j,Math.min(A-j,i-j)),X.css({top:i+"px",left:n+"px"});var o=B*$;nt.css({left:o-F/2+"px"});var r=D*L;Z.css({top:r-O+"px"})}}function Ut(t){var e=Nt(),n="",i=!tinycolor.equals(e,vt);e&&(n=e.toString(bt),kt(e)),dt&&V.val(n),t&&i&&(k.change(e),V.trigger("change",[e]))}function zt(){P&&(E=J.width(),A=J.height(),j=X.height(),Q.width(),L=Q.height(),O=Z.height(),$=et.width(),F=nt.width(),w||(Y.css("position","absolute"),y.offset?Y.offset(y.offset):Y.offset(function(e,n){var i=e.outerWidth(),o=e.outerHeight(),r=n.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,l=s.clientWidth+t(a).scrollLeft(),c=s.clientHeight+t(a).scrollTop(),d=n.offset(),u=d.left,p=d.top;return p+=r,u-=Math.min(u,u+i>l&&l>i?Math.abs(u+i-l):0),{top:p-=Math.min(p,p+o>c&&c>o?Math.abs(o+r-0):0),bottom:d.bottom,left:u,right:d.right,width:d.width,height:d.height}}(Y,ht))),Rt(),y.showPalette&&Ct(),V.trigger("reflow.spectrum"))}function Ht(){Ot(),G=!0,V.attr("disabled",!0),ht.addClass("sp-disabled")}!function(){if(o&&Y.find("*:not(input)").attr("unselectable","on"),_t(),pt&&V.after(ft).hide(),xt||st.hide(),w)V.after(Y).hide();else{var e="parent"===y.appendTo?V.parent():t(y.appendTo);1!==e.length&&(e=t("body")),e.append(Y)}function n(e){return e.data&&e.data.ignore?(It(t(e.target).closest(".sp-thumb-el").data("color")),Bt()):(It(t(e.target).closest(".sp-thumb-el").data("color")),Bt(),y.hideAfterPaletteSelect?(Ut(!0),Ot()):Ut()),!1}St(),ht.on("click.spectrum touchstart.spectrum",(function(e){G||jt(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()})),(V.is(":disabled")||!0===y.disabled)&&Ht(),Y.click(p),it.change(At),it.on("paste",(function(){setTimeout(At,1)})),it.keydown((function(t){13==t.keyCode&&At()})),at.text(y.cancelText),at.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),Dt(),Ot()})),st.attr("title",y.clearText),st.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),wt=!0,Bt(),w&&Ut(!0)})),lt.text(y.chooseText),lt.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),o&&it.is(":focus")&&it.trigger("change"),it.hasClass("sp-validation-error")||(Ut(!0),Ot())})),ct.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),ct.on("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),y.showPaletteOnly=!y.showPaletteOnly,y.showPaletteOnly||w||Y.css("left","-="+(K.outerWidth(!0)+5)),_t()})),h(et,(function(t,e,n){B=t/$,wt=!1,n.shiftKey&&(B=Math.round(10*B)/10),Bt()}),Tt,Et),h(Q,(function(t,e){D=parseFloat(e/L),wt=!1,y.showAlpha||(B=1),Bt()}),Tt,Et),h(J,(function(t,e,n){if(n.shiftKey){if(!W){var i=I*E,o=A-N*A,r=Math.abs(t-i)>Math.abs(e-o);W=r?"x":"y"}}else W=null;var a=!W||"y"===W;(!W||"x"===W)&&(I=parseFloat(t/E)),a&&(N=parseFloat((A-e)/A)),wt=!1,y.showAlpha||(B=1),Bt()}),Tt,Et),gt?(It(gt),Mt(),bt=y.preferredFormat||tinycolor(gt).format,kt(gt)):Mt(),w&&Lt();var i=o?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.on(i,".sp-thumb-el",n),rt.on(i,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}();var Wt={show:Lt,hide:Ot,toggle:jt,reflow:zt,option:function(n,i){return n===e?t.extend({},y):i===e?y[n]:(y[n]=i,"preferredFormat"===n&&(bt=y.preferredFormat),void _t())},enable:function(){G=!1,V.attr("disabled",!1),ht.removeClass("sp-disabled")},disable:Ht,offset:function(t){y.offset=t,zt()},set:function(t){It(t),Ut()},get:Nt,destroy:function(){V.show(),ht.off("click.spectrum touchstart.spectrum"),Y.remove(),ft.remove(),i[Wt.id]=null},container:Y};return Wt.id=i.push(Wt)-1,Wt}function u(){}function p(t){t.stopPropagation()}function f(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function h(e,n,i,r){n=n||function(){},i=i||function(){},r=r||function(){};var a=document,s=!1,l={},c=0,d=0,u="ontouchstart"in window,p={};function f(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function h(t){if(s){if(o&&a.documentMode<9&&!t.button)return m();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],r=i&&i.pageX||t.pageX,p=i&&i.pageY||t.pageY,h=Math.max(0,Math.min(r-l.left,d)),g=Math.max(0,Math.min(p-l.top,c));u&&f(t),n.apply(e,[h,g,t])}}function m(){s&&(t(a).off(p),t(a.body).removeClass("sp-dragging"),setTimeout((function(){r.apply(e,arguments)}),0)),s=!1}p.selectstart=f,p.dragstart=f,p["touchmove mousemove"]=h,p["touchend mouseup"]=m,t(e).on("touchstart mousedown",(function(n){var o=n.which?3==n.which:2==n.button;o||s||!1!==i.apply(e,arguments)&&(s=!0,c=t(e).height(),d=t(e).width(),l=t(e).offset(),t(a).on(p),t(a.body).addClass("sp-dragging"),h(n),f(n))}))}function m(){return t.fn.spectrum.inputTypeColorSupport()}var g="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var o=this,r=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=i[t(this).data(g)];if(n){var a=n[e];if(!a)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?o=n.get():"container"==e?o=n.container:"option"==e?o=n.option.apply(n,r):"destroy"==e?(n.destroy(),t(this).removeData(g)):a.apply(n,r)}})),o}return this.spectrum("destroy").each((function(){var n=d(this,t.extend({},t(this).data(),e));t(this).data(g,n.id)}))},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=h,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!m()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,o=i.round,r=i.min,s=i.max,l=i.random,c=function l(c,d){if(d=d||{},(c=c||"")instanceof l)return c;if(!(this instanceof l))return new l(c,d);var u=function(n){var o,l,c,d={r:0,g:0,b:0},u=1,p=!1,f=!1;return"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,o,r=!1;if(T[n])n=T[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};return(i=B.rgb.exec(n))?{r:i[1],g:i[2],b:i[3]}:(i=B.rgba.exec(n))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=B.hsl.exec(n))?{h:i[1],s:i[2],l:i[3]}:(i=B.hsla.exec(n))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=B.hsv.exec(n))?{h:i[1],s:i[2],v:i[3]}:(i=B.hsva.exec(n))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=B.hex8.exec(n))?{a:(o=i[1],$(o)/255),r:$(i[2]),g:$(i[3]),b:$(i[4]),format:r?"name":"hex8"}:(i=B.hex6.exec(n))?{r:$(i[1]),g:$(i[2]),b:$(i[3]),format:r?"name":"hex"}:!!(i=B.hex3.exec(n))&&{r:$(i[1]+""+i[1]),g:$(i[2]+""+i[2]),b:$(i[3]+""+i[3]),format:r?"name":"hex"}}(n)),"object"==(void 0===n?"undefined":a(n))&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(o=n.r,l=n.g,c=n.b,d={r:255*j(o,255),g:255*j(l,255),b:255*j(c,255)},p=!0,f="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=O(n.s),n.v=O(n.v),d=function(t,e,n){t=6*j(t,360),e=j(e,100),n=j(n,100);var o=i.floor(t),r=t-o,a=n*(1-e),s=n*(1-r*e),l=n*(1-(1-r)*e),c=o%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(n.h,n.s,n.v),p=!0,f="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=O(n.s),n.l=O(n.l),d=function(t,e,n){var i,o,r;function a(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=j(t,360),e=j(e,100),n=j(n,100),0===e)i=o=r=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;i=a(l,s,t+1/3),o=a(l,s,t),r=a(l,s,t-1/3)}return{r:255*i,g:255*o,b:255*r}}(n.h,n.s,n.l),p=!0,f="hsl"),n.hasOwnProperty("a")&&(u=n.a)),u=A(u),{ok:p,format:n.format||f,r:r(255,s(d.r,0)),g:r(255,s(d.g,0)),b:r(255,s(d.b,0)),a:u}}(c);this._originalInput=c,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=o(1e3*this._a)/1e3,this._format=d.format||u.format,this._gradientType=d.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=u.ok,this._tc_id=n++};function d(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var i,o,a=s(t,e,n),l=r(t,e,n),c=(a+l)/2;if(a==l)i=o=0;else{var d=a-l;switch(o=c>.5?d/(2-a-l):d/(a+l),a){case t:i=(e-n)/d+(e<n?6:0);break;case e:i=(n-t)/d+2;break;case n:i=(t-e)/d+4}i/=6}return{h:i,s:o,l:c}}function u(t,e,n){t=j(t,255),e=j(e,255),n=j(n,255);var i,o,a=s(t,e,n),l=r(t,e,n),c=a,d=a-l;if(o=0===a?0:d/a,a==l)i=0;else{switch(a){case t:i=(e-n)/d+(e<n?6:0);break;case e:i=(n-t)/d+2;break;case n:i=(t-e)/d+4}i/=6}return{h:i,s:o,v:c}}function p(t,e,n,i){var r=[F(o(t).toString(16)),F(o(e).toString(16)),F(o(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function f(t,e,n,i){var r;return[F((r=i,Math.round(255*parseFloat(r)).toString(16))),F(o(t).toString(16)),F(o(e).toString(16)),F(o(n).toString(16))].join("")}function h(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s-=e/100,n.s=L(n.s),c(n)}function m(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.s+=e/100,n.s=L(n.s),c(n)}function g(t){return c(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l+=e/100,n.l=L(n.l),c(n)}function b(t,e){e=0===e?0:e||10;var n=c(t).toRgb();return n.r=s(0,r(255,n.r-o(-e/100*255))),n.g=s(0,r(255,n.g-o(-e/100*255))),n.b=s(0,r(255,n.b-o(-e/100*255))),c(n)}function y(t,e){e=0===e?0:e||10;var n=c(t).toHsl();return n.l-=e/100,n.l=L(n.l),c(n)}function w(t,e){var n=c(t).toHsl(),i=(o(n.h)+e)%360;return n.h=i<0?360+i:i,c(n)}function x(t){var e=c(t).toHsl();return e.h=(e.h+180)%360,c(e)}function _(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+120)%360,s:e.s,l:e.l}),c({h:(n+240)%360,s:e.s,l:e.l})]}function S(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+90)%360,s:e.s,l:e.l}),c({h:(n+180)%360,s:e.s,l:e.l}),c({h:(n+270)%360,s:e.s,l:e.l})]}function k(t){var e=c(t).toHsl(),n=e.h;return[c(t),c({h:(n+72)%360,s:e.s,l:e.l}),c({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var i=c(t).toHsl(),o=360/n,r=[c(t)];for(i.h=(i.h-(o*e>>1)+720)%360;--e;)i.h=(i.h+o)%360,r.push(c(i));return r}function P(t,e){e=e||6;for(var n=c(t).toHsv(),i=n.h,o=n.s,r=n.v,a=[],s=1/e;e--;)a.push(c({h:i,s:o,v:r})),r=(r+s)%1;return a}c.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=A(t),this._roundA=o(1e3*this._a)/1e3,this},toHsv:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=u(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=d(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=d(this._r,this._g,this._b),e=o(360*t.h),n=o(100*t.s),i=o(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return p(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(100*j(this._r,255))+"%",g:o(100*j(this._g,255))+"%",b:o(100*j(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%)":"rgba("+o(100*j(this._r,255))+"%, "+o(100*j(this._g,255))+"%, "+o(100*j(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(E[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";return t&&(n=c(t).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(h,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(k,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},c.fromRatio=function(t,e){if("object"==(void 0===t?"undefined":a(t))){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:O(t[i]));t=n}return c(t,e)},c.equals=function(t,e){return!(!t||!e)&&c(t).toRgbString()==c(e).toRgbString()},c.random=function(){return c.fromRatio({r:l(),g:l(),b:l()})},c.mix=function(t,e,n){n=0===n?0:n||50;var i,o=c(t).toRgb(),r=c(e).toRgb(),a=n/100,s=2*a-1,l=r.a-o.a,d=1-(i=((i=s*l==-1?s:(s+l)/(1+s*l))+1)/2),u={r:r.r*i+o.r*d,g:r.g*i+o.g*d,b:r.b*i+o.b*d,a:r.a*a+o.a*(1-a)};return c(u)},c.readability=function(t,e){var n=c(t),i=c(e),o=n.toRgb(),r=i.toRgb(),a=n.getBrightness(),s=i.getBrightness(),l=Math.max(o.r,r.r)-Math.min(o.r,r.r)+Math.max(o.g,r.g)-Math.min(o.g,r.g)+Math.max(o.b,r.b)-Math.min(o.b,r.b);return{brightness:Math.abs(a-s),color:l}},c.isReadable=function(t,e){var n=c.readability(t,e);return n.brightness>125&&n.color>500},c.mostReadable=function(t,e){for(var n=null,i=0,o=!1,r=0;r<e.length;r++){var a=c.readability(t,e[r]),s=a.brightness>125&&a.color>500,l=a.brightness/125*3+a.color/500;(s&&!o||s&&o&&l>i||!s&&!o&&l>i)&&(o=s,i=l,n=c(e[r]))}return n};var T=c.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},E=c.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(T);function A(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function j(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=r(e,s(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function L(t){return r(1,s(0,t))}function $(t){return parseInt(t,16)}function F(t){return 1==t.length?"0"+t:""+t}function O(t){return t<=1&&(t=100*t+"%"),t}var D,I,N,B=(I="[\\s|\\(]+("+(D="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",N="[\\s|\\(]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")[,|\\s]+("+D+")\\s*\\)?",{rgb:new RegExp("rgb"+I),rgba:new RegExp("rgba"+N),hsl:new RegExp("hsl"+I),hsla:new RegExp("hsla"+N),hsv:new RegExp("hsv"+I),hsva:new RegExp("hsva"+N),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=c}(),t((function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()}))})?i.apply(e,o):i)||(t.exports=r)},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e,n){function o(e,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=t(e),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=t.extend({},l,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(e,n){var i=!0;return t.each(e,(function(t,o){if(void 0===n[t]||e[t]!==n[t])return i=!1,!1})),i}function a(){return!d&&c}function s(){var t=(n.body||n.documentElement).style,e="transition";if("string"==typeof t[e])return!0;v=["Moz","Webkit","Khtml","O","ms"],e=e.charAt(0).toUpperCase()+e.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof t[v[i]+e])return!0;return!1}var l={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,e){},functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};o.prototype={_init:function(){var e=this;if(n.querySelector){var i=null;void 0===e.$el.data("tooltipster-initialTitle")&&(void 0===(i=e.$el.attr("title"))&&(i=null),e.$el.data("tooltipster-initialTitle",i)),null!==e.options.content?e._content_set(e.options.content):e._content_set(i);var o=e.options.functionInit.call(e.$el,e.$el,e.Content);void 0!==o&&e._content_set(o),e.$el.removeAttr("title").addClass("tooltipstered"),!c&&e.options.iconDesktop||c&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=t('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,(function(){a()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())})).on("mouseleave."+e.namespace,(function(){a()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)})),c&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,(function(){e._showNow()}))):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,(function(){a()&&!e.options.touchDevices||e._show()}))}},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout((function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()}),t.options.delay):t._showNow())},_showNow:function(n){var i=this;i.options.functionBefore.call(i.$el,i.$el,(function(){if(i.enabled&&null!==i.Content){n&&i.callbacks.show.push(n),i.callbacks.hide=[],clearTimeout(i.timerShow),i.timerShow=null,clearTimeout(i.timerHide),i.timerHide=null,i.options.onlyOne&&t(".tooltipstered").not(i.$el).each((function(e,n){var i=t(n),o=i.data("tooltipster-ns");t.each(o,(function(t,e){var n=i.data(e),o=n.status(),r=n.option("autoClose");"hidden"!==o&&"disappearing"!==o&&r&&n.hide()}))}));var o=function(){i.Status="shown",t.each(i.callbacks.show,(function(t,e){e.call(i.$el)})),i.callbacks.show=[]};if("hidden"!==i.Status){var r=0;"disappearing"===i.Status?(i.Status="appearing",s()?(i.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+i.options.animation+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.stop().fadeIn(o)):"shown"===i.Status&&o()}else{i.Status="appearing";r=i.options.speed;i.bodyOverflowX=t("body").css("overflow-x"),t("body").css("overflow-x","hidden");var a="tooltipster-"+i.options.animation,l="-webkit-transition-duration: "+i.options.speed+"ms; -webkit-animation-duration: "+i.options.speed+"ms; -moz-transition-duration: "+i.options.speed+"ms; -moz-animation-duration: "+i.options.speed+"ms; -o-transition-duration: "+i.options.speed+"ms; -o-animation-duration: "+i.options.speed+"ms; -ms-transition-duration: "+i.options.speed+"ms; -ms-animation-duration: "+i.options.speed+"ms; transition-duration: "+i.options.speed+"ms; animation-duration: "+i.options.speed+"ms;",d=i.options.minWidth?"min-width:"+Math.round(i.options.minWidth)+"px;":"",u=i.options.maxWidth?"max-width:"+Math.round(i.options.maxWidth)+"px;":"",p=i.options.interactive?"pointer-events: auto;":"";if(i.$tooltip=t('<div class="tooltipster-base '+i.options.theme+'" style="'+d+" "+u+" "+p+" "+l+'"><div class="tooltipster-content"></div></div>'),s()&&i.$tooltip.addClass(a),i._content_insert(),i.$tooltip.appendTo("body"),i.reposition(),i.options.functionReady.call(i.$el,i.$el,i.$tooltip),s()?(i.$tooltip.addClass(a+"-show"),i.options.speed>0&&i.$tooltip.delay(i.options.speed),i.$tooltip.queue(o)):i.$tooltip.css("display","none").fadeIn(i.options.speed,o),i._interval_set(),t(e).on("scroll."+i.namespace+" resize."+i.namespace,(function(){i.reposition()})),i.options.autoClose)if(t("body").off("."+i.namespace),"hover"==i.options.trigger){if(c&&setTimeout((function(){t("body").on("touchstart."+i.namespace,(function(){i.hide()}))}),0),i.options.interactive){c&&i.$tooltip.on("touchstart."+i.namespace,(function(t){t.stopPropagation()}));var f=null;i.$elProxy.add(i.$tooltip).on("mouseleave."+i.namespace+"-autoClose",(function(){clearTimeout(f),f=setTimeout((function(){i.hide()}),i.options.interactiveTolerance)})).on("mouseenter."+i.namespace+"-autoClose",(function(){clearTimeout(f)}))}else i.$elProxy.on("mouseleave."+i.namespace+"-autoClose",(function(){i.hide()}));i.options.hideOnClick&&i.$elProxy.on("click."+i.namespace+"-autoClose",(function(){i.hide()}))}else"click"==i.options.trigger&&(setTimeout((function(){t("body").on("click."+i.namespace+" touchstart."+i.namespace,(function(){i.hide()}))}),0),i.options.interactive&&i.$tooltip.on("click."+i.namespace+" touchstart."+i.namespace,(function(t){t.stopPropagation()})))}i.options.timer>0&&(i.timerHide=setTimeout((function(){i.timerHide=null,i.hide()}),i.options.timer+r))}}))},_interval_set:function(){var e=this;e.checkInterval=setInterval((function(){if(0===t("body").find(e.$el).length||0===t("body").find(e.$elProxy).length||"hidden"==e.Status||0===t("body").find(e.$tooltip).length)"shown"!=e.Status&&"appearing"!=e.Status||e.hide(),e._interval_cancel();else if(e.options.positionTracker){var n=e._repositionInfo(e.$elProxy),i=!1;r(n.dimension,e.elProxyPosition.dimension)&&("fixed"===e.$elProxy.css("position")?r(n.position,e.elProxyPosition.position)&&(i=!0):r(n.offset,e.elProxyPosition.offset)&&(i=!0)),i||(e.reposition(),e.options.positionTrackerCallback.call(e,e.$el))}}),200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"===(void 0===t?"undefined":i(t))&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this,e=this.$tooltip.find(".tooltipster-content");"string"!=typeof t.Content||t.options.contentAsHTML?e.empty().append(t.Content):e.text(t.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation&&(s()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})}),e.options.speed))}),e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,(function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)})))):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(n){var o=this;n&&o.callbacks.hide.push(n),o.callbacks.show=[],clearTimeout(o.timerShow),o.timerShow=null,clearTimeout(o.timerHide),o.timerHide=null;var r=function(){t.each(o.callbacks.hide,(function(t,e){e.call(o.$el)})),o.callbacks.hide=[]};if("shown"==o.Status||"appearing"==o.Status){o.Status="disappearing";var a=function(){o.Status="hidden","object"==i(o.Content)&&null!==o.Content&&o.Content.detach(),o.$tooltip.remove(),o.$tooltip=null,t(e).off("."+o.namespace),t("body").off("."+o.namespace).css("overflow-x",o.bodyOverflowX),t("body").off("."+o.namespace),o.$elProxy.off("."+o.namespace+"-autoClose"),o.options.functionAfter.call(o.$el,o.$el),r()};s()?(o.$tooltip.clearQueue().removeClass("tooltipster-"+o.options.animation+"-show").addClass("tooltipster-dying"),o.options.speed>0&&o.$tooltip.delay(o.options.speed),o.$tooltip.queue(a)):o.$tooltip.stop().fadeOut(o.options.speed,a)}else"hidden"==o.Status&&r();return o},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){var n=this;if(0!==t("body").find(n.$tooltip).length){var i=function(){var n=t(e).scrollLeft();E-n<0&&(r=E-n,E=n),E+l-n>a&&(r=E-(a+n-l),E=a+n-l)},o=function(n,i){s.offset.top-t(e).scrollTop()-c-L-12<0&&i.indexOf("top")>-1&&(F=n),s.offset.top+s.dimension.height+c+12+L>t(e).scrollTop()+t(e).height()&&i.indexOf("bottom")>-1&&(F=n,j=s.offset.top-c-L-12)};n.$tooltip.css("width",""),n.elProxyPosition=n._repositionInfo(n.$elProxy);var r=null,a=t(e).width(),s=n.elProxyPosition,l=n.$tooltip.outerWidth(!1),c=(n.$tooltip.innerWidth(),n.$tooltip.outerHeight(!1));if(n.$elProxy.is("area")){var d=n.$elProxy.attr("shape"),u=n.$elProxy.parent().attr("name"),p=t('img[usemap="#'+u+'"]'),f=p.offset().left,h=p.offset().top,m=void 0!==n.$elProxy.attr("coords")?n.$elProxy.attr("coords").split(","):void 0;if("circle"==d){var g=parseInt(m[0]),v=parseInt(m[1]),b=parseInt(m[2]);s.dimension.height=2*b,s.dimension.width=2*b,s.offset.top=h+v-b,s.offset.left=f+g-b}else if("rect"==d){g=parseInt(m[0]),v=parseInt(m[1]);var y=parseInt(m[2]),w=parseInt(m[3]);s.dimension.height=w-v,s.dimension.width=y-g,s.offset.top=h+v,s.offset.left=f+g}else if("poly"==d){for(var x=0,_=0,S=0,k=0,C="even",P=0;P<m.length;P++){var T=parseInt(m[P]);"even"==C?(T>S&&(S=T,0===P&&(x=S)),T<x&&(x=T),C="odd"):(T>k&&(k=T,1==P&&(_=k)),T<_&&(_=T),C="even")}s.dimension.height=k-_,s.dimension.width=S-x,s.offset.top=h+_,s.offset.left=f+x}else s.dimension.height=p.outerHeight(!1),s.dimension.width=p.outerWidth(!1),s.offset.top=h,s.offset.left=f}var E=0,A=0,j=0,L=parseInt(n.options.offsetY),$=parseInt(n.options.offsetX),F=n.options.position;if("top"==F){var O=s.offset.left+l-(s.offset.left+s.dimension.width);E=s.offset.left+$-O/2,j=s.offset.top-c-L-12,i(),o("bottom","top")}if("top-left"==F&&(E=s.offset.left+$,j=s.offset.top-c-L-12,i(),o("bottom-left","top-left")),"top-right"==F&&(E=s.offset.left+s.dimension.width+$-l,j=s.offset.top-c-L-12,i(),o("bottom-right","top-right")),"bottom"==F){O=s.offset.left+l-(s.offset.left+s.dimension.width);E=s.offset.left-O/2+$,j=s.offset.top+s.dimension.height+L+12,i(),o("top","bottom")}if("bottom-left"==F&&(E=s.offset.left+$,j=s.offset.top+s.dimension.height+L+12,i(),o("top-left","bottom-left")),"bottom-right"==F&&(E=s.offset.left+s.dimension.width+$-l,j=s.offset.top+s.dimension.height+L+12,i(),o("top-right","bottom-right")),"left"==F){E=s.offset.left-$-l-12,A=s.offset.left+$+s.dimension.width+12;var D=s.offset.top+c-(s.offset.top+s.dimension.height);if(j=s.offset.top-D/2-L,E<0&&A+l>a){var I=2*parseFloat(n.$tooltip.css("border-width")),N=l+E-I;n.$tooltip.css("width",N+"px"),c=n.$tooltip.outerHeight(!1),E=s.offset.left-$-N-12-I,D=s.offset.top+c-(s.offset.top+s.dimension.height),j=s.offset.top-D/2-L}else E<0&&(E=s.offset.left+$+s.dimension.width+12,r="left")}if("right"==F){E=s.offset.left+$+s.dimension.width+12,A=s.offset.left-$-l-12;D=s.offset.top+c-(s.offset.top+s.dimension.height);if(j=s.offset.top-D/2-L,E+l>a&&A<0){I=2*parseFloat(n.$tooltip.css("border-width")),N=a-E-I;n.$tooltip.css("width",N+"px"),c=n.$tooltip.outerHeight(!1),D=s.offset.top+c-(s.offset.top+s.dimension.height),j=s.offset.top-D/2-L}else E+l>a&&(E=s.offset.left-$-l-12,r="right")}if(n.options.arrow){var B="tooltipster-arrow-"+F;if(n.options.arrowColor.length<1)var M=n.$tooltip.css("background-color");else M=n.options.arrowColor;if(r?"left"==r?(B="tooltipster-arrow-right",r=""):"right"==r?(B="tooltipster-arrow-left",r=""):r="left:"+Math.round(r)+"px;":r="","top"==F||"top-left"==F||"top-right"==F)var R=parseFloat(n.$tooltip.css("border-bottom-width")),U=n.$tooltip.css("border-bottom-color");else if("bottom"==F||"bottom-left"==F||"bottom-right"==F)R=parseFloat(n.$tooltip.css("border-top-width")),U=n.$tooltip.css("border-top-color");else if("left"==F)R=parseFloat(n.$tooltip.css("border-right-width")),U=n.$tooltip.css("border-right-color");else if("right"==F)R=parseFloat(n.$tooltip.css("border-left-width")),U=n.$tooltip.css("border-left-color");else R=parseFloat(n.$tooltip.css("border-bottom-width")),U=n.$tooltip.css("border-bottom-color");R>1&&R++;var z="";if(0!==R){var H="",W="border-color: "+U+";";-1!==B.indexOf("bottom")?H="margin-top: -"+Math.round(R)+"px;":-1!==B.indexOf("top")?H="margin-bottom: -"+Math.round(R)+"px;":-1!==B.indexOf("left")?H="margin-right: -"+Math.round(R)+"px;":-1!==B.indexOf("right")&&(H="margin-left: -"+Math.round(R)+"px;"),z='<span class="tooltipster-arrow-border" style="'+H+" "+W+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var q='<div class="'+B+' tooltipster-arrow" style="'+r+'">'+z+'<span style="border-color:'+M+';"></span></div>';n.$tooltip.append(q)}n.$tooltip.css({top:Math.round(j)+"px",left:Math.round(E)+"px"})}return n},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var e=this;e.hide(),e.$el[0]!==e.$elProxy[0]&&e.$elProxy.remove(),e.$el.removeData(e.namespace).off("."+e.namespace);var n=e.$el.data("tooltipster-ns");if(1===n.length){var i=null;"previous"===e.options.restoration?i=e.$el.data("tooltipster-initialTitle"):"current"===e.options.restoration&&(i="string"==typeof e.Content?e.Content:t("<div></div>").append(e.Content).html()),i&&e.$el.attr("title",i),e.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=t.grep(n,(function(t,n){return t!==e.namespace})),e.$el.data("tooltipster-ns",n);return e},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},t.fn.tooltipster=function(){var e=arguments;if(0===this.length){if("string"==typeof e[0]){var n=!0;switch(e[0]){case"setDefaults":t.extend(l,e[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof e[0]){var i="#*$~&";return this.each((function(){var n=t(this).data("tooltipster-ns"),o=n?t(this).data(n[0]):null;if(!o)throw new Error("You called Tooltipster's \""+e[0]+'" method on an uninitialized element');if("function"!=typeof o[e[0]])throw new Error('Unknown method .tooltipster("'+e[0]+'")');var r=o[e[0]](e[1],e[2]);if(r!==o)return i=r,!1})),"#*$~&"!==i?i:this}var r=[],a=e[0]&&void 0!==e[0].multiple,s=a&&e[0].multiple||!a&&l.multiple,c=e[0]&&void 0!==e[0].debug,d=c&&e[0].debug||!c&&l.debug;return this.each((function(){var n=!1,i=t(this).data("tooltipster-ns"),a=null;i?s?n=!0:d&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(a=new o(this,e[0]),i||(i=[]),i.push(a.namespace),t(this).data("tooltipster-ns",i),t(this).data(a.namespace,a)),r.push(a)})),s?r:this};var c=!!("ontouchstart"in e),d=!1;t("body").one("mousemove",(function(){d=!0}))}(jQuery,window,document)},function(t,e,n){"use strict";var i,o,r,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,
/*!
 * Cropper v3.1.6
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2018 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-03-01T13:33:48.179Z
 */
a=function(t){t=t&&t.hasOwnProperty("default")?t.default:t;var e="undefined"!=typeof window?window:{},n="cropper-hidden",i=e.PointerEvent?"pointerdown":"touchstart mousedown",o=e.PointerEvent?"pointermove":"touchmove mousemove",r=e.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",a=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,s=/^data:/,l=/^data:image\/jpeg;base64,/,c=/^(img|canvas)$/i,d={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},u=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},p=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),f=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function h(t){return"string"==typeof t}var m=Number.isNaN||e.isNaN;function g(t){return"number"==typeof t&&!m(t)}function v(t){return void 0===t}function b(t,e){for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return function(){for(var n=arguments.length,o=Array(n),r=0;r<n;r++)o[r]=arguments[r];return t.apply(e,i.concat(o))}}var y=Object.keys||function(e){var n=[];return t.each(e,(function(t){n.push(t)})),n},w=/\.\d*(?:0|9){12}\d*$/i;function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return w.test(t)?Math.round(t*e)/e:t}var _=e.location,S=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function k(t){var e=t.match(S);return e&&(e[1]!==_.protocol||e[2]!==_.hostname||e[3]!==_.port)}function C(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function P(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,o=t.translateX,r=t.translateY,a=[];return g(o)&&0!==o&&a.push("translateX("+o+"px)"),g(r)&&0!==r&&a.push("translateY("+r+"px)"),g(e)&&0!==e&&a.push("rotate("+e+"deg)"),g(n)&&1!==n&&a.push("scaleX("+n+")"),g(i)&&1!==i&&a.push("scaleY("+i+")"),a.length?a.join(" "):"none"}var T=e.navigator,E=T&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(T.userAgent);function A(e,n){var i=e.pageX,o=e.pageY,r={endX:i,endY:o};return n?r:t.extend({startX:i,startY:o},r)}var j=Number.isFinite||e.isFinite;function L(t){var e=t.aspectRatio,n=t.height,i=t.width,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",r=function(t){return j(t)&&t>0};if(r(i)&&r(n)){var a=n*e;"contain"===o&&a>i||"cover"===o&&a<i?n=i/e:i=n*e}else r(i)?n=i/e:r(n)&&(i=n*e);return{width:i,height:n}}function $(e,n,i,o){var r=n.rotate,a=void 0===r?0:r,s=n.scaleX,l=void 0===s?1:s,c=n.scaleY,d=void 0===c?1:c,u=i.aspectRatio,p=i.naturalWidth,h=i.naturalHeight,m=o.fillColor,g=void 0===m?"transparent":m,v=o.imageSmoothingEnabled,b=void 0===v||v,y=o.imageSmoothingQuality,w=void 0===y?"low":y,_=o.maxWidth,S=void 0===_?1/0:_,k=o.maxHeight,C=void 0===k?1/0:k,P=o.minWidth,T=void 0===P?0:P,E=o.minHeight,A=void 0===E?0:E,j=document.createElement("canvas"),$=j.getContext("2d"),F=L({aspectRatio:u,width:S,height:C}),O=L({aspectRatio:u,width:T,height:A},"cover"),D=Math.min(F.width,Math.max(O.width,p)),I=Math.min(F.height,Math.max(O.height,h)),N=[-D/2,-I/2,D,I];return j.width=x(D),j.height=x(I),$.fillStyle=g,$.fillRect(0,0,D,I),$.save(),$.translate(D/2,I/2),$.rotate(a*Math.PI/180),$.scale(l,d),$.imageSmoothingEnabled=b,$.imageSmoothingQuality=w,$.drawImage.apply($,[e].concat(f(t.map(N,(function(t){return Math.floor(x(t))}))))),$.restore(),j}var F=String.fromCharCode,O=/^data:.*,/;function D(t){var e=new DataView(t),n=void 0,i=void 0,o=void 0,r=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var a=e.byteLength,s=2;s<a;){if(255===e.getUint8(s)&&225===e.getUint8(s+1)){o=s;break}s+=1}if(o){var l=o+10;if("Exif"===function(t,e,n){var i="",o=void 0;for(n+=e,o=e;o<n;o+=1)i+=F(t.getUint8(o));return i}(e,o+4,4)){var c=e.getUint16(l);if(((i=18761===c)||19789===c)&&42===e.getUint16(l+2,i)){var d=e.getUint32(l+4,i);d>=8&&(r=l+d)}}}if(r){var u=e.getUint16(r,i),p=void 0,f=void 0;for(f=0;f<u;f+=1)if(p=r+12*f+2,274===e.getUint16(p,i)){p+=8,n=e.getUint16(p,i),e.setUint16(p,1,i);break}}return n}var I={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,i=this.$container,o=this.$cropper;o.addClass(n),t.removeClass(n),o.css(this.container={width:Math.max(i.width(),Number(e.minContainerWidth)||200),height:Math.max(i.height(),Number(e.minContainerHeight)||100)}),t.addClass(n),o.removeClass(n)},initCanvas:function(){var e=this.container,n=this.image,i=this.options.viewMode,o=Math.abs(n.rotate)%180==90,r=o?n.naturalHeight:n.naturalWidth,a=o?n.naturalWidth:n.naturalHeight,s=r/a,l=e.width,c=e.height;e.height*s>e.width?3===i?l=e.height*s:c=e.width/s:3===i?c=e.width/s:l=e.height*s;var d={aspectRatio:s,naturalWidth:r,naturalHeight:a,width:l,height:c};d.left=(e.width-l)/2,d.top=(e.height-c)/2,d.oldLeft=d.left,d.oldTop=d.top,this.canvas=d,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImage=t.extend({},n),this.initialCanvas=t.extend({},d)},limitCanvas:function(t,e){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=n.viewMode,s=o.aspectRatio,l=this.cropped&&r;if(t){var c=Number(n.minCanvasWidth)||0,d=Number(n.minCanvasHeight)||0;a>0&&(a>1?(c=Math.max(c,i.width),d=Math.max(d,i.height),3===a&&(d*s>c?c=d*s:d=c/s)):c?c=Math.max(c,l?r.width:0):d?d=Math.max(d,l?r.height:0):l&&(c=r.width,(d=r.height)*s>c?c=d*s:d=c/s));var u=L({aspectRatio:s,width:c,height:d});c=u.width,d=u.height,o.minWidth=c,o.minHeight=d,o.maxWidth=1/0,o.maxHeight=1/0}if(e)if(a>0){var p=i.width-o.width,f=i.height-o.height;o.minLeft=Math.min(0,p),o.minTop=Math.min(0,f),o.maxLeft=Math.max(0,p),o.maxTop=Math.max(0,f),l&&this.limited&&(o.minLeft=Math.min(r.left,r.left+r.width-o.width),o.minTop=Math.min(r.top,r.top+r.height-o.height),o.maxLeft=r.left,o.maxTop=r.top,2===a&&(o.width>=i.width&&(o.minLeft=Math.min(0,p),o.maxLeft=Math.max(0,p)),o.height>=i.height&&(o.minTop=Math.min(0,f),o.maxTop=Math.max(0,f))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(t,e){var n=this.canvas,i=this.image;if(e){var o=function(t){var e=t.width,n=t.height,i=t.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:e};var o=i%90*Math.PI/180,r=Math.sin(o),a=Math.cos(o),s=e*a+n*r,l=e*r+n*a;return i>90?{width:l,height:s}:{width:s,height:l}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),r=o.width,a=o.height,s=n.width*(r/n.naturalWidth),l=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(l-n.height)/2,n.width=s,n.height=l,n.aspectRatio=r/a,n.naturalWidth=r,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,this.$canvas.css({width:n.width,height:n.height,transform:P({translateX:n.left,translateY:n.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var n=this.canvas,i=this.image,o=i.naturalWidth*(n.width/n.naturalWidth),r=i.naturalHeight*(n.height/n.naturalHeight);t.extend(i,{width:o,height:r,left:(n.width-o)/2,top:(n.height-r)/2}),this.$clone.css({width:i.width,height:i.height,transform:P(t.extend({translateX:i.left,translateY:i.top},i))}),e&&this.output()},initCropBox:function(){var e=this.options,n=this.canvas,i=e.aspectRatio,o=Number(e.autoCropArea)||.8,r={width:n.width,height:n.height};i&&(n.height*i>n.width?r.height=r.width/i:r.width=r.height*i),this.cropBox=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*o),r.height=Math.max(r.minHeight,r.height*o),r.left=n.left+(n.width-r.width)/2,r.top=n.top+(n.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBox=t.extend({},r)},limitCropBox:function(t,e){var n=this.options,i=this.container,o=this.canvas,r=this.cropBox,a=this.limited,s=n.aspectRatio;if(t){var l=Number(n.minCropBoxWidth)||0,c=Number(n.minCropBoxHeight)||0,d=Math.min(i.width,a?o.width:i.width),u=Math.min(i.height,a?o.height:i.height);l=Math.min(l,i.width),c=Math.min(c,i.height),s&&(l&&c?c*s>l?c=l/s:l=c*s:l?c=l/s:c&&(l=c*s),u*s>d?u=d/s:d=u*s),r.minWidth=Math.min(l,d),r.minHeight=Math.min(c,u),r.maxWidth=d,r.maxHeight=u}e&&(a?(r.minLeft=Math.max(0,o.left),r.minTop=Math.max(0,o.top),r.maxLeft=Math.min(i.width,o.left+o.width)-r.width,r.maxTop=Math.min(i.height,o.top+o.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=i.width-r.width,r.maxTop=i.height-r.height))},renderCropBox:function(){var t=this.options,e=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&this.$face.data("action",n.width>=e.width&&n.height>=e.height?"move":"all"),this.$cropBox.css({width:n.width,height:n.height,transform:P({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger("crop",this.getData())}},N={initPreview:function(){var e=this.crossOrigin,n=e?this.crossOriginUrl:this.url,i=document.createElement("img");e&&(i.crossOrigin=e),i.src=n;var o=t(i);this.$preview=t(this.options.preview),this.$clone2=o,this.$viewBox.html(o),this.$preview.each((function(i,o){var r=t(o),a=document.createElement("img");r.data("preview",{width:r.width(),height:r.height(),html:r.html()}),e&&(a.crossOrigin=e),a.src=n,a.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',r.html(a)}))},resetPreview:function(){this.$preview.each((function(e,n){var i=t(n),o=i.data("preview");i.css({width:o.width,height:o.height}).html(o.html).removeData("preview")}))},preview:function(){var e=this.image,n=this.canvas,i=this.cropBox,o=i.width,r=i.height,a=e.width,s=e.height,l=i.left-n.left-e.left,c=i.top-n.top-e.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:a,height:s,transform:P(t.extend({translateX:-l,translateY:-c},e))}),this.$preview.each((function(n,i){var d=t(i),u=d.data("preview"),p=u.width,f=u.height,h=p,m=f,g=1;o&&(m=r*(g=p/o)),r&&m>f&&(h=o*(g=f/r),m=f),d.css({width:h,height:m}).find("img").css({width:a*g,height:s*g,transform:P(t.extend({translateX:-l*g,translateY:-c*g},e))})})))}},B={bind:function(){var e=this.$element,n=this.options,a=this.$cropper;t.isFunction(n.cropstart)&&e.on("cropstart",n.cropstart),t.isFunction(n.cropmove)&&e.on("cropmove",n.cropmove),t.isFunction(n.cropend)&&e.on("cropend",n.cropend),t.isFunction(n.crop)&&e.on("crop",n.crop),t.isFunction(n.zoom)&&e.on("zoom",n.zoom),a.on(i,b(this.cropStart,this)),n.zoomable&&n.zoomOnWheel&&a.on("wheel mousewheel DOMMouseScroll",b(this.wheel,this)),n.toggleDragModeOnDblclick&&a.on("dblclick",b(this.dblclick,this)),t(this.element.ownerDocument).on(o,this.onCropMove=b(this.cropMove,this)).on(r,this.onCropEnd=b(this.cropEnd,this)),n.responsive&&t(window).on("resize",this.onResize=b(this.resize,this))},unbind:function(){var e=this.$element,n=this.options,a=this.$cropper;t.isFunction(n.cropstart)&&e.off("cropstart",n.cropstart),t.isFunction(n.cropmove)&&e.off("cropmove",n.cropmove),t.isFunction(n.cropend)&&e.off("cropend",n.cropend),t.isFunction(n.crop)&&e.off("crop",n.crop),t.isFunction(n.zoom)&&e.off("zoom",n.zoom),a.off(i,this.cropStart),n.zoomable&&n.zoomOnWheel&&a.off("wheel mousewheel DOMMouseScroll",this.wheel),n.toggleDragModeOnDblclick&&a.off("dblclick",this.dblclick),t(this.element.ownerDocument).off(o,this.onCropMove).off(r,this.onCropEnd),n.responsive&&t(window).off("resize",this.onResize)}},M={resize:function(){var e=this.options,n=this.$container,i=this.container,o=Number(e.minContainerWidth)||200,r=Number(e.minContainerHeight)||100;if(!(this.disabled||i.width<=o||i.height<=r)){var a=n.width()/i.width;if(1!==a||n.height()!==i.height){var s=void 0,l=void 0;e.restore&&(s=this.getCanvasData(),l=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(t.each(s,(function(t,e){s[t]=e*a}))),this.setCropBoxData(t.each(l,(function(t,e){l[t]=e*a}))))}}},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass("cropper-crop")?"move":"crop")},wheel:function(t){var e=this,n=t.originalEvent||t,i=Number(this.options.wheelZoomRatio)||.1;if(!this.disabled&&(t.preventDefault(),!this.wheeling)){this.wheeling=!0,setTimeout((function(){e.wheeling=!1}),50);var o=1;n.deltaY?o=n.deltaY>0?1:-1:n.wheelDelta?o=-n.wheelDelta/120:n.detail&&(o=n.detail>0?1:-1),this.zoom(-o*i,t)}},cropStart:function(e){if(!this.disabled){var n=this.options,i=this.pointers,o=e.originalEvent,r=void 0;o&&o.changedTouches?t.each(o.changedTouches,(function(t,e){i[e.identifier]=A(e)})):i[o&&o.pointerId||0]=A(o||e),r=y(i).length>1&&n.zoomable&&n.zoomOnTouch?"zoom":t(e.target).data("action"),a.test(r)&&(this.trigger("cropstart",{originalEvent:o,action:r}).isDefaultPrevented()||(e.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,this.$dragBox.addClass("cropper-modal"))))}},cropMove:function(e){var n=this.action;if(!this.disabled&&n){var i=this.pointers,o=e.originalEvent;e.preventDefault(),this.trigger("cropmove",{originalEvent:o,action:n}).isDefaultPrevented()||(o&&o.changedTouches?t.each(o.changedTouches,(function(e,n){t.extend(i[n.identifier],A(n,!0))})):t.extend(i[o&&o.pointerId||0],A(o||e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var n=this.action,i=this.pointers,o=e.originalEvent;o&&o.changedTouches?t.each(o.changedTouches,(function(t,e){delete i[e.identifier]})):delete i[o&&o.pointerId||0],n&&(e.preventDefault(),y(i).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass("cropper-modal",this.cropped&&this.options.modal)),this.trigger("cropend",{originalEvent:o,action:n}))}}},R={change:function(e){var i=this.options,o=this.pointers,r=this.container,a=this.canvas,s=this.cropBox,l=this.action,c=i.aspectRatio,d=s.left,u=s.top,p=s.width,f=s.height,h=d+p,m=u+f,g=0,v=0,b=r.width,w=r.height,x=!0,_=void 0;!c&&e.shiftKey&&(c=p&&f?p/f:1),this.limited&&(g=s.minLeft,v=s.minTop,b=g+Math.min(r.width,a.width,a.left+a.width),w=v+Math.min(r.height,a.height,a.top+a.height));var S=o[y(o)[0]],k={x:S.endX-S.startX,y:S.endY-S.startY},C=function(t){switch(t){case"e":h+k.x>b&&(k.x=b-h);break;case"w":d+k.x<g&&(k.x=g-d);break;case"n":u+k.y<v&&(k.y=v-u);break;case"s":m+k.y>w&&(k.y=w-m)}};switch(l){case"all":d+=k.x,u+=k.y;break;case"e":if(k.x>=0&&(h>=b||c&&(u<=v||m>=w))){x=!1;break}C("e"),p+=k.x,c&&(f=p/c,u-=k.x/c/2),p<0&&(l="w",p=0);break;case"n":if(k.y<=0&&(u<=v||c&&(d<=g||h>=b))){x=!1;break}C("n"),f-=k.y,u+=k.y,c&&(p=f*c,d+=k.y*c/2),f<0&&(l="s",f=0);break;case"w":if(k.x<=0&&(d<=g||c&&(u<=v||m>=w))){x=!1;break}C("w"),p-=k.x,d+=k.x,c&&(f=p/c,u+=k.x/c/2),p<0&&(l="e",p=0);break;case"s":if(k.y>=0&&(m>=w||c&&(d<=g||h>=b))){x=!1;break}C("s"),f+=k.y,c&&(p=f*c,d-=k.y*c/2),f<0&&(l="n",f=0);break;case"ne":if(c){if(k.y<=0&&(u<=v||h>=b)){x=!1;break}C("n"),f-=k.y,u+=k.y,p=f*c}else C("n"),C("e"),k.x>=0?h<b?p+=k.x:k.y<=0&&u<=v&&(x=!1):p+=k.x,k.y<=0?u>v&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);p<0&&f<0?(l="sw",f=0,p=0):p<0?(l="nw",p=0):f<0&&(l="se",f=0);break;case"nw":if(c){if(k.y<=0&&(u<=v||d<=g)){x=!1;break}C("n"),f-=k.y,u+=k.y,p=f*c,d+=k.y*c}else C("n"),C("w"),k.x<=0?d>g?(p-=k.x,d+=k.x):k.y<=0&&u<=v&&(x=!1):(p-=k.x,d+=k.x),k.y<=0?u>v&&(f-=k.y,u+=k.y):(f-=k.y,u+=k.y);p<0&&f<0?(l="se",f=0,p=0):p<0?(l="ne",p=0):f<0&&(l="sw",f=0);break;case"sw":if(c){if(k.x<=0&&(d<=g||m>=w)){x=!1;break}C("w"),p-=k.x,d+=k.x,f=p/c}else C("s"),C("w"),k.x<=0?d>g?(p-=k.x,d+=k.x):k.y>=0&&m>=w&&(x=!1):(p-=k.x,d+=k.x),k.y>=0?m<w&&(f+=k.y):f+=k.y;p<0&&f<0?(l="ne",f=0,p=0):p<0?(l="se",p=0):f<0&&(l="nw",f=0);break;case"se":if(c){if(k.x>=0&&(h>=b||m>=w)){x=!1;break}C("e"),f=(p+=k.x)/c}else C("s"),C("e"),k.x>=0?h<b?p+=k.x:k.y>=0&&m>=w&&(x=!1):p+=k.x,k.y>=0?m<w&&(f+=k.y):f+=k.y;p<0&&f<0?(l="nw",f=0,p=0):p<0?(l="sw",p=0):f<0&&(l="ne",f=0);break;case"move":this.move(k.x,k.y),x=!1;break;case"zoom":this.zoom(function(e){var n=t.extend({},e),i=[];return t.each(e,(function(e,o){delete n[e],t.each(n,(function(t,e){var n=Math.abs(o.startX-e.startX),r=Math.abs(o.startY-e.startY),a=Math.abs(o.endX-e.endX),s=Math.abs(o.endY-e.endY),l=Math.sqrt(n*n+r*r),c=(Math.sqrt(a*a+s*s)-l)/l;i.push(c)}))})),i.sort((function(t,e){return Math.abs(t)<Math.abs(e)})),i[0]}(o),e.originalEvent),x=!1;break;case"crop":if(!k.x||!k.y){x=!1;break}_=this.$cropper.offset(),d=S.startX-_.left,u=S.startY-_.top,p=s.minWidth,f=s.minHeight,k.x>0?l=k.y>0?"se":"ne":k.x<0&&(d-=p,l=k.y>0?"sw":"nw"),k.y<0&&(u-=f),this.cropped||(this.$cropBox.removeClass(n),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}x&&(s.width=p,s.height=f,s.left=d,s.top=u,this.action=l,this.renderCropBox()),t.each(o,(function(t,e){e.startX=e.endX,e.startY=e.endY}))}},U={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass("cropper-modal"),this.$cropBox.removeClass(n)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=t.extend({},this.initialImage),this.canvas=t.extend({},this.initialCanvas),this.cropBox=t.extend({},this.initialCropBox),this.renderCanvas(),this.cropped&&this.renderCropBox())},clear:function(){this.cropped&&!this.disabled&&(t.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass("cropper-modal"),this.$cropBox.addClass(n))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass("cropper-disabled"))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass("cropper-disabled"))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(n)):this.isImg?t.off("load",this.start):this.$clone&&this.$clone.remove(),t.removeData("cropper")},move:function(t,e){var n=this.canvas,i=n.left,o=n.top;this.moveTo(v(t)?t:i+Number(t),v(e)?e:o+Number(e))},moveTo:function(t,e){var n=this.canvas,i=!1;v(e)&&(e=t),t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(g(t)&&(n.left=t,i=!0),g(e)&&(n.top=e,i=!0),i&&this.renderCanvas(!0))},zoom:function(t,e){var n=this.canvas;t=(t=Number(t))<0?1/(1-t):1+t,this.zoomTo(n.width*t/n.naturalWidth,e)},zoomTo:function(e,n){var i=this.options,o=this.pointers,r=this.canvas,a=r.width,s=r.height,l=r.naturalWidth,c=r.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var d=l*e,u=c*e,p=void 0;if(n&&(p=n.originalEvent),this.trigger("zoom",{originalEvent:p,oldRatio:a/l,ratio:d/l}).isDefaultPrevented())return;if(p){var f=this.$cropper.offset(),h=o&&y(o).length?function(e){var n=0,i=0,o=0;return t.each(e,(function(t,e){var r=e.startX,a=e.startY;n+=r,i+=a,o+=1})),{pageX:n/=o,pageY:i/=o}}(o):{pageX:n.pageX||p.pageX||0,pageY:n.pageY||p.pageY||0};r.left-=(d-a)*((h.pageX-f.left-r.left)/a),r.top-=(u-s)*((h.pageY-f.top-r.top)/s)}else r.left-=(d-a)/2,r.top-=(u-s)/2;r.width=d,r.height=u,this.renderCanvas(!0)}},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){g(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var e=this.image.scaleY;this.scale(t,g(e)?e:1)},scaleY:function(t){var e=this.image.scaleX;this.scale(g(e)?e:1,t)},scale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=this.image,i=!1;t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(g(t)&&(n.scaleX=t,i=!0),g(e)&&(n.scaleY=e,i=!0),i&&this.renderCanvas(!0,!0))},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.image,o=this.canvas,r=this.cropBox,a=void 0;if(this.ready&&this.cropped){a={x:r.left-o.left,y:r.top-o.top,width:r.width,height:r.height};var s=i.width/i.naturalWidth;t.each(a,(function(t,n){n/=s,a[t]=e?Math.round(n):n}))}else a={x:0,y:0,width:0,height:0};return n.rotatable&&(a.rotate=i.rotate||0),n.scalable&&(a.scaleX=i.scaleX||1,a.scaleY=i.scaleY||1),a},setData:function(e){var n=this.options,i=this.image,o=this.canvas,r={};if(t.isFunction(e)&&(e=e.call(this.element)),this.ready&&!this.disabled&&t.isPlainObject(e)){var a=!1;n.rotatable&&g(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,a=!0),n.scalable&&(g(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,a=!0),g(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,a=!0)),a&&this.renderCanvas(!0,!0);var s=i.width/i.naturalWidth;g(e.x)&&(r.left=e.x*s+o.left),g(e.y)&&(r.top=e.y*s+o.top),g(e.width)&&(r.width=e.width*s),g(e.height)&&(r.height=e.height*s),this.setCropBoxData(r)}},getContainerData:function(){return this.ready?t.extend({},this.container):{}},getImageData:function(){return this.loaded?t.extend({},this.image):{}},getCanvasData:function(){var e=this.canvas,n={};return this.ready&&t.each(["left","top","width","height","naturalWidth","naturalHeight"],(function(t,i){n[i]=e[i]})),n},setCanvasData:function(e){var n=this.canvas,i=n.aspectRatio;t.isFunction(e)&&(e=e.call(this.$element)),this.ready&&!this.disabled&&t.isPlainObject(e)&&(g(e.left)&&(n.left=e.left),g(e.top)&&(n.top=e.top),g(e.width)?(n.width=e.width,n.height=e.width/i):g(e.height)&&(n.height=e.height,n.width=e.height*i),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(e){var n=this.cropBox,i=this.options.aspectRatio,o=void 0,r=void 0;t.isFunction(e)&&(e=e.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&t.isPlainObject(e)&&(g(e.left)&&(n.left=e.left),g(e.top)&&(n.top=e.top),g(e.width)&&e.width!==n.width&&(o=!0,n.width=e.width),g(e.height)&&e.height!==n.height&&(r=!0,n.height=e.height),i&&(o?n.height=n.width/i:r&&(n.width=n.height*i)),this.renderCropBox())},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvas,i=$(this.$clone[0],this.image,n,e);if(!this.cropped)return i;var o=this.getData(),r=o.x,a=o.y,s=o.width,l=o.height,c=i.width/Math.floor(n.naturalWidth);1!==c&&(r*=c,a*=c,s*=c,l*=c);var d=s/l,u=L({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),p=L({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=L({aspectRatio:d,width:e.width||(1!==c?i.width:s),height:e.height||(1!==c?i.height:l)}),m=h.width,g=h.height;m=Math.min(u.width,Math.max(p.width,m)),g=Math.min(u.height,Math.max(p.height,g));var v=document.createElement("canvas"),b=v.getContext("2d");v.width=x(m),v.height=x(g),b.fillStyle=e.fillColor||"transparent",b.fillRect(0,0,m,g);var y=e.imageSmoothingEnabled,w=void 0===y||y,_=e.imageSmoothingQuality;b.imageSmoothingEnabled=w,_&&(b.imageSmoothingQuality=_);var S=i.width,k=i.height,C=r,P=a,T=void 0,E=void 0,A=void 0,j=void 0,F=void 0,O=void 0;C<=-s||C>S?(C=0,T=0,A=0,F=0):C<=0?(A=-C,C=0,F=T=Math.min(S,s+C)):C<=S&&(A=0,F=T=Math.min(s,S-C)),T<=0||P<=-l||P>k?(P=0,E=0,j=0,O=0):P<=0?(j=-P,P=0,O=E=Math.min(k,l+P)):P<=k&&(j=0,O=E=Math.min(l,k-P));var D=[C,P,T,E];if(F>0&&O>0){var I=m/s;D.push(A*I,j*I,F*I,O*I)}return b.drawImage.apply(b,[i].concat(f(t.map(D,(function(t){return Math.floor(x(t))}))))),v},setAspectRatio:function(t){var e=this.options;this.disabled||v(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.options,n=void 0,i=void 0;this.loaded&&!this.disabled&&(n="crop"===t,i=e.movable&&"move"===t,t=n||i?t:"none",this.$dragBox.data("action",t).toggleClass("cropper-crop",n).toggleClass("cropper-move",i),e.cropBoxMovable||this.$face.data("action",t).toggleClass("cropper-crop",n).toggleClass("cropper-move",i))}},z=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(u(this,e),!n||!c.test(n.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=n,this.$element=t(n),this.options=t.extend({},d,t.isPlainObject(i)&&i),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}return p(e,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",this.originalUrl=e,!e)return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(e,n){var i=t.Event(e,n);return this.$element.trigger(i),i}},{key:"load",value:function(e){var n=this;if(e){this.url=e,this.image={};var i=this.$element,o=this.options;if(o.checkOrientation&&window.ArrayBuffer)if(s.test(e))l.test(e)?this.read((r=e.replace(O,""),a=atob(r),c=new ArrayBuffer(a.length),d=new Uint8Array(c),t.each(d,(function(t){d[t]=a.charCodeAt(t)})),c)):this.clone();else{var r,a,c,d,u=new XMLHttpRequest;u.onerror=function(){n.clone()},u.onload=function(){n.read(u.response)},o.checkCrossOrigin&&k(e)&&!i.prop("crossOrigin")&&(e=C(e)),u.open("get",e),u.responseType="arraybuffer",u.withCredentials="use-credentials"===i.prop("crossOrigin"),u.send()}else this.clone()}}},{key:"read",value:function(e){var n=this.options,i=this.image,o=D(e),r=0,a=1,s=1;if(o>1){this.url=function(e,n){var i=new Uint8Array(e),o="";return t.each(i,(function(t,e){o+=F(e)})),"data:"+n+";base64,"+btoa(o)}(e,"image/jpeg");var l=function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(o);r=l.rotate,a=l.scaleX,s=l.scaleY}n.rotatable&&(i.rotate=r),n.scalable&&(i.scaleX=a,i.scaleY=s),this.clone()}},{key:"clone",value:function(){var e=this.$element,n=this.options,i=this.url,o="",r=void 0;n.checkCrossOrigin&&k(i)&&((o=e.prop("crossOrigin"))?r=i:(o="anonymous",r=C(i))),this.crossOrigin=o,this.crossOriginUrl=r;var a=document.createElement("img");o&&(a.crossOrigin=o),a.src=r||i;var s=t(a);this.$clone=s,this.isImg?this.element.complete?this.start():e.one("load",t.proxy(this.start,this)):s.one("load",t.proxy(this.start,this)).one("error",t.proxy(this.stop,this)).addClass("cropper-hide").insertAfter(e)}},{key:"start",value:function(){var e=this,n=this.$clone,i=this.$element;this.isImg||(n.off("error",this.stop),i=n),function(t,e){if(!t.naturalWidth||E){var n=document.createElement("img");n.onload=function(){e(n.width,n.height)},n.src=t.src}else e(t.naturalWidth,t.naturalHeight)}(i[0],(function(n,i){t.extend(e.image,{naturalWidth:n,naturalHeight:i,aspectRatio:n/i}),e.loaded=!0,e.build()}))}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var e=this;if(this.loaded){this.ready&&this.unbuild();var i=this.$element,o=this.options,r=this.$clone,a=t('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>'),s=a.find(".cropper-crop-box"),l=s.find(".cropper-face");this.$container=i.parent(),this.$cropper=a,this.$canvas=a.find(".cropper-canvas").append(r),this.$dragBox=a.find(".cropper-drag-box"),this.$cropBox=s,this.$viewBox=a.find(".cropper-view-box"),this.$face=l,i.addClass(n).after(a),this.isImg||r.removeClass("cropper-hide"),this.initPreview(),this.bind(),o.aspectRatio=Math.max(0,o.aspectRatio)||NaN,o.viewMode=Math.max(0,Math.min(3,Math.round(o.viewMode)))||0,this.cropped=o.autoCrop,o.autoCrop?o.modal&&this.$dragBox.addClass("cropper-modal"):s.addClass(n),o.guides||s.find(".cropper-dashed").addClass(n),o.center||s.find(".cropper-center").addClass(n),o.cropBoxMovable&&l.addClass("cropper-move").data("action","all"),o.highlight||l.addClass("cropper-invisible"),o.background&&a.addClass("cropper-bg"),o.cropBoxResizable||s.find(".cropper-line,.cropper-point").addClass(n),this.setDragMode(o.dragMode),this.render(),this.ready=!0,this.setData(o.data),this.completing=setTimeout((function(){t.isFunction(o.ready)&&i.one("ready",o.ready),e.trigger("ready"),e.trigger("crop",e.getData()),e.completed=!0}),0)}}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(e){t.extend(d,t.isPlainObject(e)&&e)}}]),e}();if(t.extend&&t.extend(z.prototype,I,N,B,M,R,U),t.fn){var H=t.fn.cropper;t.fn.cropper=function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var r=void 0;return this.each((function(n,o){var a=t(o),s=a.data("cropper");if(!s){if(/destroy/.test(e))return;var l=t.extend({},a.data(),t.isPlainObject(e)&&e);s=new z(o,l),a.data("cropper",s)}if(h(e)){var c=s[e];t.isFunction(c)&&(r=c.apply(s,i))}})),v(r)?this:r},t.fn.cropper.Constructor=z,t.fn.cropper.setDefaults=z.setDefaults,t.fn.cropper.noConflict=function(){return t.fn.cropper=H,this}}},"object"===s(e)&&void 0!==t?a(n(135)):(o=[n(135)],void 0===(r="function"==typeof(i=a)?i.apply(e,o):i)||(t.exports=r))},function(t,e,n){"use strict";
/*!
 * Image Compressor v1.1.3
 * https://github.com/xkeshi/image-compressor
 *
 * Copyright (c) 2017-2018 Xkeshi
 * Released under the MIT license
 *
 * Date: 2018-03-23T01:35:12.857Z
 */window.ImageCompressor=function(){var t=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){!function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,i=e.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),o=i&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),r=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,a=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,s=(i||r)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(t){var e,n,s,l,c,d,u,p,f;if(!(e=t.match(a)))throw new Error("invalid data URI");for(n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),s=!!e[4],l=t.slice(e[0].length),c=s?atob(l):decodeURIComponent(l),d=new ArrayBuffer(c.length),u=new Uint8Array(d),p=0;p<c.length;p+=1)u[p]=c.charCodeAt(p);return i?new Blob([o?u:d],{type:n}):((f=new r).append(d),f.getBlob(n))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(t,e,i){var o=this;setTimeout((function(){i&&n.toDataURL&&s?t(s(o.toDataURL(e,i))):t(o.mozGetAsFile("blob",e))}))}:n.toDataURL&&s&&(n.toBlob=function(t,e,n){var i=this;setTimeout((function(){t(s(i.toDataURL(e,n)))}))})),t.exports?t.exports=s:e.dataURLtoBlob=s}(window)})),e=Object.prototype.toString,n={checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},i=/^image\/.+$/;function o(t){return i.test(t)}var r=String.fromCharCode,a=window.btoa;function s(t,e){var n=new Uint8Array(t),i=n.length,o="",s=void 0;for(s=0;s<i;s+=1)o+=r(n[s]);return"data:"+e+";base64,"+a(o)}function l(t){var e=new DataView(t),n=void 0,i=void 0,o=void 0,a=void 0;if(255===e.getUint8(0)&&216===e.getUint8(1))for(var s=e.byteLength,l=2;l<s;){if(255===e.getUint8(l)&&225===e.getUint8(l+1)){o=l;break}l+=1}if(o){var c=o+10;if("Exif"===function(t,e,n){var i="",o=void 0;for(n+=e,o=e;o<n;o+=1)i+=r(t.getUint8(o));return i}(e,o+4,4)){var d=e.getUint16(c);if(((i=18761===d)||19789===d)&&42===e.getUint16(c+2,i)){var u=e.getUint32(c+4,i);u>=8&&(a=c+u)}}}if(a){var p=e.getUint16(a,i),f=void 0,h=void 0;for(h=0;h<p;h+=1)if(f=a+12*h+2,274===e.getUint16(f,i)){f+=8,n=e.getUint16(f,i),e.setUint16(f,1,i);break}}return n}var c=/\.\d*(?:0|9){12}\d*$/i;function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return c.test(t)?Math.round(t*e)/e:t}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},f=window,h=f.ArrayBuffer,m=f.FileReader,g=window.URL||window.webkitURL,v=/\.\w+$/;return function(){function i(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),this.result=null,t&&this.compress(t,e)}return u(i,[{key:"compress",value:function(i,r){var a=this,c=new Image;return r=p({},n,r),h||(r.checkOrientation=!1),new Promise((function(t,n){if((a=i)instanceof Blob||"[object Blob]"===e.call(a)){var a,c=i.type;if(o(c))if(g||m){if(g&&!r.checkOrientation)t({url:g.createObjectURL(i)});else if(m){var d=new m,u=r.checkOrientation&&"image/jpeg"===c;d.onload=function(e){var n=e.target.result;t(u?p({url:s(n,c)},function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(l(n))):{url:n})},d.onabort=n,d.onerror=n,u?d.readAsArrayBuffer(i):d.readAsDataURL(i)}}else n(new Error("The current browser does not support image compression."));else n(new Error("The first argument must be an image File or Blob object."))}else n(new Error("The first argument must be a File or Blob object."))})).then((function(t){return new Promise((function(e,n){c.onload=function(){return e(p({},t,{naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight}))},c.onabort=n,c.onerror=n,c.alt=i.name,c.src=t.url}))})).then((function(e){var n=e.naturalWidth,s=e.naturalHeight,l=e.rotate,u=void 0===l?0:l,p=e.scaleX,f=void 0===p?1:p,h=e.scaleY,m=void 0===h?1:h;return new Promise((function(e){var l=document.createElement("canvas"),p=l.getContext("2d"),h=n/s,g=Math.max(r.maxWidth,0)||1/0,v=Math.max(r.maxHeight,0)||1/0,b=Math.max(r.minWidth,0)||0,y=Math.max(r.minHeight,0)||0,w=n,x=s;g<1/0&&v<1/0?v*h>g?v=g/h:g=v*h:g<1/0?v=g/h:v<1/0&&(g=v*h),b>0&&y>0?y*h>b?y=b/h:b=y*h:b>0?y=b/h:y>0&&(b=y*h),r.width>0?x=(w=r.width)/h:r.height>0&&(w=(x=r.height)*h);var _=-(w=Math.min(Math.max(w,b),g))/2,S=-(x=Math.min(Math.max(x,y),v))/2,k=w,C=x;if(Math.abs(u)%180==90){var P={width:x,height:w};w=P.width,x=P.height}l.width=d(w),l.height=d(x),o(r.mimeType)||(r.mimeType=i.type);var T="transparent";i.size>r.convertSize&&"image/png"===r.mimeType&&(T="#fff",r.mimeType="image/jpeg"),p.fillStyle=T,p.fillRect(0,0,w,x),p.save(),p.translate(w/2,x/2),p.rotate(u*Math.PI/180),p.scale(f,m),r.beforeDraw&&r.beforeDraw.call(a,p,l),p.drawImage(c,Math.floor(d(_)),Math.floor(d(S)),Math.floor(d(k)),Math.floor(d(C))),r.drew&&r.drew.call(a,p,l),p.restore();var E=function(t){e({naturalWidth:n,naturalHeight:s,result:t})};l.toBlob?l.toBlob(E,r.mimeType,r.quality):E(t(l.toDataURL(r.mimeType,r.quality)))}))})).then((function(t){var e=t.naturalWidth,n=t.naturalHeight,s=t.result;if(g&&!r.checkOrientation&&g.revokeObjectURL(c.src),s)if(s.size>i.size&&r.mimeType===i.type&&!(r.width>e||r.height>n||r.minWidth>e||r.minHeight>n))s=i;else{var l=new Date;s.lastModified=l.getTime(),s.lastModifiedDate=l,s.name=i.name,s.name&&s.type!==i.type&&(s.name=s.name.replace(v,function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o(t)?t.substr(6):"";return"jpeg"===n&&(n="jpg"),n&&e&&(n="."+n),n}(s.type)))}else s=i;return a.result=s,r.success&&r.success.call(a,s),Promise.resolve(s)})).catch((function(t){if(!r.error)throw t;r.error.call(a,t)}))}}]),i}()}()},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var t,e,n=[],o={};function r(){if(t)e=!0;else{t=!0,e=!1;for(var i=0;i<n.length;)a(n[i])?n.splice(i,1):i++;e&&setTimeout(r,1),t=!1,e=!1}}function a(t){var e,n=[];if(t.deps){for(var r=0;r<t.deps.length;r++){var a=t.deps[r].replace(/\(\)$/,"");if(!(a in o))return;n.push(o[a])}for(r=0;r<t.deps.length;r++)if(/\(\)$/.test(t.deps[r]))try{n[r]=n[r](t)}catch(e){console.error("Error while execute include",t.deps[r],"for module",t,e)}}try{e=t.func.apply(t,n)}catch(e){console.error("Error while execute module ",t.path||t.name,e)}return"object"==(void 0===e?"undefined":i(e))&&e.then?e.then((function(e){s(t,e)}),(function(e){console.error("Error while execute module ",t.path||t.name,e),s(t)})):s(t,e),!0}function s(t,e){t.result=e,(t.name||t.path)&&(t.name&&(o[t.name]=e),t.path&&(o[t.path]=e),r())}function l(){var t=document.getElementsByTagName("script"),e=t[t.length-1],n=e&&e.src||"",i=/^([^?]*)\/[^?]*/.exec(window.location.href)[1]+"/";return n.startsWith(i)&&(n=n.replace(i,"")),n}window.defineM=function(t,e,o){for(var a={},s=0;s<3;s++)"string"==typeof arguments[s]?a.name=arguments[s]:"function"==typeof arguments[s]?a.func=arguments[s]:"object"==i(arguments[s])&&arguments[s]instanceof Array&&(a.deps=arguments[s]);if(a.func)return a.path=l(),a.name=a.name||a.path.replace(/\.js$/,""),n.push(a),r(),a;console.error("Error: no function while module define",arguments)}}()},function(t,e,n){"use strict";defineM("mbrApp",(function(t,e){var n=function(){this.$iframeOverlay=t("<div>").hide().css({position:"absolute",left:0,top:65,right:0,bottom:0}).appendTo("body"),e.isMobile&&t("html").addClass("device"),this.$window=t(window),this.$body=t("body")},i={},o={};n.prototype.on=function(e,n){if(t.isArray(e))for(var r in e)this.on(e[r],n);else if(e in o){if(n)try{n.apply(this,o[e])}catch(t){console.error(t)}}else(i[e]||(i[e]=[])).push(n)},n.prototype.off=function(t,e){if(!i[t])return!1;if(e)for(var n=0;n<i[t].length;n++)i[t][n]===e&&(i[t][n]=void 0);else delete i[t]},n.prototype.fire=function(t){e&&1&e.debug&&console.log("fire mbrApp::"+t);var n=[].slice.call(arguments,1);if(void 0!==i[t])for(var o in i[t])if(i[t][o])try{i[t][o].apply(this,n)}catch(t){console.error(t)}},n.prototype.fireOnce=function(t){if(e&&1&e.debug&&console.log("fire mbrApp::"+t),!(t in o)){var n=[].slice.call(arguments,1);for(var r in o[t]=n,i[t])if(i[t][r])try{i[t][r].apply(this,n),i[t][r]=void 0}catch(t){console.error(t)}}};var r={};n.prototype.addFilter=function(t,e){(r[t]||(r[t]=[])).push(e)},n.prototype.applyFilter=function(t){e&&2&e.debug&&console.log("applyFilter App:"+t);var n=[].slice.call(arguments,1);if(r[t])for(var i=r[t],o=0,a=i.length;o<a;o++)try{n[0]=i[o].apply(this,n),void 0===n[0]&&console.warn("handle of "+t+" filter return undefined: ",i[o])}catch(t){console.error(t)}return n[0]};var a={};n.prototype.regExtension=n.prototype.registerExtension=function(t){if(!t.name||void 0!==a[t.name])return!1;if(a[t.name]=t,t.global)for(var n in t.global)n in this?console.error("Error re-definition method mbrApp."+n+" by module "+t.name):this[n]=t.global[n];if(t.events)for(var i in t.events)this.on(i,t.events[i]);if(t.filters)for(var i in t.filters)this.addFilter(i,t.filters[i]);return e&&8&e.debug&&console.log("mbrApp.regExtension"+t.name),!0},n.prototype.rmExtension=n.prototype.removeExtension=function(t){if(!a[t])return!1;var e=a[t].global;if(e)for(var n in e)this.k&&delete this.k;return delete a[t],!0},n.prototype.bridgeInit=function(){this.fireOnce("bridgeInit")};var s=0;return n.prototype.uniqNum=function(){return s++},n.prototype.resetUniqNum=function(t){s=0,t&&this.Core.resetUniqNum()},window.mbrApp=new n,e.setOnReady((function(){e.bind("drop",(function(t){for(var e in t)window.mbrApp.fire("incomingFile",t[e])})),t((function(){window.mbrApp.bridgeInit()}))})),window.mbrApp}),["jQuery","Bridge"])},function(t,e,n){"use strict";var i=n(27);defineM("analytics",(function(t,e,n){function o(e,n){a("screenName",e),ga("send",t.extend({hitType:"pageview",page:e||"index"},n))}function r(t,e,n){ga("send",{hitType:"event",eventCategory:t,eventAction:e,eventLabel:n})}function a(t,e){ga("set",t,e)}function s(t,e){return btoa(l(t,e)).replace(/[=]+$/,"")}function l(t,e){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t.charCodeAt(i)^e);return n}!function(t){if(t.global)for(var n in t.global)e[n]=t.global[n];if(t.events)for(var i in t.events)e.on(i,t.events[i])}({name:"analytics",events:{load:function(){var t;t=l("[O#??<=>7:<6#?",14),ga("create",t,"auto"),a("checkProtocolTask",null),a("checkStorageTask",null),a("historyImportTask",null),a("appName",i.Bridge.appName+"-online"),a("appVersion","web"),a("language",e.getLangInfo().language||"en-us"),e.checkUserInfo((function(t){t&&(t.id&&a("dimension1",""+t.id),a("userId",s(e.getUserInfo()&&e.getUserInfo().email||"",14)))}))},loaded:function(){o("/root")},signedin:function(){e.checkUserInfo((function(t){t&&(t.id&&a("dimension1",""+t.id),a("userId",s(e.getUserInfo()&&e.getUserInfo().email||"",14)))}))},shownAddonsDialog:function(){e.getAddonsListAsText((function(t){var n=e.projectSettings&&e.projectSettings.currentPage&&e.Core.getPages()[e.projectSettings.currentPage];o("/addons",{dimension2:t,dimension3:n&&n.settings&&n.settings.title||""})}))},modalDialogShow:function(t,e){"google-fonts"==e.className&&o("/fonts")},downloadedFont:function(t){r("Fonts","add-font",t.family)},deletedFont:function(t){r("Fonts","del-font",t)}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("aws-app-core",(function(t,e,n,i){var o=t(".app-template > iframe")[0];e.regExtension({name:"aws-app-core",global:{$iframe:t(o),iframe:o,iwindow:o.contentWindow||o,Core:void 0,appElements:{window:{width:0,height:0},iframe:{width:0,height:0},iframeBody:{width:0,height:0},sidebar:{width:0,height:0},componentsLayer:{width:0,height:0,left:0,top:0},paramsLayer:{width:0,height:0,left:0,top:0}},$template:void 0,publishKW:"",listKW:[""],preloaderHTML:'<div class="preloader preloader-spinner"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>',path2core:function(t){return t=i.path2app(t),/^(\w*\:)?\/\//.test(t)?t:"../../"+t},core2path:function(t){return/^(\w*\:)?\/\//.test(t)?t:i.path2app("web/app/builder/"+t)},appElementsUpdate:function(){this.appElements={window:{width:this.$window.width(),height:this.$window.height()},iframe:{width:this.$iframe.width(),height:this.$iframe.height()},iframeBody:{width:this.Core.$body.width(),height:this.Core.$body.height()},sidebar:{width:this.$sidebar.width(),height:this.$sidebar.height()},componentsLayer:{width:this.$componentsLayer.width(),height:this.$componentsLayer.height()},paramsLayer:{width:this.$componentsParams.width(),height:this.$componentsParams.height()}}},coreInit:function(){var e=this;e.appElementsUpdate(),e.$window.on("resize",(function(t){e.appElementsUpdate(),e.fire("resizeInterface",t)})),t(e.iwindow).on("resize",(function(t){e.appElementsUpdate(),e.fire("resizeTemplate",t)})),t(e.$body).on("click",(function(n){t(n.target).is(".modal")||t(n.target).parents(".modal").length||e.fire("clickBody",n)})),t(e.iwindow).on("click",(function(t){e.fire("clickTemplate",t)}))}},events:{bridgeInit:function(){var e=this;e.fireOnce("createUI"),t(e.iframe).one("load",(function(){e.$template=t(e.iframe.contentDocument||e.iframe.contentWindow.document),e.Core=e.iwindow.mbrAppCore,e.iwindow.mbrAppCore.APP=e,e.fireOnce("beforeAppLoad"),e.on("addonsReady",(function(){e.on("accountInited",(function(){e.fireOnce("appLoaded")}))}))}));var n=t(e.iframe).attr("data-src");i.loadLocalFile(n,(function(t){o.src="about:blank",o.contentWindow.document.open(),o.contentWindow.document.write(t.replace(/<head>/i,'<head><base href="'+i.path2app(n)+'"/>')),o.contentWindow.document.close()}))},started:function(){t(".preloader").delay(100).fadeOut(1e3,(function(){t(this).remove()}))}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=n(27);function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}defineM("app-init",(function(t,e){e.regExtension({name:"app-init",global:{startApplicationProject:function(t,n,i){var o=this;function r(){o.fireOnce("beforeCoreLoad"),o.Core.fireOnce("load"),o.fireOnce("coreLoad"),o.coreInit(),o.fireOnce("load"),o._forceLoadProject(n,t,i)}e.loadThemeAddon(t&&t.settings&&t.settings.theme&&t.settings.theme.name||!1,(function(t){t||console.error("Critical: default theme is wrong!"),o.getUserInfo()?o.loadAllAddons(r):r()}))},_forceLoadProject:function(t,e,n){var i=this;function o(){i.createProject(e&&e.settings&&e.settings.name||"My Site",e,0,n,(function(t){return n()}))}t?i.loadProject(t,e,{noSave:!0,onError:function(){return o()},onDone:function(){return n()}}):o()},startRecent:function(t){var n=this;e.getRecentProject((function(i,o){o?n._forceLoadProject(o,i,(function(i){i&&e.showError(i);n._emitStartComplete(),t&&t()})):n.newProject(!0,(function(){n._emitStartComplete(),t&&t()}))}))},startApplicationRecent:function(){var t=this;e.getRecentProject((function(n,i,o){if(n)return e.showError("Failed to load project list");o?function(n,i){e.startApplicationProject(n,i,(function(n){n?e.showError(n.message||n):t._emitStartComplete()}))}(i,o):t.createProject("My Site",0,0,(function(t){t&&e.showError(t.message||t)}))}),!0)},createProjectWithPresets:function(t,n,i){i=i||function(){},this._readProjectWithPresets(t,n).then((function(t){e.createProject(n.name,t,0,i,(function(){return i()}))})).catch(i)},_readProjectWithPresets:function(t,e){var n=this;return this._readPresetProject(t).then((function(t){return n.presetProjectParams(t,e)}))},_readPresetProject:function(t){return new Promise((function(n,o){i.Bridge.loadLocalFile((e.theme&&e.theme.path||e.getAddonDir(e.DEFAULT_THEME))+"/projects/"+t+"/project.mobirise",(function(e){e=e.replace(/\@PROJECT_PATH\@/g,"@THEME_PATH@/projects/"+t);try{n(JSON.parse(e))}catch(t){o(t)}}))}))},applyProjectPresets:function(t,n,o){if("string"==typeof(n=n||e.prepareProjectText()))try{n=JSON.parse(e.prepareProjectText())}catch(t){}this.presetProjectParams(n,t).then((function(n){e.loadProject(e.projectPath,n,{onError:function(t){e._emitStartComplete(),o&&o(t)},onDone:function(){e._emitStartComplete(),o&&o()}}),i.Bridge.changeRecentSettings(e.projectPath,{name:t.name},(function(t){console.warn("Can't apply project name to recent list")}))})).catch((function(t){e._emitStartComplete(),o&&o(t)}))},_emitStartComplete:function(){e.fireOnce("loaded"),e.fireOnce("started")},presetProjectParams:function(t,n){return t.settings=t.settings||{},t.settings.sourceProject=t.settings.sourceProject||t.settings.name.toLowerCase(),t.settings.name=n.name||t.settings.name,t.pages=t.pages||{},t.pages["index.html"]=t.pages["index.html"]||{},t.pages["index.html"].components=t.pages["index.html"].components||[],n.email=e.getUserInfo().email,n.year=e.getCurrentYear(),new Promise((function(i){function r(){!function(t,e){t.pages["index.html"].settings=t.pages["index.html"].settings||{},t.pages["index.html"].settings.title=e.name,t.pages["index.html"].components.forEach((function(t){var n=void 0;try{n=(new DOMParser).parseFromString(t._customHTML,"text/html")}catch(t){return void console.error(t)}[].concat(o(n.querySelectorAll("[mbr-link-type=address],[mbr-link-type=phone],[mbr-link-type=email],[mbr-link-type=name],[mbr-link-type=year]"))).forEach((function(t){e[t.getAttribute("mbr-link-type")]&&(t.innerHTML=e[t.getAttribute("mbr-link-type")])})),e.email&&e.account!=e.email&&[].concat(o(n.querySelectorAll("form"))).forEach((function(t){return t.setAttribute("action",e.email)})),e.address&&e.place_id&&[].concat(o(n.querySelectorAll("input[type=map]"))).forEach((function(t){t.setAttribute("place-id",e.place_id),t.setAttribute("value",t.address)})),t._customHTML=n.body.innerHTML}))}(t,n),i(t)}t.settings.authorLocation?(n.address=t.settings.authorLocation.address,r()):(e.fire("setAuthorProjectLocation"),e.userPosPromise.then((function(e){t.settings.authorLocation=e,n.address=e.address,n.phone="+"+e.phoneCode+"-000-000-0000",r()}),(function(t){r()})))}))}},events:{appLoaded:function(){i.Bridge.isDev||window.addEventListener("beforeunload",(function(t){(t||window.event).returnValue=""})),window.stopStart||e.startApplicationRecent()}}})}),["jQuery","mbrApp","app-plugin-map"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-common",(function(t,e,n,o,r){e.regExtension({name:"common",global:{redirectLinks:function(n,i){var o=this;t("a[href^=http]",n).each((function(){t(this).data("link",t(this).attr("href"))})).attr("href","javascript:void(0)").click((function(n){n.stopPropagation(),e.openUrl(t(this).data("link"))})),t("iframe",n).each((function(){o.redirectLinks(this.contentWindow.document.documentElement,i)}))},openUrl:function(t){t=e.applyFilter("openUrl",t),(t=o.substUrl(t))&&o.openUrl(t)},criticalError:function(t,e){var i="<i>"+n("This is a critical error, some functions of the program may not work correctly, please send information to the developers.")+"</i>",o=this;if(e){if(o._criticalErrorShown.indexOf(e)>=0)return;if(o._criticalErrorShowed.indexOf(t)>=0)return;o._criticalErrorShown.push(e),o._criticalErrorShowed.push(t)}bootbox.dialog({title:n("Critical error"),message:(t||"")+"<br/>"+i,buttons:{cancel:{label:n("Cancel"),className:"btn-default",callback:function(){}},success:{label:n("Send Error Report"),className:"btn-primary",callback:function(){r.sendMessage("support","CRASH_REPORT__!!! \n \n"+mbrLogger.createReport({clientInfo:!0}))}}}}).on("hidden.bs.modal",(function(){o._criticalErrorShowed.slice(o._criticalErrorShowed.indexOf(t),1)}))},_criticalErrorShown:[],_criticalErrorShowed:[],showDialog:function(i){var o=!1;this.$body.find(".bootbox.modal").length&&this.$body.find(".bootbox.modal").each((function(e,n){(t(n).find(".modal-title").length&&t(n).find(".modal-title").html()===i.title||t(n).find(".modal-body").length&&t(n).find(".modal-body").html()===i.body)&&(o=!0)}));if(!o){var r,a=this,s={};if((i=i||{}).cancel&&(s.cancel={label:i.cancelLabel||n("Cancel"),className:"btn-default",callback:function(){i.cancel.call(r,r)}}),i.success&&(s.success={label:i.successLabel||n("Ok"),className:"btn-primary",callback:function(){i.success.call(r,r)}}),i.buttons)for(var l in i.buttons)!function(t){s[l]={label:t.label||"",className:(t.className||"")+" "+(/btn-primary|btn-default/.test(t.className)?"":t.default?"btn-primary":"btn-default"),callback:function(){if(t.callback)return t.callback()}}}(i.buttons[l]);for(var c in r=bootbox.dialog({size:i.size,title:i.title,className:i.className+(i.flex?" mbr-flex":""),message:i.body||"\x3c!-- Empty body --\x3e",buttons:s,onEscape:i.oncancel||function(){},show:!1}),i.id&&r.attr("id",i.id),i.buttons)r.find("[data-bb-handler="+c+"]").attr("name",c);return i.create&&i.create.call(r,r),r.find("select").dropdown({absolutePos:!0,align:"right"}),r.find("input.mbr-color").each((function(){var i=t(this),o=function(t,e){if(-1==(e=e.map((function(t){return t.toUpperCase()}))).indexOf(t.toUpperCase()))return!0};i.spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",allowEmpty:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",replacerClassName:i.hasClass("pull-right")?"pull-right":"",appendTo:"#innerFontDialog",maxSelectionSize:1,palette:e.getThemeColorsSet(7),move:function(t){i.val(t&&t.toHexString()),i.trigger("change")},hide:function(t){var n;t&&((n=e.projectSettings.theme.additionalSetColors)?o(t.toHexString(),n)&&o(t.toHexString(),e.getThemeColorsSet(7)[0])&&(n.length<7?n.push(t.toHexString()):(n.unshift(t.toHexString()),n.pop())):o(t.toHexString(),e.getThemeColorsSet(7)[0])?e.projectSettings.theme.additionalSetColors=[t.toHexString()]:e.projectSettings.theme.additionalSetColors=[])}})})),i.show&&i.show.call(r,r),r.on("shown.bs.modal",(function(){a.fire("modalDialogShow",r,i)})),t(r).on("hide.bs.modal",(function(){r.find("select").each((function(){t(t(this).data("dropdownjs-ul")).remove()})),r.find("input.mbr-color").spectrum("hide"),a.fire("modalDialogHide",r)})),r.on("hidden.bs.modal",(function(){e.$body.find(".modal:visible").length&&e.$body.addClass("modal-open"),r.find("input.mbr-color").spectrum("destroy"),i.onhide&&(i.onhide.call(r,r),console.log("Warning: Using showDialog.onhide is depracated, use showDialog.hide instead")),i.hide&&i.hide.call(r,r),a.fire("modalDialogHidden",r)})),r.modal("show"),r}},showError:function(t,e){"object"!=(void 0===t?"undefined":i(t))&&(t={message:t||"Unknown error"}),t.callback=t.callback||e,bootbox.alert(t)},confirmDlg:function(t,n){return"object"!==(void 0===t?"undefined":i(t))?t={body:t,cancel:function(){n(!1)},success:function(){n(!0)},oncancel:function(){n(!1)}}:(t.body=t.message,t.buttons?(t.buttons.cancel.callback=function(){t.callback(!1)},t.buttons.confirm.callback=function(){t.callback(!0)},t.buttons.confirm.default=!0):(t.cancel=function(){t.callback(!1)},t.success=function(){t.callback(!0)},t.oncancel=function(){t.callback(!1)}),t.oncancel=function(){t.callback(!1)}),e.showDialog(t)},alertDlg:function(t){var n={body:t,success:function(){}};return e.showDialog(n)},Accordion:function(e,n,i){return i=t.extend({autoCollapse:!0},i),e=t(e),n=t(n),e.click((function(){var t=n.eq(e.index(this));i.autoCollapse&&n.not(t).slideUp(),t.slideToggle()})),i.autoCollapse?(n.hide(),t(i.start_panel||n.get(0)).show()):n.show(),{collapse:function(e){t(e||n).hide()},expand:function(e){t(e||n).show()},open:function(e){n.hide(),t(e).show()},close:function(e){t(e).hide()}}},initPopoverRange:function(e){var n=this;t(e).popover({trigger:"click,focus",content:function(){return n.renderRangeSlider(e)},html:!0,placement:"top"})},renderRangeSlider:function(e){var n=t(e),i=t('<div class="slider" style="width:150px" />').get(0),o=parseFloat(n.attr("data-min"))||0,r=parseFloat(n.attr("data-max"))||10,a=parseFloat(n.attr("data-step"))||1;noUiSlider.create(i,{start:parseFloat(n.val())||o,step:a,range:{min:o,max:r}});var s=t("<span></span>").appendTo(t(i).find(".noUi-handle")),l=0;return i.noUiSlider.on("update",(function(e,a){if(l){var c=parseFloat(e[a]);t(i).removeClass("noUi-first noUi-last"),c==o?t(i).addClass("noUi-first"):c==r&&t(i).addClass("noUi-last"),s.html("<span>"+c+"</span>"),n.val(c).trigger("change")}else l=1})),i},runIframe:function(t,n,i){(i=i||{}).base=i.base||window.location.href;var o="";if(o="<html><head>",o+='<base href="'+i.base+'"/>',i.links)for(var r=0;r<i.links.length;r++)o+='<link rel="stylesheet" href="'+i.links[r]+'"/>';return o+="</head><body"+(e.appSettings&&(!0===e.appSettings.darkMode?' class="dark-mode"':""))+">",o+=n||"",o+="</body></html>",t.style.visibility="hidden",i.noScroll&&(t.setAttribute("scrolling","no"),t.style.overflow="hidden"),t.onload=function(){t.onload="",this.style.visibility="visible",i.onload&&i.onload(t.contentWindow.document.documentElement)},t.contentWindow.document.open(),t.contentWindow.document.write(o),t.contentWindow.document.close(),t},addAppResource:function(e,n){if(e)return void 0===n&&(n=/\.js$/.test(e.split("?")[0])),n?this.addAppScript(e):(this.addAppStyle(e),t.Deferred().resolve())},addCoreResource:function(n,i){if(n){void 0===i&&(i=/\.js$/.test(n.split("?")[0]));var o=e.Core.$body.data("files")||[];return o.indexOf(n)>=0?t.Deferred().resolve():(o.push(n),e.Core.$body.data("files",o),i?this.addCoreScript(n):(n=e.path2core(n),e.Core.$document.find("#insertBefore").before('<link rel="stylesheet" href="'+n+'"/>'),t.Deferred().resolve()))}},addAppScript:function(n){var i=t.Deferred();return this.appendScriptAsync(o.path2app(n),e.$window.get(0),(function(t){return i.resolve()})),i.promise()},addAppStyle:function(t){e.$body.find("#insertBefore").before('<link rel="stylesheet" href="'+o.path2app(t)+'">')},addCoreScript:function(n){var i=t.Deferred();return this.appendScriptAsync(e.path2core(n),e.iwindow,(function(t){return i.resolve()})),i.promise()},appendScriptAsync:function(t,e,n){var i=document.createElement("script");i.addEventListener("load",n),i.addEventListener("error",(function(e){console.warn("Error while script loading "+t,e),n&&n()})),i.src=t,(e||window).document.head.appendChild(i)},checkScriptSyntaxError:function(t,e){var n,i=document.createElement("iframe");i.style.visibility="hidden",window.document.body.appendChild(i),i.myerrors=function(t,e,i){return t&&!t.indexOf("SyntaxError:")&&((n=new Error(t)).fileName=e,n.lineNumber=i),!0},i.onload=function(){window.document.body.removeChild(i),e&&e(n)},i.contentWindow.document.open();try{i.contentWindow.document.write('<html><head><script> window.onerror = window.frameElement.myerrors <\/script><script src="'+t+'"><\/script></head><body></body></html>'),i.contentWindow.document.close()}catch(n){}},evalScript:function(t,e){var n=(e=e||{}).globals||{},i=!!e.noCheckErrors,r=e.context||window,a=e.callback_error||function(){};if(!(r.eval&&r.location||(r=(r=r.ownerDocument||r).defaultView||r).eval&&r.location)){var s=new Error("Wrong context of evalScript",r);return console.error(s),void a(s)}if(!/^[\w]*:/.test(t)){var l=r.location.href,c=l.substring(0,l.lastIndexOf("/")+1);t=c+t}function d(t,e){o.loadLocalFile(t,(function(i){if(!i)return console.error("Empty script",t),void e(new Error("Empty script",t));var o,a={};for(var s in n)a[s]=r[s],r[s]=n[s];try{r.eval(i)}catch(e){console.error(e.message,t,e.stack),o=e}for(var s in a)r[s]=a[s];e(o)}))}i?setTimeout((function(){d(t,a)}),1):this.checkScriptSyntaxError(t,(function(e){if(e)return console.error("Script error:",e,t),void a(e);setTimeout((function(){d(t,a)}),1)}))},spinText:function(t){for(var e=function(t){return t[(e=0,n=t.length,Math.floor(Math.random()*(n-e))+e)];var e,n};/\{[^{}]*\}/.exec(t);)t=t.replace(/\{([^{}]*)\}(\s?)/g,(function(t,n,i){return(n=e(n.split("|")))&&(n+=i),n}));return t.replace(/\s$/,"")},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>"'\/]/g,(function(t){return e[t]}))},http:function(t,e){return o.http(t,e)},reloadTranslator:function(t){"MobiriseTranslator"===t.name&&o.reload()},resizeWindow:function(){e.$window.resize()},runFileDialog:function(t){return t.path&&(t.path=o.docLocation+"/"+t.path),$Bridge.runFileDialog2(t)},showPreloader:function(n){if(e.$body.find(".preloader").length)e.$body.find(".preloader").css({opacity:".8",transition:"0.2s"}),n&&n();else{var i=t(e.preloaderHTML);e.$body.append(i),i.css({opacity:".8",transition:"0.2s"}),i.one("transitionend",(function(){n&&n()}))}},hidePreloader:function(t){var n=e.$body.find(".preloader");n.one("transitionend",(function(){n.remove(),t&&t()})),n.css("opacity",0)},openImage:function(t,e,n,i,r,a,s){o.openImage(t,e,n,i,r,a,s)},mbrServerGet:function(t){return r.get("storage/"+t)},stopIfRepeatDecorator:function(t,e){var n=null;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){t.apply(i,o)}),e)}}},events:{beforeAppLoad:function(){t(document).on("show.bs.modal",(function(e){t(e.target).find(".close").addClass("mbr-icon-times").empty()}))},translateLoaded:function(){t(".preloader .logo").last().html(n("LOADING..."))}}})}),["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var i=n(27);defineM("app-migrate",(function(t,e){e.regExtension({name:"migrate",global:{dirList:function(t,e,n){i.Bridge.dirList(t,e,n)},transformImage:function(t,e,n){i.Bridge.transformImage(t,e,n)},getComponent:function(t){return e.Core.getComponent(t)},getCoreTemplate:function(){return e.Core.$template},removeComponent:function(t,n,i){return e.Core.removeComponent(t,n,i)},getUniqCompName:function(){return e.Core.getUniqCompName()},getCoreUniqNum:function(){return e.Core.uniqNum()}},events:{load:function(){e.Core.on("savedMediaIconFontDialog",(function(t,n,i){e.fire("savedMediaIconFontDialog",t,n,i)})),e.Core.on("updateGlobalComponents",(function(t,n){e.fire("updateGlobalComponents",t,n)})),e.Core.addFilter("getComponentsAnchorList",(function(t){return e.applyFilter("getComponentsAnchorList",t)}))},loaded:function(){e.addFilter("additionalSiteSettings",(function(t){return e.applyFilter("additionalPageSettings",t)}))}}})}),["jQuery","mbrApp"])},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(140),a=(i=r)&&i.__esModule?i:{default:i},s=n(27);defineM("TR",(function(t,e){var n={},i={},r=t.Deferred();function l(t,e){var i=function(t){var i=t;function o(){return"global"!==e&&n.groups.global[t]?n.groups.global[t]:t}return e=e||"global",n.groups&&(i=n.groups[e]&&n.groups[e][t]?n.groups[e][t]:o()),i};return t?"string"==typeof t&&t.search(/<[^>]+\/?>/)<0?i(t):function(t){var e;if("string"==typeof t)(e=document.implementation.createHTMLDocument("fake doc").createElement("div")).innerHTML=t;else{if(!t.nodeType)return t;e=t}return function t(e){var n;if(1===e.nodeType?e.hasAttribute("title")&&e.setAttribute("title",i(e.getAttribute("title").trim())):3===e.nodeType&&(n=e.textContent,!/^\s+$/.test(n)&&/[A-Za-z]+/.test(n))&&(e.textContent=e.textContent.replace(e.textContent.trim(),i(e.textContent.trim()))),e.childNodes.length)for(var o=0,r=e.childNodes.length;o<r;o++)t(e.childNodes[o])}(e),e.innerHTML}(t):t}function c(){var t,n;a.default.getSettings("language").then((function(e){return t=e.split('"')[1]||e||"en",a.default.osLocale()})).then((function(i){n=(n=i.match(/([a-z]+)_/))&&n[1]||"",function(t,n){e.getTranslateFilesInfo().then((function(i){for(var o,r,c="",d="",u=0,p=i.length;u<p;u++)d=n===i[u].language?"selected":"",c+='<option value="'+i[u].language+'" '+d+">"+i[u].title+"</option>";o=['<div class="form-group">','   <select class="lang-select">',c,"   </select>","</div>"],r=e.showDialog({title:l("Change language?"),className:"change_language",body:o.join("\n"),buttons:{success:{label:l("Ok"),className:"btn-primary",callback:function(){var n;(n=r.find(".lang-select").val())!==t&&a.default.setSettings("language",n).then((function(){s.Bridge.reload()})).fail((function(){e.alertDlg(l("Error setup language!"))}))}}},show:function(t){d||t.find("select.lang-select").val("en").change()},cancel:function(){}})}))}(t,n)})).fail((function(t){console.error(t)}))}return i.updateLangObj=function(t){for(var e in t.language&&!n.language&&(n.language=t.language),t.title&&!n.title&&(n.title=t.title),n.groups||(n.groups={}),t.groups)if(t.groups[e].length){n.groups[e]||(n.groups[e]={});for(var i=0,o=t.groups[e].length;i<o;i++)n.groups[e][t.groups[e][i].phrase]=t.groups[e][i].translate}},i.init=function(n){var i=this;return e.on("themeLoaded",(function(){e.getTranslateFileData(n,e.theme.name).then((function(t,e){t&&i.updateLangObj(t)}))})),e.getTranslateFileData(n).then((function(o,r){var a=t.Deferred();o&&i.updateLangObj(o),e.getPluginsExtensions().then((function(t){!function o(r){r<t.length?e.getTranslateFileData(n,t[r].name).then((function(t,e){t&&i.updateLangObj(t),o(++r)})):a.resolve()}(0)})).fail((function(t){console.log(t)}))}))},e.regExtension({name:"translate",global:{languageList:{af:"Afrikaans",am:"Amharic",ar:"Arabic",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bn:"Bengali",br:"Breton",bs:"Bosnian",ca:"Catalan",co:"Corsican",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fil:"Filipino",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Scots Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hr:"Croatian",hu:"Hungarian",hy:"Armenian",ia:"Interlingua",id:"Indonesian",is:"Icelandic",it:"Italian",ja:"Japanese",jw:"Javanese",ka:"Georgian",kk:"Kazakh",km:"Cambodian",kn:"Kannada",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",ln:"Lingala",lo:"Laothian",lt:"Lithuanian",lv:"Latvian",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mo:"Moldavian",mr:"Marathi",ms:"Malay",mt:"Maltese",ne:"Nepali",nl:"Dutch",no:"Norwegian",oc:"Occitan",om:"Oromo",or:"Oriya",pa:"Punjabi",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",sd:"Sindhi",sh:"Serbo-Croatian",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",st:"Sesotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tlh:"Klingon",to:"Tonga",tr:"Turkish",tt:"Tatar",tw:"Twi",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zh:"Chinese",zu:"Zulu"},TR:l,getAccountTranslateDir:function(){return e.getAccountPath()?e.getAccountPath()+"/translations":""},getSrcTranslationsFolder:function(t){return"interface"!==t&&t?e.getAddonDir(t)+"/translations":"web/assets/translations"},getTranslationsFolder:function(t){var n=e.getAccountTranslateDir();return"interface"!==t&&t?n?n+"/"+t:"":n},validateTranslationData:function(t){return e.languageList[t.language]===t.title&&function(){if(t.groups)for(var e in t.groups)if(t.groups[e].length)for(var n=0,i=t.groups[e].length;n<i;n++)if(t.groups[e][n].phrase&&void 0!==t.groups[e][n].translate)return!0;return!1}()},getTranslateFileData:function(n,i){var o=t.Deferred(),r=[];return e.getTranslationsFolder(i)&&r.push(e.getTranslationsFolder(i)+"/"+n+".json"),e.getSrcTranslationsFolder(i)&&r.push(e.getSrcTranslationsFolder(i)+"/"+n+".json"),function t(n){n>=r.length?o.resolve():a.default.loadLocalFile(r[n]).then((function(i){try{i=JSON.parse(i),e.validateTranslationData(i)?o.resolve(i,r[n]):t(++n)}catch(e){t(++n)}}))}(0),o.promise()},getPluginsExtensions:function(){var n=t.Deferred();return e.getAddons((function(t){var e=[];if(t)for(var i in t)"plugin"===t[i].type&&e.push(t[i]);n.resolve(e)})),n.promise()},getTranslateFilesPaths:function(n){var i=[],o=t.Deferred(),r=e.getTranslationsFolder(n),l=e.getSrcTranslationsFolder(n),c=l+"/en.json",d=r+"/en.json";return a.default.isExistsLocal(c).then((function(t){return e.isValidTranslateFile(t?c:d)})).then((function(c){c?(r?a.default.dirList(r,{names:["*.json"],filter:1,recursive:!1}).then((function(n){var o=t.Deferred();return function t(a){var l;a<n.length?(l=r+"/"+n[a],"en"!==s.Bridge.splitPath(l).name?e.isValidTranslateFile(l).then((function(e){e&&i.push(l),t(++a)})):t(++a)):o.resolve()}(0),o.promise()})):t.Deferred().resolve()).then((function(){return"interface"!==n&&n?a.default.dirList(l,{names:["*.json"],filter:1,recursive:!1}):a.default.getLocalJSON(l+"/list.json")})).then((function(n){var o=t.Deferred();return function t(r){var a,c,d=!1;if(r<n.length){if(a=l+"/"+n[r],c=s.Bridge.splitPath(a).name,i.length)for(var u=0,p=i.length;u<p;u++)if(c===s.Bridge.splitPath(i[u]).name){d=!0;break}d?t(++r):e.isValidTranslateFile(a).then((function(e){e&&i.push(a),t(++r)}))}else o.resolve()}(0),o.promise()})).then((function(){o.resolve(i)})):o.resolve([])})),o.promise()},isValidTranslateFile:function(n){var i=t.Deferred();return s.Bridge.getLocalJSON(n,(function(t){t?i.resolve(e.validateTranslationData(t)):i.resolve(!1)})),i.promise()},getTranslateFilesInfo:function(n){return e.getTranslateFilesPaths(n).then((function(n){var i=t.Deferred(),o=[];return function t(r){r<n.length?a.default.loadLocalFile(n[r]).then((function(n){if(n)try{n=JSON.parse(n),e.validateTranslationData(n)&&o.push({title:n.title,language:n.language})}catch(t){}t(++r)})):i.resolve(o)}(0),i.promise()}))},getLangInfo:function(){return n},startLanguageSelect:c},events:{load:function(){l(e.$sidebar[0]),l(e.$pagesList[0]),l(e.$pageSettings[0]),l(e.$componentsLayer[0]),l(e.$themeToggleBtn[0]),bootbox.setLocale(n.language),a.default.getSettings("language").then((function(t){t?n.language=t.split('"')[1]||t:c()})),e.addFilter("addAppSettingsItem",(function(t){return[t,"<div>",'   <label class="col-md-3">'+l("Language")+"</label>",'   <div class="col-md-9">',"       <br>",'       <div class="setting">','           <div class="row">','               <div class="input-group">','                   <select class="form-control" name="language"></select>',"               </div>","           </div>","       </div>","   </div>","</div>"].join("\n")}))},beforeAppLoad:function(){e.Core.addFilter("loadComponentTemplate",(function(t,n,i,o){return e.isSecondaryComponent(n)&&t&&(t=l(t,e.theme.name)),t}))},showAppSettings:function(i){e.getTranslateFilesInfo().then((function(e){var o="";if(e.length)for(var r=0,a=e.length;r<a;r++)o+='<option value="'+e[r].language+'">'+e[r].title+"</option>";t("select[name=language]").append(o),t("select[name=language]").change();var s=i.find('[name="language"]');n.language&&(s.val(n.language),s.trigger("change"))}))},applyAppSettings:function(t){var e=t.find('[name="language"]');n.language&&e.val()&&e.val()!==n.language&&s.Bridge.setSettings("language",e.val(),(function(){s.Bridge.reload()}))},accountInited:function(t){var n=void 0;a.default.getSettings("language").then((function(t){return t?"en"==(n=t.split('"')[1]||t):a.default.osLocale().then((function(t){return(t=t&&t.split("_")[0])&&(n=t,a.default.setSettings("language",t)),t}))})).then((function(t){return!t&&e.getTranslationsFolder()?e.isValidTranslateFile(e.getTranslationsFolder()+"/"+n+".json"):t})).then((function(t){return!t&&e.getSrcTranslationsFolder()?e.isValidTranslateFile(e.getSrcTranslationsFolder()+"/"+n+".json"):t})).then((function(t){if(t&&n)return i.init(n);a.default.setSettings("language","en"),n="en"})).fail((function(t){console.error("Error translate file",t)})).always((function(){r.resolve((function(t){return"object"==(void 0===t?"undefined":o(t))&&t.func?function(e,n){return l(e,n=n||(t.name+".js"===t.path?"web/"+t.path:t.name))}:l.apply(null,arguments)})),e.fire("translateLoaded")}))}}}),r}),["jQuery","mbrApp"])},function(t,e,n){"use strict";var i=n(27);defineM((function(t,e,n){var o=!1;e.regExtension({name:"aws",global:{getUserInfo:function(){return o&&t.extend({},!0,o)},checkUserInfo:function(t){t=t||function(){},o&&o.id&&"verified"in o?t(this.getUserInfo()):t()},getAccountPath:function(){return""},signUp:function(t,e){n.signup(t).then((function(t){e()})).catch((function(t){e(t)}))},signIn:function(t,e,i){n.signin({email:t,password:e}).then((function(t){i()})).catch((function(t){i(t)}))},signInWith:function(t,e){console.warn("Try to sign-in"),e&&e("Signin is denided")},signOut:function(){n.signout().then((function(t){e.fire("logout",e.getUserInfo().email),setTimeout((function(t){i.Bridge.goLogin()}),1)}))},logout:function(){this.signOut()},accountResetPassword:function(t){return n.lostpassword(t)},serverAddons:function(e){return t.Deferred().reject(null)},connectUsrDomain:function(t,n){return i.Bridge._REST("sites/"+e.projectSettings.id+"/domains",{method:"POST",data:JSON.stringify({name:t})})},deleteUsrDomain:function(t){return e.infoUsrDomain(t).then((function(n){if(!n)throw new Error("Invalid site information");return i.Bridge._REST("sites/"+t+"/domains/"+e.projectSettings.domains[1].id,{method:"DELETE"})}),(function(t){throw new Error(t)}))},changeUsrDomain:function(t){return i.Bridge._REST("sites/"+e.projectSettings.id+"/domains/0",{method:"PUT",data:JSON.stringify({name:t+".@"})})},infoUsrDomain:function(t){return i.Bridge._REST("sites/"+t,{method:"GET"})}},events:{bridgeInit:function(t){var r=this;n.getProfile().then((function(t){o=t,r.fireOnce("accountInited",t)})).catch((function(){console.error("Account is unavailable, need to re-login..."),r.fire("needLogin")})),i.Bridge.bind("auth-error",(function(t){e.fire("authError",t)}))},load:function(){e.addFilter("getPluginResource",(function(t,n,i,o,r,a){return void 0!==e.projectSettings.theme.staticStyles&&0===n.indexOf("Theme")&&"css"===i&&e.appSettings.removeMobiriseReferences&&(result.css=""),t})),e.addFilter("publishFiles",(function(t){for(var n=0;n<t.length;){var i=t[n];if(i.dest.indexOf("project.mobirise")>=0)t.splice(n,1);else{if(i.srcList&&i.srcList.length)for(var o=0;o<i.srcList.length;o++)i.srcList[o].src.startsWith(e.projectPath)&&(console.warn("Publish source is in project",i),t.splice(n,1));n++}}return t})),e.addFilter("publishHTML",(function(t,n,i){return t=t.replace(/(?:href|src)\=\"([^\"#\?]+)/gim,(function(t,n){if(/^http[s]?\:/.test(n)||/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(n))return t;var i=void 0;return n.startsWith(".")?i=e.projectSettings.resourcesUrl+n.replace(/^.\//,"")+"?rnd="+Date.now():n.startsWith("assets/")&&(i=e.projectSettings.resourcesUrl+n+"?rnd="+Date.now()),i?t.replace(n,i):t}))})),e.addFilter("initFontsForFrame",(function(t,e){return e.forEach((function(e,n){/^http[s]?\:/.test(e.url)&&(t[n]=e.url)})),t})),e.addFilter("checkProjectFonts",(function(t){return[]})),e.addFilter("downloadFonts",(function(t){return[]}))},modalDialogShow:function(t,e){"google-fonts"==e.className&&t.find("#media-tabs li:first button").hide()},authError:function(t){e.showError(t,(function(){e.fire("needLogin")}))},needLogin:function(){i.Bridge.goLogin()}}})}),["jQuery","mbrApp","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-sidebar",(function(t,e){e.regExtension({name:"plugin-sidebar",global:{$sidebar:t(".app-sidebar"),$sidebarToggle:t(".sidebar-toggle .mbr-icon-bars"),$sidebarClose:t(".sidebar-close"),openSidebar:function(){this.$body.hasClass("app-page-settings-open")||this.$body.hasClass("app-component-code-editor-open")||(this.$body.toggleClass("app-sidebar-open"),this.fire("sidebarOpened"))},closeSidebar:function(){this.$body.hasClass("app-page-settings-open")||(this.$body.removeClass("app-sidebar-open"),this.fire("sidebarClosed"))},addSidebarItem:function(e,n){n||(n=e,e=""),(n=t.extend({title:e,description:n.tooltip||n.title,className:"sidebar-block",subTitle:"",subClass:"",hover:!0,customHTML:""},n)).hover&&(n.className+=" hover-block");var i='<div class="hover-block @className@" data-tooltipster="right" title="@description@"><span class="hover-block-arrow mbr-icon-angle-right"></span><h4>@title@</h4></div>';for(var o in n)i=i.replace(new RegExp("@"+o+"@","g"),n[o]);return i=t(i),n.customHTML&&i.append(n.customHTML),i.appendTo(this.$sidebar),n.onclick&&i.click(n.onclick),i}},events:{load:function(){var t=this;t.$sidebarToggle.on("mouseenter touchenter",(function(e){t.openSidebar()})),t.$sidebarClose.on("click",(function(){t.closeSidebar()}))},clickBody:function(e){t(e.target).is(".mbr-icon-bars")||t(e.target).is(".app-sidebar")||t(e.target).parents(".app-sidebar").length||this.closeSidebar()},toggleComponents:function(){this.closeSidebar()}}})}),["jQuery","mbrApp"])},function(t,e,n){"use strict";defineM("app-user-account",(function(t,e,n,i,o){var r=0;e.regExtension({name:"user-account-dialog",global:{$btnAccountBlock:t(".account-block"),$accountSettings:t("#app-account-settings"),updateAccountBlock:function(){this.fire("updateAccountBlock");var t=this.$btnAccountBlock.find(".app-user-email"),i=n("Please, Sign Up"),o=e.getUserInfo();o&&o.email?(this.$btnAccountBlock.addClass("app-user-signed"),i=o.email):this.$btnAccountBlock.removeClass("app-user-signed"),t.text(i),this.fire("updatedAccountBlock")},showAccountSettings:function(){this.$body.hasClass("app-account-settings-open")||(this.fire("showSideBarsSection",this.$accountSettings),this.fire("showAccountSettings"),t(".account-email").text(e.getUserInfo().email),this.$body.addClass("app-account-settings-open"),this.fire("showedAccountSettings"))},hideAccountSettings:function(){this.$body.hasClass("app-account-settings-open")&&(this.fire("hideAccountSettings"),this.$body.removeClass("app-account-settings-open"),this.fire("hiddenAccountSettings"))},resetPassword:function(t){return t=t||e.getUserInfo().email,o.lostpassword(t).then((function(i){e.alertDlg(n("We've sent an email with instructions on how to reset your password to the email address $email$").replace("$email$",t))}),(function(t,n){e.alertDlg(t+"("+n+")")})),e.fire("sendSignFormResetPassword",t),!1},_initAccountSettings:function(){var t=this;t.$accountSettings.on("click",(function(t){t.stopPropagation()})),t.$accountSettings.on("click",".app-layer-close",(function(e){t.hideAccountSettings()})),t.on("clickBody",(function(){t.hideAccountSettings()})),n(e.$accountSettings[0]),e.fire("initAccountSettings",t.$accountSettings)}},events:{accountInited:function(){e.getUserInfo()&&this.updateAccountBlock()},signedin:function(){this.updateAccountBlock()},load:function(){var n=this;n._initAccountSettings(),n.$btnAccountBlock.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.getUserInfo()?n.showAccountSettings():n.showSignForm()})),t("#accountResetPassword").click((function(){n.resetPassword()})),t("#accountLogout").click((function(){n.logout()}))},published:function(){var t=this;e.getUserInfo()||r||(r++,i.getSettings("showSignFormOnLoad",(function(e){"no"!==e&&""!==e&&t.showSignForm(1)})))},showSideBarsSection:function(){this.hideAccountSettings()},sidebarClosed:function(){this.hideAccountSettings()}}})}),["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var i,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(140),a=(i=r)&&i.__esModule?i:{default:i},s=n(27);defineM("app-fonts",(function(t,e,n){var i="AIzaSyAHKXsrK2fMCl5gJJBy4N8t-_959d1zDls";function r(i,o){this.API_KEY=i,this.settingName=o,this.gFonts={},this.$iframeGoogle="",this.$iframeLocal="",this.loadQuantity=20,this._blockScroll=!1,this._lastIndex=0,this.$loader=t(e.preloaderHTML),this.fontsPath=e.projectPath+"/fonts",this.requestUrl="https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+this.API_KEY,this.init=function(){var i=this;function o(t,n){e.runIframe(i.$modalFonts.find("#"+t).get(0),['<ul class="gf-list">',"</ul>"].join("\n"),{onload:n,links:["assets/bootstrap/bootstrap.min.css","assets/bootstrap-material/css/material.min.css","app/interface/app-plugin-iconfont.css","css/main.css","assets/fonts/fonts.css"]})}i.$modalFonts=e.showDialog({title:n("Fonts"),className:"google-fonts",body:['<div class="row">','   <div class="col-md-12">','       <form class="google-fonts-form">','           <div class="form-group clearfix">','               <div class="col-md-12" id="media-tabs">','                   <ul class="nav nav-tabs">',s.Bridge.isMobile?"":'                       <li>                           <button style="margin: 0 5px 0 0" class="btn btn-primary '+(e.isAMP()?"disabled":"")+'" id="browse-font">'+n("Browse Computer")+"</button>                       </li>",'                       <li class="active">','                           <a href="#1" data-toggle="tab">'+n("Google Fonts")+"</a>","                       </li>",s.Bridge.isMobile?"":'                       <li>                           <a href="#2" data-toggle="tab" id="downloaded-fonts-tab">'+n("Site Fonts")+"</a>                       </li>","                   </ul>",'                   <div class="tab-content">','                       <div class="tab-pane active" id="1">','                           <iframe id="gf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>",'                       <div class="tab-pane" id="2">','                           <iframe id="lf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>","                   </div>","               </div>","           </div>","       </form>","   </div>","</div>"].join("\n"),buttons:{fontsOk:{label:n("Ok"),className:"btn-primary"}},hide:function(){e.redrawStyleChanger()},cancel:function(){}}),i.$modalFonts.find(".modal-content").before(i.$loader),i.$loader.css({opacity:.8}),i.$loader.show(),i.$modalFonts.find("#browse-font").on("click",(function(t){t.preventDefault(),s.Bridge.runFileDialog(n("Select font"),s.Bridge.docLocation,"Fonts file (*.eot *.woff *.ttf)",(function(t){if(t){i.$loader.show();var o=s.Bridge.splitPath(t),r=decodeURI(o.name),a=i.fontsPath+"/"+o.name,l=a+"/font."+o.ext;e.getProjectFont(r)?(i.fillCards(i.$iframeLocal,e.projectSettings.siteFonts,(function(){i.$loader.hide()}),!0),e.alertDlg("'"+r+"' font is already loaded!")):s.Bridge.copyLocal(t,l,(function(t){if(t){var o=["@font-face {","   font-family: '"+r+"';","   src: url('"+t+"');","}\n"].join("\n");s.Bridge.saveLocalFile(a+"/style.css",o,(function(t){t?(e.projectSettings.siteFonts.push({css:"'"+r+"'",name:r,url:null,file:l}),i.activateFont(r)):(i.fillCards(i.$iframeLocal,e.projectSettings.siteFonts,(function(){i.$loader.hide()}),!0),e.alertDlg(n("Error saving style.css for $font name$").replace("$font name$","'"+r+"'")))}))}else i.fillCards(i.$iframeLocal,e.projectSettings.siteFonts,(function(){i.$loader.hide()}),!0),e.alertDlg("Error copying file!")}))}}))})),o("gf-iframe",(function(){i.$iframeGoogle=i.$modalFonts.find("#gf-iframe").contents(),i.$iframeGoogle.find("body").addClass("gf-body"),i.$iframeGoogle.find("head").append('<link id="insertBefore">'),i.$iframeGoogle.find("body").prepend(['<div class="gf-form clearfix">','   <input class="form-control gf-form__input" value="" type="text" placeholder="'+n("Search by font name")+'">',"</div>"].join("\n")),i.$iframeGoogle.find(".gf-form .gf-form__input").on("keydown",(function(e){var n=t(this),o=setTimeout((function(){var t=n.val().trim(),e=i.searchFonts(t);i.$iframeGoogle.find("#insertBefore").nextAll().remove(),i.$iframeGoogle.find(".gf-list").replaceWith('<ul class="gf-list"></ul>');var r=i.$iframeGoogle.find(".gf-list");i.$loader.show(),e.length?t?(i.$iframeGoogle.off(),i._lastIndex=0,i._blockScroll=!0,i.$loader.show(),i.fillCards(i.$iframeGoogle,e,(function(){i.$loader.hide()})),i._blockScroll=!1,r.on("scroll",(function(){i._blockScroll||r.height()+r.scrollTop()>r[0].scrollHeight-10&&(i._blockScroll=!0,i.$loader.show(),i.fillCards(i.$iframeGoogle,e,(function(){i.$loader.hide()})),i._blockScroll=!1)}))):(i._lastIndex=0,i.fillCards(i.$iframeGoogle,i.gFonts,(function(){i.$loader.hide()}))):(r.append('<h2 class="gf-list__error">No fonts found!</h2>'),i.$loader.hide()),clearTimeout(o)}),300)})),i.getGoogleFonts((function(t,n){t?(i.$loader.hide(),e.alertDlg("Connection error!")):(i.gFonts=n,i.fillCards(i.$iframeGoogle,i.gFonts,(function(){i.$loader.hide(),i.$iframeGoogle.find(".gf-list").on("scroll",(function(){if(!i._blockScroll){var t=i.$iframeGoogle.find(".gf-list");t.height()+t.scrollTop()>t[0].scrollHeight-10&&(i._blockScroll=!0,i.$loader.show(),i.fillCards(i.$iframeGoogle,i.gFonts,(function(){i.$loader.hide()})),i._blockScroll=!1)}}))})))}))})),o("lf-iframe",(function(){i.$iframeLocal=i.$modalFonts.find("#lf-iframe").contents(),i.$iframeLocal.find("body").addClass("lf-body"),t("#downloaded-fonts-tab").on("click",(function(){t(this).parent().hasClass("active")||(i.$loader.show(),i.fillCards(i.$iframeLocal,e.projectSettings.siteFonts,(function(){i.$loader.hide()}),!0))}))}))}}function l(){t("#theme-settings").find(".app-layer-font .dropdownjs").each((function(){var e=t(this).data("select"),o=t(e.data("dropdownjs-ul")),a=t(this).closest("[data-setting-name]").data("setting-name"),s=t('<button name="fontManager" class="btn  btn-primary" data-setting-name="'+a+'">'+n("More fonts")+"</button>");o.find('button[name="fontManager"]').length||(o.append(s),s.on("click",(function(){new r(i,t(this).data("setting-name")).init()})))}))}r.prototype.$loader=t(e.preloaderHTML),r.prototype.searchFonts=function(t){for(var e=[],n=new RegExp(t,"i"),i=0,o=this.gFonts.length;i<o;i++)this.gFonts[i].family.search(n)>=0&&e.push(this.gFonts[i]);return e},r.prototype.getGoogleFonts=function(t){s.Bridge.http(this.requestUrl,{success:function(e,n){var i;if(200===n.statusCode||200===n.code||200==n.status)try{i=JSON.parse(e).items,t(null,i)}catch(e){t(!0)}else t(!0)},error:function(){t(!0)},withCredentials:!1})},r.prototype.getFontLink=function(t){for(var e,n="https://fonts.googleapis.com/css?family="+t.family.replace(/\s/g,"+"),i="",o=0,r=t.variants.length;o<r;o++)(e=t.variants[o]).match(/\d+italic/)?e=e.replace("italic","i"):e.match("italic")?e=e.replace("italic","400i"):e.match("regular")&&(e=e.replace("regular","400")),i+=o<r-1?e+",":e;return n+=":"+i},r.prototype.activateFont=function(e){this.$modalFonts.trigger("hidden.bs.modal");var n='.app-layer-font[data-setting-name="'+this.settingName+'"] select',i=t("#theme-settings").find(n);i.val(e),i.trigger("change")},r.prototype.fillCards=function(t,n,i,o){var r=this;if(o)e.initFontsForFrame(t,(function(){t.find(".gf-list").replaceWith('<ul class="gf-list"></ul>');for(var e=0,o=n.length;e<o;e++)r.appendCard(t,n[e],!0);i&&i()}));else{if(r._lastIndex>=r.gFonts.length)return void i();for(var a=r._lastIndex,s=r._lastIndex+r.loadQuantity;a<s&&n[a];a++)t.find("head").append('<link href="'+r.getFontLink(n[a])+'" rel="stylesheet">'),r.appendCard(t,n[a]);r._lastIndex=a,setTimeout((function(){i&&i()}),1e3)}},r.prototype.appendCard=function(i,o,r){var a=this,s=r?o.name:o.family,l=e.getProjectFont(s),c=t(['<li class="gf-list__item">','   <div class="gf-card ',l?"gf-card_downloaded":"",'   ">','       <div class="gf-card__controls">','           <ul class="gf-controls">','               <li class="gf-controls__item">','                   <span class="gf-controls__button ',l?"gf-controls__button_del mbr-icon-trash":"gf-controls__button_add mbr-icon-plus",'                   "></span>',"               </li>","           </ul>","       </div>",'       <p class="gf-card__title">',"           "+s,"       </p>",'       <p class="gf-card__text">',n("The quick brown fox jumps over the lazy dog."),"       </p>","   </div>","</li>"].join("\n"));function d(t){function i(t){a.downloadFonts(t,(function(i){i?e.alertDlg(n("Download font error!")):(a.$loader.show(),a.activateFont(t.family),e.fire("downloadedFont",t)),a.$loader.hide()}))}if(t.preventDefault(),a.$loader.show(),o.files)i(o);else for(var r=0,s=a.gFonts.length;r<s;r++)if(o.name===a.gFonts[r].family){i(a.gFonts[r]);break}}i.find(".gf-list").append(c),c.find(".gf-card__text").css({"font-family":s}),l?c.find(".gf-controls__button").off().on("click",(function(i){i.preventDefault();var o=t(this);a.$loader.show(),a.isFontInUse(s)?(e.alertDlg(n("This is the font used in the project!")),a.$loader.hide()):a.removeFont(s,(function(i){if(i){if(r){c.remove();var l=a.$iframeGoogle.find(".gf-list").find('.gf-card__title:contains("'+s+'")');if(l.length)for(var u=0,p=l.length;u<p;u++){var f=t(l[u]),h=f.prev().find(".gf-controls__button"),m=h.closest(".gf-card");if(f.text().trim()===s){a.triggerFontButton(h),h.off(),m.on("click",d);break}}}else a.triggerFontButton(o),o.off(),o.closest(".gf-card").on("click",d);e.fire("deletedFont",s),e.alertDlg(n("This font has been successfully removed."))}else e.alertDlg(n("Font removal error!"));a.$loader.hide()}))})):c.find(".gf-card").off().on("click",d)},r.prototype.triggerFontButton=function(t){t.hasClass("gf-controls__button_add")?t.removeClass("gf-controls__button_add mbr-icon-plus").addClass("gf-controls__button_del mbr-icon-trash").closest(".gf-card").addClass("gf-card_downloaded"):t.removeClass("gf-controls__button_del mbr-icon-trash").addClass("gf-controls__button_add mbr-icon-plus").closest(".gf-card").removeClass("gf-card_downloaded")},r.prototype.downloadFonts=function(t,i){var o=e.projectPath+"/fonts/"+t.family,r="",a=[],l=this;for(var c in t.files)a.push({weight:c,file:t.files[c]});function d(t){e.getProjectFont(t.family)||e.projectSettings.siteFonts.push({css:"'"+t.family+"', "+t.category,name:t.family,url:l.getFontLink(t)})}a=e.applyFilter("downloadFonts",a),e.waitAllAndDo(a,(function(e,n){s.Bridge.download2(e.file,(function(i){var a;i?(a=o+"/"+e.weight+".ttf",s.Bridge.moveLocal(i,a,(function(i){if(i){var o,s,l=e.weight.match(/([0-9]+)([a-z]+)?/);l?(o=l[2]?l[2]:"normal",s=l[1]):(o=e.weight,s=400),r+=["@font-face {","   font-family: '"+t.family+"';","   font-style: "+o+";","   font-weight: "+s+";","   src: url('"+a+"') format('truetype');","}\n"].join("\n"),n(r)}else n(""),!0}))):(n(""),!0)}))}),(function(){if(!r)return d(t),void i();s.Bridge.saveLocalFile(o+"/style.css",r,(function(e){e?(d(t),i()):i(n("Error file saving!"))}))}))},r.prototype.removeFont=function(t,n){var i=e.projectPath+"/fonts/"+t;s.Bridge.removeLocal(i,(function(i){i?function(t){for(var i in e.projectSettings.siteFonts)if(e.projectSettings.siteFonts[i].name===t){e.projectSettings.siteFonts.splice(i,1),n(!0);break}}(t):n(!1)}))},r.prototype.isFontInUse=function(t){var n=e.getUsedFonts(),i=n.length;if(i)for(var o=0;o<i;o++)if(t===n[o].name)return!0;return!1},e.regExtension({name:"fonts",global:{getThemeFonts:function(){var e=[];return"object"===o(this.theme.params.theme)&&this.theme.params.theme.fonts&&(e=t.extend([],this.theme.params.theme.fonts)),this.applyFilter("getThemeFonts",e)||[]},getAccesibleFonts:function(){var t=[].concat(e.projectSettings.siteFonts||[]),n=t.length;return e.getThemeFonts().forEach((function(e){for(var i=e.name,o=0;o<n;o++)if(i==t[o].name)return;t.push(e)})),t},getFont:function(t){for(var e=this.getAccesibleFonts(),n=0;n<e.length;n++)if(e[n].name===t)return e[n];return{}},waitAllAndDo:function t(e,n,i){if(!e.length)return i();n(e.splice(0,1)[0],(function(){t(e,n,i)}))},getUsedFonts:function(){var n=t("#theme-settings").find(".app-layer-select select, .app-layer-font select"),i=[];if(n.length)for(var o=0,r=n.length;o<r;o++){var a=e.getProjectFont(n[o].value);a&&function(){for(var t=n[o].value,e=0,r=i.length;e<r;e++)if(t===i[e].name)return!1;return!0}()&&i.push(a)}return i},getProjectFont:function(t){for(var n=0,i=e.projectSettings.siteFonts.length;n<i;n++)if(t===e.projectSettings.siteFonts[n].name)return e.projectSettings.siteFonts[n];return!1},initFontsForFrame:function(n,i){n instanceof Array||(n=[n]);var o="",r=e.projectSettings.siteFonts.map((function(t){return e.projectPath+"/fonts/"+t.name+"/style.css"}));e.waitAllAndDo(e.applyFilter("initFontsForFrame",r,e.projectSettings.siteFonts),(function(e,i){/^http[s]?\:/.test(e)?(n.forEach((function(n){t(n).find("head").append('<link href="'+e+'" rel="stylesheet">')})),i()):s.Bridge.loadLocalFile(e,(function(t){o+=t,i()}))}),(function(){o&&n.forEach((function(e){t(e).find("#userFonts").length?t(e).find("#userFonts").text(o):t(e).find("body").append("<style id='userFonts'>"+o+"</style>")})),i&&i()}))},checkProjectFonts:function(){var n,o,s,l,c=[];try{for(o in n=project.settings.theme.styling)/display\dFont/g.test(o)&&(function(){if(c.length)for(var t=0,e=c.length;t<e;t++)if(n[o]===c[t])return!0;return!1}()||c.push(n[o]))}catch(t){}function d(){e.redrawStyleChanger(),e.Core.render()}(c=e.applyFilter("checkProjectFonts",c)).length?(s=c,l=t.Deferred(),function n(o){o<s.length?function(n){for(var i=e.projectSettings.siteFonts,o=0,r=i.length;o<r;o++)if(i[o].name===n&&(i[o].url||i[o].file)&&i[o].css)return a.default.isExistsLocal(projectDir+"/fonts/"+n);return t.Deferred().resolve(!1)}(s[o]).then((function(l){var c,d,u;l?n(++o):(c=s[o],d=new r(i),u=t.Deferred(),d.getGoogleFonts((function(n,i){if(n)return u.resolve();for(var o=0,r=i.length;o<r;o++)if(i[o].family===c)return d.downloadFonts(i[o],(function(t){u.resolve()}));(function(n){var i=projectDir+"assets/fonts/"+encodeURI(n),o=projectDir+"fonts/"+encodeURI(n);return a.default.dirList(i,{names:["*.ttf","*.eot","*.woff"],recursive:!1}).then((function(r){var s,l,c=t.Deferred();return r.length?(s=i+"/"+r[0],l=o+"/"+r[0],a.default.copyLocal(s,l).then((function(t){var i=["@font-face {","   font-family: '"+n+"';","   src: url('"+l+"');","}\n"].join("\n");t?a.default.saveLocalFile(o+"/style.css",i).then((function(){e.projectSettings.siteFonts.push({css:"'"+n+"'",name:n,url:null,file:l}),c.resolve()})).fail((function(){c.resolve()})):c.resolve()})).fail((function(){c.resolve()}))):c.resolve(),c.promise()}))})(c).then((function(){u.resolve()}))})),u.promise()).then((function(){n(++o)}))})):l.resolve()}(0),l.promise()).then(d):d()}},events:{load:function(){e.addFilter("publishAssets",(function(t,n){return e.getUsedFonts().some((function(t){return!t.url}))&&(t.css+='<link href="assets/fonts/style.css" rel="stylesheet">\n  '),t})),e.addFilter("publishFiles",(function(t,n){var i=e.getUsedFonts(),o=[];if(i.length){for(var r=0,a=i.length;r<a;r++)i[r].url||(t.push({srcList:[{src:i[r].file}],dest:"assets/fonts/"+i[r].name+"/"+s.Bridge.splitPath(i[r].file).fullname}),t.push({srcList:[{src:e.projectPath+"/fonts/"+i[r].name+"/style.css"}],dest:"assets/fonts/"+i[r].name+"/style.css"}),o.push({src:e.projectPath+"/fonts/"+i[r].name+"/style.css",filter:"template"}));o.length&&t.push({srcList:o,dest:"assets/fonts/style.css"})}return t})),e.addFilter("publishTemplating",(function(t,n){var i=e.getUsedFonts();if(i.length)for(var o=0,r=i.length;o<r;o++)if(n===e.projectPath+"/fonts/"+i[o].name+"/style.css")return["@font-face {","   font-family: '"+i[o].name+"';","   src: url('"+i[o].name+"/"+s.Bridge.splitPath(i[o].file).fullname+"');","}\n"].join("\n");return t}))},loadProjectCore:function(t,n){e.projectSettings.siteFonts=e.projectSettings.siteFonts||[],this.checkProjectFonts()},initSettingsSidebar:function(){l()},redrawStyleChanger:function(){this.initFontsForFrame([e.$template,e.$body]),l()}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27);defineM("app-themes",(function(t,e,n){e.regExtension({name:"themes",global:{DEFAULT_THEME:"mobirise5",DEFAULT_THEME_TITLE:"mobirise5",getSecondaryThemesList:function(n){var o=[];t.when(e.getAddonsEx((function(t){o.push("mobirise5");for(var e=0,n=t.length;e<n;e++)t[e].theme&&"object"==i(t[e].theme)&&"secondary"===t[e].theme.type&&o.push(t[e].name)}),{type:"theme"})).then((function(){n(o)}))},calcProjectTheme:function(t){var e="default",n=o.Bridge.appName;return t?(t.settings&&t.settings.theme&&("object"===i(t.settings.theme)?(e=t.settings.theme.name||e,n=t.settings.theme.title||n):(e=t.settings.theme||e,n=t.settings.theme||n)),{name:e,title:n}):{}},requestTheme:function(i,r){var a=t.Deferred(),s=this;if(!i)return a.reject("Wrong project"),a.promise();if(i==(s.theme&&s.theme.name))return a.resolve(!0),a.promise();return function(t,n){n=n||function(){},s.getAddonsEx((function(i){for(var r=0;r<i.length;r++)if(i[r].name===t)return void o.Bridge.getLocalJSON(e.getAddonDir(t)+"/params.json",n);n()}),{type:"theme"})}(i,(function(t){t?a.resolve(!1):e.alertDlg(n("This site uses the theme $theme title$ that isn't available.").replace("$theme title$","<strong>"+(r||i)+"</strong>").replace(". ",".<br>"))})),a.promise()},loadThemeAddon:function(n,i){var r=this;n||console.warn("Warning: Force default theme will be loaded"),n=n||"mobirise5";var a=e.getAddonDir(n);e.readAddon(a,(function(s){function l(){r.fire("themeLoaded"),i(!!s)}"mobirise5"===n||s?(r.theme=r.Core.theme={},t.extend(r.theme,{name:n,path:o.Bridge.path2app(a),pathCore:e.path2core(a),pathExport:a}),r.theme.params=s||{},s?r.loadEachAddon(a,s,!1,(function(t){setTimeout(l,0)})):l()):i(!1)}))},getThemeButtonColors:function(){var t={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"};return"object"===i(this.theme.params.theme)&&this.theme.params.theme.buttonColors&&(t=this.theme.params.theme.buttonColors),this.applyFilter("getThemeButtonColors",t)},hasButtonOutlineColors:function(){return this.theme.params.theme&&this.theme.params.theme.hasButtonOutlineColors},getThemeLinkColors:function(){var t={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"};return"object"===i(this.theme.params.theme)&&this.theme.params.theme.linkColors&&(t=this.theme.params.theme.linkColors),this.applyFilter("getThemeLinkColors",t)},getThemeColorsSet:function(t){var n=["#7ac673","#1ABC9C","#27aae0","#2C82C9","#9365B8","#4c6972","#FFFFFF","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#475577","#EFEFEF","#F7DA64","#faaf40","#EB6B56","#E25041","#A38F84","#28324E","#CCCCCC","#FAC51C","#f97352","#D14841","#B8312F","#7C706B","#000000","#c1c1c1"];if("object"===i(this.theme.params.theme)&&this.theme.params.theme.colorsSet&&(n=this.theme.params.theme.colorsSet),n=this.applyFilter("getThemeColorsSet",n),e.projectSettings.theme.additionalSetColors&&(n=n.concat(e.projectSettings.theme.additionalSetColors)),"number"==typeof t){for(var o=[],r=0,a=[];r<n.length;r++)a.push(n[r]),r%t===t&&(o.push(a),a=[]);o.push(a),n=o}return n}},events:{load:function(){}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-settings",(function(t,e,n,i){var o=void 0;function r(n){var i="false"!==n&&!1!==n;e.appSettings.showPageSiteNames=i,!0===i?t(".navbar-nav .navbar-project-info").show():t(".navbar-nav .navbar-project-info").hide()}function a(t){e.appSettings.showAllViews=t,"true"===t?(e.$navbarDevices.find("> li").show(),e.$navbarDevices.find("> li.active").siblings().removeClass("active")):(e.$navbarDevices.find("> li").hide(),e.$navbarDevices.find('> [data-device="phone"]').hasClass("active")?e.$navbarDevices.find('> [data-device="desktop"]').show():e.$navbarDevices.find('> [data-device="phone"]').show())}function s(t){e.appSettings.showAllBlockButtons=e.applyFilter("showAllBlockButtons",t)}var l="mobirise";function c(t){t&&(l=t,e.$body.hasClass("app-component-code-editor-open")&&(e.$codeEditorHTML.codemirror.setOption("theme",l),e.$codeEditorCSS.codemirror.setOption("theme",l)),e.$body.hasClass("app-site-code-editor-open")&&(e.$codeEditorStaticCSS.codemirror.setOption("theme",l),e.$codeEditorDynamicCSS.codemirror.setOption("theme",l),e.$codeEditorParamsJSON.codemirror.setOption("theme",l)))}function d(t){e.$codeEditor&&(e.appSettings.removeMobiriseReferences="true"===t||""===t)}function u(t){e.appSettings.showCodeEditorUndo="true"===t,e.$codeEditor&&(e.appSettings.showCodeEditorUndo?(e.$codeEditor.find(".code-editor-undo").show(),e.$codeEditor.find(".code-editor-redo").show()):(e.$codeEditor.find(".code-editor-undo").hide(),e.$codeEditor.find(".code-editor-redo").hide())),e.$siteCodeEditor&&(e.appSettings.showCodeEditorUndo?(e.$siteCodeEditor.find(".code-editor-undo").show(),e.$siteCodeEditor.find(".code-editor-redo").show()):(e.$siteCodeEditor.find(".code-editor-undo").hide(),e.$siteCodeEditor.find(".code-editor-redo").hide()))}function p(t){e.appSettings.showSiteStylesBtn=t,"true"===t?"secondary"===e.theme.type&&e.$themeToggleBtn.css("visibility","visible"):"secondary"===e.theme.type&&e.$themeToggleBtn.css("visibility","hidden")}function f(t){var n="true"===t||!0===t;e.appSettings.darkMode=n,!0===n?(e.$body.addClass("dark-mode"),e.Core.$body.addClass("dark-mode")):(e.$body.removeClass("dark-mode"),e.Core.$body.removeClass("dark-mode"))}function h(t){var n="true"===t||!0===t;e.appSettings.fullscreenCanvas=n,!0===n?e.Core.$body.removeClass("rounded-canvas"):e.Core.$body.addClass("rounded-canvas")}e.regExtension({name:"app-settings",global:{appSettings:{},showAppSettings:function(){e.showDialog({title:n("App Settings"),className:"app-settings-dialog",body:'<div class="row"><div class="col-md-12"><div><label class="col-md-3">'+n("Top Toolbar")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-page-site-names.jpg"><input name="show-page-site-names" type="checkbox"'+(!0===e.appSettings.showPageSiteNames?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Show Page & Site Names")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-all-views.jpg"><input name="show-all-views" type="checkbox"'+("true"===e.appSettings.showAllViews?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Show All Views")+'</label></div></div></div></div></div><div><label class="col-md-3">'+n("APP")+'</label><div class="col-md-9"><br><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/dark-mode.jpg"><input name="app-setting-dark-mode" type="checkbox"'+(!0===e.appSettings.darkMode?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Dark Mode")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/fullscreen-canvas.jpg"><input name="app-setting-fullscreen-canvas" type="checkbox"'+(!0===e.appSettings.fullscreenCanvas?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Fullscreen Canvas")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-block-panel.jpg"><input name="show-all-block-buttons" type="checkbox"'+("true"===e.appSettings.showAllBlockButtons?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Show All Block Buttons")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-site-styles-button.jpg"><input name="show-site-styles-btn" type="checkbox"'+("true"===e.appSettings.showSiteStylesBtn?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Show Site Styles Button")+"</label></div></div></div></div></div>"+e.applyFilter("addAppSettingsItem","")+"</div></div>",success:function(t){i.setSettings("appSettings/showPageSiteNames",t.find('[name="show-page-site-names"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/showPageSiteNames",(function(t){r(t)}))})),i.setSettings("appSettings/showAllViews",t.find('[name="show-all-views"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/showAllViews",(function(t){a(t)}))})),i.setSettings("appSettings/showAllBlockButtons",t.find('[name="show-all-block-buttons"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/showAllBlockButtons",(function(t){e.appSettings.showAllBlockButtons!==t&&(s(t),"true"===t?(e.$template.find(".app-component .app-component-edit").children().removeClass("hidden-interface"),e.$template.find(".app-component .component-show-more").hide()):i.setSettings("appSettings/showAllBlockButtonsTEMP","false",(function(t){e.$template.find(".app-component-edit").css("width","").children(":not(.component-params, .component-show-more)").addClass("hidden-interface"),e.$template.find(".app-component .component-show-more").show()})))}))})),t.find('[name="show-code-editor-undo"]').length&&i.setSettings("appSettings/showCodeEditorUndo",t.find('[name="show-code-editor-undo"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/showCodeEditorUndo",(function(t){e.appSettings.showCodeEditorUndo!==t&&u(t)}))})),t.find('[name="theme"]').length&&i.setSettings("appSettings/codeEditorTheme",t.find('[name="theme"]').val(),(function(t){t&&i.getSettings("appSettings/codeEditorTheme",(function(t){c(t)}))})),t.find('[name="remove-mobirise-references"]').length&&i.setSettings("appSettings/removeMobiriseReferences",t.find('[name="remove-mobirise-references"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/removeMobiriseReferences",(function(t){d(t)}))})),i.setSettings("appSettings/showSiteStylesBtn",t.find('[name="show-site-styles-btn"]').prop("checked"),(function(t){t&&i.getSettings("appSettings/showSiteStylesBtn",(function(t){p(t)}))}));var n=t.find('[name="app-setting-dark-mode"]').prop("checked");i.setSettings("appSettings/darkMode",n),f(n);var o=t.find('[name="app-setting-fullscreen-canvas"]').prop("checked");i.setSettings("appSettings/fullscreenCanvas",o),h(o),e.fire("applyAppSettings",t)},show:function(t){e.fire("showAppSettings",t)}}),e.initTooltips()},getSettings:function(t){return $Bridge.getSettings(t)},setSettings:function(t,e){return $Bridge.setSettings(t,e)}},events:{bridgeInit:function(){i.getSettings("appSettings/darkMode",(function(e){"true"===(o=e)&&t(".preloader-logo, .preloader-logo .svg-el, .preloader-logo .svg-el .mbr-overlay").css({"background-color":"#373c48",transition:"background-color 1.5s ease"})}))},load:function(){t("#app-settings-btn").click((function(){e.showAppSettings()})),o?f(o):i.getSettings("appSettings/darkMode",(function(t){f(t)})),i.getSettings("appSettings/fullscreenCanvas",(function(t){h(t)})),i.getSettings("appSettings/showPageSiteNames",(function(t){r(t)})),i.getSettings("appSettings/showAllViews",(function(t){a(t)})),i.getSettings("appSettings/showAllBlockButtons",(function(t){s(t)})),e.$template.on("click",".app-component .component-show-more",(function(){e.$template.find(".app-component .app-component-edit").each((function(e,n){var i=t(n),o=i.find("> .mbr-btn"),r=o.first().outerWidth(!0)*(o.length-1)+5;i.animate({width:r},300,"swing",(function(){o.removeClass("hidden-interface")}))})),e.$template.find(".app-component .component-show-more").hide(),i.setSettings("appSettings/showAllBlockButtonsTEMP","true",(function(t){t||console.warn("Unabale to save appSettings/showAllBlockButtonsTEMP")}))})),e.Core.on("loadedComponent",(function(t,n,o,r){var a=o.find("[data-app-component-id="+t._id+"] > .app-component-menu");"true"===e.appSettings.showAllBlockButtons?a.find(".component-show-more").hide():i.getSettings("appSettings/showAllBlockButtonsTEMP",(function(t){"true"===t?a.find(".component-show-more").hide():a.find(".app-component-edit").children(":not(.component-params, .component-show-more)").addClass("hidden-interface")}))})),i.regQuitTask((function(t){i.setSettings("appSettings/showAllBlockButtonsTEMP","false",t)}))},loaded:function(){i.getSettings("appSettings/showCodeEditorUndo",(function(t){u(t)})),i.getSettings("appSettings/codeEditorTheme",(function(t){c(t)})),i.getSettings("appSettings/removeMobiriseReferences",(function(t){d(t)}))},showCodeEditor:function(){e.$codeEditorHTML.codemirror.setOption("theme",l),e.$codeEditorCSS.codemirror.setOption("theme",l)},showSiteCodeEditor:function(){e.$codeEditorStaticCSS.codemirror.setOption("theme",l),e.$codeEditorDynamicCSS.codemirror.setOption("theme",l),e.$codeEditorParamsJSON.codemirror.setOption("theme",l)},showAppSettings:function(t){t.find('[name="theme"]').val(l).trigger("change")},initAccountSettings:function(t){t.find(".app-layer-title").after('<div class="hover-block" id="app-settings-btn"><label>'+n("App Settings")+"</label></div>")},loadedProject:function(){i.getSettings("appSettings/showSiteStylesBtn",(function(t){p(t)}))}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";window.mbrScript=function(){var t=/[^ a-zA-Z0-9]/g,e=function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},n=function(n){return"string"==typeof n?"'"+n.replace(t,e)+"'":"number"==typeof n?n.toString():!0===n?"true":!1===n?"false":null===n?"null":"undefined"};function i(t,e,n){this.name="mbrScriptError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,this.line=e,this.token=n}function o(t){o.parser.yy.parseError||(o.parser.yy.parseError=function(t,e){throw new i("Parse error: Unexpected '"+(e.text||e.token)+"'",e.line,e.text||e.token)});var e=o.parser.parse(t);return"RepeatStatement"==e.type?new s(e.key,e.value,new a(e.expression)):new a(e)}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,o.filters={},o.filter=function(t,e){return o.filters[t]=e(),this};var r=function(){function t(t){this.scopes=t}return t.prototype.plus=function(t,e){return void 0===t?e:void 0===e?t:t+e},t.prototype.filter=function(t){var e=Array.prototype.slice.call(arguments,1);if(o.filters[t])return o.filters[t].apply(null,e);throw new Error('Filter "'+t+'" not defined.')},t.prototype.call=function(t){var e=Array.prototype.slice.call(arguments,1);if("function"==typeof t)return t.apply(this.scopes[0],e)},t.prototype.get=function(t){for(var e=Array.prototype.slice.call(arguments,1);;){var n=e.shift();if(void 0===n)break;if(null==t)break;t=t[n]}return t},t.prototype.getProp=function(t){for(var e=0;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]},t}(),a=function(){function t(t){this._dependencies=[],this.type="expression",this.code=this._getCode(t)}return t.prototype.createFunction=function(t){var e=new r(Array.prototype.slice.call(arguments)),n=new Function("","var result = ("+this.code+'); if (result === undefined || result === null) return ""; return result;');return n.bind(e)},t.prototype.getDependencies=function(){return this._dependencies.slice()},t.prototype._getCode=function(t,e){var i="";e=e||[];switch(t.type){case"ArrayExpression":i+="[",t.elements.map((function(t,e){i+=e?", ":"",t&&(i+=this._getCode(t))}),this),i+="]";break;case"ObjectExpression":i+="{",t.properties.map((function(t,e){var n="Identifier"==t.key.type?t.key.name:this._getCode(t.key);i+=(e?", ":"")+n+":"+this._getCode(t.value)}),this),i+="}";break;case"UnaryExpression":i+=t.operator+this._getCode(t.argument);break;case"BinaryExpression":case"LogicalExpression":"+"==t.operator?i+="this.plus("+this._getCode(t.left)+", "+this._getCode(t.right)+")":i+="("+this._getCode(t.left)+" "+t.operator+" "+this._getCode(t.right)+")";break;case"ConditionalExpression":i+="(",i+=this._getCode(t.test)+" ? ",i+=this._getCode(t.consequent)+" : ",i+=this._getCode(t.alternate),i+=")";break;case"FilterExpression":i+="this.filter("+n(t.name),[t.expression].concat(t.arguments).map((function(t){i+=", "+this._getCode(t)}),this),i+=")";break;case"CallExpression":i+="this.call("+this._getCode(t.callee),t.arguments.map((function(t){i+=", "+this._getCode(t)}),this),i+=")";break;case"MemberExpression":var o=t.object;if("Identifier"==o.type||"Literal"==o.type){i+="this.get("+this._getCode(o,[]);for(var r=[t],a=e.length-1;a>=0;a--)r.push(e[a]);var s=o.name;r.map((function(t){i+=", "+n(t.property.name),s+="."+t.property.name}),this),"Identifier"==o.type&&this._dependencies.push(s),i+=")"}else i+=this._getCode(o,e.concat(t));break;case"Identifier":i+="this.getProp("+n(t.name)+")",arguments.length<2&&this._dependencies.push(t.name);break;case"Literal":i+=n(t.value)}return i},t}();function s(t,e,n){this.key=t,this.type="repeat",this.value=e,this.expression=n}return o.Error=i,o.Context=r,o.Expression=a,o.RepeatStatement=s,o}()},function(t,e,n){"use strict";window.mbrScript=window.mbrScript||{},mbrScript.parser=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[1,5],n=[1,6],i=[1,35],o=[1,29],r=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,36],d=[1,37],u=[1,38],p=[1,39],f=[1,40],h=[1,41],m=[5,13,15,18,20],g=[1,43],v=[2,4],b=[1,44],y=[5,13,15,18,20,64],w=[5,13,15,18,20,24,64],x=[1,48],_=[5,13,15,18,20,24,60,62,64],S=[1,49],k=[5,13,15,18,20,24,58,60,62,64],C=[1,50],P=[1,51],T=[1,52],E=[1,53],A=[5,13,15,18,20,24,53,54,55,56,58,60,62,64],j=[1,54],L=[1,55],$=[1,56],F=[1,57],O=[5,13,15,18,20,24,48,49,50,51,53,54,55,56,58,60,62,64],D=[1,58],I=[1,59],N=[5,13,15,18,20,24,38,39,48,49,50,51,53,54,55,56,58,60,62,64],B=[1,60],M=[1,61],R=[1,62],U=[5,13,15,18,20,24,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],z=[1,64],H=[1,65],W=[1,71],q=[5,12,13,15,18,20,24,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],V=[1,81],G=[1,83],Y=[1,86],K=[1,87],J=[1,84],X=[1,85],Q=[1,91],Z=[18,20],tt=[1,122],et=[9,12,14,15,18,19,38,39,40,41,71,72,73,74,75,76],nt=[15,18],it=[13,18],ot={trace:function(){},yy:{},symbols_:{error:2,Program:3,Expression:4,EOF:5,PrimaryExpression:6,PrimaryExpressionNoBrace:7,ObjectLiteral:8,IDENTIFIER:9,Literal:10,ArrayLiteral:11,"(":12,")":13,"[":14,"]":15,Elision:16,ElementList:17,",":18,"{":19,"}":20,PropertyNameAndValueList:21,PropertyAssignment:22,PropertyName:23,":":24,IdentifierName:25,StringLiteral:26,NumericLiteral:27,MemberExpression:28,".":29,CallExpression:30,Arguments:31,ReservedWord:32,ArgumentList:33,LeftHandSideExpression:34,PostfixExpression:35,UnaryExpression:36,UnaryExpr:37,"+":38,"-":39,"~":40,"!":41,MultiplicativeExpression:42,"*":43,"/":44,"%":45,AdditiveExpression:46,RelationalExpression:47,"<":48,">":49,"<=":50,">=":51,EqualityExpression:52,"==":53,"!=":54,"===":55,"!==":56,LogicalANDExpression:57,"&&":58,LogicalORExpression:59,"||":60,ConditionalExpression:61,"?":62,FilterExpression:63,"|":64,FilterArguments:65,IterationStatement:66,IN:67,NullLiteral:68,UndefinedLiteral:69,BooleanLiteral:70,NULL:71,UNDEFINED:72,TRUE:73,FALSE:74,NUMERIC_LITERAL:75,STRING_LITERAL:76,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"IDENTIFIER",12:"(",13:")",14:"[",15:"]",18:",",19:"{",20:"}",24:":",29:".",38:"+",39:"-",40:"~",41:"!",43:"*",44:"/",45:"%",48:"<",49:">",50:"<=",51:">=",53:"==",54:"!=",55:"===",56:"!==",58:"&&",60:"||",62:"?",64:"|",67:"IN",71:"NULL",72:"UNDEFINED",73:"TRUE",74:"FALSE",75:"NUMERIC_LITERAL",76:"STRING_LITERAL"},productions_:[0,[3,2],[6,1],[6,1],[7,1],[7,1],[7,1],[7,3],[11,2],[11,3],[11,3],[11,4],[11,5],[17,1],[17,2],[17,3],[17,4],[16,1],[16,2],[8,2],[8,3],[21,1],[21,3],[22,3],[23,1],[23,1],[23,1],[28,1],[28,3],[30,2],[30,2],[30,3],[25,1],[25,1],[31,2],[31,3],[33,1],[33,3],[34,1],[34,1],[35,1],[36,1],[36,1],[37,2],[37,2],[37,2],[37,2],[42,1],[42,3],[42,3],[42,3],[46,1],[46,3],[46,3],[47,1],[47,3],[47,3],[47,3],[47,3],[52,1],[52,3],[52,3],[52,3],[52,3],[57,1],[57,3],[59,1],[59,3],[61,1],[61,5],[63,1],[63,3],[63,4],[65,2],[65,3],[66,1],[66,3],[66,7],[4,1],[10,1],[10,1],[10,1],[10,1],[10,1],[68,1],[69,1],[70,1],[70,1],[27,1],[26,1],[32,1],[32,1],[32,1],[32,1],[32,1]],performAction:function(t,e,n,i,o,r,a){var s,l=r.length-1;switch(o){case 1:return this.$;case 4:case 32:case 33:this.$=new vt(r[l],rt(null,a[l],a[l]));break;case 7:case 35:this.$=r[l-1];break;case 8:this.$=new lt([],rt(null,a[l-1],a[l]));break;case 9:case 10:this.$=new lt(r[l-1],rt(null,a[l-2],a[l]));break;case 11:this.$=new lt(r[l-2].concat(null),rt(null,a[l-3],a[l]));break;case 12:this.$=new lt(r[l-3].concat(r[l-1]),rt(null,a[l-4],a[l]));break;case 13:case 21:case 36:case 73:this.$=[r[l]];break;case 14:this.$=r[l-1].slice(1).concat(r[l]);break;case 15:case 22:case 37:case 74:this.$=r[l-2].concat(r[l]);break;case 16:this.$=r[l-3].concat(r[l-1].slice(1)).concat(r[l]);break;case 17:this.$=[null,null];break;case 18:this.$=r[l-1].concat(null);break;case 19:this.$=new ct([],rt(null,a[l-1],a[l]));break;case 20:this.$=new ct(r[l-1],rt(null,a[l-2],a[l]));break;case 23:this.$={key:r[l-2],value:r[l]};break;case 28:case 31:this.$=new gt(r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 29:case 30:this.$=new mt(r[l-1],r[l],rt(null,a[l-1],a[l]));break;case 34:this.$=[];break;case 43:this.$=new dt("+",!0,r[l],rt(null,a[l-1],a[l]));break;case 44:this.$=new dt("-",!0,r[l],rt(null,a[l-1],a[l]));break;case 45:this.$=new dt("~",!0,r[l],rt(null,a[l-1],a[l]));break;case 46:this.$=new dt("!",!0,r[l],rt(null,a[l-1],a[l]));break;case 48:this.$=new ut("*",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 49:this.$=new ut("/",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 50:this.$=new ut("%",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 52:this.$=new ut("+",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 53:this.$=new ut("-",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 55:this.$=new ut("<",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 56:this.$=new ut(">",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 57:this.$=new ut("<=",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 58:this.$=new ut(">=",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 60:this.$=new ut("==",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 61:this.$=new ut("!=",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 62:this.$=new ut("===",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 63:this.$=new ut("!==",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 65:this.$=new pt("&&",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 67:this.$=new pt("||",r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 69:this.$=new ft(r[l-4],r[l-2],r[l],rt(null,a[l-4],a[l]));break;case 71:this.$=new ht(r[l-2],r[l],[],rt(null,a[l-2],a[l]));break;case 72:this.$=new ht(r[l-3],r[l-1],r[l],rt(null,a[l-3],a[l]));break;case 76:this.$=new st(null,r[l-2],r[l],rt(null,a[l-2],a[l]));break;case 77:this.$=new st(r[l-5],r[l-3],r[l],rt(null,a[l-6],a[l]));break;case 84:this.$=new bt(null,rt(null,a[l],a[l]));break;case 85:this.$=new bt(void 0,rt(null,a[l],a[l]));break;case 86:this.$=new bt(!0,rt(null,a[l],a[l]));break;case 87:this.$=new bt(!1,rt(null,a[l],a[l]));break;case 88:this.$=new bt("0"===(s=r[l]).charAt(0)?"x"===s.charAt(1).toLowerCase()?parseInt(s,16):"."===s.charAt(1)?Number(s):parseInt(s,8):Number(s),rt(null,a[l],a[l]));break;case 89:this.$=new bt(r[l].slice(1,-1),rt(null,a[l],a[l]))}},table:[{3:1,4:2,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{1:[3]},{5:[1,42]},t(m,[2,78]),t(m,[2,75],{64:g}),t([5,12,13,15,18,20,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],v,{67:b}),{4:46,6:24,7:25,8:26,9:[1,45],10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(y,[2,70]),t(w,[2,68],{60:x,62:[1,47]}),t(_,[2,66],{58:S}),t(k,[2,64],{53:C,54:P,55:T,56:E}),t(A,[2,59],{48:j,49:L,50:$,51:F}),t(O,[2,54],{38:D,39:I}),t(N,[2,51],{43:B,44:M,45:R}),t(U,[2,47]),t(U,[2,41]),t(U,[2,42]),t(U,[2,40]),{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:63,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:66,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:67,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:68,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(U,[2,38],{31:70,12:W,29:[1,69]}),t(U,[2,39],{31:72,12:W,29:[1,73]}),t(q,[2,27]),t(q,[2,2]),t(q,[2,3]),t(q,[2,5]),t(q,[2,6]),{9:V,20:[1,74],21:75,22:76,23:77,25:78,26:79,27:80,32:82,67:G,71:Y,72:K,73:J,74:X,75:f,76:h},t(q,[2,79]),t(q,[2,80]),t(q,[2,81]),t(q,[2,82]),t(q,[2,83]),{4:92,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,88],16:89,17:90,18:Q,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(q,[2,84]),t(q,[2,85]),t(q,[2,86]),t(q,[2,87]),t(q,[2,88]),t(q,[2,89]),{1:[2,1]},{9:[1,93]},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:94,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t([12,13,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],v,{18:[1,95],67:b}),{13:[1,96]},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:97,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:98,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:99,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:100,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:101,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:102,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:103,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:104,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:105,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:106,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:107,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:108,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:109,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:110,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:111,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:112,37:16,38:r,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(U,[2,43]),t(q,v),{4:46,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(U,[2,44]),t(U,[2,45]),t(U,[2,46]),{9:V,25:113,32:82,67:G,71:Y,72:K,73:J,74:X},t(q,[2,29]),{4:116,6:24,7:25,8:26,9:e,10:27,11:28,12:n,13:[1,114],14:i,19:o,26:34,27:33,28:22,30:23,33:115,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(q,[2,30]),{9:V,25:117,32:82,67:G,71:Y,72:K,73:J,74:X},t(q,[2,19]),{18:[1,119],20:[1,118]},t(Z,[2,21]),{24:[1,120]},{24:[2,24]},{24:[2,25]},{24:[2,26]},t(q,[2,32]),t(q,[2,33]),t(q,[2,90]),t(q,[2,91]),t(q,[2,92]),t(q,[2,93]),t(q,[2,94]),t(q,[2,8]),{4:123,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,121],18:tt,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{15:[1,124],18:[1,125]},t(et,[2,17]),t(nt,[2,13]),t(y,[2,71],{65:126,24:[1,127]}),t(m,[2,76],{64:g}),{9:[1,128]},t(q,[2,7]),{24:[1,129]},t(_,[2,67],{58:S}),t(k,[2,65],{53:C,54:P,55:T,56:E}),t(A,[2,60],{48:j,49:L,50:$,51:F}),t(A,[2,61],{48:j,49:L,50:$,51:F}),t(A,[2,62],{48:j,49:L,50:$,51:F}),t(A,[2,63],{48:j,49:L,50:$,51:F}),t(O,[2,55],{38:D,39:I}),t(O,[2,56],{38:D,39:I}),t(O,[2,57],{38:D,39:I}),t(O,[2,58],{38:D,39:I}),t(N,[2,52],{43:B,44:M,45:R}),t(N,[2,53],{43:B,44:M,45:R}),t(U,[2,48]),t(U,[2,49]),t(U,[2,50]),t(q,[2,28]),t(q,[2,34]),{13:[1,130],18:[1,131]},t(it,[2,36]),t(q,[2,31]),t(q,[2,20]),{9:V,22:132,23:77,25:78,26:79,27:80,32:82,67:G,71:Y,72:K,73:J,74:X,75:f,76:h},{4:133,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(q,[2,9]),t(et,[2,18]),t(nt,[2,14]),t(q,[2,10]),{4:136,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,134],16:135,18:Q,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(y,[2,72],{24:[1,137]}),{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:138,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},{13:[1,139]},{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:140,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(q,[2,35]),{4:141,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(Z,[2,22]),t(Z,[2,23]),t(q,[2,11]),{4:143,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,142],18:tt,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(nt,[2,15]),{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:144,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(w,[2,73],{60:x}),{67:[1,145]},t(w,[2,69]),t(it,[2,37]),t(q,[2,12]),t(nt,[2,16]),t(w,[2,74],{60:x}),{6:24,7:25,8:26,9:z,10:27,11:28,12:H,14:i,19:o,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:r,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:146,68:30,69:31,70:32,71:c,72:d,73:u,74:p,75:f,76:h},t(m,[2,77],{64:g})],defaultActions:{42:[2,1],78:[2,24],79:[2,25],80:[2,26]},parseError:function(t,e){if(!e.recoverable){var n=function(t,e){this.message=t,this.hash=e};throw n.prototype=Error,new n(t,e)}this.trace(t)},parse:function(t){var e=this,n=[0],i=[null],o=[],r=this.table,a="",s=0,l=0,c=0,d=2,u=1,p=o.slice.call(arguments,1),f=Object.create(this.lexer),h={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(h.yy[m]=this.yy[m]);f.setInput(t,h.yy),h.yy.lexer=f,h.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var g=f.yylloc;o.push(g);var v=f.options&&f.options.ranges;"function"==typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,y,w,x,_,S,k,C,P,T=function(){var t;return"number"!=typeof(t=f.lex()||u)&&(t=e.symbols_[t]||t),t},E={};;){if(w=n[n.length-1],this.defaultActions[w]?x=this.defaultActions[w]:(null==b&&(b=T()),x=r[w]&&r[w][b]),void 0===x||!x.length||!x[0]){var A="";for(S in P=[],r[w])this.terminals_[S]&&S>d&&P.push("'"+this.terminals_[S]+"'");A=f.showPosition?"Parse error on line "+(s+1)+":\n"+f.showPosition()+"\nExpecting "+P.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(s+1)+": Unexpected "+(b==u?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(A,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:g,expected:P})}if(x[0]instanceof Array&&x.length>1)throw new Error("Parse Error: multiple actions possible at state: "+w+", token: "+b);switch(x[0]){case 1:n.push(b),i.push(f.yytext),o.push(f.yylloc),n.push(x[1]),b=null,y?(b=y,y=null):(l=f.yyleng,a=f.yytext,s=f.yylineno,g=f.yylloc,c>0&&c--);break;case 2:if(k=this.productions_[x[1]][1],E.$=i[i.length-k],E._$={first_line:o[o.length-(k||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(k||1)].first_column,last_column:o[o.length-1].last_column},v&&(E._$.range=[o[o.length-(k||1)].range[0],o[o.length-1].range[1]]),void 0!==(_=this.performAction.apply(E,[a,l,s,h.yy,x[1],i,o].concat(p))))return _;k&&(n=n.slice(0,-1*k*2),i=i.slice(0,-1*k),o=o.slice(0,-1*k)),n.push(this.productions_[x[1]][0]),i.push(E.$),o.push(E._$),C=r[n[n.length-2]][n[n.length-1]],n.push(C);break;case 3:return!0}}return!0}};function rt(t,e,n){return new yt(t,new wt(e.first_line,e.first_column),new wt(n.last_line,n.last_column))}var at=ot.parse;function st(t,e,n,i){this.type="RepeatStatement",this.key=t,this.value=e,this.expression=n,this.loc=i}function lt(t,e){this.type="ArrayExpression",this.elements=t,this.loc=e}function ct(t,e){this.type="ObjectExpression",this.properties=t,this.loc=e}function dt(t,e,n,i){this.type="UnaryExpression",this.operator=t,this.prefix=e,this.argument=n,this.loc=i}function ut(t,e,n,i){this.type="BinaryExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function pt(t,e,n,i){this.type="LogicalExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function ft(t,e,n,i){this.type="ConditionalExpression",this.test=t,this.consequent=e,this.alternate=n,this.loc=i}function ht(t,e,n,i){this.type="FilterExpression",this.expression=t,this.name=e,this.arguments=n,this.loc=i}function mt(t,e,n){this.type="CallExpression",this.callee=t,this.arguments=e,this.loc=n}function gt(t,e,n){if("Literal"==t.type&&(void 0===t.value||null===t.value))throw new TypeError(t.value+" has no properties",null,t.loc.start.line);this.type="MemberExpression",this.object=t,this.property=e,this.loc=n}function vt(t,e){this.type="Identifier",this.name=t,this.loc=e}function bt(t,e){this.type="Literal",this.value=t,this.loc=e}function yt(t,e,n){this.source=t,this.start=e,this.end=n}function wt(t,e){this.line=t,this.column=e}ot.parse=function(t,e){return ot.wasNewLine=!1,ot.newLine=!1,at.call(this,t)},ot.parseError=function(t,e){throw new SyntaxError(t)},ot.ast={},ot.ast.RepeatStatementNode=st,ot.ast.ArrayExpressionNode=lt,ot.ast.ObjectExpressionNode=ct,ot.ast.UnaryExpressionNode=dt,ot.ast.BinaryExpressionNode=ut,ot.ast.LogicalExpressionNode=pt,ot.ast.ConditionalExpressionNode=ft,ot.ast.FilterExpressionNode=ht,ot.ast.CallExpressionNode=mt,ot.ast.MemberExpressionNode=gt,ot.ast.IdentifierNode=vt,ot.ast.LiteralNode=bt;var xt=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,o;if(this.options.backtrack_lexer&&(o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(o.yylloc.range=this.yylloc.range.slice(0))),(i=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var r in o)this[r]=o[r];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,i;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length;r++)if((n=this._input.match(this.rules[o[r]]))&&(!e||n[0].length>e[0].length)){if(e=n,i=r,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,o[r])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,o[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,e,n,i){switch(n){case 0:case 1:case 2:e.yytext.match(/\r|\n/)&&(ot.newLine=!0);break;case 3:return"STRING_LITERAL";case 4:return"IN";case 5:return"TRUE";case 6:return"FALSE";case 7:return"NULL";case 8:return"UNDEFINED";case 9:return"IDENTIFIER";case 10:case 11:case 12:return"NUMERIC_LITERAL";case 13:return"{";case 14:return"}";case 15:return"(";case 16:return")";case 17:return"[";case 18:return"]";case 19:return".";case 20:return";";case 21:return",";case 22:return"?";case 23:return":";case 24:return"===";case 25:return"==";case 26:return"!==";case 27:return"!=";case 28:return"!";case 29:return"<=";case 30:return"<";case 31:return">=";case 32:return">";case 33:return"+";case 34:return"-";case 35:return"*";case 36:return"/";case 37:return"%";case 38:return"&&";case 39:return"||";case 40:return"|";case 41:return"~";case 42:return"EOF";case 43:return"ERROR";case 44:console.log(e.yytext)}},rules:[/^(?:\s+)/,/^(?:\/\*(.|\r|\n)*?\*\/)/,/^(?:\/\/.*($|\r\n|\r|\n))/,/^(?:(("(([^\"\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*")|('(([^\'\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*')))/,/^(?:in)/,/^(?:true)/,/^(?:false)/,/^(?:null)/,/^(?:undefined)/,/^(?:(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))|[0-9])*))/,/^(?:((([0]|(([1-9])([0-9]+)*))\.([0-9]+)*(([eE])([+-]?[0-9]+))?)|(\.([0-9]+)(([eE])([+-]?[0-9]+))?)|(([0]|(([1-9])([0-9]+)*))(([eE])([+-]?[0-9]+))?)))/,/^(?:([0][xX]([0-9a-fA-F])+))/,/^(?:([0]([0-7])+))/,/^(?:\{)/,/^(?:\})/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\.)/,/^(?:;)/,/^(?:,)/,/^(?:\?)/,/^(?::)/,/^(?:===)/,/^(?:==)/,/^(?:!==)/,/^(?:!=)/,/^(?:!)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:\|)/,/^(?:~)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0}}},e=t.lex;return t.lex=function(){return ot.wasNewLine=ot.newLine,ot.newLine=!1,e.call(this)},t}();function _t(){this.yy={}}return ot.lexer=xt,_t.prototype=ot,ot.Parser=_t,new _t}()},function(t,e,n){"use strict";mbrScript.filter("lowercase",(function(){return function(t){return"string"==typeof t?t.toLowerCase():t}})),mbrScript.filter("uppercase",(function(){return function(t){return"string"==typeof t?t.toUpperCase():t}})),mbrScript.filter("json",(function(){return function(t,e){if(void 0!==t)return void 0===e?e=2:"number"!=typeof e&&(e=e?2:null),JSON.stringify(t,null,e)}}))},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window.objectifyCSS=function(){var t=function(){function t(){this._css=[]}return t.prototype.add=function(t){this._css.push(t)},t.prototype.toCSS=function(){return this._css.join("")},t.prototype.genCSS=function(t){return t.genCSS({},this),this.toCSS()},function(e){return(new t).genCSS(e)}}(),e=function(){function t(e,n){this.message=e,this.node=n,Error.captureStackTrace?Error.captureStackTrace(this,t):this.stack=(new Error).stack}return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}();function n(t){return"object"==(void 0===t?"undefined":i(t))}function o(t,e){return e in t||(t[e]={}),t[e]}function r(t){return t.replace(/^\((.+)\)$/,"$1")}function a(i,s){if(s=s||{},!n(i))return i;switch(i.type||""){case"Alpha":return"alpha(opacity="+a(i.value)+")";case"Anonymous":case"UnicodeDescriptor":case"Keyword":return i.value;case"Assignment":return a(i.key)+"="+a(i.value);case"Attribute":var l=a(i.key);return i.op&&(l+=i.op,l+=a(i.value)),"["+l+"]";case"Call":var c=i.args.map((function(t){return r(a(t))}));return i.name+"("+c.join(", ")+")";case"Color":return i.toCSS({});case"Combinator":return t(i);case"Comment":break;case"Condition":var d=i.op,u=a(i.rvalue),p=a(i.lvalue);return"="==d&&"true"==u||(p+=("or"==d?",":" "+d)+" ",p+=u),"and"!=d&&"or"!=d&&(p="("+p+")",i.negate&&(p="not "+p)),p;case"DetachedRuleset":case"RulesetCall":throw new e("Detached rulesets are not supported",i);case"Dimension":return a(i.value)+a(i.unit);case"Directive":if(i.rules){var f=i.name;i.value&&(f+=" "+a(i.value)),a.rules(i,o(s,f))}else i.value&&(s[i.name]=a(i.value));break;case"Element":return a(i.combinator)+a(i.value);case"Expression":return a.join(i.value," ");case"Extend":throw new e("Selector :extend is not supported",i);case"Import":throw new e("Directive @import is not supported",i);case"JavaScript":throw new e("JavaScript is not supported",i);case"Media":f="@media "+a.join(i.features.value,", ");a.rules(i,o(s,f));break;case"MixinCall":case"MixinDefinition":throw new e("Mixins are not supported",i);case"Negative":return"-"+a(i.value);case"Operation":return"("+a.join(i.operands," "+i.op+" ")+")";case"Paren":if(n(p=a(i.value))){var h=[];for(var m in p)h.push("("+m+": "+p[m]+")");return h.join(" ")}return"("+p+")";case"Quoted":return(i.escaped?"~":"")+i.quote+i.value+i.quote;case"Rule":f=a.join(i.name);var g=a(i.value);0==f.indexOf("@")&&(g=r(g)),s[f]=g+i.important;break;case"Ruleset":if(i.selectors)"&"!=(f=a.join(i.selectors,",").replace(/^\s+/,""))&&(s=o(s,f));a.rules(i,s);break;case"Selector":var v=a.join(i.elements);return i.condition&&(v+=" when "+a(i.condition)),v;case"Unit":return i.toString();case"Url":return"url("+a(i.value)+")";case"Value":return a.join(i.value,", ");case"Variable":return i.name}return s}return a.rules=function(t,e){t.rules&&t.rules.forEach((function(t){a(t,e)}))},a.join=function(t,e){return Array.isArray(t)?t.map((function(t){return a(t)})).join(e||""):a(t)},function(t,e,n){"function"==typeof(e=e||{})&&(n=e,e={});var i=e.lessjs||less;i.parse(t,(function(e,o){if(e)n(e);else try{n(null,a(o))}catch(e){if(e.node&&"index"in e.node){var r=i.utils.getLocation(e.node.index,t);e.line="number"==typeof r.line?r.line+1:null,e.column=r.column}n(e)}}))}}()},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("secondary-components",(function(t,e,n){var o,r,a,s=((o={url:function(t){return t&&"url("+t+")"}}).global=o,o),l=function(){function t(){mbrScript.Context.apply(this,arguments)}return t.prototype=Object.create(mbrScript.Context.prototype),t.prototype.constructor=t,t.prototype.getProp=function(t){if(this.scopes[0]._params&&void 0!==this.scopes[0]._params[t])return this.scopes[0]._params[t];for(var e=1;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]},t}(),c=function(){function t(t){this._listeners={},this._appEventNamespace=t?"."+t:""}return t.prototype.on=function(t,e){return"function"==typeof e&&(this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e)),this},t.prototype.emit=function(t){if(this._listeners[t]){var n=Array.prototype.slice.call(arguments,1);e.fire(t+this._appEventNamespace+".SecondaryComponent",n),this._listeners[t].forEach((function(t){t.apply(this,n)}),this)}return this},t.prototype.removeAllListeners=function(t){return arguments.length?delete this._listeners[t]:this._listeners={},this},t.prototype.removeListener=function(t,e){if(this._listeners[t]){var n=this._listeners[t].indexOf(e);n>=0&&this._listeners[t].splice(n,1)}return this},t.createChildClass=function(e,n){if("function"!=typeof e)throw Error('"constructor" is not a function');var i=function(){t.call(this,n),e.apply(this,arguments)};return(i.prototype=Object.create(t.prototype)).constructor=i,i},t}(),d=function(){function t(t){for(var e in(t=t||{}).template=t.template||"<div></div>",t)this[e]=t[e]}return t.prototype.getTemplate=function(t){return this.template},t.prototype.initialize=function(t,e){var n=e.item.scope;return n.this={_params:{index:e.index}},n._params=e.global._params,n},t.prototype.remove=function(){var t=this.arrivo.sourceFragment;t.parentNode&&t.parentNode.removeChild(t)},t.prototype.clone=function(){var e="",n=new t;for(var i in this)this.hasOwnProperty(i)&&(n[i]=this[i]);return n.$listSourceElement.find("> *:last").each((function(){e=this.outerHTML})),n.arrivo.getParent().fork().on("ready",(function(t,e,i){n.template=e.outerHTML,n.arrivo=this,n.scope=t,n.$listSourceElement.append(i)})).process(e),n},t}();e.objectifyCSS=function(n){var i=t.Deferred();return objectifyCSS(n,{lessjs:e.iwindow.less},(function(t,e){t?i.reject(t):i.resolve(e)})),i.promise()},e.getUID=(r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a="object"==("undefined"==typeof crypto?"undefined":i(crypto))&&crypto.getRandomValues?function(){var t=r.length,e=new Uint8Array(1);return window.crypto.getRandomValues(e),e[0]>=Math.floor(256/t)*t?a():r.charAt(e[0]%t)}:function(){return r.charAt(Math.random()*r.length|0)},function(t,e){"object"==(void 0===t?"undefined":i(t))?e=t:(e=e||{}).length=t||22;var n="";return e.timePrefix&&(n+=function(){for(var t=(new Date).getTime(),e=r.length,n="";t>0;)n=r.charAt(t%e)+n,t=(t-t%e)/e;return n||"0"}()),e.length&&(n+=Array.apply(null,{length:e.length}).map(a).join("")),n});var u=e.isSecondaryComponent=function(t){var n;if("object"==(void 0===t?"undefined":i(t)))n=t;else{if(!/^\d+$/.test(t))return!1;n=e.Core.getComponent(t)}return!n.alias&&"secondary"==e.theme.type||n._isSecondary};function p(e){var n=document.implementation.createHTMLDocument("").createElement("DIV");return t(n).append(t.trim(e)),n}var f=function(t){return t.hasOwnProperty("_sc")||Object.defineProperty(t,"_sc",{value:new k(t)}),t._sc};function h(t){var n=t.alias,i=t._sourceTheme;return n?e.path2core(e.getAddonDir(n))+"/"+t._name+"/":i?e.path2core(e.getAddonDir(i)+"/components")+"/"+t._name+"/":e.path2core(e.theme.pathExport+"/components")+"/"+t._name+"/"}function m(e){var n=e;return t.isArray(e)?n=e.map(m).join(" "):"object"==(void 0===e?"undefined":i(e))&&(n=Object.keys(e).filter((function(t){return e[t]})).join(" ")),n}e.on("themeLoaded",(function(){e.theme.type=e.theme.params.theme.type||"primary"})),e.on("beforeAppLoad",(function(){e.on("beforeShowCodeEditor",(function(n){var i=e.Core.getComponent(n);u(i)||"pro.custom-html"===i._name&&"secondary"===e.theme.type?t("body").addClass("fullwidth-code-editor"):t("body").removeClass("fullwidth-code-editor")})),e.on("showCodeEditor",(function(t){var n=e.Core.getComponent(t);if(u(n))if(e.Core.destroySummernote(),n._styles){var i=e.Core.getComponentStyles({_styles:n._styles});n._customCSS=i.css}else n._customCSS=""})),e.on("savedCodeEditor",(function(t){if(arguments.length){var n=e.Core.getComponent(t);u(n)&&(n._alwaysTop||n._alwaysBottom)&&e.Core.$body.closest("html").stop().animate({scrollTop:n._alwaysTop?0:e.Core.$template.height()},1e3),u(n)&&e.Core.updateGlobalComponents(n._id,(function(t,e){for(var n in e)("_styles"===n||"_customHTML"===n||"object"!==i(e[n])&&"function"!=typeof e[n]&&!/^_/g.test(n))&&(e[n]=t[n])}))}})),e.$template.on("click",".component-code",(function(n){var i=t(this).closest("[data-app-component-id]").attr("data-app-component-id"),o=e.Core.getComponent(i);u(o)&&(e.registeredAddons&&e.registeredAddons["code-editor"]&&parseInt(e.registeredAddons["code-editor"].version)>16||(n.stopImmediatePropagation(),bootbox.dialog({message:'<p><b>You can\'t edit this block. Please update "Code Editor".</b></p>',buttons:{cancel:{label:"Ok",className:"btn-primary"}}})))}));var n=e.iwindow.rivets;n.formatters.fakeFilter=new e.iwindow.Function("v, f",'if (typeof f == "function") return f(v); return "";'),n.formatters.toNULL=new e.iwindow.Function("v",'if (v === "" || v === false) return null; return v;'),n.formatters.grow=new e.iwindow.Function("items, count","count = Math.max(1, Math.min(500, parseInt(count) || 0));if (count < items.length) {Array.prototype.splice.call(items, count, items.length).forEach(function(item){ item.remove(); });} else if (count > items.length) {var item = items[ items.length - 1 ];for (var i = items.length; i < count; i++) {items[i] = item.clone();}}return items;"),n.components["active-component"]={attributes:["collection","global","index","item"],template:function(t){return t.item.getTemplate(t)},initialize:function(t,e){return e.item.initialize(t,e)}},n.binders["active-components"]={block:!1,priority:n.binders["each-*"].priority,unbind:n.binders["each-*"].unbind,update:n.binders["each-*"].update},n.binders["active-components"].bind=function(t){var e,n,i,o;if(null==this.iterated)e=[this.view.prefix,this.type].join("-").replace("--","-"),this.iterated=[],t.removeAttribute(e);else for(n=0,i=(o=this.iterated).length;n<i;n++)o[n].bind()},n.binders["active-components"].routine=function(t,e){var i,o,r,a,s,l,c,d,u,p,f,h,m,g;if(e=e||[],this.iterated.length>e.length)for(p=0,h=this.iterated.length-e.length;p<h;p++)(u=this.iterated.pop()).unbind(),t.removeChild(u.childElement);for(o=f=0,m=e.length;f<m;o=++f)if(a=e[o],u=this.iterated[o],i={collection:e,global:this.view.models,index:o,item:a},(s=null==u)||u.models.item!==a){if(!s){for(l=0,p=o+1,h=(g=this.iterated).length;p<h;p++)if(g[p].models.item===a){l=p;break}if(l){this.iterated.splice(o,0,this.iterated.splice(l,1)[0]),t.insertBefore(t.children[l],t.children[o]);continue}u.unbind()}for(r in d=document.createElement("active-component"),i)d.setAttribute(r,r);(c=this.view.options()).preloadData=!0,(u=new n._.View(d,i,c)).bind(),u.childElement=d.firstChild,s?(this.iterated.push(u),t.appendChild(u.childElement)):(this.iterated[o]=u,t.replaceChild(u.childElement,t.children[o]))}},n.binders["static-html"]={priority:2e3,bind:function(t){var e=this.observer?this.observer.value():this.value;return e=this.formattedValue("function"!=typeof e||this.binder.function?e:e.call(this.model)),t.innerHTML=null!=e?e:"",t},routine:function(t,e){return null!=e?e:""}},n.binders.style2={routine:function(e,n){var o=t(e),r=t(e).data("old-styles");if(r&&n!==r)for(var a in r)o.css(a,"");"object"!=(void 0===n?"undefined":i(n))&&(n={}),o.css(n),t(e).data("old-styles",n)}};var o=n.binders.media;function r(t,e){return t.filter((function(t){return e.indexOf(t)<0}))}n.binders.media={routine:function(e,n){if(!e.getAttribute("mbr-media-simple"))return o.apply(this,arguments);var i=Object.keys(n)[0],r=n[i];"image"==i?y.update(t(e),r):"video"==i||"iconFont"==i&&x.update(t(e),r)}},n.binders.class2={routine:function(e,n){t(e);var i,o,a=t(e).data("old-classes");if(a!=(n=m(n))){var s=(i=n&&n.split(" ")||[],o=a&&a.split(" ")||[],{add:r(i,o).join(" "),remove:r(o,i).join(" ")});s.add&&t(e).addClass(s.add),s.remove&&t(e).removeClass(s.remove),t(e).data("old-classes",n)}}};n.originalBind=n.bind,n.bind=function(e,i,o){n.boundViews=n.boundViews||{};var r=n.originalBind(e,i,o);return t(e).attr("data-rv-view",r.models._rv),n.boundViews[r.models._rv]=r,r},n.unbind=function(e){return t(e).find("[data-rv-view]").addBack("[data-rv-view]").each((function(){var e=t(this).attr("data-rv-view"),i=n.boundViews[e];i.unbind(),delete n.boundViews[e],delete i.models._rv})),this},n.unbindAll=function(){n.boundViews.forEach((function(t){t.unbind()})),n.boundViews=[]};var a,s=e.Core;function l(t){return'"'+(""+t).replace(/"/g,'\\"').replace(/\r/g,"").replace(/\n/g," ")+'"'}s.isSecondaryComponent=u,s.getSecondaryComponent=f,s.transformSecondaryComponentForProject=function(t){var e=["_anchor","_checkPublish","_cid","_customHTML","_protectedParams","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_once","_global","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"],n=t._protectedParams||[];for(var i in t)if("_params"==i)for(var o in t._params)n.indexOf(o)<0&&delete t._params[o];else e.indexOf(i)<0&&delete t[i];return t},s.on("rivetsBlur",(function(t){e.iwindow.$(t).trigger("change-component-node")})),s.addFilter("getComponentStyles",(function(t,n){if(u(n)){if(!n._id&&!n._name)return t;var i=f(n).getDefaultParams(),o="";for(var r in i){var a=n._params[r];switch(i[r].type||"none"){case"fonts":o+="@"+r+": "+(a.css||"false")+";\n";break;case"color":case"range":case"switch":case"switch-off":o+="@"+r+": "+a+";\n";break;case"none":case"image":case"select":o+="@"+r+": "+l(a)+";\n";break;case"background":o+="@"+r+"-value: "+("color"==a.type?a.value:"image"==a.type?l(e.path2core(a.value)):'""')+";\n",o+="@"+r+"-type: "+l(a.type)+";\n",a.color&&(o+="@"+r+"-color-value: "+a.color.value+";\n"),a.image&&(o+="@"+r+"-parallax: "+a.parallax+";\n")}}t.css=o+"\n"+t.css}return t})),s.addFilter("beforeRenderStyles",(function(t,e,n,i,o){return t="@isPublish: "+n+";\n"+t})),s.addFilter("componentSelector",(function(t,e){return u(e)&&(t="."+k.getClassName(e)),t})),s.on("changedComponentParams",(function(t,n,i){var o=s.getComponent(t);u(o)&&f(o).changeParam(n,i),s.$document.trigger("change.cards"),"secondary"!==e.theme.type||u(o)||s.$template.find("[data-app-component-id="+o._id+"] .app-component-content > *").trigger("change.cards")})),s.on("loadedComponent",(function(n,i,o,r){r||"secondary"!==e.theme.type||s.$template.find("[data-app-component-id="+n._id+"] .app-component-content > *").trigger("add.cards"),u(n)&&r&&-1!=n._customHTML.indexOf("mbr-form")&&r&&(w.clean(n,o),w.prefix(n,o)),u(n)&&r&&t(o[0]).find("[data-app-component-id="+n._id+"] .app-component-content > section").removeAttr("data-rv-view").find("img, span").removeAttr("media-simple")})),s.on("changedComponentPosition",(function(t,e){var n=s.getComponent(t);if(u(n)){var i=void 0!==e&&s.$template.find("[data-app-component-id="+e+"] .app-component-content > *")[0];s.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("drag.cards",i||[])}})),s.on("removeComponent",(function(t){var e=s.getComponent(t);u(e)&&s.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("delete.cards")})),s.on("addedComponent",(function(t){clearTimeout(a),a=setTimeout((function(){var e=s.getComponent(t);u(e)&&e._alwaysTop&&s.$body.closest("html").stop().animate({scrollTop:0},1e3)}),50)})),s.addFilter("loadComponentTemplate",(function(t,e,n,i){if(u(e)){e._customHTML=e._customHTML||t,e._customCSS="","_styles"in e||(e._styles=i);var o=f(e);return n&&(o._arrivo._scope.isPublish=!0),o.getTemplate()}return t})),s.addFilter("getComponentParams",(function(t,e){var n=s.getComponent(e);return u(n)&&(t.default=s.convertComponentParams(f(n).getDefaultParams())),t}))}));var g,v,b,y={update:function(t,n){var i=t.closest("a");if(t.attr({src:e.path2core(n.src),alt:n.alt,title:n.title}),e.isAMP()){var o=t.closest("amp-img");n.lightbox?(t.attr("lightbox",n.lightbox),o.attr("lightbox",n.lightbox),n.link=void 0):o.removeAttr("lightbox"),n.title?o.attr("title",n.title):o.removeAttr("title")}n.link?(i.length||(i=t.after("<a/>").next())[0].appendChild(t[0]),i.attr("href",n.link),n.linkInNewWindow?i.attr("target","_blank"):i.removeAttr("target"),i=e.applyFilter("secondaryImgLinkUpdate",i,n)):i.length&&i.contents().each((function(){i[0].parentNode.insertBefore(this,i[0])})).end().remove()}},w={update:function(e,n){var i=e.find("[data-form-alert]");e="FORM"==e[0].tagName?e:e.find("form"),i.html(n.alerts.success),e.attr("action",n.action),t(e[0].elements).each((function(){var i=t(this).attr("name"),o=e.find("[for='"+t(this).attr("name")+"']")||"",r=e.find("[data-for='"+t(this).attr("name")+"']")||"";i&&n.fields[i]&&(function(t){var e=0;for(var n in t.fields)t.fields[n].visible&&e++;if(!e)return!0}(n)&&(n.fields[i].visible=!0),n.fields[i].visible?(t(this).removeAttr("hidden"),o.removeAttr("hidden"),r.removeAttr("hidden")):(t(this).attr("hidden","true"),o&&o.attr("hidden","hidden"),r&&r.attr("hidden","hidden")),n.fields[i].customTitle?t(this).attr("placeholder",n.fields[i].customTitle):t(this).removeAttr("placeholder"))}))},clean:function(e,n){var i=t(n[0]).find("[data-app-component-id="+e._id+"] [mbr-form]"),o=e[i.attr("mbr-form")];for(var r in o.fields)o.fields[r].visible||(i.find("[name='"+r+"']").remove(),i.find("[for='"+r+"']").remove(),i.find("[data-for='"+r+"']").remove())},prefix:function(e,n){var i=e._id,o=e._anchor,r=t(n[0]).find("[data-app-component-id="+i+"] form");t(r[0].elements).each((function(){var e=t(this).attr("name"),n=r.find("[for='"+t(this).attr("name")+"']")||"",i=e+"-"+o;e&&t(this).attr("id",i),n&&n.attr("for",i)}))}},x=function(){function t(t,n){var i=e.iconFonts[n.family],o=[];i?(i.prefix&&o.push(i.prefix+n.name),i.class&&o.push(i.class)):console.warn("IconFont not found in fonts list",n,t),t.data("old-icon-classes",o.join(" "))}return{init:t,update:function(n,i){var o=n.closest("a"),r=e.iconFonts[i.family];r?(n.removeClass(n.data("old-icon-classes")),r.prefix?n.addClass(r.prefix+i.name).removeAttr("data-name").html(""):n.html("&#x"+r.codes[r.names.indexOf(i.name)]).attr("data-name",i.name),r.class&&n.addClass(r.class),t(n,i),n.css({"font-size":i.size?parseInt(i.size,10)+"px":"",color:i.color||"",fill:i.color||""}),i.link?(o.length||(o=n.after("<a/>").next())[0].appendChild(n[0]),o.attr("href",i.link),i.newWindow?o.attr("target","_blank"):o.removeAttr("target"),o=e.applyFilter("secondaryIconLinkUpdate",o,i)):o.length&&o.contents().each((function(){o[0].parentNode.insertBefore(this,o[0])})).end().remove()):console.warn("IconFont not found in fonts list",i,n)}}}(),_=function(){var t=function(){function t(t){this._params={},t&&t.replace(/^\?/,"").split("&").forEach((function(t){if((t=t.split("="))[0]){var e=t[0],n="";t.length>1&&(n=t.slice(1).join("=")),this._params[e]=n}}),this)}return t.prototype.set=function(t,e){this._params[t]=encodeURIComponent(e)},t.prototype.toString=function(){var t="";for(var e in this._params)t&&(t+="&"),t+=e+"="+this._params[e];return t&&(t="?"+t),t},t}(),e=function(){function e(e){var n,i=this;this.hash="",this._prefix=e.replace(/#.*$/,(function(t){return t.length>1&&(i.hash=t),""})).replace(/\?.*$/,(function(t){return t.length>1&&(n=t),""})),this.searchParams=new t(n)}return e.prototype.toString=function(){return this._prefix+this.searchParams.toString()+this.hash},e}();return{update:function(t,n){var i=t.find("iframe"),o=new e(n.src);i.length||(i=t.append("<iframe/>").find("iframe")),"4:3"==n.aspectratio?i.attr({width:800,height:600}):i.removeAttr("width height"),o.searchParams.set("loop",n.loop?1:0),o.searchParams.set("autoplay",n.autoplay?1:0),i.attr("src",o.toString())}}}(),S=function(){function t(){this.isTest=!1,this.hardReset()}return t.prototype.reset=function(){return this.lastError=null,this.nextNode=null,this.isBreaked=this.isStopped,this.isIgnoredChildren=!1,this.isTraverseForOneNode=!1,this.node=null,this.attr=null,this},t.prototype.hardReset=function(){return this.isStopped=!1,this.reset(),this},t.prototype.error=function(t){return this.lastError=t,this},t.prototype.ignoreChildren=function(){return this.isIgnoredChildren=!0,this},t.prototype.traverseForOneNode=function(){return this.isTraverseForOneNode=!0,this},t.prototype.break=function(){return this.isBreaked=!0,this},t.prototype.test=function(t){return this.isTest=t,this},t.prototype.stop=function(){return this.isStopped=this.isBreaked=!0,this},t.prototype.next=function(t){return this.nextNode=t,this},t}(),k=e.SecondaryComponent=function(){function o(t){this._defaultParams={},this._component=t,this._template="",t._cid||(t._cid=e.getUID(3,{timePrefix:!0})),this.update()}return o.prototype.getDefaultParams=function(){return this._defaultParams},o.prototype.getTemplate=function(){return this._template},o.prototype.createElementFromTemplate=function(){return p(this.getTemplate()).firstChild},o.prototype.getClassName=function(){return o.getClassName(this._component)},o.prototype.changeParam=function(t,n){var i=new C.ParamEvent("change");this._arrivo.emit("changeParam",i,t,n),i.defaultPrevented||e.Core.renderComponentsStyles(null,null,this._component)},o.prototype.changeNode=function(t,e){this._arrivo.emit("changeNode",new C.NodeEvent("change"),t,e)},o.prototype.isActualTemplate=function(){return this._arrivo&&this._arrivo._template==this._component._customHTML},o.prototype.update=function(){var o=this,r=this._component;return this.isActualTemplate()||(this._arrivo=new C(this._component._customHTML,{component:r}).on("ready",(function(i,a,s){for(var l in o._template=a,o._defaultParams=s,i._params={},s){var c=s[l];i._params[l]=c.default}if(r._params)for(var l in r._params){if((c=o._arrivo.getParam(l))&&c.isProtected()){var d=r._params[l];d instanceof Object&&(d=t.extend(!0,Array.isArray(d)?[]:{},d)),i._params[l]=d}}var u=["_anchor","_checkPublish","_cid","_customCSS","_customHTML","_id","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"];for(var l in r)u.indexOf(l)<0&&delete r[l];delete r._rv,t.extend(!0,r,i);var p=e.$template.find("[data-app-component-id="+r._id+"]");p[(r._noDrag?"add":"remove")+"Class"]("no-sortable"),p[(r._positionAbsolute?"add":"remove")+"Class"]("pos-absolute"),r._alwaysBottom?p.attr("data-app-always-bottom","true").appendTo(p.parent()):p.removeAttr("data-app-always-bottom"),r._alwaysTop?p.attr("data-app-always-top","true").prependTo(p.parent()):p.removeAttr("data-app-always-top"),r._noDrag?p.find(".sortable").remove():p.find(".sortable").length||p.find(".app-component-edit").prepend('<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>');var f=!1;for(var h in s)if(s[h].type){f=!0;break}f?p.find(".component-params").length||p.find(".component-remove").before('<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="'+n("Block Parameters")+'"></span>'):p.find(".component-params").remove()})).on("changedTemplate",(function(t){t=t.replace(/<([-a-z0-9]+)(\s[^<>]+)>/g,(function(t,e,n){return"<"+e+(n=n.replace(/\s([-a-z]+)="([^"]*)"/g,(function(t,e,n){return"checked"!=e&&"selected"!=e&&n?" "+e+'="'+(n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))+'"':" "+e})))+">"})),r._customHTML=t,this._template=t})).on("changedParam",(function(n,o,a){"object"==(void 0===o?"undefined":i(o))&&(o=t.extend(!0,{},o)),e.Core.$template.find("[data-app-component-id="+r._id+"] .app-component-content > *").trigger("changeParameter.cards",[n,o].concat(a&&String(a)||[]))})).on("changedNode",(function(t,n){var i;switch(n.type){case"icon":case"image":case"video":i='[mbr-media="'+t+'"]'}i&&e.Core.$template.find("[data-app-component-id="+r._id+"] .app-component-content > *").find(i).trigger("changeContent.cards",[n.type])})),this._arrivo.process(),e.cleanOnceComponents()),this},o.validate=function(e){var n=t.Deferred();return new C(e,{component:{},test:!0}).on("ready",(function(){n.resolve()})).on("error",(function(t){n.reject(t)})).process(),n.promise()},o.getClassName=function(t){return"cid-"+t._cid},o}(),C=e.Arrivo=function(){var n={tags:{},attrs:{}},o=c.createChildClass((function(t,e){this.flow=new S,e.test&&this.flow.test(!0),this._uid=0,this._template=t,this._component=e.component,this._scope={},this._nodes={},this._params={},this._newComponent={_protectedParams:[]},this.on("changeParam",(function(t,e,n){e in this._params&&(t.target=this._params[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedParam",e,n))})).on("changeNode",(function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedNode",e,t.target))}))}));return o.prototype.getUName=function(){return"uname__"+ ++this._uid},o.prototype.getComponent=function(){return this._component},o.prototype.getComponentsDir=function(){var t=this._component.alias,n=this._component._sourceTheme;return t?e.path2core(e.getAddonDir(t))+"/":n?e.path2core(e.getAddonDir(n))+"/components/":e.path2core(e.theme.pathExport+"/components")+"/"},o.prototype._bindNodes=function(t,e){for(var n,i=[t],o=[e];t=i.pop();)if(e=o.pop(),((n=t.nodeType)==t.TEXT_NODE||n==t.ELEMENT_NODE)&&(e._assocElement=t,t._assocElement=e,n==t.ELEMENT_NODE))for(var r=0;r<t.childNodes.length;r++)i.push(t.childNodes[r]),o.push(e.childNodes[r])},o.prototype.findErrorLine=function(){var t,n,i=0,o=e.getUID();if(!this.flow.node)return i;if(this.flow.attr){t=this.flow.attr.value;var r=this.flow.attr.name;this.flow.node.setAttribute(r,o),n=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.setAttribute(r,t)}else this.flow.node.nodeType==this.flow.node.TEXT_NODE&&(t=this.flow.node.nodeValue,this.flow.node.nodeValue=o,n=this.sourceFragment.innerHTML.indexOf(o),this.flow.node.nodeValue=t);if(n>=0){var a=this.sourceFragment.innerHTML.substr(0,n).split(t).length;i=this._template.split(t,a).join(t).split("\n").length}return i},o.prototype.process=function(){var t=this._template;if(this.sourceFragment=p(t),this.resultFragment=p(t),this._bindNodes(this.sourceFragment,this.resultFragment),this._process(this.sourceFragment,!0),this.flow.isTest&&this.flow.lastError){if("line"in this.flow.lastError){var e=this.findErrorLine();e&&(this.flow.lastError.line+=e)}this.flow.attr&&(this.flow.lastError.message=this.flow.lastError.message.replace(/^\s*Parse error:/,'Parse error in "'+this.flow.attr.name+'" attribute:')),this.emit("error",this.flow.lastError)}else{var n={};for(var i in this._params)n[i]=this._params[i].prop();this.emit("ready",this._newComponent,this.resultFragment.innerHTML,n)}},o.prototype._process=function(e,i){var o,r,a=this.flow.isTraverseForOneNode,s=a?e:e.firstChild;for(i&&this.flow.hardReset();s;){if(this.flow.isStopped)return;if(this.flow.reset(),this.flow.node=s,r=s.nextSibling,s.nodeType==s.ELEMENT_NODE){if(s.hasAttributes())for(var l=s.attributes,c=0;c<l.length;c++){this.flow.attr=l[c];var d=l[c].name;if((o=n.attrs[d])?o.call(this,t(s._assocElement),t(s),l[c].value,d):(o=n.attrs["*"])&&o.call(this,s._assocElement,s,l[c].value,d),this.flow.isBreaked)return}this.flow.attr=null;var u=i?":root":s.tagName.toLowerCase();if((o=n.tags[u])?o.call(this,t(s._assocElement),t(s),u):(o=n.tags["*"])&&o.call(this,s._assocElement,s,u),this.flow.isBreaked)return;this.flow.nextNode&&(r=this.flow.nextNode),this.flow.isIgnoredChildren||this._process(s,!1)}else if(s.nodeType==s.TEXT_NODE&&n.text&&(n.text.call(this,s._assocElement),this.flow.isBreaked))return;if(a)return;s=r}},o.prototype.addParam=function(t,e){if(t in this._params){if(this._params[t]===e)return;this._params[t].trigger("delete")}var n,i=e.elm();if(i&&!e.prop("condition")&&(n=i.attr("condition"))){this.flow.node=i[0],this.flow.attr={name:"condition",value:n};var o=this.getScript(n),r=this.getUName();o?this.addProp(r,this.createFunction(o)):this.addProp(r,(function(){return!1})),e.prop("condition",r)}if(e.isProtected()){var a=this._newComponent._protectedParams;a&&a.indexOf(t)<0&&a.push(t)}return this._params[t]=e,this},o.prototype.getParam=function(t){return this._params[t]},o.prototype.addNode=function(t,e){if(t in this._nodes){if(this._nodes[t]===e)return;this._nodes[t].trigger("delete")}return this._nodes[t]=e,this},o.prototype.getNode=function(t){return this._nodes[t]},o.prototype.addProp=function(t,e){if("object"==(void 0===t?"undefined":i(t)))for(var n in t)null!=(e=t[n])&&(this._newComponent[n]=e);else this._newComponent[t]=e;return this},o.prototype.getProp=function(t){return this._newComponent[t]},o.prototype.getScript=function(t){try{var e=mbrScript(t);if("repeat"==e.type)throw e=null,new mbrScript.Error("Parse error: Operator 'in' is not supported",0)}catch(t){this.flow.error(t),this.flow.isTest?this.flow.stop():console.error(t)}return e},o.prototype.createFunction=function(t){var n=new l([this.getComponent(),this._scope,s]);return new e.iwindow.Function("","var result = ("+t.code+'); if (result === undefined || result === null) return ""; return result;').bind(n)},o.prototype.fork=function(){return new o.Scope(this).on("changedTemplate",(function(){this._parent.emit("changedTemplate",this._parent.sourceFragment.innerHTML)})).on("changedNode",(function(t,e){this._parent.emit("changedNode",t,e)}))},o.Scope=function(){var t=function(){function t(){mbrScript.Context.apply(this,arguments)}return t.prototype=Object.create(mbrScript.Context.prototype),t.prototype.constructor=t,t.prototype.getProp=function(t){if("this"==t)return this.scopes[0]&&this.scopes[0]._params;if(this.scopes[1]._params&&void 0!==this.scopes[1]._params[t])return this.scopes[1]._params[t];for(var e=2;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]},t}(),n=c.createChildClass((function(t){this.flow=t.flow,this._uid=0,this._parent=t,this._template=t._template,this._component=t._component,this._scope=t._scope,this._nodes={},this._params={},this._newComponent={_checkPublish:function(){return!!t._scope.isPublish}},this.on("changeNode",(function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate"),t.isPropagationStopped||this.emit("changedNode",e,t.target))}))}));for(var i in n.prototype.addParam=function(){},n.prototype.getParam=function(){},n.prototype.getUName=function(){return this._parent.getUName()},n.prototype.getParent=function(){return this._parent},n.prototype.process=function(t){if("string"==typeof t){var e=t,n=p(e),i=p(e);o.prototype._bindNodes(n,i),this._process(n),t=i.firstChild}else this.flow.traverseForOneNode(),this._process(t._assocElement);return this.resultFragment=t,this.sourceFragment=t._assocElement,this.flow.isTest&&this.flow.lastError||this.emit("ready",this._newComponent,this.resultFragment,this.sourceFragment),this},n.prototype.createFunction=function(n){var i=new t([null,this.getComponent(),this._scope,s]);return new e.iwindow.Function("scope","this.scopes[0] = scope; var result = ("+n.code+'); if (result === undefined || result === null) return ""; return result;').bind(i)},o.prototype)i in n.prototype||(n.prototype[i]=o.prototype[i]);return n}(),o.Param=function(){var t=function(t){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""))?t.split(/\s+/):[]};function e(t){c.call(this,"Param"),this._props="object"==(void 0===t?"undefined":i(t))?t:{},this._protected=!1}return e.prototype.on=function(e,n){return t(e).forEach((function(t){c.prototype.on.call(this,t,n)}),this),this},e.prototype.off=function(e,n){if(arguments.length){var i="remove"+(arguments.length>1?"Listener":"AllListeners");t(e).forEach((function(t){c.prototype[i].call(this,t,n)}),this)}else c.prototype.removeAllListeners.call(this);return this},e.prototype.trigger=function(e){e="object"==(void 0===e?"undefined":i(e))?[e]:t(e).map((function(t){return new o.ParamEvent(t,{target:this})}),this);var n=Array.prototype.slice.call(arguments,1);return e.forEach((function(t){c.prototype.emit.apply(this,[t.type,t].concat(n))}),this),this},e.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},e.prototype.prop=function(t,e){var n=arguments.length;return n>1?(this._props[t]=e,this):"object"==(void 0===t?"undefined":i(t))?(this._props=t,this):n?this._props[t]:this._props},e.prototype.removeProp=function(t){return delete this._props[t],this},e.prototype.protect=function(){return this._protected=!0,this},e.prototype.isProtected=function(){return this._protected},e}(),o.Node=function(){function t(t,e){c.call(this,"Node"),Object.defineProperty(this,"type",{get:function(){return t},enumerable:!0}),this._elm=e}return t.prototype.on=o.Param.prototype.on,t.prototype.off=o.Param.prototype.off,t.prototype.trigger=o.Param.prototype.trigger,t.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},t}(),o.ParamEvent=function(t,e){var n=!1,o=!1;if(this.preventDefault=function(){n=!0},this.stopPropagation=function(){o=!0},Object.defineProperties(this,{type:{value:t,enumerable:!0},defaultPrevented:{get:function(){return n},enumerable:!0},isPropagationStopped:{get:function(){return o},enumerable:!0}}),"object"==(void 0===e?"undefined":i(e)))for(var r in e)this[r]=e[r]},o.NodeEvent=o.ParamEvent,o.addHandler=function(t,e,i){return n[t]||(n[t]={}),n[t][e]=i,o},o.tag=function(t,e){return o.addHandler("tags",t.toLowerCase(),e)},o.attr=function(t,e){return o.addHandler("attrs",t,e)},o.text=function(t){return n.text=t,o},o.handlers=n,o}();!function(){function e(n){for(var i,o,r=n.firstElementChild;r;){if(this.flow.isBreaked)return;for(var a in o=t(r),i=!0,C.handlers.params)if(o.is(a)){this.flow.node=r,i=!1;var s=o.attr("name");if(s&&!/^[_a-zA-Z][_a-zA-Z0-9]*$/.test(s)){var l=new Error('Incorrect parameter name: "'+s+'"');if(l.line=0,this.flow.isTest)return this.flow.attr={name:"name",value:s},void this.flow.error(l).stop();console.error(l)}var c=C.handlers.params[a].call(this,o,o.attr("title")||s,o.val());c&&this.addParam(s||this.getUName(),c);break}i&&e.call(this,r),r=r.nextElementSibling}}C.param=function(t,e){return C.addHandler("params",t,e)},C.tag("mbr-parameters",(function(t,n){t.remove(),this.flow.ignoreChildren(),C.handlers.params&&e.call(this,n[0])}))}(),C.param("hr, header",(function(t){return new C.Param({type:"separator",title:t.html()||""}).elm(t)})),C.param("label",(function(t){return new C.Param({type:"label",title:t.html()||"label"}).elm(t)})),C.param("input[type=text], textarea",(function(t,e,n){var i=t.is("textarea");return new C.Param({type:i?"textarea":"text",title:e||"Text",default:n||""}).elm(t).on("change",(function(e,n){i?t.text(n):t.attr("value",n)}))})),C.param("input[type=checkbox]",(function(t,e){var n=void 0!==t.attr("inverted");return new C.Param({type:"switch"+(n?"-off":""),title:e||(n?"Disable":"Enable"),default:t.prop("checked")}).elm(t).on("change",(function(e,n){n?t.attr("checked",!0):t.removeAttr("checked")}))})),C.param("input[type=radio]",(function(t,e,n){var i=this,o=t.attr("name")||this.getUName(),r=this.getParam(o),a=t.prop("checked");r||((r=new C.Param({default:""})).radioGroup=this.getUName(),this.addParam(o,r)),t.attr("title")||(e=t.is("[title]")||!n?"":n),t.is("[value]")||(n=e);var s=new C.Param({type:"radio",name:r.radioGroup,title:e,default:a}).elm(t).on("change",(function(e,r){e.stopPropagation(),r?(t.attr("checked",!0),i.getComponent()._params[o]=n,i.emit("changedParam",o,n)):(t.removeAttr("checked"),e.preventDefault())}));this.addParam(this.getUName(),s),a&&r.prop("default",n)})),C.param("select",(function(e,n,i){var o={};return e.find("option").each((function(){var e=t(this),n=e.attr("value"),i=e.html();void 0===n&&(n=i),o[n]=i})),new C.Param({type:"select",title:n||"Select",values:o,inline:e.is("[inline]"),multiple:e.is("[multiple]"),default:i}).elm(e).on("change",(function(n,i){e.find("option[selected]").removeAttr("selected"),e.find("option").each((function(){var e=t(this),n=e.attr("value");if(void 0===n&&(n=e.html()),Array.isArray(i)){for(var o=0;o<i.length;o++)if(n===i[o]){e.attr("selected",!0);break}}else n==i&&e.attr("selected",!0)}))}))})),C.param("fieldset[type=background]",(function(e,n,i){var o=e.find("image, color, video".replace(/(\w+)/g,"input[type=$1]:last"));if(o.length){var r=this,a={},s=[],l=this.getUName(),c=e.is("[parallax]"),d=C.handlers.params,u=e.attr("name")||this.getUName(),p=new C.Param({type:"background"}).elm(e).on("select",(function(t,e){var n=r.getComponent()._params[u];n.type=e,n.value=n[e].value,n.parallax=c&&"image"==e&&n[e].parallax,r.emit("changedParam",u,n,"type")})).on("change",(function(t,e,n,i){var o=r.getComponent()._params[u];o.type===e&&(o[n]=i),o[e][n]=i,r.emit("changedParam",u,o,n)}));o.each((function(){var n=t(this),i=n.attr("type"),o=n.attr("title"),f=n.is("[selected]"),h=(d["input[type="+i+"]"]||t.noop).call(r,n,"",n.val());if(h){var m=new C.Param({type:"radio",name:l,default:f}).elm(n).on("change",(function(t,e){t.stopPropagation(),e?(n.attr("selected",!0),p.trigger("select",i)):(n.removeAttr("selected"),t.preventDefault())}));switch(i){case"image":h.prop("title",""),m.prop("title",o||"Background Image"),a[i]={value:h.prop("default"),parallax:c&&n.is("[parallax]")};break;case"color":m.prop("title",o||"Background Color"),a[i]={value:h.prop("default")};break;case"video":h.prop("default",{url:h.prop("default").url}),m.prop("title",o||"Background Video"),a[i]={value:h.prop("default")}}r.addParam(r.getUName(),m);var g=r.getUName();r.addProp(g,r.createFunction(r.getScript(u+'.type == "'+i+'"'))),h.on("change",(function(t,e){t.stopPropagation(),p.trigger("change",i,"value",e)})).prop("condition",g),s.push(h),c&&"image"==i&&s.push(new C.Param({type:"switch",title:e.attr("parallax")||"Parallax",default:n.is("[parallax]"),condition:g}).elm(n).on("change",(function(t,e){t.stopPropagation(),e?n.attr("parallax",""):n.removeAttr("parallax"),p.trigger("change",i,"parallax",e)}))),!f&&a.type||(a.type=i,a.value=a[i].value,a.parallax="image"==i&&a[i].parallax)}})),s.forEach((function(t){r.addParam(r.getUName(),t)})),this.addParam(u,p.prop("default",a))}})),C.param("input[type=color]",(function(t,e,n){return new C.Param({type:"color",title:e||"Color",default:n||"#ffffff"}).elm(t).on("change",(function(e,n){t.attr("value",n)}))})),C.param("input[type=range]",(function(t,e,n){var i=t.attr("min")||0,o=t.attr("max")||100;return new C.Param({type:"range",min:i,max:o,step:t.attr("step")||1,title:e||"Range",inline:t.is("[inline]"),default:n||(parseFloat(o)+parseFloat(i))/2}).elm(t).on("change",(function(e,n){t.attr("value",n)}))})),C.param("input[type=font]",(function(t,n,i){for(var o,r=e.getAccesibleFonts(),a=0;a<r.length;a++)if(i===r[a].name){o=r[a];break}return new C.Param({type:"fonts",title:n||"Font",inline:!0,default:o||r[0]||{}}).elm(t).on("change",(function(e,n){t.attr("value",n.name)}))})),C.param("input[type=image]",(function(t,e,n){return n&&0!==n.indexOf("@SITES@")&&n.indexOf(":/")<0&&(n=h(this.getComponent())+n),new C.Param({type:"image",title:e||"Image",default:n}).elm(t).on("change",(function(e,n){t.attr("value",n)}))})),C.param("input[type=video]",(function(t,e,n){return new C.Param({type:"video",title:e||"Video",default:{url:n||"http://www.youtube.com/watch?v=uNCr7NdOJgw",loop:!0}}).elm(t).on("change",(function(e,n){t.attr("value",n.rawUrl)}))})),C.param("input[type=hidden]",(function(t,e,n){return new C.Param({default:n||""})})),C.param("input[type=id]",(function(t){return new C.Param({default:e.getUID(3,{timePrefix:!0})})})),C.tag(":root",(function(t,e){var n=e.attr("plugins");n&&(n=n.replace(/\s*,\s*/g,",")),this.addProp({_alwaysBottom:e.is("[always-bottom]"),_alwaysTop:e.is("[always-top]"),_global:e.is("[global]"),_noDrag:e.is("[not-draggable]"),_plugins:n||null,_positionAbsolute:e.is("[position-absolute]"),_once:e.is("[once]")&&(e.attr("once")||!0)}),t.attr("mbr-id","_anchor").addClass(k.getClassName(this.getComponent())).removeAttr("plugins group always-top always-bottom position-absolute not-draggable global")})),C.attr("mbr-list",(function(t,e){var n,i=[],o=this.getUName(),r=this;t.find("> *").each((function(){var t=new d({$listSourceElement:e});r.fork().on("ready",(function(e,n){t.template=n.outerHTML,t.arrivo=this,t.scope=e})).process(this),i.push(t)})).remove(),n=(n=e.attr("mbr-list-grow"))?" | grow _params."+n:"",t.attr("mbr-active-components",o+n).removeAttr("mbr-list mbr-list-grow"),this.addProp(o,i),this.flow.ignoreChildren()})),C.attr("mbr-text",(function(t,e){var i=this.getUName(),o=new C.Node("content",e).on("change",(function(t,n){e.html(n)}));t.attr({"data-app-edit":"content","mbr-static-html":i,"mbr-content-edit":i,"data-app-placeholder":n("Type Text"),"mbr-on-change-component-node":function(t,e){return t.addProp(e,(function(e,n){t.emit("changeNode",new C.NodeEvent("change",{originalEvent:e}),i,n[i])})),e}(this,this.getUName())}),t.is("[mbr-article]")&&t.attr({"data-app-edit":"full","data-multiline":!0,"data-app-placeholder":n("Type Content")}),t.removeAttr("mbr-text mbr-article"),this.addNode(i,o),this.addProp(i,e.html()),this.flow.ignoreChildren()})),C.attr("mbr-article",C.handlers.attrs["mbr-text"]),["h1","h2","h3","h4","h5","h6","p"].forEach((function(t){C.tag(t,C.handlers.attrs["mbr-text"])})),C.attr("mbr-buttons",(function(e,i,o,r){var a=this.getUName(),s=e.is("[mbr-buttons]")?"buttons":"menu",l=new C.Node(s,i).on("change",(function(t,e){i.html(e)}));e.attr({"data-app-edit":s,"mbr-static-html":a,"mbr-content-edit":a,"mbr-on-change-component-node":function(e,n){return e.addProp(n,(function(n,i){var o,r,s=new C.NodeEvent("change",{originalEvent:n});e.emit("changeNode",s,a,(o=i[a],(r=t(p(o))).find("a").removeAttr("data-app-btn data-toolbar"),r.html()))})),n}(this,this.getUName())}).attr(r,this.getUName()).find("a").attr({"data-app-btn":"true","data-app-placeholder":n("Type Text")}),"menu"==s&&e.attr("data-app-modern-menu",!0),this.addNode(a,l),this.addProp(a,e.html()),this.flow.ignoreChildren(),e.html("")})),C.attr("mbr-menu",C.handlers.attrs["mbr-buttons"]),C.attr("mbr-icon",(function(n,o){var r=this.getUName(),a=t.extend(e.extractIconFont(n[0]),{link:"",newWindow:!1}),s=new C.Node("icon",o).on("change",(function(t,e){x.update(o,e.iconFont)}));o.closest("a").each((function(){a.link=t(this).attr("href")||"#",a.newWindow=t(this).is("[target=_blank]")})),x.init(o,a),n.attr({"mbr-media":r,"mbr-media-simple":!0,"mbr-on-click":function(n,o){return n.addProp(o,(function(o,a){o.preventDefault(),o.stopPropagation(),e.Core.showMediaIconFontDialog(t.extend(!0,{},a[r]),(function(t){a[r]=t,n.emit("changeNode",new C.NodeEvent("change"),r,a[r]),e.Core.updateGlobalComponents(n.getComponent()._id,(function(t,e){for(var n in e)("_customHTML"===n||"object"!==i(e[n])&&"function"!=typeof e[n]&&!/^_/g.test(n))&&(e[n]=t[n]);f(e).update()}))}),o.target)})),o}(this,this.getUName())}).removeAttr("mbr-icon"),this.addNode(r,s),this.addProp(r,{iconFont:a}),this.flow.ignoreChildren()})),C.tag("img",(function(n,o){var r={active:!0},a=this.getUName(),s=new C.Node("image",o).on("change",(function(t,e){y.update(o,e.image)}));if(["src","alt","title","width","height"].forEach((function(t){var e=o.attr(t);(e||"width"!=t&&"height"!=t)&&(r[t]=e)})),r.src.indexOf(":/")<0&&r.src.indexOf("app/themes")<0&&0!==r.src.indexOf("@SITES@"))if(r.src.indexOf(!1)){var l=h(this.getComponent());(l=l.split("/")).splice(-2,2),l=l.join("/"),r.src=l+r.src.slice(2)}else r.src=h(this.getComponent())+r.src;o.closest("a").each((function(){r.link=t(this).attr("href")||"#",r.linkInNewWindow=t(this).is("[target=_blank]")}));var c={};r.width>0&&(r.width=2*r.width),r.height>0&&(r.height=2*r.height);var d=n.closest("amp-img"),u=!1,p=!1;t(d).hasClass("image-without-link")&&(p=!0),t(d).is(".lb-image")&&(u=!0),(t(d).attr("lightbox")||""==t(d).attr("lightbox"))&&(r.lightbox=t(d).attr("lightbox")||!0),n.attr({"mbr-media":a,"mbr-media-simple":!0,"mbr-on-click":function(n,o){return n.addProp(o,(function(o,r){o.preventDefault(),o.stopPropagation(),c={width:2*t(o.target).width()},e.showMediaImageDialog(t.extend(!0,{},r[a],{image:c}),(function(t){r[a]=t,n.emit("changeNode",new C.NodeEvent("change"),a,r[a]),e.Core.updateGlobalComponents(n.getComponent()._id,(function(t,e){for(var n in e)("_customHTML"===n||"object"!==i(e[n])&&"function"!=typeof e[n]&&!/^_/g.test(n))&&(e[n]=t[n]);f(e).update()}))}),!1,p,!1,r._id,u,t(o.target))})),o}(this,this.getUName())}),this.addNode(a,s),this.addProp(a,{image:r})})),C.attr("mbr-video",(function(n,o){var r=this.getUName(),a={active:!0,src:"http://www.youtube.com/watch?v=uNCr7NdOJgw",aspectratio:"16:9",autoplay:!1,loop:!1},s=new C.Node("video",o).on("change",(function(t,e){_.update(o,e.video)}));o.find("iframe:last").each((function(){var e=t(this),n=e.attr("height"),i=e.attr("width"),o=e.attr("src");o&&(a.src=o,a.loop=/[?&]loop=1/.test(o),a.autoplay=/[?&]autoplay=1/.test(o)),i&&n&&i/n<1.4&&(a.aspectratio="4:3")})),n.attr({"mbr-media":r,"mbr-on-click":function(n,o){return n.addProp(o,(function(o,a){o.preventDefault(),o.stopPropagation(),e.showMediaVideoDialog(t.extend(!0,{},a[r]),(function(t){a[r]=t,n.emit("changeNode",new C.NodeEvent("change"),r,a[r]),e.Core.updateGlobalComponents(n.getComponent()._id,(function(t,e){for(var n in e)("_customHTML"===n||"object"!==i(e[n])&&"function"!=typeof e[n]&&!/^_/g.test(n))&&(e[n]=t[n]);f(e).update()}))}))})),o}(this,this.getUName())}).removeAttr("mbr-video").html(""),this.addNode(r,s),this.addProp(r,{video:a}),this.flow.ignoreChildren()})),C.attr("mbr-if",(function(t,e,n,i){if(n){var o=this.getScript(n);if(o){var r=this.getUName();this.addProp(r,this.createFunction(o));var a="this | fakeFilter "+[r].concat(o.getDependencies().map((function(t){return"_params."+t}))).join(" ");"mbr-style"==i?t.removeAttr(i).attr("mbr-style2",a):t.attr(i,a)}else"mbr-style"==i?t.removeAttr(i):t.attr(i,"false")}else t.removeAttr(i)})),C.attr("mbr-style",C.handlers.attrs["mbr-if"]),C.attr("mbr-form",(function(n,i,o,r){var a={title:"",action:"",alerts:{},fields:{}},s="FORM"==n[0].tagName?n:n.find("form"),l=n.find("[data-form-alert]").html(),c=this.getUName(),d=new C.Node("form",i).on("change",(function(t,e){w.update(i,e)}));a.title=s.attr("name"),a.action=s.attr("action")||e.getUserInfo().email,l&&(a.alerts.success=l.trim()),t(s[0].elements).each((function(){var e,n=t(this).attr("name"),i=t(this).attr("data-form-field")||"",o=t(this).attr("placeholder")||"",r=!t(this).attr("hidden");null!=t(this).attr("type")?e=t(this).attr("type"):t(this).is("select")?e="select":t(this).is("textarea")&&(e="textarea"),n&&(a.fields[n]={visible:r,title:i,customTitle:o,type:e})})),n.removeAttr(r),this.addNode(c,d),this.addProp(c,a),w.update(s,a),s.attr({action:"https://mobirise.eu/","mbr-form":c}).removeAttr("name")})),C.attr("mbr-theme-style",(function(t,n,i,o){if(i&&"secondary"===e.theme.type){var r=this.getUName();t.attr({"mbr-class-var":r,"mbr-on-change-theme-style":function(t,e){return t.addProp(e,(function(e,i){n.attr(o,e.themeStyle),t.emit("changedTemplate",t.sourceFragment.innerHTML)})),e}(this,this.getUName())}),this.addProp(r,i)}t.removeAttr(o)})),e.on("formoidSucces",(function(t,n,i,o){var r=e.Core.getComponent(t);u(r)&&(w.update(o,i),f(r).changeNode(n,i))})),g=/(\{\{[\s\S]*?\}\})/,v=function(t){return t.replace(/\\{\\{/g,"{{").replace(/\\}\\}/g,"}}")},b=function(t){return t.split(g).filter((function(t){return t})).map((function(t){return"{{"==t.slice(0,2)&&"}}"==t.slice(-2)?function(t){return"("+t.replace(/\\\{/g,"{").replace(/\\\}/g,"}")+")"}(t.slice(2,-2)):function(t){return"'"+v(t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}(t)})).join(" + ")},C.attr("mbr-class",(function(t,e,n,i){t.removeAttr(i);var o=e.attr("class");if(o&&g.test(o)){var r=b(o);n=n?"["+r+", "+n+"]":r}if(n){var a=this.getScript(n);if(a){var s=this.getUName();this.addProp(s,this.createFunction(a));var l="this | fakeFilter "+[s].concat(a.getDependencies().map((function(t){return"_params."+t}))).join(" ");t.attr("mbr-class2",l)}}})),C.attr("*",(function(e,n,i,o){if(/^mbr-/.test(o))e.removeAttribute(o);else if(g.test(i))if("class"==o)n.hasAttribute("mbr-class")||C.handlers.attrs["mbr-class"].call(this,t(e),t(n),"","mbr-class"),e.removeAttribute(o);else{var r=b(i),a=this.getScript(r);if(a){var s=this.getUName();this.addProp(s,this.createFunction(a));var l="this | fakeFilter "+[s].concat(a.getDependencies().map((function(t){return"_params."+t}))).join(" ");t(e).removeAttr(o).attr("mbr-"+o,l+" | toNULL")}}else e.getAttribute(o)===i&&"["!=o[0]&&e.setAttribute(o,v(i))}))}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("carousel",(function(t,e,n){var i=e.Arrivo,o='<div class="mbr-slider slide carousel" mbr-data-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-bs-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-pause="_params.%paramName%__autoplay" mbr-data-pause="_params.%paramName%__autoplay" data-keyboard="false" data-bs-keyboard="false"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#\'" mbr-data-target="_anchor | pref \'#\'" mbr-data-bs-target="_anchor | pref \'#\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner" role="listbox"><div class="carousel-item slider-fullscreen-image"mbr-each-this="_params.%paramName%"mbr-bg-image="this.image | unless this.playVideo"mbr-data-bg-video-slide="this.videoUrl | if this.playVideo"mbr-class-active="this.active"><div class="mbr-overlay" mbr-if="this.overlay | if this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><div class="container container-slide"><div class="image_wrapper"><div class="mbr-overlay" mbr-if="this.overlay | unless this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><img mbr-unless="this.playVideo" mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"><div class="carousel-caption justify-content-center"><div class="col-10"mbr-class-align-left="this.contentAlign | eq \'left\'"mbr-class-align-center="this.contentAlign | eq \'center\'"mbr-class-align-right="this.contentAlign | eq \'right\'"><h2 class="mbr-fonts-style" mbr-class-var="this.customStyle1" mbr-if="this.showTitle" mbr-static-html="this.textTitle" mbr-content-edit="this.textTitle" data-app-edit="content" data-app-placeholder="Type Title"></h2><p class="lead mbr-text mbr-fonts-style"mbr-class-var="this.customStyle2"mbr-if="this.showText"mbr-static-html="this.text" mbr-content-edit="this.text" data-app-edit="content"data-app-placeholder="Type Text"></p><div class="mbr-section-btn"mbr-buttons mbr-if="this.showButtons | if this.buttons"mbr-static-html="this.buttons" mbr-content-edit="this.buttons" mbr-class-var="this.customStyle3" data-app-edit="buttons"data-toolbar="-mbrBtnMove"></div></div></div></div></div></div></div><a data-app-prevent-settings class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#\'" role="button" data-slide="prev" data-bs-slide="prev"><span aria-hidden="true" class="mbri-left mbr-iconfont"></span><span class="sr-only visually-hidden">Previous</span></a><a data-app-prevent-settings class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#\'" role="button" data-slide="next" data-bs-slide="next"><span aria-hidden="true" class="mbri-right mbr-iconfont"></span><span class="sr-only visually-hidden">Next</span></a></div>';function r(t){return{playVideo:{type:"switch",title:n("Play Video"),default:!1},videoUrl:{type:"text",title:n("Youtube or Vimeo"),condition:[t+".playVideo"],default:"https://www.youtube.com/watch?v=fwkKc6M60-0"},image:{type:"image",title:n("Image"),condition:["!"+t+".playVideo"]},showTitle:{type:"switch",title:n("Show Title")},showText:{type:"switch",title:n("Show Text")},showButtons:{type:"switch",title:n("Show Buttons")},overlay:{type:"switch",title:"Overlay",default:!1},overlayColor:{type:"color",title:n("Color"),default:"#000000",condition:[t+".overlay"]},overlayOpacity:{type:"range",title:n("Opacity"),min:0,max:1,step:.1,inline:!0,default:.5,condition:[t+".overlay"]},contentAlign:{type:"select",title:n("Content Align"),values:{left:"left",center:"center",right:"right"}}}}function a(t){return[{image:t+"background1.jpg",active:!0,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:n(""),title:n(""),textTitle:n("FULL SCREEN SLIDER"),overlay:!0,contentAlign:"center",text:n("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-success" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR MAC")+"</a>"},{image:t+"background2.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:n(""),title:n(""),textTitle:n("VIDEO SLIDE"),overlay:!0,contentAlign:"left",text:n("Slide with youtube video background and color overlay. Title and text are aligned to the left."),buttons:'<a data-app-btn="true" class="btn btn-primary" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR MAC")+"</a>"},{image:t+"background3.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:n(""),title:n(""),textTitle:n("IMAGE SLIDE"),overlay:!0,contentAlign:"right",text:n("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-info" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("FOR MAC")+"</a>"}]}i.param("input[type=carousel]",(function(t,e,o){e=e||"Slides";var s=this.getComponentsDir()+"_images/",l=t.attr("name")||this.getUName();this.addParam(l+"__autoplay",new i.Param({type:"select",title:n("Autoplay"),values:{false:"False",hover:"Pause on hover",true:"Autoplay"},default:"false"}).protect()),this.addParam(l+"__autoplayInterval",new i.Param({type:"range",title:n("Autoplay Interval (ms)"),min:1e3,max:8e3,inline:!0,default:4e3,step:1e3,condition:l+"__autoplayCondition"}).protect()),this.addProp(l+"__autoplayCondition",(function(){return"false"!==this._params[l+"__autoplay"]})),this.addProp("carouselFunction",(function(t){return("hover"===t||"true"===t)&&"carousel"})),this.addProp("intervalFunction",(function(t){return!/^false/.test(t)&&t.replace(/^hover |true /,"")})),this.addParam(l+"__showBullets",new i.Param({type:"switch",title:n("Show Bullets"),default:!0}).protect()),this.addParam(l,new i.Param({type:"image-tabs",subtype:"carousel",title:e,_params:r(l),default:a(s)}).elm(t).protect())})),i.attr("mbr-carousel",(function(t,e,n,r){t.html(n?o.replace(/%paramName%/g,n):""),this.flow.ignoreChildren();var a,s=e.is("["+r+"-embedded]");this.addParam(n+"__embedded",new i.Param({default:s})),(a=this.getParam(n))&&(s?a.prop("fullscreen",!0):a.prop("default").forEach((function(t){t.customStyle1="display-2",t.customStyle2="display-7",t.showTitle=!1,t.showButtons=!1,t.contentAlign="center"})))}))}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("gallery",(function(t,e,n){var i=e.Arrivo,o='\x3c!-- Filter --\x3e<div class="mbr-gallery-filter container" mbr-if="_params.%paramName%__filter" mbr-class-gallery-filter-active="_params.%paramName%__filter"><ul data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrBtnRemove,-mbrLink,-mbrFonts,-mbrFontSize,-iconFont" data-app-edit="buttons"></ul></div>\x3c!-- Gallery --\x3e<div class=\'mbr-gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div><div><div class="mbr-gallery-item" mbr-add-class="\'mbr-gallery-item--p\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-data-tags="this.tags"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+n("Type Text")+'" data-app-selector=".mbr-gallery-item > div > span" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>',r='\x3c!-- Gallery --\x3e<div class=\'gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div  mbr-add-class="\'row justify-content-center m-0\' | if _params.%paramName%__flexDirection"><div class=\'row-first row justify-content-center m-0\' mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__firstCount | pref \'col-lg-\' | concatenatio _params.%paramName%__firstCount | fakeFilter suffMD  | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="_params.%paramName%__firstCount | gt index"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+n("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-second row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 1"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__secondCount | pref \'col-lg-\' | concatenatio _params.%paramName%__secondCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+n("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-third row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 2"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__thirdCount | pref \'col-lg-\' | concatenatio _params.%paramName%__thirdCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+n("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-fourth row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 3"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__fourthCount | pref \'col-lg-\' | concatenatio _params.%paramName%__fourthCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | concatenatio _params.%paramName%__fourthCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt="" ><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+n("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>';function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={videoPreview:{default:e+"gallery/preview.jpg"},playVideo:{type:"switch",title:n("Play Video"),default:!1},videoUrl:{type:"text",title:n("Video URL"),condition:[t+".playVideo"],default:"https://www.youtube.com/watch?v=xTvvQ65jWVs"},image:{type:"image",title:n("Image"),condition:["!"+t+".playVideo"]}};return i||(o.tags={type:"text",title:n("Tags"),default:n("Awesome image"),condition:[t+"__filter"]}),o}function s(t){for(var e=[],i=[n("Awesome"),n("Responsive"),n("Creative"),n("Animated"),n("Awesome"),n("Awesome"),n("Responsive"),n("Animated")],o=0;o<8;o++)e.push({tags:i[o],videoPreview:t+"gallery/preview.jpg",playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",image:t+"gallery/gallery0"+o+".jpg",thumb:t+"gallery/gallery0"+o+".jpg",alt:"",title:"",customStyle1:"display-7",caption:n("Type caption here"),active:!o});return e}i.param("input[type=gallery]",(function(t,e,o){e=e||"Gallery";var r=this.getComponentsDir()+"_images/",l=t.attr("name")||this.getUName(),c=t.attr("subtype")||"default";"flex"===c&&(this.addParam(l+"__flexDirection",new i.Param({type:"switch",title:n("Row/Column"),default:!1})),this.addParam(l+"__count",new i.Param({type:"range",min:1,max:4,title:n("Containers Count"),inline:!0,default:2})),this.addParam(l+"__firstCount",new i.Param({type:"range",min:1,max:4,title:n("1st Container Items"),inline:!0,default:4})),this.addParam(l+"__secondCount",new i.Param({type:"range",min:1,max:4,title:n("2nd Container Items"),inline:!0,default:4,condition:l+"__secondCountCondition"})),this.addParam(l+"__thirdCount",new i.Param({type:"range",min:1,max:4,title:n("3rd Container Items"),inline:!0,default:4,condition:l+"__thirdCountCondition"})),this.addParam(l+"__fourthCount",new i.Param({type:"range",min:1,max:4,title:n("4th Container Items"),inline:!0,default:4,condition:l+"__fourthCountCondition"})),this.addProp(l+"__secondCountCondition",(function(){return this._params[l+"__count"]>1})),this.addProp(l+"__thirdCountCondition",(function(){return this._params[l+"__count"]>2})),this.addProp(l+"__fourthCountCondition",(function(){return this._params[l+"__count"]>3})),this.addProp("suffMD",(function(t){return!!t&&(e="3"==t[t.length-1]?"col-md-4":"col-md-6",t.substring(0,t.length-1)+e);var e})),this.addProp("filterImg",(function(t){var e=t.split(" ");if(e.length){for(var n=Number(e[0]),i=Number(e[1]),o=Number(e[e.length-1]),r=2;r<e.length-1;r++)i+=Number(e[r]);return i<=n&&n<(o+=i)}return!1}))),this.addParam(l+"__spacing",new i.Param({type:"range",min:0,max:"flex"===c?5:6,title:"Spacing",inline:!0,default:1})),this.addParam(l+"__showBullets",new i.Param({type:"switch",title:n("Show Bullets"),default:!0})),this.addParam(l+"__showText",new i.Param({type:"switch",title:n("Show Text"),default:!1})),"flex"!==c&&(this.addParam(l+"__filter",new i.Param({type:"switch",title:n("Show Tags"),default:!1})),this.addParam("text_all",new i.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam(l+"__filtersTextStyle",new i.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam(l+"__filtersBtnStyle",new i.Param({type:"hidden",default:"btn-primary-outline"}).elm(t).protect())),this.addParam(l,new i.Param({type:"image-tabs",title:e,defaultImg:r+"logo.jpg",_params:a(l,r,"flex"===c),default:s(r)}).elm(t).protect())})),e.on("beforeAppLoad",(function(){e.iwindow.rivets.formatters.concatenatio=new e.iwindow.Function("v, v1",'if (!v) if(v != "0") v="";if (!v1) if(v1 != "0") v1= "";return v + " " + v1;')})),i.attr("mbr-gallery",(function(e,n,i,a){var s,l,c=a+"-show-text",d=a+"-show-bullets",u=a+"-show-filter",p=a+"-spacing",f=a+"-count",h=a+"-first-count",m=a+"-second-count",g=a+"-third-count",v=a+"-fourth-count",b=a+"-flex-vertical";e.html(i?(l=n.is("["+f+"]"),(l?r:o)+'\x3c!-- Lightbox --\x3e<div data-app-prevent-settings class="mbr-slider modal fade carousel slide" mbr-id="_anchor | pref \'lb-\'" tabindex="-1" data-keyboard="true" data-bs-keyboard="true" data-interval="false" data-bs-interval="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#lb-\'" mbr-data-bs-target="_anchor | pref \'#lb-\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner"><div class="carousel-item" mbr-class-active="this.active" mbr-each-this="_params.%paramName%" mbr-class-video-container="this.playVideo"><img mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"></div></div><a class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="prev" data-bs-slide="prev"><span class="mbri-left mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Previous</span></a><a class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="next" data-bs-slide="next"><span class="mbri-right mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Next</span></a><a class="close" href="#" role="button" data-dismiss="modal" data-bs-dismiss="modal"><span class="sr-only visually-hidden">Close</span></a></div></div></div></div>').replace(/%paramName%/g,i):""),this.addProp(i+"__filters",new Function("","var className = this._params."+i+'__filtersBtnStyle; return "<li class=\\"mbr-gallery-filter-all active\\"><a class=\\"btn btn-md " + className + "\\" data-app-btn=\\"true\\" data-app-placeholder=\\"Type Text\\" href>" + this._params.text_all + "</a></li>";')),this.addProp(i+"__onChangeFiltersBtnStyle",(function(t,e){e._params[i+"__filtersBtnStyle"]=t.addedClass})),this.addProp(i+"__onChangeFiltersBtnText",(function(e,n){var i=t(e.target).find(".mbr-gallery-filter-all a").html();n._params.text_all=i})),e.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-static-html":i+"__filters","mbr-content-edit":i+"__filters","mbr-class-var":"_params."+i+"__filtersTextStyle","mbr-on-change-button-color":i+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":i+"__onChangeFiltersBtnText"}),this.flow.ignoreChildren(),i&&((s=this.getParam(i+"__flexDirection"))&&s.on("change",(function(t,e){e?n.attr(b,""):n.removeAttr(b)})).prop("default",n.is("["+b+"]")),(s=this.getParam(i+"__showText"))&&s.on("change",(function(t,e){e?n.attr(c,""):n.removeAttr(c)})).prop("default",n.is("["+c+"]")),(s=this.getParam(i+"__showBullets"))&&s.on("change",(function(t,e){e?n.attr(d,""):n.removeAttr(d)})).prop("default",n.is("["+d+"]")),(s=this.getParam(i+"__filter"))&&s.on("change",(function(t,e){e?n.attr(u,""):n.removeAttr(u)})).prop("default",n.is("["+u+"]")),(s=this.getParam(i+"__spacing"))&&s.on("change",(function(t,e){e>-1?n.attr(p,e):n.removeAttr(p)})).prop("default",parseInt(n.attr(p))||0),(s=this.getParam(i+"__count"))&&s.on("change",(function(t,e){e>0?n.attr(f,e):n.removeAttr(f)})).prop("default",parseInt(n.attr(f))||1),(s=this.getParam(i+"__firstCount"))&&s.on("change",(function(t,e){e>0?n.attr(h,e):n.removeAttr(h)})).prop("default",parseInt(n.attr(h))||1),(s=this.getParam(i+"__secondCount"))&&s.on("change",(function(t,e){e>0?n.attr(m,e):n.removeAttr(m)})).prop("default",parseInt(n.attr(m))||1),(s=this.getParam(i+"__thirdCount"))&&s.on("change",(function(t,e){e>0?n.attr(g,e):n.removeAttr(g)})).prop("default",parseInt(n.attr(g))||1),(s=this.getParam(i+"__fourthCount"))&&s.on("change",(function(t,e){e>0?n.attr(v,e):n.removeAttr(v)})).prop("default",parseInt(n.attr(v))||1))}))}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("map",(function(t,e,n){var i=e.Arrivo;i.param("input[type=map]",(function(t,e,o){var r=t.attr("place-id"),a={placeId:"ChIJn6wOs6lZwokRLKy1iqRcoKw",address:"350 5th Ave, New York, NY 10118"};return r&&r!=a.placeId&&(a.placeId=r,a.address=o),new i.Param({type:"map",title:e||n("Address"),default:a}).elm(t).on("change",(function(e,n){t.attr({"place-id":n.address,value:n.address})}))})),i.attr("mbr-map",(function(t,e,n){n&&t.attr("mbr-map","_params."+n).html(""),this.flow.ignoreChildren()}))}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("shop",(function(t,e,n){var i,o=e.Arrivo,r='\x3c!-- Shop Gallery --\x3e<div class=" col-md-12 sort-buttons clearfix" mbr-if="_params.%paramName%__showSortButtons"><div class="sort-buttons"><div class="filter-by-d mbr-section-btn item-button" data-app-edit="content" mbr-html="_params.filter_by_d" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pu mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pu" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pd mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pd" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div></div></div><div class="row mbr-shop__row col-md-12"><div class="wrapper-shop-items" mbr-class-col-md-12="\'true\' | unless _params.%paramName%__showSidebar" mbr-class-col-xl-9="_params.%paramName%__showSidebar" ><div class="mbr-gallery-row"><div mbr-class-col-md-8="articleLayout" mbr-class-offset-md-2="articleLayout"><div class="shop-items"><div class="mbr-gallery-item" mbr-each-this="_params.%paramName%" mbr-data-tags="this.tags" mbr-data-seller="this.bestSeller" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div class="item_overlay"></div><div class="galleryItem"><div class="style_overlay"></div><div class="img_wraper"><img mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"></div><span class="onsale mbr-fonts-style" mbr-class-var="this.customStyleSale" data-app-selector=".onsale" mbr-html="this.sale" mbr-data-onsale="this.onSale" mbr-show="this.onSale" mbr-content-edit="this.sale" data-app-edit="content" data-app-placeholder="'+n("Sale")+'"></span><div class="sidebar_wraper"><h4 class="item-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle5" data-app-selector=".item-title" mbr-html="this.itemTitle" mbr-content-edit="this.itemTitle" data-app-edit="content" data-app-placeholder="'+n("Type Title")+'"></h4><div class="price-block"><span class="shop-item-price mbr-fonts-style" mbr-class-var="this.customStyle5" data-app-selector=".shop-item-price,.price-block" mbr-html="this.itemPrice" mbr-content-edit="this.itemPrice" data-app-edit="content" data-app-placeholder="'+n("Type Price")+'"></span><span class="oldprice mbr-fonts-style" mbr-class-var="this.customStyle7" data-app-selector=".oldprice,.price-block" mbr-html="this.oldPriceValue" mbr-content-edit="this.oldPriceValue" data-app-edit="content" mbr-show="this.oldPrice" data-app-placeholder="'+n("Type Price")+'"></span></div><div class="card-description" mbr-html="this.itemDescription" data-app-edit="full" data-multiline data-app-selector=".card-description" data-app-placeholder="'+n("Type Caption")+'"></div><div class="mbr-section-btn" mbr-buttons mbr-html="this.button" mbr-content-edit="this.button" mbr-class-var="this.customStyle7" mbr-show="_params.%paramName%__showCardButtons"data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrFonts,-mbrBtnRemove,-mbrFontSize,-iconFont"></div></div></div></div></div></div><div class="clearfix"></div></div></div><div class="col-xl-3 sidebar" mbr-if="_params.%paramName%__showSidebar"><div class="sidebar-background"></div><div class="sidebar-block container bestseller-block" mbr-if="_params.%paramName%__showBestSellers"><h4 data-app-edit="content"class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7"data-app-selector=".sidebar-title"mbr-html="_params.sidebar1" mbr-content-edit="_params.sidebar1" data-app-edit="content" data-app-placeholder="'+n("Type Title")+'"></h4><div class="bestsellers col-md-12" onselectstart="return false"><div class="bestsellers-img"></div><div class="bestsellers-title"></div></div></div><div class="sidebar-block container range-slider" mbr-if="_params.%paramName%__showPriceRange"><h4 class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar2" mbr-content-edit="_params.sidebar2" data-app-edit="content" data-app-placeholder="'+n("Type Title")+'"></h4><div class="filter-cost" onselectstart="return false"><div class="price-controls"><label class="min-price"><input class="min-input" type="text" value="auto" name="min"></label><label class="max-price"><input class="max-input" type="text" value="auto" name="max"></label></div><div class="range-controls"><div class="scale"><div class="bar"></div></div><div class="toggle min-toggle"></div><div class="toggle max-toggle"></div></div></div> <div class="price-range mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range" mbr-content-edit="_params.price_range" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div><div class="price-range-reset mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range_reset" mbr-content-edit="_params.price_range_reset" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div></div><div class="sidebar-block container sidebar-categories" mbr-if="_params.%paramName%__showTags"><h4 class="sidebar-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar3" mbr-content-edit="_params.sidebar3" data-app-edit="content" data-app-placeholder="'+n("Type Title")+'"></h4><div class="categories col-md-12"><div class="categories-titles">\x3c!-- Filter --\x3e<div class="mbr-gallery-filter mbr-shop-filter container" mbr-class-gallery-filter-active="_params.%paramName%__showTags" mbr-class-gallery-filter><ul><li class="mbr-gallery-filter-all active display-7" mbr-html="_params.text_all" data-app-edit="content"></li> </ul></div></div></div></div></div></div>\x3c!-- Lightbox --\x3e<div class="shopItemsModal_wraper"><div class="shopItemsModalBg"></div><div class="shopItemsModal row"><div class="col-md-6 image-modal"></div><div class="col-md-6 text-modal"></div><div class="closeModal"><div class="close-modal-wrapper"></div></div></div></div>';function a(t,e){return{bestSeller:{type:"switch",title:n("Best Seller"),default:!1},onSale:{type:"switch",title:n("On Sale"),default:!1},oldPrice:{type:"switch",title:n("Old Price"),default:!1},image:{type:"image",title:n("Image")},tags:{type:"text",title:n("Tags"),default:n("Awesome image"),condition:[t+"__showTags"]}}}function s(t,e){for(var i=[],o=[n("Brown Glasses"),n("Men's Shoes"),n("Blue Backpack"),n("Red Snapback"),n("Black Glasses"),n("Women's Shoes"),n("Pink Backpack"),n("Red Cap")],r=[n("Awesome"),n("Wonderful"),n("Creative"),n("Awesome"),n("Responsive"),n("Creative"),n("Animated"),n("Awesome")],a=l(e._props.default),s=0;s<8;s++){var c=!1,d=!1,u=Math.floor(100*Math.random())+1;2===s&&(c=!0,d=!0),i.push({tags:r[s],bestSeller:!1,onSale:c,oldPrice:d,itemTitle:o[s],itemDescription:n("Casual shoes (contact us for sizing)")+"<br><br><ul><li>"+n("Lightweight textured fabric")+"</li> <li>"+n("Rounded v-neckline")+"</li> <li>"+n("Pom pom trims")+"</li> <li>"+n("Regular fit – true to size")+"</li></ul> <br>"+n("Duis auctor hendrerit nisi, at lacinia ex vulputate quis. Suspendisse convallis iaculis tortor, quis mattis lectus rutrum a.")+"<br><br>"+n("Product code: ")+"<b>385DDF5p</b>",itemPriceTitle:n("From: "),itemPrice:"$"+u,oldPriceValue:"$"+2*u,sale:"-50%",button:'<a data-app-btn="true" class="btn '+a+'" data-app-placeholder="'+n("Type Text")+'" href="https://mobirise.com">'+n("Buy now!")+"</a>",image:t+"shop"+s+".jpg",thumb:t+"shop"+s+".jpg",customStyle5:"display-5",customStyle7:"display-7",customStyleSale:"display-7",customStyleTags:"display-4",caption:n("Type caption here"),active:!s})}return i}function l(t){var e;switch(t){case"secondary":e="btn-secondary";break;case"success":e="btn-success";break;case"info":e="btn-info";break;case"warning":e="btn-warning";break;case"danger":e="btn-danger";break;case"white":e="btn-white";break;case"black":e="btn-black";break;default:e="btn-primary"}return e}o.param("input[type=shop]",(function(t,e,i){e=e||"Shop";var r=this.getComponentsDir()+"_images/shop/",c=t.attr("name")||this.getUName();this.addParam(c+"__showSidebar",new o.Param({type:"switch",title:n("Show Sidebar"),default:!0}).protect()),this.addParam(c+"__reverseSidebar",new o.Param({type:"switch",title:n("Reverse Sidebar:"),default:!0,condition:[c+"__showSidebar"]}).protect()),this.addParam(c+"__showSortButtons",new o.Param({type:"switch",title:n("Show Sorting Buttons"),default:!0}).protect()),this.addParam(c+"__showBestSellers",new o.Param({type:"switch",title:n("Show Best Sellers"),default:!0,condition:[c+"__showSidebar"]}).protect()),this.addParam(c+"__showPriceRange",new o.Param({type:"switch",title:n("Show Price Range"),default:!0,condition:[c+"__showSidebar"]}).protect()),this.addParam(c+"__showTags",new o.Param({type:"switch",title:n("Show Tags"),default:!0,condition:[c+"__showSidebar"]}).protect()),this.addParam("text_all",new o.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam("sidebar1",new o.Param({type:"hidden",default:"Best Sellers"}).elm(t).protect()),this.addParam("sidebar2",new o.Param({type:"hidden",default:"Price Range"}).elm(t).protect()),this.addParam("sidebar3",new o.Param({type:"hidden",default:"Filter"}).elm(t).protect()),this.addParam(c+"__filtersTextStyle",new o.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam("buttons_default_class",new o.Param({type:"hidden",default:t.attr("buttons")}).elm(t).protect()),this.addParam("filter_by_d",new o.Param({type:"hidden",default:'<a class="btn btn-sm '+l(t.attr("buttons"))+' disableSortButton" href="">'+n("Default sorting")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pu",new o.Param({type:"hidden",default:'<a class="btn btn-sm '+l(t.attr("buttons"))+'-outline disableSortButton" href="">'+n("Price: low to high")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pd",new o.Param({type:"hidden",default:'<a class="btn btn-sm '+l(t.attr("buttons"))+'-outline disableSortButton" href="">'+n("Price: high to low")+"</a>"}).elm(t).protect()),this.addParam("price_range",new o.Param({type:"hidden",default:'<a class="btn btn-sm btn-primary" data-app-btn="true" href="">'+n("Filter")+"</a>"}).elm(t).protect()),this.addParam("price_range_reset",new o.Param({type:"hidden",default:'<a class="btn btn-sm btn-secondary" data-app-btn="true" href="">'+n("Show all")+"</a>"}).elm(t).protect()),this.addParam(c,new o.Param({type:"image-tabs",title:e,defaultImg:r+"logo.jpg",_params:a(c),default:s(r,this.getParam("buttons_default_class"))}).elm(t).protect())})),o.attr("mbr-shop",(function(a,s,c,d){var u;a.html(c?r.replace(/%paramName%/g,c):""),this.addProp(c+"__onChangeFiltersBtnStyle",(function(t,e){e._params[c+"__filtersTextStyle"]=t.addedClass})),this.addProp(c+"__onChangeFiltersBtnText",(function(e,n){var i=t(e.target).html();n._params.text_all=i})),a.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-content-edit":c+"__filters","mbr-class-var":"_params."+c+"__filtersTextStyle","mbr-on-change-button-color":c+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":c+"__onChangeFiltersBtnText"}),a.find(".sidebar-title").attr({"mbr-on-change-component-node":c+"__onChangeFiltersText","mbr-on-change-text-color":c+"__onChangeFiltersBtnStyle","mbr-content-edit":c+"__showSidebar","mbr-class-var":"_params."+c+"__filtersTextStyle"}),this.addProp(c+"__onChangeFiltersBtnStyle",(function(t,e){e._params[c+"__filtersBtnStyle"]=t.addedClass}));var p,f=s.is("["+d+"-minimal");(this.addParam(c+"__minimal",new o.Param({default:f})),f)&&((p=this.getParam(c))&&p.prop("default").forEach((function(t){t.customStyleSale="display-4",t.sale="SALE"})));function h(e){var n=t(e.target).closest(".mbr-gallery-item"),o=t(e.target).closest(".mbr-shop");i=n.index(),o.find(".shopItemsModal_wraper").css("display","flex"),function(e){var n=e.closest(".mbr-shop").find(".shopItemsModal"),i=e.find(".sidebar_wraper").clone(),o=e.find("img").clone(),r=e.find(".onsale").clone();g(e.closest(".mbr-shop")),t(n).find(".text-modal").append(i),t(n).find(".image-modal").append(o).append(r)}(n),o.find(".shopItemsModal").find("[data-app-btn]").removeClass("note-air-editor","note-editable")}function m(o){var r=t(o).closest(".mbr-shop"),a=e.Core.getComponent(t(o).closest(".app-component").attr("data-app-component-id"));!function(e,i,o){var r,a=t(i).find(".text-modal h4").html(),s=t(i).find(".text-modal .card-description").html(),l=t(i).find(".text-modal .shop-item-price ").html(),d=t(i).find(".image-modal .onsale ").html(),u=t(i).find(".text-modal .oldprice ").html(),p=t(i).find(".text-modal .mbr-section-btn");(r=o._params[c][e]).itemTitle=a,r.itemDescription=s,r.itemPrice=l,r.sale=d,r.oldPriceValue=u,r.button=function(e){var i=e.find("a").length,o="";return i&&e.find("a").each((function(){var e=t(this).attr("href"),i=t(this).attr("class"),r=t(this).attr("target"),a=t(this).html();o+='<a data-app-btn="true" href="'+e+'" data-app-placeholder="'+n("Type Text")+'" class="'+i+(r?'" target="'+r:"")+'">'+a+"</a>"})),o}(p)}(i,r,a),t(r).find(".shopItemsModal_wraper").css("display","none"),g(r)}function g(e){var n=t(e).find(".shopItemsModal");t(n).children(".text-modal").empty(),t(n).children(".image-modal").empty()}function v(n){var i=e.Core.$template.find("[data-app-component-id="+n+"] .app-component-content").find("section"),o=i.find(".mbr-gallery-filter-all"),r=[],a=function(e){var n=t(this),o=n.closest("section").find(".mbr-gallery-row"),r=n.html().trim();n.parent().find("li").removeClass("active"),n.addClass("active"),i.find(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each((function(e,i){var o=t(this),a=o.attr("data-tags").split(",").map((function(t){return t.trim()}));-1!=t.inArray(r,a)||n.hasClass("mbr-gallery-filter-all")?o.removeClass("mbr-gallery-item__hided"):(o.addClass("mbr-gallery-item__hided"),setTimeout((function(){o.css("left","300px")}),200))})),setTimeout((function(){o.closest(".mbr-gallery-row").trigger("filter")}),50)};if(i.find("div.mbr-shop").length)if(i.find(".mbr-gallery-item").each((function(e){(t(this).attr("data-tags")||"").trim().split(",").map((function(e){var n=e.trim();-1==t.inArray(n,r)&&r.push(n)}))})),i.find(".mbr-gallery-filter").length>0&&i.find(".mbr-gallery-filter").hasClass("gallery-filter-active")){var s="";i.find(".mbr-gallery-filter ul li:not(li:eq(0))").remove(),r.map((function(t){s+='<li class="display-7">'+t+"</li>"})),i.find(".mbr-gallery-filter ul").append(o).append(s),i.find(".mbr-gallery-filter ul li").off("click",a).on("click",a)}else i.find(".mbr-gallery-item__hided").removeClass("mbr-gallery-item__hided"),i.find(".mbr-gallery-row").trigger("filter")}c&&((p=this.getParam(c+"__showSortButtons"))&&p.on("change",(function(t,e){e?s.attr("sorting",""):s.removeAttr("sorting")})).prop("default",s.is("[sorting]")),(p=this.getParam(c+"__showSidebar"))&&p.on("change",(function(t,e){e?s.attr(c+"__showSidebar",""):s.removeAttr(c+"__showSidebar")})).prop("default",s.is("[show-sidebar]")),(p=this.getParam(c+"__reverseSidebar"))&&p.on("change",(function(t,e){e?u.find(".mbr-shop__row").removeClass("flex-row-reverse"):u.find(".mbr-shop__row").addClass("flex-row-reverse")})).prop("default",s.is("[show-sidebar]")),(p=this.getParam(c))&&p.on("change",(function(e,n){var i=n.length-1,o=u.find(".mbr-gallery-item").eq(i);!0===n[i].onSale?o.find(".onsale").css("display","block").attr("data-onsale","true"):!1===n[i].onSale&&o.find(".onsale").css("display","none").attr("data-onsale","false"),!0===n[i].oldPrice?o.find(".oldprice").css("display","inline-block").attr("data-onsale","true"):!1===n[i].oldPrice&&o.find(".oldprice").css("display","none").attr("data-onsale","false"),n[i].hasOwnProperty("bestSeller")&&o.attr("mbr-data-seller")&&(u.find(".bestsellers").children().remove(),u.find(".shop-items").children().each((function(){if("true"==t(this).attr("data-seller")){var e=t(this).clone();u.find(".bestsellers").append(t(e))}})))})),e.Core.on("loadedComponent",(function(n,i,o,r){if(v(n._id),u=e.Core.$template.find("[data-app-component-id="+n._id+"] .app-component-content"),!r&&"secondary"===e.theme.type&&n._plugins&&-1!==n._plugins.indexOf("mobirise-shop")&&(u.find(".item_overlay").off("click").on("click",(function(t){h(t)})),u.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick")||u.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick","true").on("click",(function(t){m(t.target)})),u.find(".bestsellers").html(""),u.find(".mbr-gallery-item").each((function(e){if(n._params[c][e].bestSeller&&t(this).attr("data-seller")){var i=t(this).clone();u.find(".bestsellers").append(t(i))}})),u.find(".mbr-gallery-item .mbr-section-btn").css("display","none")),r){try{o.find("section").attr("data-sortbtn",l(e.Core.getComponent(n._id)._params.buttons_default_class))}catch(t){}o.find(".shopItemsModal_wraper").css("z-index","2500"),o.find(".mbr-gallery-item>div").attr("data-bs-toggle","modal"),o.find(".mbr-gallery-item>div").attr("data-toggle","modal"),o.find(".item-button").css("text-align","center"),o.find(".item-button a").css({position:"relative",display:"inline-block"}),o.find(".bestsellers").children().remove(),o.find(".shop-items").children().each((function(){if("true"==t(this).attr("data-seller")){var e=t(this).clone();o.find(".bestsellers").append(t(e))}})),o.find(".shop-items .shop-item-price").each((function(){var e=t(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];t(this).closest(".mbr-gallery-item").attr("data-price",e)})),o.find(".shop-items .oldprice").each((function(){var e=t(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];t(this).closest(".mbr-gallery-item").attr("data-oldprice",e)})),n._params[c+"__showSortButtons"]?o.find(".sort-buttons").css("display","block"):o.find(".sort-buttons").css("display","none"),n._params[c+"__showSidebar"]&&!n._params[c+"__reverseSidebar"]?o.find(".mbr-shop__row").addClass("flex-row-reverse"):o.find(".mbr-shop__row").removeClass("flex-row-reverse")}})),e.Core.on("addComponentParamsTab",(function(t){e.Core.$template.find("[data-app-component-id="+t+"] .app-component-content").find(".item_overlay").last().on("click",(function(t){h(t)}))})),e.Core.on("changedComponentParams",(function(t){v(t)})))}))}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-pages",(function(t,e,n,i){var o=!0;function r(){var n=e.getCurrentPageName();e.$navbarPageName.html(e.getPages()[n].settings.title||"");var i=t(".navbar-project-info .app-page-url-separator"),o=t(".navbar-project-info .app-page-url");"index.html"===n?(i.hide(),o.html("")):(i.show(),o.html(n))}function a(t){for(var n=t.children().length,i=0;i<n;i++){var o=t.children().eq(i).find("a").attr("data-page");e.currentPageSettings=o,e.changePageSettings("order",i+1)}}function s(){e.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?e.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com"+("index.html"===e.currentPageSettings?"":" > "+e.currentPageSettings)):e.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com/"+("index.html"===e.currentPageSettings?"":e.currentPageSettings))}var l=function(){function n(n,i){return function(o){if(o.image.src){var r=o.image.src;r.indexOf(e.path2core(e.getAddonDir(e.theme.name)+"/components"))>=0&&(r=r.replace(/^\.\.\/\.\.\//,"")),e.Core.resultJSON[e.Core.currentPage].settings.meta_image=r,i?t(i).css({display:"block"}).attr("src",r):t(n).closest(".form-group").find(".social-sharing").css({display:"block"}).find("img").attr("src",r)}else e.$pageSettings.find("#metaShareImage").trigger("click")}}function o(){return new Promise((function(t,n){var i=e.Core.currentPage,o=e.Core.resultJSON[i].components;o.length?o.some((function(n,i,o){if(-1!==n._name.search("menu"))return i+1===o.length&&(t(),!0);var r=n._id,a=(e.Core.$template.find("[data-app-component-id="+r+"] > *").html().match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/gi)||[]).map((function(t){return t.match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/i)[1]}));return(a=a.map((function(t){return e.core2abs(t)}))).length?(function t(e,n,i,o){e<n&&o(i[e]).catch((function(){t(++e,n,i,o)}))}(0,Array.from(new Set(a)).length,Array.from(new Set(a)),(function(e){return new Promise((function(n,i){var o=new Image;o.onload=function(){o.width>=400?t(e):i()},o.src=e}))})),!0):n._params&&n._params.bg&&"image"===n._params.bg.type?(t(n._params.bg.value),!0):void(o.length-1===i&&t())})):t()}))}return{init:function(){function r(t){var n=e.Core.getPages();for(var o in n)if(n.hasOwnProperty(o)&&n[o].settings.meta_image){var r=n[o].settings.meta_image,a=i.splitPath(r),s=a.fullname,l=a.ext;t.push({srcList:[{src:r}],dest:e.IMAGES_FOLDER+"/"+s}),t.push({srcList:[{src:r}],dest:e.IMAGES_FOLDER+"/"+o.replace(/.html/gi,"")+"-meta."+l})}return t}e.$pageSettings.on("click","#metaShareImage",(function(i){var r;t(i.target).is(":checked")?(r=i.currentTarget,e.Core.resultJSON[e.Core.currentPage].settings.meta_image||o().then((function(t){var i={image:{width:2e3,quality:70,src:t||""}};e.showMediaImageDialog(i,n(r),!0)}))):function(n){delete e.Core.resultJSON[e.Core.currentPage].settings.meta_image,t(n).closest(".form-group").find(".social-sharing").css({display:"none"}).find("img").attr("src","")}(i.currentTarget)})),e.$pageSettings.on("click","img.social-sharing__img",(function(i){var o={image:{width:2e3,quality:70,src:t(i.currentTarget).attr("src")}};o.image.src.indexOf(e.getAddonDir(e.theme.name).replace("web/",""))>=0&&(o.image.src="../../"+o.image.src),e.showMediaImageDialog(o,n(!1,i.currentTarget),!0)})),e.on("cancelMediaImageDialog",(function(t){e.$pageSettings.find(".social-sharing__img").attr("src")||e.$pageSettings.find("#metaShareImage").trigger("click")})),e.on("closeMediaImageDialog",(function(t){e.$pageSettings.find(".social-sharing__img").attr("src")||e.$pageSettings.find("#metaShareImage").trigger("click")})),e.addFilter("publishHTML",(function(t,n){var o=n.settings.meta_image||"";if(o){var r=i.splitPath(o).ext,a='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+e.IMAGES_FOLDER+"/"+n.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+r+'">\n  <meta property="og:image" content="'+e.IMAGES_FOLDER+"/"+n.settings.currentPageName.replace(/\.html/gi,"")+"-meta."+r+'">\n  <meta name="twitter:title" content="'+n.settings.title+'">\n  ';t=t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',a+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')}return t})),e.addFilter("publishFiles",(function(t){return r(t)})),e.addFilter("exportProjectFiles",(function(t){return r(t)}))}}}();e.regExtension({name:"pages",global:{$navbarPageName:t(".app-page-name"),$pagesList:t("#app-pages-list"),$pagesListToggle:t(".pages-block"),currentPageSettings:void 0,$pageSettings:t("#app-page-settings"),pageSettingsInputs:"[data-page-settings]",showPagesList:function(){this.$body.hasClass("app-pages-list-open")&&this.$body.hasClass("app-page-settings-open")||(this.fire("showSideBarsSection",this.$pagesList),this.fire("showPagesList"),this.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-pages-list-open"),this.fire("showedPagesList"))},hidePagesList:function(){(this.$body.hasClass("app-pages-list-open")||this.$body.hasClass("app-page-settings-open"))&&(this.fire("hidePagesList"),this.$body.removeClass("app-pages-list-open app-page-settings-open"),this.fire("hiddenPagesList"))},addPage:function(i,o,r,s,l){if(!r){var c=!0,d=this.Core.addPage(i);r=d.name,s=s||d.title,l&&(e.Core.resultJSON[r].components=l)}if(!r)return!1;s=e.escapeHtml(s),this.fire("addPage",r);var u=t(["<li"+(o?' class="main-page"':"")+">",'<a href="javascript:void(0)" class="clearfix">','<span data-tooltipster="bottom"'+(o?"":' title="'+n("Drag Page")+'"')+">"+s+"</span>",'<div class="btn-group">','<button class="btn btn-primary app-page-clone" data-tooltipster="bottom" title="'+n("Clone Page")+'">','<i class="mbr-icon-copy"></i>',"</button>",'<button class="btn btn-info app-page-settings" data-tooltipster="bottom" title="'+n("Page Settings")+'">','<i class="mbr-icon-cog"></i>',"</button>",o?"":'<button class="btn btn-material-red app-page-remove" data-tooltipster="bottom" title="'+n("Remove Page")+'"><i class="mbr-icon-trash"></i></button>','<button class="btn btn-info app-page-ok" data-tooltipster="bottom" title="'+n("OK")+'">','<i class="mbr-icon-check"></i>',"</button>","</div>","</a>","</li>"].join(""));u.find(">a").attr({"data-page":r,"data-title":s}),u=this.applyFilter("addPage",u,r);var p=this.$pagesList.find(".list .sortable-container");if(c){if(i){var f=this.$pagesList.find('.list li > a[data-page="'+i+'"]').parent();f.hasClass("main-page")?p.prepend(u):f.after(u)}else p.prepend(u);a(p)}else u.hasClass("main-page")?p.before(u):p.append(u);return this.fire("addedPage",r,arguments),u},switchPage:function(n){var i=t(n).attr("data-page");t(n).attr("data-title");this.fire("switchPage",i),t(n).closest(".list").find("li").children("a").removeClass("active"),t(n).addClass("active"),this.$body.hasClass("app-page-settings-open")&&t(n).find(".app-page-settings").click(),this.Core.switchPage(i).then((function(){e.fire("switchedPage",i)}))},removePage:function(e){var n=t(e).find("> a").attr("data-page");if(this.fire("removePage",n),this.Core.removePage(n)){if(t(e).find("[data-toggle=tooltip]").tooltip("destroy"),t(e).find("> a").hasClass("active")){var i=t(e).prev();!i.length&&t(e).is(":first-child")&&(i=this.$pagesList.find(".main-page")),i.children("a").click()}t(e).remove(),this.fire("removedPage",n)}},showPageSettings:function(e){this.currentPageSettings=e.attr("data-page"),this.fire("showPageSettings");var n=this.applyFilter("showPageSettings",t.extend(!0,{fileName:this.currentPageSettings},this.Core.getPages()[this.currentPageSettings].settings));if(this.$pageSettings.find(this.pageSettingsInputs).each((function(){var e=t(this).attr("data-page-settings");t(this).val(n[e]||"")})),this.pageNameFullEdit=this.applyFilter("pageNameFullEdit",!1),!this.pageNameFullEdit){var i=this.$pageSettings.find('[data-page-settings="fileName"]'),o=n.fileName.substr(0,n.fileName.indexOf(".")),r=n.fileName.substr(n.fileName.indexOf(".")+1);i.parent(".file-name-wrap").length?(i.next().html("."+r),i.val(o)):i.wrap('<div class="file-name-wrap"></div>').after("<span>."+r+"</span>").val(o)}this.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-page-settings-open"),this.fire("showedPageSettings")},changePageSettings:function(e,n,i){this.fire("changePageSettings",this.currentPageSettings),this.pageNameFullEdit||"fileName"!==e||(n+=this.$pageSettings.find('[data-page-settings="fileName"]').next().html());var o=this.Core.changePageSettings(this.currentPageSettings,e,n);if(o)this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]').attr("data-page",o),this.currentPageSettings=o;else if("title"===e){var r=n,a=this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]');a.attr("data-title",r),i&&t(i.target).closest(".list").length?this.$pageSettings.find('[data-page-settings="title"]').val(r):a.find("span:eq(0)").html(r)}this.fire("changedPageSettings",this.currentPageSettings)},sortPagesByOrder:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push({key:e,value:t[e]});n.sort((function(t,e){return t.value.settings.order-e.value.settings.order}));for(var i={},o=n.length,r=0;r<o;r++)i[n[r].key]=n[r].value;return i},getResultPage:function(n){var i=(n=t.extend(!0,{},n)).components;delete n.components,(n=e.Core.cleanJSONPlease(t.extend(!0,{},n))).components=i;for(var o=0;o<i.length;o++)e.Core.isSecondaryComponent(n.components[o])&&(n.components[o]=e.Core.transformSecondaryComponentForProject(n.components[o])),n.components[o]=e.Core.cleanJSONPlease(n.components[o]),delete n.components[o]._anchor,delete n.components[o]._cid;return n},getResultJSON:function(){return e.Core.resultJSON},getPagesList:function(t){return e.Core.getPagesList(t)},getCurrentPageName:function(){return e.Core.currentPage}},events:{load:function(){var i=this;e.$pagesList.prepend('\n                    <div class="col-xs-12 search-page-wrap">\n                        <input class="search-page-input form-control" type="text" placeholder="'+n("Search")+'" value="">\n                    </div>\n                ');var o,r=null;function a(t,e){i.$pagesList.find(".list .sortable-container").sortable("disable");var r=t.find("span:eq(0)");o=r.html(),t.children("a").addClass("editing"),r.attr("contenteditable",""),e&&"dblclick"===e.type?r.tooltipster("content",n("Edit Title")):r.attr("title",n("Edit Title"));var a=document.createRange(),s=window.getSelection();a.selectNodeContents(r[0]),s.removeAllRanges(),s.addRange(a)}function c(e,o){var r=o.closest("[data-page]");r.removeClass("editing"),o.removeAttr("contenteditable"),r.closest("li").hasClass("main-page")?o.tooltipster("content",null):t(e.relatedTarget).hasClass("app-page-new")||t(e.relatedTarget).attr("data-page")?setTimeout((function(){o.tooltipster("content",n("Drag Page"))}),300):o.tooltipster("content",n("Drag Page")),i.$pagesList.find(".list .sortable-container").sortable("enable")}e.$pagesList.find(".search-page-input").on("input",(function(n){clearTimeout(r),r=setTimeout((function(){var i=n.target.value.toLowerCase();e.$pagesList.find(".main-page, .sortable-container li").each((function(e,n){var o=t(n);o.find("[data-title]").attr("data-title").toLowerCase().includes(i)?o.removeClass("hidden"):o.addClass("hidden")}))}),100)})),i.$pagesListToggle.on("click",(function(t){t.preventDefault(),t.stopPropagation(),i.showPagesList()})),i.$pagesList.on("click",(function(t){t.stopPropagation()})),i.$pagesList.on("click",".app-layer-close",(function(t){i.hidePagesList()})),i.on("clickBody",(function(){i.hidePagesList()})),i.on("sidebarClosed",(function(){i.hidePagesList()})),i.$pagesList.on("paste","li > .editing > span:first-child",(function(e){e.preventDefault();var n=((e.originalEvent||e).clipboardData||window.clipboardData).getData("text/plain");t(this).html(n)})),i.$pagesList.on("click",".app-page-new",(function(t){e.applyFilter("getPagePreset",Promise.resolve()).then((function(t){var e=i.addPage(void 0,void 0,void 0,void 0,t);a(e),e.children("a").click()})).catch((function(){}))})),i.$pagesList.find(".list").on("click",".app-page-clone",(function(){var e=t(this).parents("[data-page]:eq(0)").attr("data-page");if(e){var n=i.addPage(e);a(n),n.children("a").click()}})),i.$pagesList.find(".list").on("click","li > a:not(.active, .app-page-new)",(function(t){t.preventDefault(),i.switchPage(this)})),i.$pagesList.find(".list").on("click",".app-page-remove",(function(e){e.preventDefault(),e.stopPropagation();var o=t(this).parent().parent().parent()[0],r=t(this).parents("[data-page]:eq(0)").attr("data-page")||"";i.confirmDlg(n("Remove page $page name$?").replace("$page name$"," <strong>"+r+"</strong>"),(function(t){t&&i.removePage(o)}))})),i.$pagesList.find(".list").on("dblclick","li > a:not(.editing, .app-page-new) > span:first-child",(function(e){a(t(this).closest("li"),e)})),i.$pagesList.find(".list").on("blur keydown",".editing [contenteditable]",(function(e){var n=t(this);if("focusout"===e.type){var r=n.closest("[data-page]").attr("data-page")||"",a=n.html();i.currentPageSettings=r,i.changePageSettings("title",a,e),c(e,n)}else 13===e.which?t(this).trigger("blur"):27===e.which&&(n.html(o),c(e,n))})),i.$pagesList.find(".list").on("click",".app-page-settings",(function(e){e.preventDefault(),e.stopPropagation();var n=t(this).parent().parent();i.showPageSettings(n)})),i.$pageSettings.on("click",(function(t){t.stopPropagation()})),i.$pageSettings.on("click",".app-layer-close",(function(t){i.$body.removeClass("app-page-settings-open")})),i.on("clickBody",(function(){i.$body.removeClass("app-page-settings-open")})),i.$pageSettings.on("blur keyup paste",i.pageSettingsInputs,(function(){i.changePageSettings(t(this).attr("data-page-settings"),t(this).val()),e.$pageSettings.find(".chrome-preview-title").text(e.Core.getPages()[e.currentPageSettings].settings.title||""),e.$pageSettings.find(".chrome-preview-description").text(e.Core.getPages()[e.currentPageSettings].settings.meta_descr||"")})),e.$pageSettings.on("click",".app-page-settings-chrome-preview-btn",(function(){t(this).addClass("active").siblings().removeClass("active"),e.$pageSettings.find(".page-settings-chrome-preview").removeClass("chrome-preview-desktop chrome-preview-mobile").addClass(t(this).hasClass("chrome-preview-desktop-btn")?"chrome-preview-desktop":"chrome-preview-mobile"),e.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?(e.isAMP()?e.$pageSettings.find(".chrome-preview-amp-icon").show():e.$pageSettings.find(".chrome-preview-amp-icon").hide(),e.$pageSettings.find(".chrome-preview-link").insertBefore(e.$pageSettings.find(".chrome-preview-title"))):(e.$pageSettings.find(".chrome-preview-link").insertAfter(e.$pageSettings.find(".chrome-preview-title")),e.$pageSettings.find(".chrome-preview-amp-icon").hide()),s()})),l.init(),e.$body.find(".navbar-project-info .app-page-name").on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.$pageSettings.find(".page-setting-title-wrap").removeClass("selected"),e.openSidebar(),setTimeout((function(){e.$pageSettings.find(".app-layer-cont").scrollTop(0),e.$pagesList.find(".list li > a.active .app-page-settings").click(),e.$pageSettings.find(".page-setting-title-wrap").addClass("selected")}),300)})),e.$body.find(".navbar-project-info .app-page-url").on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.$pageSettings.find(".page-setting-url-wrap").removeClass("selected"),e.openSidebar(),setTimeout((function(){e.$pageSettings.find(".app-layer-cont").scrollTop(0),e.$pagesList.find(".list li > a.active .app-page-settings").click(),e.$pageSettings.find(".page-setting-url-wrap").addClass("selected")}),300)}))},loadedProject:function(){var t,e=this.$pagesList.find(".list");e.html('<li><a href="javascript:void(0)" class="app-page-new"><span><i class="mbr-icon-plus"></i> '+n("Create New Page")+'</span></a></li><div class="sortable-container"></div>');var i=this.Core.getPages();for(var o in i)if(i[o].settings.main){i[o].settings.order=0;break}for(var r in i=this.sortPagesByOrder(i)){var s=i[r].settings.main,l=i[r].settings.title,c=this.addPage(null,s,r,l);s&&c.children("a").click()}var d=e.find(".sortable-container");d.sortable({axis:"y",containment:"parent",tolerance:"pointer",start:function(e,n){t=n.item.index()},stop:function(e,n){n.item.css("left",""),n.item.index()!==t&&a(d)}})},showSideBarsSection:function(){this.hidePagesList()},showedPageSettings:function(){var t=e.projectSettings.favicon||e.findMenuLogo()||("secondary"===e.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===t.indexOf("../../")&&(t=t.replace("../../","")),s(),e.$pageSettings.find(".chrome-preview-favicon").attr("src",t),e.$pageSettings.find(".chrome-preview-title").text(e.Core.getPages()[e.currentPageSettings].settings.title||""),e.$pageSettings.find(".chrome-preview-description").text(e.Core.getPages()[e.currentPageSettings].settings.meta_descr||""),o&&(e.$pageSettings.find(".chrome-preview-mobile-btn").click(),o=!1)},changedPageSettings:function(){s(),e.$pageSettings.find(".chrome-preview-title").text(e.Core.getPages()[e.currentPageSettings].settings.title||""),r()},switchedPage:function(t){var n=e.Core.getPages()[t].settings.meta_image||"",i=e.$pageSettings.find(".social-sharing"),o=e.$pageSettings.find("#metaShareImage");i.hide(),n?(i.find("img").attr("src",n),i.show(),o.is(":checked")||o.trigger("click")):o.is(":checked")&&o.trigger("click"),r()}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i,o=n(140),r=(i=o)&&i.__esModule?i:{default:i},a=n(27);defineM("app-projects",(function(t,e,n){var i,o={settings:{name:name,currentPage:"index.html",theme:{name:e.DEFAULT_THEME,title:e.DEFAULT_THEME_TITLE}},pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}},s={};function l(){e.$projectName.each((function(i,o){var r=t(o);if(r.closest(".navbar-url").length){var a=e.projectSettings.mbrsite;a?r.html(e.escapeHtml(a)).addClass("navbar-domain").tooltipster("content",n("Change Site Domain")):r.html(e.escapeHtml(e.projectSettings.name)).removeClass("navbar-domain").tooltipster("content",n("Change Site Name"))}else r.html(e.escapeHtml(e.projectSettings.name))}))}function c(t){return e.escapeHtml(t)}function d(e,n){function i(o){0!==t(o.target).parents(".app-layer, .modal").length||t(o.target).is(".app-layer, .modal")||u(e,i,!0,n)}e.addClass("app-layer-open"),t("body").on("click",i),t("button.app-components-toggle").on("click",i),e.find(".app-layer-close").click((function(){u(e,i,!0,n)}))}function u(n,i,o,r){var a=t(".app-layer-item-opened");a.length?(a.removeClass("app-layer-item-opened"),a.one("transitionend",(function(){n.removeClass("app-layer-open"),n.one("transitionend",(function(){n.remove(),t(".app-layer-item").remove(),o||(e.openSidebar(),e.$projectsListToggle.click())}))}))):(n.removeClass("app-layer-open"),n.one("transitionend",(function(){n.remove(),t(".app-layer-item").remove(),o||(e.openSidebar(),e.$projectsListToggle.click()),e.$projectsListToggle.click()}))),function(n){var i=t(".app-layer-item").find("input:not(.fakeinput), select"),o={};i.each((function(t,n){n.name&&"checkbox"==n.type?o[n.name]=e.projectSettings[n.name]||n.checked||!1:n.name&&(o[n.name]=n.value||e.projectSettings[n.name]||!1)})),e.changeProjectSettings(n,o)}(r),t("body").off("click",i),t("button.app-components-toggle").off("click",i)}e.regExtension({name:"projects",global:{$projectsListToggle:t(".projects-block"),projectPath:void 0,projectSettings:{},$projectName:t(".app-project-name"),getDefaultProject:function(t){var n=this;a.Bridge.getLocalJSON(e.getAddonDir(e.DEFAULT_THEME)+"/default-project.json",(function(i){(i=i||{}).settings=i.settings||{},i.settings.theme=i.settings.theme||{},i.settings.theme.name=e.DEFAULT_THEME,i.settings.theme.title=e.DEFAULT_THEME_TITLE,i=n.applyFilter("loadRecentProjectDefault",i),console.warn("Used default project"),t(i)}))},getRecentProject:function(e,n){if(e){var i=function(){var t=Array.prototype.slice.call(arguments,n?0:1);e.apply(null,t)};a.Bridge.initPath?o({path:a.Bridge.initPath.replace("/project.mobirise","")}):a.Bridge.getRecentsList((function(t,e){if(t)return i(t);var n=e&&e[0];n&&n.path?o(n):o()}),!0)}function o(e){e?a.Bridge.getLocalJSON(e.path+"/project.mobirise",(function(n){if(n)return n.settings=t.extend({},n.settings,e),void i(null,n,e.path);a.Bridge.isExistsLocal(e.path,(function(t){if(!t)return console.warn("Recent(last) project folder is not exists! ("+e.path+")"),void i(null);i(null,0,e.path)}))})):i(null)}},loadRecentProject:function(t){var e=this;function n(e){t&&t()}e.getRecentProject((function(t,i){i?(e.fire("loadRecentProject"),e.loadProject(i,t,{noSave:!0,onError:function(){e.createProject("My Site",0,0,n)},onDone:function(){e.fire("loadedRecentProject",i),n()}})):e.createProject("My Site",0,0,n)}))},loadProject:function(e,i,o){var s,l,c=this;function d(t){if(t)return console.error(t),void o.onError(t);o.onSuccess(),o.onDone()}(o=o||{}).onError=o.onError||function(){},o.onSuccess=o.onSuccess||function(){},o.onDone=o.onDone||function(){},e.endsWith(".mobirise")?(s=e,l=e.replace(/\/[^\/]+\.mobirise$/,"")):(s=e+"/project.mobirise",l=e),(i?t.Deferred().resolve(i):r.default.getLocalJSON(s)).then((function(e){return e?t.Deferred().resolve(e):t.Deferred().reject(n("Empty project"))})).then((function(e){var n=t.Deferred();return a.Bridge.getRecentSettings(l,(function(i){e.settings=t.extend({},i,e.settings,{path:i.path||l}),n.resolve(e)})),n})).then(0,(function(e){c.fire("projectError",l,e);var n=t.Deferred();return n.reject(),n})).then((function(t){return i=t})).then((function(t){var e=c.calcProjectTheme(i);return c.requestTheme(e&&e.name,e&&e.title)})).fail((function(t){console.error(t)})).then((function(e){if(c.fire("loadProject",i,l),!e)return r.default.addRecent({path:l,name:i.name}).then((function(t){if(!o.noSave)return r.default.saveLocalFile(s,JSON.stringify(i))})).then((function(t){o.onSuccess(),a.Bridge.reload()})).fail((function(t){console.error("Unexpected project save error"),o.onError(n("Unexpected project save error"))})),t.Deferred().reject();var u=c.applyFilter("loadingProject",t.extend(!0,{},i),l);!function(e){c.projectSettings=t.extend({},e.settings),c.projectPath=l,c.resetUniqNum(!0),c.applyFilter("loadProjectCore",t.Deferred().resolve(),e,l).then((function(){c.fire("loadProjectCore",e,l),c.Core.loadProject(e).always((function(){c.fire("loadedProject",e,l),function(){if(o.noSave){var t={path:l,name:c.projectSettings.name};return c.projectSettings.screenshot&&(t.screenshot=c.projectSettings.screenshot),void r.default.addRecent(t).then((function(t){return d()}))}c.runSaveProject((function(t){t?d():d(n("Unable to save loaded project"))}),!0)}()}))}))}(u=c.substProject(u,l))}))},substProject:function(t,n){var i=e.getAddonDir(t.settings&&t.settings.theme&&t.settings.theme.name||e.DEFAULT_THEME),o=JSON.stringify(t);o=o.replace(/@PROJECT_PATH@(\/project\.mobirise)+/g,"@PROJECT_PATH@"),n&&(o=(o=o.replace(/\@PROJECT_PATH\@/g,n)).replace(/\{PROJECT_IMAGES\}/g,n+"/assets/images/")),o=(o=o.replace(/\@ADDONS_PATH\@/g,e.getAddonsDir())).replace(/@THEME_PATH@/g,e.path2core(i));try{o=JSON.parse(o)}catch(e){console.error(error),o=t}return o},createProject:function(n,i,r,s){var l=this;n=n||l.projectSettings.name;var d=e.getAddonDir(r.presetSourceTheme);l.fire("createProject",n),a.Bridge.initProject((function(a,u){if(a||!u||!u.path)return console.error("Error init project folder"),void(s&&s(a));function p(){i=i||t.extend(!0,{},o),i=l.applyFilter("createProject",i,i.settings.name,u.path),l.applyFilter("promiseDefaultProject",Promise.resolve(i),u.path,r).then((function(i){if(i.settings=t.extend({},i.settings,u),i.settings.theme=t.extend({},i.settings.theme,r),r&&r.nameSelectPreset){var o=e.isBuildInAddon(r.name)?e.path2core(d+"/projects/"+r.nameSelectPreset):d+"/projects/"+r.nameSelectPreset,p=JSON.stringify(i);p=p.replace(/\@PROJECT_PATH\@/g,o);try{i=JSON.parse(p)}catch(t){console.error(a),p=rowProject}}i.settings.name=l.applyFilter("createProjectName",c(n)),l.loadProject(u.path,i,{onSuccess:function(){l.fire("createdProject",n)},onError:function(t){s&&s(t),e.hidePreloader()},onDone:function(){s&&s(),e.hidePreloader()}})}))}i||r?p():l.getDefaultProject((function(t){i=t,p()}))}),n)},saveProjectFiles:function(t,e,n){var i;try{i=this.prepareProjectText()}catch(t){console.error(t)}if(!i)return console.error("Wrong project compilation"),void n(!1);a.Bridge.saveLocalFile(t+"/project.mobirise",i,(function(e){n(e&&t)}))},waiting:0,running:0,runSaveProject:function(t,n){if(!e.projectPath)return console.warn("projectPath is unexpectly empty, while saveProject"),void(t&&t(!1));function i(t){var n=e.running.callbacks;if(n){for(var i=0;i<n.length;i++)if(n[i])try{n[i](t)}catch(t){console.error("SaveProject callback error: "+t.message,t)}e.running=0}}e.waiting=e.waiting||{timeout:0,callbacks:[],screenshot:!1},e.waiting.screenshot=e.waiting.screenshot||!n,t&&e.waiting.callbacks.push(t),e.running||function t(){e.waiting&&(e.waiting.timeout&&clearTimeout(e.waiting.timeout),e.waiting.timeout=setTimeout((function(){if(e.running)setTimeout(t,1);else{if(e.running=e.waiting,e.waiting=0,!e.projectPath)return console.error("Critical error: projectPath is unexpectedly empty, while saveProject"),void i(!1);var n=setTimeout((function(){n=0,console.error("Error: SaveProject timeout expired. Next run will be forced."),i(!1),e.waiting&&t()}),3e3);e._saveProject((function(o){n&&(clearTimeout(n),i(o)),e.waiting&&t()}),!e.running.screenshot)}}),e.waiting.callbacks.length?100:1e3))}()},_saveProject:function(t,i){var o=this,r=o.projectSettings.name,s=o.projectPath;t=t||function(){},o.fire("saveProject",r,s),o.saveProjectFiles(s,!i,(function(l,c){if(!l)return console.error("Error to save project to "+s),e.criticalError(n("Error to save project file. Close application and run again."),"project_not_save"),void t(!1);var d={name:r,path:s};!i&&c?d.screenshot=c:o.projectSettings.screenshot&&(d.screenshot=o.projectSettings.screenshot),e.projectSettings.mbrsite&&(d.mbrsite=e.projectSettings.mbrsite),a.Bridge.addRecent(d,(function(i){i||e.showError(n("Error update recents list.")),t(!0),o.fire("savedProject",r,s)}))}))},IMAGES_FOLDER:"assets/images",getProjectImagesDir:function(){return this.projectPath+"/"+this.IMAGES_FOLDER},addImageToAssets:function(t){var n=jQuery.Deferred();return t&&0!=t.indexOf(e.getAddonDir(e.theme.name))&&0!=t.indexOf(a.Bridge.base)&&0!=t.indexOf("web/")?a.Bridge.saveFileUnique(t,this.getProjectImagesDir(),n.resolve):n.resolve(t),n.promise()},addImageFromUrlToAssets:function(t){var e=this,n=jQuery.Deferred();function i(t){t?a.Bridge.saveFileUnique(t,e.getProjectImagesDir(),n.resolve):n.resolve(!1)}return a.Bridge.download2(t,(function(t){if(t){var e=a.Bridge.splitPath(t);if("jpg"!=e.ext){var n=e.dir+e.name+".jpg";a.Bridge.moveLocal(t,n,(function(t){return i(t&&n)}))}else i(t)}else i(!1)})),n.promise()},importProject:function(t,i){var o=this;function r(t){o.runSaveProject((function(n){n||console.error("Error: unable to save current project"),o.loadProject(t,0,{onError:function(t){e.showError("Error while import project: "+t),i&&i()},onSuccess:function(){o.fire("importedProject",t)},onDone:function(){o.showProjectsList(),i&&i()}})}),!1)}o.fire("importProject"),t?r(t):a.Bridge.runFileDialog(n("Open Site"),"",a.Bridge.appName+" (project.mobirise)",(function(t){t&&r(t.replace(/project\.mobirise$/,""))}))},removeProject:function(e,n){var i=this;e=e.substring(0,e.lastIndexOf("/")),i.applyFilter("removeProject",t.Deferred().resolve(),e).then((function(){i.fire("removeProject",e),a.Bridge.rmRecent(e,(function(t){t?(i.fire("removedProject",e),n&&n(!0)):n(!1)}))}))},changeProjectSettings:function(n,i){n=n.substring(0,n.lastIndexOf("/")),this.fire("changeProjectSettings",n,i),i=this.applyFilter("changeProjectSettings",i,n),this.projectSettings=t.extend({},this.projectSettings,i);var o={path:e.projectSettings.path,name:e.projectSettings.name};e.projectSettings.screenshot&&(o.screenshot=e.projectSettings.screenshot),e.projectSettings.mbrsite&&(o.mbrsite=e.projectSettings.mbrsite),a.Bridge.changeRecentSettings(n,o,(function(t){e.fire("changedProjectSettings",n,i)}))},showProjectsList:function(){if(!e.$body.hasClass("app-projects-list-open")){var i=this;a.Bridge.getRecentsList((function(o){i.fire("showProjectsList");for(var r=o.filter((function(t){return!t.mbrsite})),s=o.length-1;s>=0;s--)o[s].hasOwnProperty("mbrsite")&&r.unshift(o[s]);o=r;var l='<div class="col-xs-12">\n                            <div class="app-new-project project-element-panel">\n                                <div class="project-img">\n                                    <i class="mbr-icon-plus"></i>\n                                    <h3 class="project-name">'+n("Create New Site")+'</h3>\n                                </div>\n                                <div class="project-body"></div>\n                                \x3c!-- <div class="project-body app-import-project" data-tooltipster="bottom" title="'+n("Open Mobirise site (project.mobirise) not listed here.")+'">\n                                    <span class="app-import-project-or">'+n("or")+'</span>\n                                    <span class="app-import-project-label">'+n("Import Mobirise Site")+"</span>\n                                </div> --\x3e\n                            </div>\n                        </div>";for(var d in o){var u=o[d].path;if(u){var p=u+"/project.mobirise",f=o[d].name||o[d].title||o[d].id,h=o[d].domains.filter((function(t){return"Deployed"===t.status.name})).pop(),m=o[d].screenshot?u+"/"+o[d].screenshot+"?nocache="+ +new Date:"",g=i.projectPath===u,v=e.hasThemeSettings(e.theme.params);l+=i.applyFilter("showProjectsListEach",'<div class="project-element col-xs-12" data-url="'+p+'" data-path="'+a.Bridge.url2sys(p)+'" data-name="'+c(f)+'">\n                                <div class="project-element-panel '+(g?"active":"")+'">\n                                    <div class="project-img '+(m?"":"project-img-icon")+'">\n                                        '+(m?'<div style="background-image: url('+m+')"></div>':'<i class="mbr-icon-image"></i>')+'\n                                    </div>\n                                    <div class="project-body">\n                                        <h3 class="project-label project-name text-primary">'+c(f)+'</h3>\n                                        <h3 class="project-label project-domain text-primary">https://'+h.name+'/</h3>\n                                    </div>\n                                    <div class="btn-group">\n                                        \x3c!-- <span class="app-project-clone btn btn-primary" data-tooltipster="bottom" title="'+n("Clone Site")+'">\n                                            <i class="mbr-icon-copy"></i>\n                                        </span> --\x3e\n                                        '+(g&&v?'<span class="app-project-styles btn btn-info" data-tooltipster="bottom" title="'+n("Edit Site Styles")+'">\n                                            <i class="mbr-icon-paint-brush"></i>\n                                        </span>':"")+"\n                                        "+(g?'<span class="app-project-settings btn btn-info" data-tooltipster="bottom" title="'+n("Site Settings")+'">\n                                            <i class="mbr-icon-cog"></i>\n                                        </span>':"")+'\n                                        <span class="app-project-remove btn btn-material-red" data-tooltipster="bottom" title=" '+n("Remove Site")+'">\n                                            <i class="mbr-icon-trash"></i>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>',u,o[d])}}l=e.applyFilter("showProjectsList",l),i.fire("showSideBarsSection"),e.showDialog({title:n("Sites"),className:"show-site-list-modal",body:'<div class="row form-group">\n                                <div class="col-xs-4">\n                                    <input class="search-site-input form-control" type="text" placeholder="'+n("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="site-list">\n                                        '+l+"\n                                    </div>\n                                </div>\n                            </div>",show:function(n){var o=null,r=n.find(".project-element");n.find(".search-site-input").on("input",(function(e){clearTimeout(o),o=setTimeout((function(){var n=e.target.value.toLowerCase();r.each((function(e,i){var o=t(i),r=o.find(".project-name").text().toLowerCase(),a=o.find(".project-domain").text().toLowerCase();r.includes(n)||a.includes(n)?o.removeClass("hidden"):o.addClass("hidden")}))}),100)})),n.find(".site-list").on("click",".project-domain",(function(t){t.stopPropagation();var e=t.target.textContent;i.openUrl(e)})),n.find(".site-list").on("click",".project-element > .project-element-panel:not(.active)",(function(e){if(!t(e.target).hasClass(".btn")&&!t(e.target).closest(".btn").length){e.preventDefault(),e.stopPropagation();var n=t(this).parent().attr("data-url"),o=t(this).parent().attr("data-path")||n,r=t(this).find(".project-name").text();i.openProjectFromList(n,o,r)}})),n.on("click",".app-project-styles",(function(t){i.closeSidebar(),i.openThemeSettings()})),n.on("click",".app-project-settings",(function(e){e.preventDefault();var n=t(this).parents("[data-url]:eq(0)").attr("data-url")||"";i.openProjectSettings(n)})),n.on("click",".app-project-remove",(function(e){e.preventDefault(),e.stopPropagation();var n=t(this),o=n.parents("[data-url]:eq(0)").attr("data-url"),r=n.parents("[data-path]:eq(0)").attr("data-path")||o,a=n.parents("[data-name]:eq(0)").attr("data-name")||r;n.tooltip("destroy"),i.projectRemove(o,a,e)})),n.on("click",".app-new-project",(function(t){t.preventDefault(),i.newProject()})),n.on("click",".modal-header .close",(function(){e.hideProjectsList()})),i.$body.addClass("app-sidebar-open app-projects-list-open"),i.fire("showedProjectsList",n)}})}))}},hideProjectsList:function(){this.$body.hasClass("app-projects-list-open")&&(this.fire("hideProjectsList"),this.$body.removeClass("app-projects-list-open").find(".show-site-list-modal").modal("hide"),this.fire("hiddenProjectsList"))},makeScreenshot:function(n){var i=this;i.fire("makeScreenshot");var o=i.appElements.iframe.width,r=i.appElements.iframe.height,s=(i.appElements.window.width-o)/2,l=i.appElements.window.height-r,c=Math.min(o,800),d=c*r/o,u=t("body > *:not(.app-navbar, .app-template, script, link)");u.addClass("hidden-interface"),e.Core.$body.is(".rounded-canvas")||e.Core.$body.css("padding","0"),e.Core.$template.find(".app-component > .app-component-menu").css("display","none");var p=new Date,f=a.Bridge.tempLocation+"/screen"+p.getFullYear()+p.getMonth()+p.getDay()+"_"+p.getHours()+p.getMinutes()+p.getSeconds()+".jpg";a.Bridge.getScreen((function(t){u.removeClass("hidden-interface"),e.Core.$body.css("padding",""),e.Core.$template.find(".app-component > .app-component-menu").css("display",""),n&&n(t),i.fire("makedScreenshot",t)}),f,[c,d],[s,l,o,r])},showPresets:function(i,o){return new Promise((function(r,s){!function(i){var l=i.map((function(t){if(t)return function(t){var n=t.presetsList,i=[],o=void 0;if(t.local){var r=e.getAddonDir(t.themeName);o=a.Bridge.path2app(r)}else o="https://my.mobirise.com/data/upload/thumbs/"+t.themeName;for(var s in n)if(n.hasOwnProperty(s)){i.push(function(e,n){return'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' data-theme-title='"+t.themeTitle+"' namepreset=\""+e+'" data-titlepreset="'+n.title+'">\n                                                <div class="column-content">\n                                                    <div class="wrapper-img">\n                                                        <div class="theme-type-tag">'+t.themeTitle+'</div>\n                                                        <img src="'+o+"/projects/"+e+'/cover.jpg">\n                                                    </div>\n                                                    <div class="wrapper-name">\n                                                        <span>'+n.title+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>"}(s,n[s]))}return i}(t).join("")}));l.unshift("\n                            <div class=\"column column-preset col-sm-4 col-md-4 col-lg-3\" data-local='true' data-theme='"+e.DEFAULT_THEME+"' data-theme-title='"+e.DEFAULT_THEME_TITLE+'\'>\n                                <div class="column-content">\n                                    <div class="wrapper-icon" style="width: 100%;height: 90%;display: flex;justify-content: center;align-items: center;">\n                                        <i class="mbr-icon-file" style="font-size: 10rem;color: #777d74;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>Add Blank Page</span>\n                                    </div>\n                                </div>\n                            </div>\n                        ');var c=function(t){return'<div class="site-create-presets-list main-wrapper">\n                                        <div class="columns row">\n                                            <div class="columns-presets">\n                                                '+t.join("\n")+"\n                                            </div>\n                                        </div>\n                                </div>"}(l);t("#presets").append(c),t(".column-preset").each((function(i,o){t(o).on("click",(function(){if("false"!==t(o).attr("data-local")){var i={};i.title=t(o).attr("data-theme-title"),i.name=t(o).attr("data-theme"),i.titlePreset=t(o).attr("data-titlepreset"),i.nameSelectPreset=t(o).attr("namepreset"),i.presetSourceTheme=t(o).attr("data-theme"),r(i)}else{!function(i){var o="",r=e.getUserInfo(),a=i.attr("data-theme"),s=i.attr("data-theme");r&&r.email&&(o=r.email),e.confirmDlg({message:n("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",s?"<strong>"+s+"</strong>":"")+(o?" "+o+"<br>":".<br>")+n("If the theme is installed, please reinstall it."),buttons:{cancel:{label:n("Cancel"),className:"btn-default"},confirm:{label:n("Install $theme title$").replace("$theme title$",s),className:"btn-primary"}},callback:function(o){if(o){var r=e.AddonsRegistry.get(a);if(r.get("downloadURL")&&!r.isExpired()){var l=t(e.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-site-modal");e.downloadAddon(r.toJSON()).done((function(){i.attr("data-local","true"),i.click()})).fail((function(){e.showError(n("Error add extension")+' "'+s+'"')})).always((function(){l.remove()}))}else e.openUrl("https://mobirise.com/extensions/kit/")}}})}(t(o))}}))})),t(c).find(".column-options").on("click",".column-option",(function(){t(this).hasClass("plus")?(presets.modal("hide"),r(void 0)):t(this).hasClass("features")&&(e.showAddonsList(),presets.modal("hide"),s())}));var d=t(c).find(".columns-presets > .column-preset"),u=e.stopIfRepeatDecorator((function(e){var n=e.target.value.toLowerCase();d.each((function(e,i){var o=t(i);o.attr("data-titlepreset").toLowerCase().includes(n)?o.removeClass("hidden"):o.addClass("hidden")}))}),100);t(c).find(".search-preset-input").on("input",(function(t){u(t)})),o()}(i)}))},newProject:function(){var o=this;if(!i){i=!0;var l=e.showDialog({title:n("Create New Site"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row">','<div class="col-md-12">','<form class="project-create-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="site-create-name">'+n("Site Name")+"</label>",'<div class="col-md-9">','<input id="site-create-name" name="name" type="text" placeholder="'+n("Type the name of your new site")+'" value="Site-'+a.Bridge.dateFormat(new Date,"MM-dd_hhmm")+'" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">','<div class="col-md-8">','<ul class="nav nav-tabs" style="margin-top:2px" role="tablist">','<li role="presentation" class="active"><a href="#presets" aria-controls="presets" role="tab" data-toggle="tab">'+n("Page Templates")+"</a></li>",'<li role="presentation"><a href="#theme" aria-controls="theme" role="tab" data-toggle="tab">'+n("Themes")+"</a></li>","</ul>","</div>",'<div class="col-md-4">','<input id="filter-themes" style="height:100%;" name="name" type="text" placeholder="'+n("Search")+'" value="" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">',"\x3c!-- Tab panes --\x3e",'<div class="col-md-12 tab-content">','<div role="tabpanel" class="tab-pane active" id="presets">','<div class="site-create__preloader-wrapper">',n("No templates matched your search"),"</div>","</div>",'<div role="tabpanel" class="tab-pane" id="theme">','<div class="site-create-themes-list">','<div class="site-create__preloader-wrapper">',n("No themes matched your search"),"</div>","</div>","</div>","</div>","</div>","</form>","</div>","</div>"].join("\n")});t(l).on("shown.bs.modal",(function(){t(".site-create__preloader-wrapper").hide(),e.showPreloader();var c="";o.getAddonsEx((function(d){var u=d.reduce((function(t,e){return"archive"===e.status&&t.push(e.name),t}),[]),p=d.filter((function(t){return!u.includes(t.name)})),f=d.filter((function(t){return!p.some((function(e){return e.name===t.name}))&&"archive"!==t.status&&"teaser-48"!==t.name}));p=(p=p.filter((function(t){return"teaser-48"!=t.name}))).concat(f);var h=Promise.all(p.map((function(t){return new Promise((function(n){if(t.installed&&t.paid&&!t.expired||"mobirise5"===t.name){var i=e.getAddonDir(t.name)+"/projects/list.json";a.Bridge.getLocalJSON(i,(function(e){n(e?{themeName:t.name,themeTitle:t.title,presetsList:e,local:!0}:null)}))}else s[t.name]?n({themeName:t.name,themeTitle:t.title,presetsList:s[t.name],local:!1}):a.Bridge.http("https://my.mobirise.com/data/upload/thumbs/"+t.name+"/projects/list.json",{withCredentials:!1,success:function(e){try{var i=JSON.parse(e);s[t.name]=i,n({themeName:t.name,themeTitle:t.title,presetsList:i,local:!1})}catch(e){console.log("No presets in "+t.name+" theme."),n(null)}},error:function(t){console.log(t),n(null)}})}))}))),m=t(".project-create-form #site-create-name").val();h.then((function(n){return e.hidePreloader(),e.showPresets(n.reduce((function(t,n){return n?n.themeName===e.DEFAULT_THEME?(t[0]=n,t):(t.push(n),t):t}),[]),(function(){t(l).data("bs.modal").handleUpdate()}))})).then((function(t){r.default.getSettings("dontShowCreateSiteModal").then((function(i){function a(){e.closeSidebar(),l.modal("hide"),o.runSaveProject((function(i){i||console.error("Error: unable to save current project"),o.createProject(m,0,t,(function(t){t&&e.showError(n("Unexpected project create error ")+" ("+t+").",(function(){o.showProjectsList()}))}))}),!0)}if("true"!==i)var s=e.showDialog({body:['<div class="form-group">',n("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+m+"</strong>").replace(t.titlePreset?"$name preset$":", $name preset$ Template",t.titlePreset?"<strong>"+t.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+t.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',n("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:n("Cancel"),className:"btn-default",callback:function(){l.modal("hide"),e.closeSidebar()}},success:{label:n("Ok"),className:"btn-primary",callback:function(){var t=s.find("#dont-show-again")[0].checked;r.default.setSettings("dontShowCreateSiteModal",t),a()}}}}).on("hidden.bs.modal",(function(){e.hidePreloader()}));else a()}))}));for(var g=0;g<p.length;g++){var v="";v+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-theme="'+p[g].name+'" data-installed="'+!!p[g].installed+'" data-theme-title="'+p[g].title+'"><div>',v+='<div class="card-img"><img src="'+(p[g].largeCover||p[g].cover)+'"></div>',v+="<span>"+p[g].title+"</span>",v+="</div></div>",p[g].name===e.DEFAULT_THEME?c=v+c:c+=v}c=e.applyFilter("themes_list",c),t(l).find(".site-create-themes-list").append(c),l.on("hidden.bs.modal",(function(){i=!1})).on("shown.bs.modal",(function(e){t(e.target).find("#site-create-name").focus()})),t(".project-create-form .site-create-themes-list > :not(.ext-link) > div").click((function(){if("false"!==t(this).parent().attr("data-installed")){var i=t(this).parent(),a=t(".project-create-form #site-create-name").val(),s={name:i.attr("data-theme"),title:i.attr("data-theme-title")};e.applyFilter("promiseChosenTheme",Promise.resolve(s)).then((function(i){e.showPreloader(),setTimeout((function(){t(".preloader").css("opacity",1)}),1),r.default.getSettings("dontShowCreateSiteModal").then((function(t){function s(){e.closeSidebar(),l.modal("hide"),o.runSaveProject((function(t){t||console.error("Error: unable to save current project"),o.createProject(a,0,i,(function(t){t&&e.showError(n("Unexpected project create error ")+" ("+t+").",(function(){o.showProjectsList()}))}))}),!0)}if("true"!==t)var c=e.showDialog({body:['<div class="form-group">',n("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+a+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',n("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:n("Cancel"),className:"btn-default"},success:{label:n("Ok"),className:"btn-primary",callback:function(){var t=c.find("#dont-show-again")[0].checked;r.default.setSettings("dontShowCreateSiteModal",t),s()}}}}).on("hidden.bs.modal",(function(){e.hidePreloader()}));else s()}))})).catch((function(){e.closeSidebar(),e.hidePreloader(),l.modal("hide")}))}else{var c=t(this).parent();notAvailableThemeClick(c)}}))}),{type:"theme"},{server:!0,serverOptions:{with_archive:1}})}))}},openProjectSettings:function(i){if(i){this.fire("showProjectSettings",i,this.projectSettings.name);var o=this.theme&&this.theme.params?this.theme.params.title:"Mobirise",r=function(i){var o=t('<section id="app-project-sidebar" class="app-layer no-select">\n            <h4 class="app-layer-title">'+n("Site Settings")+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n        </section>');t("body").append(o),t("body").is(".app-sidebar-open")?(e.closeSidebar(),t(".app-sidebar").one("transitionend",(function(){d(o,i)}))):d(o,i);return o}(i),a=[{title:n("Common"),name:"common",html:'<div class="form-group col-md-12">\n                        <label class="control-label">'+n("Theme Name")+"</label>\n                        <p>"+o+'</p>\n                    </div>\n                    <div class="form-group col-md-12 site-name-setting-wrap">\n                        <label class="control-label" for="site-settings-name">'+n("Site Name")+'</label>\n                        <input id="site-settings-name" name="name" type="text" placeholder="'+n("Site Name")+'" value="'+e.projectSettings.name+'" class="form-control">\n                    </div>'}];a=e.applyFilter("sidebarProjectSettings",a),t(a).each((function(e,n){!function(e){var n=t('<div class="hover-block tooltipstered" data-tab="'+e.name+'" data-tooltipster="right">\n            <span class="hover-block-arrow mbr-icon-angle-right"></span>\n            <h4>'+e.title+'</h4>\n            <span class="hover-block-sub" style="display:none;">Description</span>\n        </div>'),i=t('<section class="app-layer app-layer-item app-layer-'+e.name+' no-select">\n            <h4 class="app-layer-title">'+e.title+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n            <div class="app-layer-cont">\n                '+e.html+"\n            </div>\n        </section>");t("body").find(".app-layer-"+e.name).length||t("body").append(i);"common"==e.name&&t("#app-project-sidebar").one("transitionend",(function(t){n.addClass("open"),i.addClass("app-layer-item-opened")}));if(t("#app-project-sidebar").find('.hover-block[data-tab="'+e.name+'"]').length){var o=t(".app-layer-"+e.name).find(".app-layer-cont");o.html(o.html()+e.html)}else t("#app-project-sidebar").find(".app-layer-title").before(n);n.click((function(e){t(".hover-block").removeClass("open"),n.addClass("open");var i=t(e.currentTarget).attr("data-tab");t("section.app-layer-item").removeClass("app-layer-item-opened"),t("section.app-layer-"+i).toggleClass("app-layer-item-opened")})),i.find(".app-layer-close").click((function(){i.removeClass("app-layer-item-opened")}))}(n)})),r.one("transitionend",(function(t){e.fire("shownSidebarProjectSettings",t,i)})),this.fire("showedProjectSettings",i,name)}},projectRemove:function(t,i,o){var r=this,a=n("Do you want to remove $site name$?").replace("$site name$","<strong>"+c(i)+"</strong>");e.confirmDlg(a,(function(n){n?r.removeProject(t,(function(n){0===t.indexOf(r.projectPath)?r.loadRecentProject((function(){e.closeSidebar()})):e.$body.find('.show-site-list-modal .project-element[data-url="'+t+'"]').remove()})):r.fire("cancelProjectRemove",t,o)}))},projectClone:function(i,o){e.showPreloader(),setTimeout((function(){t(".preloader").css("opacity",1)}),1),a.Bridge.initProject((function(r,s){var l=s&&s.path;r?e.showError(n("Unable to init project")):e.runSaveProject((function(r){r||console.error("Error: unable to save current project"),a.Bridge.copyLocal(i,l,(function(i){if(!i)return e.showError(n("Unable to clone project")),void e.hidePreloader();var r=i+"/project.mobirise";a.Bridge.getLocalJSON(r,(function(l){l?(l.settings=t.extend({},l.settings,s),l.settings.name=o,a.Bridge.saveLocalFile(r,JSON.stringify(l),(function(){e.importProject(i,(function(){e.closeSidebar(),e.hidePreloader()}))}))):e.showError(n("Cloned project is wrong"))}))}))}),!0)}))},openProjectFromList:function(i,o,a){i&&r.default.isExistsLocal(i.replace(/project\.mobirise$/,""),(function(s){if(s)e.showPreloader(),setTimeout((function(){t(".preloader").css("opacity",1)}),1),r.default.getSettings("dontShowOpenSiteModal").then((function(t){function s(){e.runSaveProject((function(t){t||(e.hidePreloader(),console.error("Error: unable to save current project")),e.loadProject(i,0,{noSave:!0,onError:function(){e.hidePreloader()},onDone:function(){e.closeSidebar(),e.hidePreloader()}})}),!0)}if("true"!==t)var l=e.showDialog({body:['<div class="form-group">',n("Do you want to close the current site and open $site name$?").replace("$site name$","<strong>"+c(a||o)+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',n("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:n("Cancel"),className:"btn-default"},success:{label:n("Ok"),className:"btn-primary",callback:function(){var t=l.find("#dont-show-again")[0].checked;r.default.setSettings("dontShowOpenSiteModal",t),s()}}}}).on("hidden.bs.modal",(function(){e.hidePreloader()}));else s()}));else{var l=e.confirmDlg('<a href="javascript:void(0)" data-tooltipster="bottom" title="'+o+'">'+n("%This site% is not available. Do you want to remove it from the list?").replace(/%(.+)%/,"<strong>"+(a||"$1")+"</strong></a>"),(function(t){l.find("[data-tooltipster]").tooltipster("destroy"),t&&e.removeProject(i)}));l.find("[data-tooltipster]").tooltipster({delay:0,position:"bottom"})}}))},addProjectAsset:function(t,n,i){t=t.replace(/\.\.\//g,""),r.default.saveLocalFile(e.projectPath+"/assets/"+t,n,i)},readProjectAsset:function(t,n){t=t.replace(/\.\.\//g,""),r.default.loadLocalFile(e.projectPath+"/assets/"+t).then((function(t){n(t)}))},getPages:function(){return e.Core.getResultProject().pages},getResultHTML:function(t){return e.Core.getResultHTML(t)}},events:{load:function(){var n;e.$projectsListToggle.on("click",(function(t){t.preventDefault(),t.stopPropagation(),e.showProjectsList()})),e.on("clickBody",(function(){e.hideProjectsList()})),e.on("sidebarClosed",(function(){e.hideProjectsList()})),e.$body.on("submit",".project-create-form",(function(e){e.stopPropagation(),e.preventDefault(),t(e.target).closest(".modal-content").find(".btn-primary").click()})),e.$body.on("click",".app-export-project",(function(t){t.preventDefault(),t.stopPropagation(),a.Bridge.runFileDialog("Browse for folder","","dir",(function(t){t&&e.exportProject(t)}))})),e.$body.on("submit",".page-settings-form",(function(e){e.preventDefault(),t(e.target).closest(".modal-dialog").find('[data-bb-handler="success"]').click()})),a.Bridge.regQuitTask((function(t){n=1,e.$template.find("[contenteditable]:focus").trigger("blur"),e.runSaveProject(t,!0)})),a.Bridge.bind("pause",(function(){e.runSaveProject((function(t){t?console.log("Project saved on pause."):console.error("Error: unable to save current project")}))})),e.on(["changedProjectSettings","saveMediaImageDialog","saveMediaVideoDialog","savedSiteCodeEditor"],(function(){n||e.runSaveProject(!1,!0)})),e.Core.on("removedPage",(function(){n||e.runSaveProject()})),e.Core.on(["addedComponent","removedComponent","changedComponentPosition","changedComponentParams","addedPage","changedPageSettings","convertedComponentToCustomHTML","renderedCodeEditorChanges","rivetsBlur","saveMediaIconFontDialog"],(function(){n||e.runSaveProject(!1,!0)})),e.$body.on("keyup",".project-create-form #filter-themes",(function(){var e=document.querySelector(".site-create-themes-list").children,n=this.value.toLowerCase(),i=void 0;e.forEach=[].forEach,e.forEach((function(t){return t.classList.remove("hide")})),""!==n&&(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),(i=t(e).filter((function(t){return void 0!==this&&this.dataset.themeTitle?!~this.dataset.themeTitle.toLowerCase().search(n):""}))).forEach=[].forEach,i.forEach((function(t){return t.classList.add("hide")})))})),e.$body.on("keyup",".project-create-form #filter-themes",(function(){var e=document.querySelector(".site-create-themes-list").children,n=document.querySelector(".site-create-presets-list .columns-presets").children,i=this.value.toLowerCase(),o=void 0,r=void 0;if(e.forEach=[].forEach,e.forEach((function(t){return t.classList.remove("hide")})),n.forEach=[].forEach,n.forEach((function(t){return t.classList.remove("hide")})),""!==i){i=i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var a=t(e).filter((function(t){return this.dataset.themeTitle}));o=t(e).filter((function(t){return void 0!==this&&this.dataset.themeTitle?!~this.dataset.themeTitle.toLowerCase().search(i):""})),r=t(n).filter((function(t){return void 0!==this&&this.dataset.themeTitle?!~this.dataset.titlepreset.toLowerCase().search(i):""})),o.forEach=[].forEach,o.forEach((function(t){return t.classList.add("hide")})),a.length-o.length?t("#theme .site-create__preloader-wrapper").hide():t("#theme .site-create__preloader-wrapper").show(),r.forEach=[].forEach,r.forEach((function(t){return t.classList.add("hide")})),n.length-r.length?t("#presets .site-create__preloader-wrapper").hide():t("#presets .site-create__preloader-wrapper").show()}})),e.$body.find(".navbar-project-info .app-project-name").on("click",(function(n){n.preventDefault(),n.stopPropagation(),e.openProjectSettings(e.projectPath+"/project.mobirise"),setTimeout((function(){t('#app-project-sidebar > [data-tab="common"]').click(),t(n.target).hasClass("navbar-domain")?t(".app-layer-common .mbrsite-domain-control").addClass("selected"):t(".app-layer-common .site-name-setting-wrap").addClass("selected")}),100)}))},loaded:function(){e.runSaveProject()},showSideBarsSection:function(){this.hideProjectsList()},incomingFile:function(t){/project.mobirise$/.test(t)&&e.importProject(t.replace(/\/project.mobirise$/,""))},loadedProject:function(){l()},savedProject:function(){l()},changedProjectSettings:function(){l()},domainManagerLoaded:function(){l()}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-projects-hash",(function(t,e,n,i,o){var r="",a={},s={};e.regExtension({name:"projects-hash",events:{load:function(){e.addFilter("uploadFilesStart",(function(n,i){var o=t.Deferred();return n.then((function(t,n){if(i.preview)return r="",void o.resolve(t,n);r=n,s={},a={},e.checkPublishDublicates(t,n,(function(e,i){a=i,o.resolve(t,n)}))})),o}))},uploadFilesUploaded:function(t){r&&(s[t]=a[t])},uploadFilesComplete:function(t){r&&(e.updateProjectHashes(s,r),r="")},createPublishModal:function(t){}},global:{HASH_LIST:"publish-hashes.json",calcFileHash:function(e,n){var i=jQuery.Deferred(),r=[];function a(t){i.resolve(t),n&&n(t)}for(var s=0;s<e.srcList.length;s++){if(e.srcList[s].filter)return a(),i;r.push(o.md5_base64(e.srcList[s].src))}return t.when.apply(t,r).then((function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++)if(!t[e])return void a();a(t.join("-"))})),i},getProjectHashes:function(t,n){i.getLocalJSON(this.projectPath+"/"+this.HASH_LIST,(function(i){var o=(i=i||{})[t=e.applyFilter("projectHashesUrl",t)]||{};n&&n(o)}))},updateProjectHashes:function(t,n,o){var r=this;i.getLocalJSON(r.projectPath+"/"+r.HASH_LIST,(function(a){for(var s in(a=a||{})[n=e.applyFilter("projectHashesUrl",n)]=a[n]||{},t)t[s]?a[n][s]=t[s]:delete a[n][s];i.saveLocalFile(r.projectPath+"/"+r.HASH_LIST,JSON.stringify(a),o)}))},checkPublishDublicates:function(e,n,i){var o=this;i=i||function(){},e?o.getProjectHashes(n,(function(n){var r=[],a=[],s={};e.forEach((function(t){if(t){var e=o.calcFileHash(t);e.then((function(e){s[t.dest]=e,e&&e==n[t.dest]||a.push(t)})),r.push(e,s)}})),t.when.apply(t,r).then((function(){i(a,s)}))})):i([],{})}}})}),["jQuery","mbrApp","TR()","Bridge","$Bridge"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27);defineM("app-plugins",(function(t,e,n){e.regExtension({name:"plugins",global:{_buildInPlugins:[{name:"jQuery",condition:!0,files:[{src:"web/assets/jquery/jquery.min.js",publishOnly:!0}],priority:1e3},{name:"mobirise-icons",condition:!1,priority:900,iconfont:{family:"MobiriseIcons",title:"LineWeb",prefix:"mbri-",names:["mobirise","mobile","mobile2","tablet","tablet-vertical","watch","devices","laptop","desktop","responsive","touch-swipe","touch","browse","shopping-bag","shopping-basket","shopping-cart","cart-add","cart-full","cash","delivery","credit-card","sale","left","right","up","down","arrow-next","arrow-prev","arrow-up","arrow-down","plus","close","menu","success","play","more-horizontal","more-vertical","home","star","hearth","idea","magic-stick","flag","target","speed","help","letter","info","question","features","briefcase","sun","sun2","smile-face","sad-face","alert","timer","clock","growing-chart","cursor-click","protect","camera","globe","globe-2","bookmark","rocket","paper-plane","hot-cup","calendar","search","zoom-out","android","apple","windows","bootstrap","github","like","wifi","gift","database","paperclip","print","align-left","align-center","align-right","align-justify","undo","redo","new-file","file","share","save","folder","opened-folder","edit","edit2","change-style","setting","setting2","setting3","refresh","trash","drag-n-drop","drag-n-drop2","up-down","left-right","layers","code","bold","italic","underline","add-submenu","bulleted-list","numbered-list","photo","photos","video-play","video","music","pin","map-pin","chat","image-gallery","image-slider","cust-feedback","contact-form","link","unlink","quote-left","quote-right","user","user2","users","key","lock","unlock","login","logout","cloud","download","upload","to-ftp","to-local-drive","preview","error","pages","sites","extension","website-theme","update"]},files:["web/assets/mobirise-icons/mobirise-icons.css","web/assets/mobirise-icons/mobirise-icons.eot","web/assets/mobirise-icons/mobirise-icons.svg","web/assets/mobirise-icons/mobirise-icons.ttf","web/assets/mobirise-icons/mobirise-icons.woff"]},{name:"mobirise-icons2",condition:!1,priority:900,iconfont:{family:"Mobirise2",title:"LineWeb 2",prefix:"mobi-mbri-",class:"mobi-mbri",names:["add-submenu","alert","align-center","align-justify","align-left","align-right","android","apple","arrow-down","arrow-next","arrow-prev","arrow-up","bold","bookmark","bootstrap","briefcase","browse","bulleted-list","calendar","camera","cart-add","cart-full","cash","change-style","chat","clock","close","cloud","code","contact-form","credit-card","cursor-click","cust-feedback","database","delivery","desktop","devices","down","download-2","download","drag-n-drop-2","drag-n-drop","edit-2","edit","error","extension","features","file","flag","folder","gift","github","globe-2","globe","growing-chart","hearth","help","home","hot-cup","idea","image-gallery","image-slider","info","italic","key","laptop","layers","left-right","left","letter","like","link","lock","login","logout","magic-stick","map-pin","menu","mobile-2","mobile-horizontal","mobile","mobirise","more-horizontal","more-vertical","music","new-file","numbered-list","opened-folder","pages","paper-plane","paperclip","phone","photo","photos","pin","play","plus","preview","print","protect","question","quote-left","quote-right","redo","refresh","responsive-2","responsive","right","rocket","sad-face","sale","save","search","setting-2","setting-3","setting","share","shopping-bag","shopping-basket","shopping-cart","sites","smile-face","speed","star","success","sun","sun2","tablet-vertical","tablet","target","timer","to-ftp","to-local-drive","touch-swipe","touch","trash","underline","undo","unlink","unlock","up-down","up","update","upload-2","upload","user-2","user","users","video-play","video","watch","website-theme-2","website-theme","wifi","windows","zoom-in","zoom-out"]},files:["web/assets/mobirise-icons2/mobirise2.css","web/assets/mobirise-icons2/mobirise2.eot","web/assets/mobirise-icons2/mobirise2.svg","web/assets/mobirise-icons2/mobirise2.ttf","web/assets/mobirise-icons2/mobirise2.woff"]},{name:"cookies-alert-plugin",condition:function(){if(e.projectSettings.cookiesAlert)return!0},priority:3e3,files:[{src:"web/assets/cookies-alert-plugin/cookies-alert-core.js",publishOnly:!0},{src:"web/assets/cookies-alert-plugin/cookies-alert-script.js",publishOnly:!0}]},{name:"gdpr-plugin",condition:function(){if(e.projectSettings.gdpr)return!0},priority:3e3,files:["web/assets/gdpr-plugin/gdpr-styles.css"]}],registeredPlugins:[],readPlugin:function(n){var r=this,a=t.Deferred();return o.Bridge.getLocalJSON(n+"/plugin.json",(function(t){if("object"==(void 0===t?"undefined":i(t)))return jQuery.isArray(t)?t.forEach((function(t){t.root=n,r.registerPlugin(t)})):(t.root=n,r.registerPlugin(t)),void setTimeout((function(){a.resolve(!0)}),0);e.addAppResource(n+"/plugin.js").then((function(){a.resolve(!0)}))})),a.promise()},registerPlugin:function(t,e){e||(e=t,t=void 0),e=this.applyFilter("registerPlugin",e),this.fire("registerPlugin",e),t&&(e.alias=t),e.addon_root=e.alias?this.getAddonDir(e.alias):"",this.registeredPlugins.push(e),this.fire("registeredPlugin",e),this.fire("pluginsLoaded")},eachPlugins:function(t,e){for(var n=0;n<t.length;n++){var i=t[n].root||t[n].addon_root||"";i&&(i+="/");var o=t[n].conditional_comment,r=t[n].in_head;for(var a in t[n].files){var s=t[n].files[a];"string"==typeof s&&(s={src:s});var l=s.name||t[n].name,c=s.src,d=!1,u=s.type||(/.js$/g.test(c)?"js":/.css$/g.test(c)?"css":""),p=l+(a&&"0"!=a?a:"");/^\/\//g.test(c)||/^http/g.test(c)||(t[n].root||i&&(c=l+"/"+c),d="assets/"+c,c=i+c),e(c,u,p,d,o,r,s.publishOnly,t[n])}}},eachPlugins2:function(t,n){this.eachPlugins(t,(function(t,i,o,r,a,s,l,c){/^\/\//.test(t)||/^http[s]?:/.test(t)||/^file:/.test(t)||/^web\//.test(t)||(t=e.getAddonDir(e.theme.name)+"/plugins/"+t),n(t,i,o,r,a,s,l,c)}))},getPlugin:function(t){var e=this.registeredPlugins;for(var n in e)if(e[n].name===t)return this.applyFilter("getPlugin",e[n]);return!1},getPluginsListForPage:function(t,n){var o=this.registeredPlugins;function r(t,e){for(var n=(t=t.replace(/^\s+|\s+$/g,""))&&t.split("=")[0]||"",i=t&&t.split("=")[1],o=n&&n.split(".")||[],r=0;e&&r<o.length;r++)e="function"==typeof e?e(o[r]):e[o[r]];return void 0===i?e:String(e)==i}function a(t,e){if(!t||!t.length)return null;"string"==typeof t&&(t=t.split("&&"));for(var n=!0,i=0;n&&i<t.length;i++)n=n&&r(t[i],e);return n}for(var s in t=t.split(","),o)if(!(t.indexOf(o[s].name)>=0)){var l=!0===o[s].condition;(l=l||"function"==typeof o[s].condition&&o[s].condition())&&t.push(o[s].name)}for(var c in this.Core.resultJSON[n].components){var d=e.Core.resultJSON[n].components[c];if(d._plugins){var u=d._plugins.split(",");for(var p in u)-1==t.indexOf(u[p])&&t.push(u[p])}for(var f in o){var h=o[f].name;if(!(t.indexOf(h)>=0)&&("object"==i(o[f].condition)||"string"==typeof o[f].condition)){var m={_theme:e.getThemeSettings,_project:e.projectSettings,_page:e.Core.resultJSON[n],_params:d._params};a(o[f].condition,m)&&t.push(h)}}}return this.applyFilter("getPluginsListForPage",t.join(","),this.Core.resultJSON[n])},updatePlugins:function(n){this.Core.$document.find("#insertBefore");var i=t.Deferred().resolve(),o=this.sortPlugins(this.registeredPlugins);this.eachPlugins2(o,(function(t,n,o,r,a,s,l,c){if(!a&&!l){if(/^\/\//g.test(t)&&(t="https:"+t),"js"===n){var d=function(){return e.addCoreResource(t,!0)};i=i.then(d,d)}"css"===n&&e.addCoreResource(t,!1)}})),i.then(n)},getPluginsHTMLForPublish:function(n){var i=[],o="",r="",a="",s=this.getPluginsListForPage("",n);s=this.applyFilter("allUsedPluginsForPage",s.split(","),n);for(var l=0;l<s.length;l++){var c=this.getPlugin(s[l]);c&&i.push(t.extend(!0,{},c))}return i=this.sortPlugins(i),i=this.applyFilter("svgFontFilter",i),this.eachPlugins(i,(function(t,n,i,s,l,c){var d="",u="",p="",f="",h="";if(l&&(d="\x3c!--[if "+l+"]>\n    ",u="<![endif]--\x3e\n  "),/^\/\//g.test(t)?s="https:"+t:/^http[s]?:/.test(t)&&!e.isAddonsDir(t)&&(s=t),"js"===n){var m=d+'<script src="'+s+'"><\/script>\n  '+u;c?f+=m:p+=m}"css"===n&&(h+=d+'<link rel="stylesheet" href="'+s+'">\n  '+u);var g=e.applyFilter("getPluginResource",{js:p,js_head:f,css:h},i,n,s,c,t);r+=g.js_head,o+=g.js,a+=g.css})),this.applyFilter("getPluginsHTMLForPublish",{css:a,js:o,js_head:r},n)},getPluginsFilesForPublish:function(){var e=this,n=(e.registeredPlugins,[]),i=[],o="";for(var r in e.Core.resultJSON)o=e.getPluginsListForPage(o,r);for(var r in o=this.applyFilter("allUsedPlugins",o.split(","))){var a=e.getPlugin(o[r]);a&&n.push(t.extend(!0,{},a))}return e.eachPlugins(n,(function(t,n,o,r){/^(http[s]?:)?\/\//.test(t)&&!e.isAddonsDir(t)||(/^(file|https?):/g.test(t)||/^web\//g.test(t)||(t=e.theme.pathExport+"/plugins/"+t),i.push({src:t,dest:r}))})),e.applyFilter("getPluginsFilesForPublish",i)},sortPlugins:function(e){var n=t.extend(!0,[],e);return n.sort((function(t,e){return t.priority>e.priority?1:t.priority<e.priority?-1:0})),this.applyFilter("sortPlugins",n,e)}},events:{beforeAppLoad:function(){for(var t=0;t<this._buildInPlugins.length;t++)this.registerPlugin(this._buildInPlugins[t])}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);i=!0);}catch(t){o=!0,r=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-components-list",(function(t,e,n,r){var a=!0,s=void 0,l=!0,c=!1,d="";function u(){t(".app-template").removeClass("scaled"),e.Core.$body.removeClass("scaled"),e.Core.$template.removeClass("scaled");var n=e.Core.$body.closest("html").scrollTop();e.Core.$body.closest("html").stop().animate({scrollTop:n},0)}var p;function f(t){for(var e in t)this[e]=t[e]}function h(t){var n,i=e.theme.params.theme;if("string"==typeof t){var r=function(t){return"!"===t.charAt(0)},a=!!i[r(t)?t.split("!")[1]:t];return r(t)?!a:a}if("object"==(void 0===t?"undefined":o(t))){var s=void 0;for(var l in t){if(s=!!i[(n=t[l],"!"===n.charAt(0)?t[l].split("!")[1]:t[l])])break}return!s}}e.regExtension({name:"components-list",global:{components:{},getComponentHTML:function(t){return e.Core.getComponent(t)._customHTML},setComponentHTML:function(t,n){var i=e.Core.getComponent(t);i._customHTML=n;var o=e.Core.getSecondaryComponent(i);if(!o.isActualTemplate()){var r=e.$template.find("[data-app-component-id="+t+"] .app-component-content"),a=o.update().createElementFromTemplate();e.Core.$window[0].rivets.unbind(r).bind(a,i),r.html(a),e.fire("loadedComponent",i,e.Core.currentPage,e.Core.$template,!1)}e.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("add.cards"),e.runSaveProject(!1,!0),e.Core.fire("setComponentHTML",t)},$componentsLayer:t("#add-component"),$componentsToggleBtn:t(".app-components-toggle"),readComponent:function(n){var i=this,a=t.Deferred();return r.getLocalJSON(n+"/component.json",(function(t){if("object"==(void 0===t?"undefined":o(t))){var r=[];return t._path&&(r.push(t._path),delete t._path),r.push(t),i.loadComponents.apply(i,r),void setTimeout((function(){a.resolve(!0)}),0)}e.addAppResource(n+"/component.js").then((function(){a.resolve(!0)}))})),a.promise()},readComponent2:function(n,i,r){if("string"==typeof n)return e.readComponent(i+"/"+n);if("object"==(void 0===n?"undefined":o(n))){var a=n.name||n.path.split("/").pop();if(a in e.components)return;var s="plugin"==r.type,l=n.path.replace(/\/.*$/,"");e.Core.components[a]=e.components[a]=new f(t.extend({name:a,alias:s&&r.name+(l?"/"+l:""),_tags:s&&["Extension"],scriptPath:i+"/"+n.path},n))}else console.warn("Wrong component "+n);return t.Deferred().resolve()},loadComponents:function(e,n,i){for(var o in n||(n=e,e=void 0),n=this.applyFilter("loadingComponents",n,e),this.fire("loadComponents",n,e),n){var r=n[o];if(e&&(r.alias=e),r._tags=r._tags||[],r._tags.length||(e&&this.theme&&this.theme.name&&e.split("/")[0].toLowerCase()!=this.theme.name.toLowerCase()?r._tags.push("Extension"):r._tags.push("Theme")),r._inherit){var a=t.extend(!0,{},this.components[r._inherit]);if(a)for(var s in a)if("_params"===s){r[s]||(r[s]={});var l={};for(var c in a[s]){var d=a[s][c];null!==r[s][c]&&(d.default=void 0!==r[s][c]?r[s][c]:d.default,l[c]=d)}r[s]=l}else r[s]=void 0!==r[s]?r[s]:a[s];else console.warn("Warning: not yet loaded parent block for component "+o+" _inherit "+r._inherit)}}this.components=this.applyFilter("loadComponents",t.extend(this.components,n)),i&&this.initComponentsPalette(),this.loadComponentTemplates(this.components),this.fire("loadedComponents",n)},addComponentToCore:function(t,n,i){var o=arguments;return"menu"===i.attr("data-component-once")&&"true"===i.attr("data-app-always-top")?(n||(n={}),n.item=e.Core.resultJSON[e.Core.currentPage].components[0]._id.toString(),n.where="before",o[1]=n):n&&"before"==n.where&&"menu"===e.Core.resultJSON[e.Core.currentPage].components[0]._once&&e.Core.resultJSON[e.Core.currentPage].components[0]._id==n.item&&!0===e.Core.resultJSON[e.Core.currentPage].components[0]._noDrag&&(n.where="after",o[1]=n),this.getRealComponent(t).then((function(){e.Core.addComponent.apply(e.Core,o)}))},getRealComponent:(p={},e.on("loadedComponentTemplate",(function(t){t in p&&p[t].resolve(e.components[t])})),function(n){if("string"==typeof n&&(n=e.components[n]),!(n instanceof f))return t.Deferred().resolve(n).promise();var i=n.name,o=e.components;if(!(i in p)||c&&!n.alias){p[i]=t.Deferred();var r=function(){if(e.isSecondaryComponent(n)){var t={};t[i]={_group:n._group,alias:n.alias,_isSecondary:n._isSecondary,typeCompatible:n.typeCompatible},n.alias?e.loadComponents(n.alias,t):e.loadComponents(t)}else e.readComponent(n.scriptPath)};n._inherit?this.getRealComponent(o[n._inherit]).then(r):r()}return p[i].promise()}),cachedTemplates:{},loadComponentTemplates:function(n){var i=this;e.Core.components=n,t.when(function(){var o=t.Deferred(),a=[];for(var s in n)n[s]instanceof f||s in i.cachedTemplates||function(o,s){i.cachedTemplates[o]="";var l=n[o].alias,c=void 0,d=e.$componentsLayer.attr("data-theme");c=l?e.getAddonDir(l)+"/"+(s||o)+"/template.html":d?e.getAddonDir(d)+"/components/"+(s||o)+"/template.html":i.theme.pathExport+"/components/"+(s||o)+"/template.html";var u=t.Deferred();r.loadLocalFile(c,(function(t){if(t&&((n[o]._css||n[o]._js)&&e.Core.prepareComponentAssets(o),i.cachedTemplates[o]=t),e.isSecondaryComponent(n[o])){var a=void 0;a=l?e.getAddonDir(l)+"/"+o+"/style.less":d?e.getAddonDir(d)+"/components/"+o+"/style.less":i.theme.pathExport+"/components/"+o+"/style.less",r.loadLocalFile(a,(function(t){n[o]._styles={},e.objectifyCSS(t).then((function(t){n[o]._styles=t}),(function(t){t.filename=a,console.error(t)})).always(u.resolve)}))}else u.resolve()})),u.then((function(){i.fire("loadedComponentTemplate",o)})),a.push(u)}(s,n[s]._inherit);return t.when.apply(t,a).then((function(){o.resolve()})).fail((function(){o.resolve()})),o.promise()}()).done((function(){i.fire("loadedComponentTemplates")}))},initComponentsPalette:function(t){var i={};for(var o in this.components){var a=this.components[o];i[a._group]||(i[a._group]={}),i[a._group][o]=a}i=this.applyFilter("loadComponentsSorted",i);var s="";for(var o in i){for(var l in s+="<h5 data-group="+o.replace(/\s/g,"_")+">"+n(o,"blocks")+"</h5>",s+='<ul class="row">',i[o]){var c=i[o][l].alias,d=i[o][l].typeCompatible;if(null!=d&&(d=h(d)),d||null==d){var u=e.$componentsLayer.attr("data-theme"),p=void 0;p=c?this.getAddonDir(c)+"/"+l+"/thumb.png":u?/^mobirise5|mobirise-amp$/.test(u)?r.path2app(this.getAddonDir(u))+"/components/"+l+"/thumb.png":this.getAddonDir(u)+"/components/"+l+"/thumb.png":this.theme.path+"/components/"+l+"/thumb.png";var f={"component-once":i[o][l]._once};s+=this.generateComponentPaletteItemHtml(l,p,null,f)}}s+="</ul>"}s=this.applyFilter("loadComponentsHTML",s),this.insertComponentPaletteHTML(s),t&&t(),this.fire("initedComponentsPalette")},generateComponentPaletteItemHtml:function(t,e,n,i,r){var a="",s="";if(r||(r=""),"object"==(void 0===i?"undefined":o(i)))for(var l in i)"filter"==l?s=" data-"+l+'="'+i[l]+'"':void 0!==i[l]&&(a+=" data-"+l+'="'+i[l]+'"');n||(n="");var c='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+n+'" '+s+' data-layer="add-component"><a href="javascript:void(0)" data-component="'+t+'"'+a+">";return c+='<img src="'+e+'" alt="'+t+'"></a>',c+=r+"</li>"},insertComponentPaletteItem:function(t,n,i,o,r,a,s){var l=e.generateComponentPaletteItemHtml(n,i,r,a);e.insertComponentPaletteHTML(l,t,s)},insertComponentPaletteHTML:function(t,n,i,o){var r=e.$componentsLayer.find(".app-layer-cont");if(1===arguments.length)r.html(arguments[0]);else{i=i?' class="'+i+'"':"",o=o?'class="'+o+'"':"";var a=n.replace(/\s/g,"_");0==r.find('h5[data-group="'+a+'"]').length&&r.append('<h5 data-group="'+a+'" '+o+">"+n+"</h5><ul"+i+"></ul>");var s=r.find('h5[data-group="'+a+'"]').next();s.is("ul")||(s=s.next()),s.append(t)}},cleanOnceComponents:function(){var t=this.$componentsLayer.find("[data-component-once]").removeClass("inactive");t.find("> span").remove();var e=this.Core.getPageComponents();for(var i in e){var o=!0===e[i]._once,r=!o&&e[i]._once;if(o||r){var a=o?'[data-component="'+e[i]._name+'"]':'[data-component-once="'+e[i]._once+'"]';t.filter(a).addClass("inactive").append("<span>"+n("Added")+"</span>")}}this.fire("cleanOnceComponents",t)},dragComponent:function(){var i=this,o=["click"];for(var r in o)!function(t,e){var n=t.contentWindow["on"+e];t.contentWindow["on"+e]=function(i){n&&n(i);var o=document.createEvent("MouseEvents"),r=t.getBoundingClientRect();o.initMouseEvent(e,!0,!1,window,i.detail,i.screenX,i.screenY,i.clientX+r.left,i.clientY+r.top,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null),t.dispatchEvent(o)}}(i.iframe,o[r]);function a(t){var e=i.appElements.window.width-i.appElements.componentsLayer.width;return e>i.appElements.iframe.width+0&&(e=i.appElements.iframe.width+0),t>0&&t<e}var s,c,d,u,p,f=t('<div class="app-dragger">').append("<img>").appendTo("body"),h=t('<div class="app-component-divider">'),m=i.$template.find(".template .app-component"),g={item:void 0,where:void 0},v=void 0,b=void 0,y=void 0;i.$componentsLayer.on("mousedown touchstart","a[data-component]:not(.inactive)",(function(o){if(l){if(o.stopPropagation(),o.preventDefault(),t(this).closest(".not-available").length)return r="",a=e.getUserInfo(),e.$componentsLayer.attr("data-theme"),u=e.$componentsLayer.find(".blocks-theme-btn .blocks-theme-name").text(),a&&a.email&&(r=a.email),void e.alertDlg(n("The $extension$ theme isn't available for your account").replace("$extension$",u?"<strong>"+u+"</strong>":"")+(r?" "+r+"<br>":".<br>"));b=e.appElements.window.width>1920?.5:.25,y=1/b,c=t(this).attr("data-component"),d=o.currentTarget,s=!0,f.find("img").attr("src",t(this).find("img").attr("src")),m=i.$template.find(".template .app-component"),v=i.appElements.iframe.height/2,i.$iframeOverlay.css({top:i.appElements.window.height-v}).show(),i.fire("dragComponentStart",c,o)}var r,a,u})),t(document).on("mousemove touchmove",(function(n){if(s){n.preventDefault(),n.stopPropagation();var o=(n.originalEvent.touches?n.originalEvent.touches[0]:n).pageX,r=(n.originalEvent.touches?n.originalEvent.touches[0]:n).pageY;f.css({display:"block",left:o,top:r,marginTop:-f.height()/2,marginLeft:-f.width()/2}),a(o)?(i.Core.dragComponent=!0,e.$template.find(".template > div").append(h),h.show()):h.hide(),v=i.appElements.iframe.height/y;var l=r-(i.appElements.window.height-v);m.each((function(){var e=this.getBoundingClientRect(),n={};n.height=e.height/y,n.top=e.top/y,n.bottom=e.bottom/y,n.bottom<0||n.top>=v||n.top>l||n.top+n.height>=l&&(g.item=t(this),l>n.top+n.height/2?(t(this).after(h),g.where="after"):(t(this).before(h),g.where="before"))}));var c=r-(i.appElements.window.height-v),d=i.appElements.window.height-r;c<80?p=-30*(80-Math.max(c,0))/80:d<80&&(p=30*(80-Math.max(d,0))/80),clearInterval(u),(c<80||d<80)&&(i.iwindow.scrollBy(0,p),u=setInterval((function(){i.iwindow.scrollBy(0,p)}),17))}})),t(document).on("mouseup touchend",(function(e){s&&(s=!1,f.css("display","none"),h.remove(),a((e.originalEvent.changedTouches?e.originalEvent.changedTouches[0]:e).pageX)&&(l=!1,g.item&&g.item.length&&(g.item=t(g.item).attr("data-app-component-id")),i.addComponentToCore(c,t.extend({},g),t(d)).then((function(){i.cleanOnceComponents()}))),g.item=void 0,g.where=void 0,i.$iframeOverlay.hide(),clearInterval(u),i.fire("dragComponentEnd",c,e))}))},hideComponentsList:function(t){this.fire("beforeHideComponents",t),this.$body.removeClass("app-add-component-open"),this.$componentsToggleBtn.tooltipster("content",n("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),this.fire("hideComponents",t)},toggleComponentsList:function(){this.cleanOnceComponents(),this.$body.toggleClass("app-add-component-open"),this.$body.hasClass("app-add-component-open")?(this.$componentsToggleBtn.tooltipster("content",n("Close")),this.$themeToggleBtn.fadeOut(200),t(".app-template").addClass("scaled"),e.Core.$body.addClass("scaled"),e.Core.$template.addClass("scaled")):(t(".app-template").hasClass("scaled")&&u(),this.$componentsToggleBtn.tooltipster("content",n("Add Block to Page")),this.$themeToggleBtn.fadeIn(200)),this.fire("toggleComponents")},addComponentsFilterTab:function(n,i,o){var r=e.applyFilter("addComponentsFilterTab",t('<li data-tooltipster="bottom" title="'+o+'"data-filter="'+n+'">'+i+"</li>"));e.$componentsLayer.find(".add-component-filter ul").append(r)},createComponentsFilter:function(){var e=this,n=[];e.$componentsLayer.find(".app-layer-cont >ul>li").not(".app-layer-cont-user-block").each((function(){var i=t(this).find("a").attr("data-component");t(this).attr("data-filter",e.components[i]._tags?e.components[i]._tags.join(","):"Theme"),t(this).attr("data-group",e.components[i]._group?e.components[i]._group:"undefined"),void 0===e.components[i]._group?-1===n.indexOf("undefined")&&n.push("undefined"):-1===n.indexOf(e.components[i]._group)&&n.push(e.components[i]._group)}));var i=e.$componentsLayer.find(".add-component-groups");i.find("ul").empty(),n.forEach((function(t){i.find("> ul").append('<li data-group-name="'+t.replace(/\s/g,"_")+'">'+t+"</li>")})),i.append('<div class="add-component-filter"><ul></ul></div>')},bindComponentsFilterEvents:function(){var e=this;e.$componentsLayer.on("click",".add-component-filter>ul>li:not(.active)",(function(n){e.$componentsLayer.find(".add-component-groups > ul li").removeClass("active");var i=t(n.target).closest("#add-component").find(".app-layer-cont"),o=t(n.target).attr("data-filter");t(n.target).parent().find(">li").removeClass("active"),t(n.target).addClass("active"),i.find(">ul>li").addClass("hidden"),i.find('>ul>li[data-filter*="'+o+'"]').removeClass("hidden"),i.find(">ul").each((function(){var e=t(this).prev();0==t(this).find('>li:not(".hidden")').length?(e.is("[data-group]")||(e.addClass("hidden"),e=e.prev()),e.addClass("hidden")):(e.is("[data-group]")||(e.removeClass("hidden"),e=e.prev()),e.removeClass("hidden"))})),i.scrollTop(0)}))},render:function(t){e.Core.render(t)}},events:{coreLoad:function(){e.Core.addFilter("addComponent",(function(t){if("secondary"===e.theme.type){var n=e.$componentsLayer.attr("data-theme");if(n)return t._sourceTheme=n,t}return t}))},load:function(){var i=this;i.cleanOnceComponents(),i.dragComponent(),i.$componentsToggleBtn.on("click",(function(o){var r=t(this);o.stopPropagation(),r.attr("data-pallete-inited")||(i.initComponentsPalette((function(){i.createComponentsFilter(),i.addComponentsFilterTab("Extension",n("Extensions"),n("Show Blocks From Extensions")),i.bindComponentsFilterEvents(),i.$componentsLayer.find(".app-layer-cont").append('<div class="ext-link"><div class="ext-link-icon"><i class="mbr-icon-plus"></i></div><span class="ext-link-text">'+n("Add More")+"</span></div>"),i.$componentsLayer.find(".ext-link").click((function(){i.showAddonsList()})),e.$componentsLayer.find(".add-component-groups > ul").on("click",(function(n){t(n.target).addClass("active").siblings().removeClass("active"),e.$componentsLayer.find(".add-component-filter li").removeClass("active"),e.$componentsLayer.find(".app-layer-cont").find("h5, .user-block-search, > ul > li").removeClass("hidden");var i=e.$componentsLayer.find('.app-layer-cont > h5[data-group="'+t(n.target).attr("data-group-name")+'"]')[0].offsetTop;0!==i&&e.$componentsLayer.find(".app-layer-cont").stop(!0,!0).animate({scrollTop:i-10},300)}));var o=e.$componentsLayer.find(".app-layer-cont").find("> ul > li img"),r=[];o.each((function(e,n){var i=new Promise((function(e,i){t(n).on("load",(function(){e()})),n.complete&&t(n).load()}));r.push(i)})),Promise.all(r).then((function(){s=e.$componentsLayer.find(".app-layer-cont").outerHeight();var n=!1,i=!1;function o(t){if(t.length){t.addClass("active");var n=e.$componentsLayer.find(".add-component-groups"),i=t.position().top,o=i+t.outerHeight(!0),r=n.scrollTop(),a=r+s;i<r?n.stop(!0,!0).animate({scrollTop:i-100},300):o>a&&n.stop(!0,!0).animate({scrollTop:r+o-a+100},300)}}e.$componentsLayer.find(".app-layer-cont").on("scroll",(function(r){i=n,n=t(this).is(":animated");var a=e.$componentsLayer.find(".add-component-groups"),l=e.$componentsLayer.find(".add-component-filter li").hasClass("active");if(!(n||i||l)&&a.find("> ul li").length){a.find("> ul li").removeClass("active");var c=t(this).scrollTop(),d=Math.ceil(c+s/2);if(c<=20)o(a.find("> ul li:first-child"));else{var u=0;a.find("> ul li").each((function(n){var i=t(this).attr("data-group-name"),r=(e.$componentsLayer.find('.app-layer-cont > h5[data-group="'+i+'"]'),u),s=r;if(e.$componentsLayer.find('.app-layer-cont > h5[data-group="'+i+'"]').each((function(){s+=t(this).outerHeight(!0)+t(this).next("ul").outerHeight(!0)})),u=s,r<=d&&s>=d)return o(a.find('> ul li[data-group-name="'+i+'"]')),!1}))}}}))}))})),r.attr("data-pallete-inited",!0)),i.toggleComponentsList()})),i.on("clickTemplate",(function(t){i.hideComponentsList(t)})),i.$componentsLayer.on("click","a[data-component]:not(.inactive)",(function(e){if(l){if(t(this).closest(".not-available").length)return;l=!1,i.addComponentToCore(t(this).attr("data-component"),null,t(e.currentTarget)).then((function(){i.cleanOnceComponents()}))}})),i.Core.on("rendered",(function(){l=!0})),i.Core.on("loadedComponent",(function(t,n,i,o){e.fire("loadedComponent",t,n,i,o)})),i.Core.addFilter("loadComponentTemplate",(function(t,e,n,o){return i.applyFilter("loadComponentTemplate",t,e,n,o)})),i.Core.on("summernoteBlur",(function(t){e.fire("summernoteBlur",t)}))},resizeInterface:function(){s=e.$componentsLayer.find(".app-layer-cont").outerHeight()},initedComponentsPalette:function(){e.$body.find("#add-component .app-layer-cont h5[data-group]").each((function(){t(this).next("ul").children("li").length||t(this).css("display","none")}))},loaded:function(){var o,a;"secondary"===e.theme.type&&(o=t.Deferred(),a=t.Deferred(),e.getAddonsEx((function(t){var e=t.filter((function(t){return"theme"===t.type}));e=e.map((function(t){return{name:t.name,title:t.title,isAMP:t.name.includes("amp"),local:!!t.installed,cover:t.largeCover}})),o.resolve(e)}),{type:"theme"},{server:!0}),o.then((function(t){t=e.isAMP()?t.filter((function(t){return t.isAMP})):t.filter((function(t){return!t.isAMP})),a.resolve(t)})),a.promise()).then((function(o){e.$componentsLayer.find(".add-component-content").before('<div class="blocks-theme-btn-wrap">\n                            <a class="blocks-theme-btn" href="javascript:void(0)" data-tooltipster="left" title="Choose Blocks Theme">\n                                <img class="blocks-theme-img" src="">\n                                <span class="blocks-theme-name"></span>\n                            </a>\n                        </div>'),e.$componentsLayer.attr("data-theme",e.theme.name),o.forEach((function(t){d+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+t.name+'" data-local="'+t.local+'">\n                                <div class="card-wrap">\n                                    <div class="card-img">\n                                        <img src="'+t.cover+'">\n                                    </div>\n                                    <span class="card-title">'+t.title+"</span>\n                                </div>\n                            </div>"})),e.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",r.path2app(e.getAddonDir(e.theme.name)+"/cover.jpg")).end().find(".blocks-theme-name").text(e.theme.params.title),e.$componentsLayer.find(".blocks-theme-btn").on("click",(function(){e.showDialog({title:n("Choose blocks' theme"),className:"blocks-theme-modal",body:'<div class="row">\n                                        <div class="col-md-4">\n                                            <input class="form-control blocks-theme-input" type="text" placeholder="'+n("Search")+'" value="">\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="blocks-theme-list">\n                                                '+d+"\n                                            </div>\n                                        </div>\n                                    </div>",show:function(o){var a=null;o.find(".blocks-theme-input").on("input",(function(e){clearTimeout(a),a=setTimeout((function(){var n=e.target.value.toLowerCase();o.find(".blocks-theme-list > div").each((function(e,i){var o=t(i);o.find(".card-title").text().toLowerCase().includes(n)?o.removeClass("hidden"):o.addClass("hidden")}))}),100)})),o.find(".blocks-theme-list > div > .card-wrap").on("click",(function(){o.modal("hide");var a=t(this),s=a.closest("[data-name]").attr("data-name");if(s!==e.$componentsLayer.attr("data-theme")){e.$componentsLayer.attr("data-theme",s);var l=t(e.preloaderHTML);l.css({opacity:"0.8",transition:"0.2s"}),e.$componentsLayer.find(".add-component-content").append(l);var d,u,p=t.Deferred();"false"===a.closest("[data-name]").attr("data-local")?r.http("https://my.mobirise.com/data/upload/thumbs/"+s+"/params.json?hash="+Math.random(),{success:function(t){p.resolve([t,!1])},error:function(t){console.log(t),p.reject()}}):(d=s,u=(u=function(i){if(i.components){var o=e.getAddonDir(s),r=t.extend({},e.components);for(var d in e.components=e.Core.components={},r)r.hasOwnProperty(d)&&(r[d].alias||delete r[d]);for(var u in e.cachedTemplates)e.cachedTemplates.hasOwnProperty(u)&&(r[u]||delete e.cachedTemplates[u]);var p=r,f=[];i.components.forEach((function(t){f.push(e.readComponent2(t,o,i))})),t.when.apply(null,f).then((function(){e.Core.components=e.components=t.extend(e.components,p),e.initComponentsPalette((function(){e.$componentsLayer.find(".add-component-filter").remove(),e.createComponentsFilter(),e.addComponentsFilterTab("Extension",n("Extensions"),n("Show Blocks From Extensions"))})),c=!0,e.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",a.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(a.find(".card-title").text()),l.remove()}))}})||function(){},e.getAddonsEx((function(t){for(var n=0;n<t.length;n++)if(t[n].name===d)return void e.readAddon(e.getAddonDir(d),u);u()}),{type:"theme"})),p.then((function(t){var n=i(t,2),o=n[0],r=n[1];try{var a=JSON.parse(o),l={};for(var c in a.components){var d=a.components[c].path.split("/"),u=/components/.test(a.components[c].path)?a.components[c].path:"components/"+a.components[c].path;l[a.components[c]._group]||(l[a.components[c]._group]=[]),l[a.components[c]._group].push({name:d[d.length-1],thumb:r?e.getAddonDir(s).replace("web/app/","app/")+"/"+u+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+s+"/"+u+"/thumb.png",_once:!!a.components[c]._once&&a.components[c]._once})}return[l,r]}catch(t){throw console.log(t),t}})).then((function(t){var o=i(t,2),r=o[0],s=(o[1],""),l=e.$componentsLayer.find(".add-component-groups");for(var c in l.find("> ul").empty(),r){for(var d in s+="<h5 data-group="+c.replace(/\s/g,"_")+">"+n(c,"blocks")+"</h5>",s+='<ul class="row">',l.find("> ul").append('<li data-group-name="'+c.replace(/\s/g,"_")+'">'+c+"</li>"),r[c]){var u=r[c][d].thumb,p={"component-once":r[c][d]._once};s+=e.generateComponentPaletteItemHtml(r[c][d].name,u,"not-available",p)}s+="</ul>"}e.insertComponentPaletteHTML(s),e.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",a.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(a.find(".card-title").text())}),(function(){e.$body.removeClass("app-add-component-open"),e.$componentsToggleBtn.trigger("click")})).always((function(){l.remove(),o.modal("hide")}))}}))}})}))}))},sidebarOpened:function(){this.hideComponentsList()},showProjectSettings:function(){this.hideComponentsList()},updatedUserBlocks:function(){a&&(a=!1,e.$componentsLayer.find(".ext-link").insertAfter(e.$componentsLayer.find(".app-layer-cont-user")))},hideComponents:function(e){t(".app-template").hasClass("scaled")&&(e&&t(e.target).is("iframe")||u())},clickTemplate:function(n){if(t(".app-template").hasClass("scaled")){t(".app-template").removeClass("scaled"),e.Core.$body.removeClass("scaled"),e.Core.$template.removeClass("scaled");var i=t(n.target).is("[data-app-component-id]")?t(n.target):t(n.target).closest("[data-app-component-id]");if(i.length){var o=i.offset().top;e.Core.$body.closest("html").stop().animate({scrollTop:o},0)}}}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-component-params",(function(t,e,n,o){function r(t){var e=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==e.length?(console.error("Invalid base64 image string"),null):e[2]}function a(t){var e=/\-\d+x\d+$/,n=o.splitPath(t),i=n.name,r="";return r=(r=i.match(e))&&r[0]||"",(i=(i=i.replace(e,"")).replace(/\-h_[a-z0-9]+$/,"")).length>30&&(i=i.substring(0,29)),n.dir+"/"+i+"-h_"+Date.now().toString(36)+r+"."+n.ext}function s(t){return new Promise((function(e,n){var i=document.createElement("canvas");i.width=t.naturalWidth,i.height=t.naturalHeight,document.getElementsByTagName("body")[0].appendChild(i),i.getContext("2d").drawImage(t,0,0);var r=i.toDataURL("image/jpeg");i.remove();var a=function(t,e){e=e||"";for(var n=n||512,i=window.atob(t.replace("data:image/jpeg;base64,","")),o=[],r=0;r<i.length;r+=n){for(var a=i.slice(r,r+n),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var c=new Uint8Array(s);o.push(c)}return new Blob(o,{type:e})}(r,"image/jpeg");o.transformImage(a,{quality:60,width:800},(function(t){o.loadLocalBlob(t,(function(i){o.removeLocal(t);var r=new FileReader;r.readAsDataURL(i),r.onload=function(){e(r.result||"")},r.onerror=function(t){n(t)}}))}))}))}e.regExtension({name:"component-params",global:{$componentsParams:t("#edit-component-params"),prepareComponentParams:function(i,o){var r=this.Core.getComponentParams(i),a=this.Core.getComponent(i),s=!r||!r.default||t.isEmptyObject(r.default);if(this.applyFilter("preventParamsShow",s,i))return!1;this.fire("prepareComponentParams",i),this.Core.focusComponentBlock(i);var l="";for(var c in r.default){var d=r.default[c],u=r.current[c],p="",f="",h="",m="";switch(d.halfWidth&&(m+=" half-width"),d.inline&&(m+=" inline-param"),void 0!==d.condition&&(p='data-app-condition="'+JSON.stringify(d.condition).replace(/\"/g,"'")+'"'),void 0!==d.regexp&&(f='data-app-regexp="'+d.regexp+'"'),void 0!==d.regexpError&&(h='<small class="regexp-error text-warning" style="display: none;">'+d.regexpError+"</small>"),d.type){case"separator":l+=['<div class="separator '+m+'" '+p+">",n(d.title,e.theme.name)||"","</div>"].join("");break;case"label":l+=['<div class="'+m+'" '+p+">",n(d.title,e.theme.name)||"","</div>"].join("");break;case"text":l+=['<div class="form-group '+m+'" '+p+" "+f+">","<label>"+n(d.title,e.theme.name)+"</label>",'<input name="'+c+'" type="text" class="form-control" value="'+u+'">',h,"</div>"].join("");break;case"textarea":l+=['<div class="form-group '+m+'" '+p+" "+f+">","<label>"+n(d.title,e.theme.name)+"</label>",'<textarea name="'+c+'" class="form-control">'+u+"</textarea>",h,"</div>"].join("");break;case"switch-off":u=!u;case"switch":l+=['<div class="togglebutton '+m+'" '+p+">",'<label style="width: 100%;">','<input type="checkbox" name="'+c+'" '+(u?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',n(d.title,e.theme.name),"</label>","</div>"].join("");break;case"radio":l+=['<div class="radio radio-primary '+m+'" '+p+"><label>",'<input name="'+(d.name||c)+'" data-name="'+c+'" type="radio" '+(u?"checked":"")+' value="'+c+'">','<span class="circle"></span>','<span class="check"></span>',n(d.title,e.theme.name),"</label></div>"].join("");break;case"check":for(var g in l+='<div class="check '+m+'" '+p+">",l+='<span class="label">'+n(d.title,e.theme.name)+"</span><br>",d.values){var v=0;for(var b in u)u[b]!=g||(v=1);l+=['<input type="checkbox" id="'+c+g+'" value="'+g+'" name="'+c+'" '+(v?"checked":"")+">",'<label for="'+c+g+'">'+d.values[g]+"</label><br>"].join("")}l+="</div>";break;case"select":for(var y in l+='<div class="select '+m+'" '+p+">",l+="<label>"+n(d.title,e.theme.name)+"</label>",l+='<select class="form-control" name="'+c+'"'+(d.multiple?" multiple":"")+">",d.values)if(d.multiple){var w=!1;if(u&&u.length)for(var x=0;x<u.length;x++)if(u[x]===y){w=!0;break}l+='<option value="'+y+'"'+(w?" selected":"")+">"+d.values[y]+"</option>"}else l+='<option value="'+y+'" '+(u==y?"selected":"")+">"+d.values[y]+"</option>";l+="</select>",l+="</div>";break;case"fonts":l+='<div class="fonts '+m+'" '+p+">",l+="<label>"+n(d.title,e.theme.name)+"</label>",u=u||{};var _=e.getAccesibleFonts();for(var g in l+='<select class="form-control" name="'+c+'">',_){var S=_[g];l+='<option value="'+S.name+'" '+((u||{}).name==S.name?"selected":"")+'><span style="font-family:'+S.css+'">'+S.name+"</span></option>"}l+="</select>",l+="</div>";break;case"color":l+=['<div class="color '+m+'" '+p+">","<label>"+n(d.title,e.theme.name)+"</label>",'<input type="text" class="spectrum" name="'+c+'" value="'+u+'">',"</div>"].join("");break;case"range":l+=['<div class="range form-group'+(m?" "+m:"")+'"'+(p?" "+p:"")+">","<label>"+n(d.title,e.theme.name)+"</label>",'<div class="slider" data-min="'+(d.min||0)+'" data-max="'+(d.max||50)+'" data-step="'+(d.step||1)+'" name="'+c+'" data-value="'+(u||0)+'"></div>','<input type="text" name="'+c+'" style="display: none;" value="'+(u||0)+'">',"</div>"].join("");break;case"image-tabs":var k="",C="";for(var g in u)if("function"!=typeof u[g]){var P=u[g].active,T=u[g].image;for(var b in k+='<li class="'+(P?"active":"")+'" style="background-image: url(\''+T+'\')"><span class="sort-handle mbr-icon-exchange"></span></li>',C+='<div class="tab-params'+(P?" active":"")+'">',d._params){var E=d._params[b].type,A=d._params[b].title,j=d._params[b].values,L=u[g][b],$="";switch(void 0!==d._params[b].condition&&($='data-app-condition="'+JSON.stringify(d._params[b].condition).replace(/\"/g,"'")+'"'),E){case"switch-off":L=!L;case"switch":C+=['<div class="togglebutton" '+$+">",'<label style="width: 100%;">','<input type="checkbox" data-type="switch" data-name="'+b+'" name="'+c+'" '+(L?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',A,"</label>","</div>"].join("");break;case"text":C+=['<div class="form-group" '+$+">","<label>"+A+"</label>",'<input data-name="'+b+'" name="'+c+'" type="text" data-type="text" class="form-control" value="'+L+'">',"</div>"].join("");break;case"range":C+=['<div class="range form-group" '+$+">","<label>"+A+"</label>",'<div class="slider" data-min="'+(d._params[b].min||0)+'" data-max="'+(d._params[b].max||1)+'" data-step="'+(d._params[b].step||.1)+'" name="'+c+'" data-value="'+(L||d._params[b].default||.5)+'"></div>','<input type="text"  data-type="range" data-name="'+b+'" name="'+c+'" style="display: none;" value="'+(L||0)+'">',"</div>"].join("");break;case"color":C+=['<div class="color" '+$+">","<label>"+A+"</label>",'<input type="text" data-type="color" class="spectrum" data-name="'+b+'" name="'+c+'" value="'+(L||d._params[b].default)+'">',"</div>"].join("");break;case"select":var F="";for(var O in j)F+='<option value="'+O+'" '+(L==O?"selected":"")+">"+j[O]+"</option>";C+=['<div class="select" '+$+">","<label>"+A+"</label>",'<select class="form-control" data-type="select" data-name="'+b+'" name="'+c+'">',F,"</select>","</div>"].join("");break;case"image":var D=u[g].thumb||L;C+=['<div class="image" '+$+">","<label>"+A+"</label>",N=(N='<img data-type="image" data-name="'+b+'" name="'+c+'" '+(u[g].thumb?'data-thumb-img="thumb"':"")+' style="width: 50%; margin-bottom: 5px; cursor: pointer; float: right;" src="$SRC$" alt="">').replace(/\$SRC\$/g,D),"</div>"].join("")}}C+="</div>"}l+=['<div class="image-tabs '+m+'" data-name="'+c+'" '+p+">","<label>"+n(d.title,e.theme.name)+"</label>",'<div class="images">','<div class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></div>',"<ul>",k,'<li class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></li>',"</ul></div>",'<div class="cont">'+C+"</div>",'<div class="foot"><div class="remove-item btn btn-material-red"><i class="mbr-icon-trash"></i> '+n("Remove")+"</div></div>","</div>"].join("");break;case"image":var I,N='<img class="background-thumb" data-type="image" data-name="'+b+'" name="'+c+'" src="$SRC$" alt="">';u&&(I=u),I=this.applyFilter("getExternalThumb",I,u),N=N.replace(/\$SRC\$/g,I),l+=['<div class="image" '+p+">",'<span class="label">'+n(d.title,e.theme.name)+"</span>",N,"</div>"].join("");break;case"video":var B=void 0!==u.url?u.url:d.default.url,M=(void 0!==u.aspectratio?u.aspectratio:d.default.aspectratio,void 0!==u.autoplay?u.autoplay:d.default.autoplay),R=void 0!==u.loop?u.loop:d.default.loop;l+='<div class="video" '+p+">",l+=['<div class="form-group">',"<label>"+n(d.title,e.theme.name)+"</label>",'<input name="'+c+'" data-name="url" type="text" class="form-control" value="'+B+'">',"</div>"].join(""),void 0!==M&&(l+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="autoplay" name="'+c+'" '+(M?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Autoplay","</label>","</div>"].join("")),void 0!==R&&(l+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="loop" name="'+c+'" '+(R?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Loop","</label>","</div>"].join("")),l+="</div>";break;case"map":l+=['<div class="form-group '+m+'" '+p+">","<label>"+n(d.title,e.theme.name)+"</label>",'<textarea name="'+c+'" class="form-control">'+e.escapeHtml(u.address)+"</textarea>",'<div class="map-update-wrapper" style="text-align: right"><span style="font-size: 14px; display: block; text-align: right; padding-top: 7px">'+n("Type address or insert")+' <a href="https://mobirise.com/help/how-to-add-google-map-to-website-781.html" target="_blank">'+n("google map iframe")+'</a></span><button class="btn btn-primary map-update" disabled>'+n("Update")+"</button></div>","</div>"].join("")}}l=this.applyFilter("prepareComponentParams",l,i),this.destroyDragParams(),this.$componentsParams.attr("data-component-id",i),this.$componentsParams.find("> .cont").html(l),this.$componentsParams.find(".fonts select").dropdown({absolutePos:!0,align:"right"}),this.$componentsParams.find(".fonts .dropdownjs").each((function(){var n=t(this).data("select"),i=t(n.data("dropdownjs-ul"));i.find("li").each((function(){var n=e.getFont(t(this).attr("value"));t(this).css("font-family",n.css)})),i.addClass("fonts-dropdownjs")})),this.$componentsParams.find("select").dropdown({absolutePos:!0,align:"right"});var U=this.Core.$template.find("[data-app-component-id="+i+"] .app-component-content > *");return this.fire("preparedComponentParams",i,a,U),this.initDragParams(i),this.checkConditionsComponentParams(i),"function"==typeof a._onParamsShow&&o&&a._onParamsShow(o,this.$componentsParams.find("> .cont"),this.Core.$template.find("[data-app-component-id="+i+"] .app-component-content > *")),!0},calulateComponentParams:function(){var e=this.$componentsParams.data("app-params-btn");if(e){var n=[150,550],i=this.$componentsParams.find("> .cont").scrollTop();this.$componentsParams.find("> .cont").css({maxHeight:""});var o=this.$componentsParams.height(),r=!1,a=(this.appElements.window.height-this.appElements.iframe.height)/2-30;e=e.getBoundingClientRect();var s=this.appElements.window.height-this.appElements.iframe.height+e.top+e.height-parseInt(a),l=(this.appElements.window.width-this.appElements.iframe.width)/2+this.appElements.iframe.width-e.right;if(this.$componentsParams.removeClass("top"),s+60+o>=this.appElements.window.height){var c=s-o-e.height;if(c<this.appElements.window.height-this.appElements.iframe.height-parseInt(a)){var d=this.appElements.window.height-s-30;r=Math.min(n[1],Math.max(n[0],d))}else s=c,this.$componentsParams.addClass("top")}this.$componentsParams.css({top:s,right:l}),this.$componentsParams.find("> .cont").css({maxHeight:r||""}).scrollTop(i),this.$componentsParams.find("select").each((function(){t(this).data("dropdownjs-ul")&&!t(this).is("[multiple]")&&t(t(this).removeClass("focus").data("dropdownjs-ul")).removeClass("focus")}))}},showComponentParams:function(t,n){this.$componentsParams.data("app-params-btn",t),this.calulateComponentParams();var i=e.Core.getComponent(n),o=e.Core.$body.find("[data-app-component-id="+n+"]");setTimeout(function(){e.$body.addClass("app-component-params-open"),this.fire("showedComponentParams",i,o)}.apply(this),0)},hideComponentParams:function(){this.fire("hideComponentParams"),this.$componentsParams.removeData("app-params-btn"),this.$body.removeClass("app-component-params-open"),this.fire("hiddenComponentParams"),this.$componentsParams.find("select").each((function(){t(this).data("dropdownjs-ul")&&t(t(this).removeClass("focus").data("dropdownjs-ul")).remove()}))},changeComponentParams:function(n){this.fire("changeComponentParams");var i=t(n).parents("[data-component-id]:eq(0)").attr("data-component-id"),l=this.Core.getComponentParams(i),c=t(n).attr("name");c&&l.default[c]||(c=t(n).attr("data-name"));var d,u=l.default[c].type,p=this,f=function(){var e=t(n).parents("[data-app-regexp]").attr("data-app-regexp");if(!e)return!1;var i=e.replace(/.*\/([gimy]*)$/,"$1"),o=e.replace(new RegExp("^/(.*?)/"+i+"$"),"$1");return new RegExp(o,i)}(),h=t(n).parent().children(".regexp-error");switch(u){case"text":case"textarea":d=n.value,f&&(d.match(f)?h.hide():(d="",h.show()));break;case"switch-off":d=!n.checked;break;case"switch":d=n.checked;break;case"radio":t(n).parents("#edit-component-params:eq(0)").find("[name="+t(n).attr("name")+"][data-name!="+c+"]").each((function(){p.Core.changeComponentParams(i,t(this).attr("data-name"),this.checked)})),d=n.checked;break;case"check":var m=t(n).parent().find("[name="+c+"]:checked");d=[],m.each((function(){d.push(this.value)}));break;case"select":d=t(n).val();break;case"fonts":var g=t(n).val();if(!g){d={};break}(d=e.getFont(g)).name||console.log("Error: unknown font selected:"+g);break;case"image":var v={image:{width:2e3,quality:70,src:l.current[c]}};return void e.showMediaImageDialog(v,(function(){p.Core.changeComponentParams(i,c,v.image.src),p.checkConditionsComponentParams(i)}),!1,!0);case"color":case"range":d=t(n).val();break;case"video":var b=t(n).parents(".video:eq(0)"),y=b.find("[data-name=url]").val(),w=b.find("[data-name=aspectratio]").val(),x=y,_=b.find("[data-name=loop]");_=_.length?_.is(":checked"):void 0;var S=b.find("[data-name=autoplay]");S=S.length?S.is(":checked"):void 0;var k=y.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),C=k?11==k["embed/"==k[2]?3:2].length:0,P=y.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/);k&&C?y="https://www.youtube.com/embed/"+k[2]+"?rel=0&amp;showinfo=0&autoplay="+(S?1:0)+"&loop="+(_?"1&playlist="+k[2]:0):P&&P[3]&&(y="https://player.vimeo.com/video/"+P[3]+"?autoplay="+(S?1:0)+"&loop="+(_?1:0)),(d={}).url=y,d.loop=_,d.rawUrl=x,d.autoplay=S,d.aspectratio=w,d.width="4:3"==w?800:1280,d.height="4:3"==w?600:720;break;case"map":return void this.fire("map.changeComponentParams",i,c,n.value,t(n).closest(".form-group"));case"image-tabs":d=[];var T=t(n).closest(".tab-params").index(),E=t(n).attr("data-name");switch(d[T]={},t(n).attr("data-type")){case"switch":d[T][E]=n.checked;break;case"select":case"text":case"range":case"color":d[T][E]=n.value;break;case"image":var A=t(n).attr("data-thumb-img"),j={image:{width:2e3,quality:70,src:l.current[c][T][E]}},L="carousel"===l.default[c].subtype&&!!l.default[c].fullscreen,$="carousel"===l.default[c].subtype,F=l.default[c].fullscreen,O=e.Core.getComponentBlock(i),D=void 0;return D=$?F?t(O).find(".carousel-item").eq(T):t(O).find(".carousel-item").eq(T).find("img:visible"):t(O).find(".mbr-gallery-item").eq(T).find("img:visible"),L||(j.image.alt=l.current[c][T].alt,j.image.title=l.current[c][T].title),void e.showMediaImageDialog(j,(function(){function l(e){t(n).parent().find("> img").attr("src",e),t(n).parents(".image-tabs:eq(0)").find(".images li.active").css("background-image",'url("'+e+'")'),p.Core.changeComponentParams(i,c,d),p.checkConditionsComponentParams(i),p.calulateComponentParams(),D.siblings(".m-img-preloader").remove()}var u=D.width(),f=D.height();if(D.before('<div class="m-img-preloader" style="width:'+u+"px; height:"+f+'px;">\n                                            '+e.preloaderHTML+"\n                                        <div>"),d[T][E]=j.image.src,L||(d[T].alt=j.image.alt,d[T].title=j.image.title),A){if(!/(gif|svg|ico|tif|webp)$/i.test(j.image.src)){var h=t("<img/>");h.attr("src",j.image.src).attr("crossorigin","anonymous").on("load",(function(){s(h[0]).then((function(t){var n=j.image.src.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],i=e.projectPath+"/assets/images/"+n.replace(/\.jpeg$/,".jpg");i=a(i),o.saveLocalBase64(i,r(t),(function(t){t?(console.log("saveLocalBase64"),d[T][A]=o.path2app(i),l(o.path2app(i))):(console.warn("Unable to get thumb"),l(j.image.src))}))}))}))}}else l(j.image.src)}),L,!0,!1,i,!1,D)}}this.Core.changeComponentParams(i,c,d),this.checkConditionsComponentParams(i),this.calulateComponentParams(),this.fire("changedComponentParams")},checkConditionsComponentParams:function(e){var n=this.Core.getComponentParams(e),o=this.Core.getComponent(e);this.$componentsParams.find("[data-app-condition]").each((function(){var e=JSON.parse(t(this).attr("data-app-condition").replace(/\'/g,'"')),r=!0;if("string"==typeof e&&"function"==typeof o[e])r=o[e]();else if("object"==(void 0===e?"undefined":i(e))&&e.length)for(var a in e){for(var s=e[a].match(/^!/i),l=e[a].replace(/^!(.*?)/i,"$1").split("."),c=n.current,d=n.default,u=0;u<l.length&&void 0!==c;u++)if(c=c[l[u]],t.isArray(c)){for(var p=-1,f=0;f<c.length;f++)if(c[f].active){p=f;break}c=c[p],d=d[l[u]]&&d[l[u]]._params}else d=d[l[u]]&&d[l[u]].default;if(void 0===c&&(c=d),void 0!==c){var h=!c;if(s&&(h=!h),h){r=!1;break}}}r?t(this).show():t(this).hide()}))},initDragParams:function(n){var i=this;i.$componentsParams.find(".image-tabs .images > ul").each((function(){var o;t(this).sortable({axis:"x",items:"> li:not(:last-child)",handle:".sort-handle",containment:"#edit-component-params",placeholder:"ui-sortable-placeholder"}).on("sortstart",(function(t,e){o=e.item.index()})).on("sortstop",(function(t,r){var a=r.item.index();if(a!=o){var s=o>a?"insertBefore":"insertAfter";i.$componentsParams.find(".image-tabs .cont > div:eq("+o+")")[s](i.$componentsParams.find(".image-tabs .cont > div:eq("+a+")"));var l=r.item.parents("[data-name]:eq(0)").attr("data-name"),c=i.Core.getComponentParams(n,!0).current[l];if(a>=c.length)for(var d=a-c.length;1+d--;)c.push(void 0);c.splice(a,0,c.splice(o,1)[0]),e.Core.$document.trigger("change.cards"),e.Core.changeComponentParams(n)}}))}))},destroyDragParams:function(){this.$componentsParams.find(".image-tabs .images > ul").each((function(){t(this).sortable("destroy")}))},selectComponentParamsTab:function(t,e){var n=t.index(),i=t.parents(".image-tabs:eq(0)").find(".cont > div:eq("+n+")"),o=t.parent().find("> .active"),r=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),a=t.parents(".image-tabs:eq(0)").attr("data-name"),s=this.Core.getComponentParams(r,!0).current[a];o.length&&(s[o.index()].active=!1),s[n].active=!0,t.addClass("active").siblings().removeClass("active"),i.addClass("active").siblings().removeClass("active"),this.checkConditionsComponentParams(r)},addComponentParamsTab:function(l,c){var d=l.parent(),u=l.parents("[data-component-id]:eq(0)").attr("data-component-id"),p=l.parents(".image-tabs:eq(0)").attr("data-name"),f=this.Core.getComponentParams(u,!0).current[p],h=t(c.target).closest(".image-tabs").find("> div > ul").children().length-1,m=[],g=d.find("> .active").index(),v=void 0!==f[g].thumb,b=e.Core.getComponent(u)._name.toLowerCase().indexOf("slider")>=0,y={image:{width:2e3,quality:70,src:f[g].image}};b||(y.image.alt="",y.image.title=""),e.showMediaImageDialog(y,(function(l){var c=0;function d(){e.Core.changeComponentParams(u),e.Core.fire("addComponentParamsTab",u)}var p=function(i,u){return new Promise((function(p,h){function m(){var o=t.extend(!0,{},f[g],i);o.active=!1,f.push(o),void 0!==u?u+1===l.length&&d():d(),l.length>1?(c++,e.progressBar("show",n("Loading images"),"  ",!0),e.progressBar(c+" / "+l.length,!0),e.progressBar({progress:100/l.length*c},"","",!0),c===l.length&&(e.progressBar("hide"),e.hidePreloader())):e.hidePreloader()}if(!v)return m(),p();var b=l[u]||l.image.src;if(/(gif|svg|ico|tif|webp)$/i.test(b))i.thumb=b,m(),p();else{var y=t("<img/>");y.attr("src",b).attr("crossorigin","anonymous").on("load",(function(){s(y[0]).then((function(t){var n=b.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],s=e.projectPath+"/assets/images/"+n.replace(/\.jpeg$/,".jpg");s=a(s),o.saveLocalBase64(s,r(t),(function(t){t?(i.thumb=o.path2app(s),m(),p()):(console.warn("Unable to get thumb"),p())}))}))}))}}))},y=Promise.resolve();if("object"!==(void 0===l?"undefined":i(l))||Array.isArray(l))for(var w=function(t){m[h+t]={},m[h+t].image=l[t],b||(m[h+t].alt="",m[h+t].title=""),y=y.then((function(){return p(m[h+t],t)}))},x=0;x<l.length;x++)w(x);else m[h]={},m[h].image=l.image.src,b||(m[h].alt="",m[h].title=""),[].push(p(m[h]))}),b,!0,!0)},removeComponentParamsTab:function(t,e){var n=t.parents(".image-tabs:eq(0)").find(".images > ul"),i=t.parents(".image-tabs:eq(0)").find(".cont");if(!(n.find("> li:not(.add-item)").length<=1)){var o=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),r=t.parents(".image-tabs:eq(0)").attr("data-name"),a=n.find("> .active").index(),s=this.Core.getComponentParams(o,!0).current[r],l=a-1>=0?a-1:a+1,c=n.find("> li:eq("+l+"):not(.add-item)");s.splice(a,1),n.find("> li:eq("+a+")").remove(),i.find("> div:eq("+a+")").remove(),this.Core.changeComponentParams(o),c.click()}}},events:{load:function(){var i,o=this;o.$template.on("click",".app-component .component-params",(function(e){e.preventDefault();var n=t(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");if(o.$componentsParams.attr("data-component-id")==n&&o.$body.hasClass("app-component-params-open"))return o.Core.focusComponentBlock("x"),void o.hideComponentParams();o.prepareComponentParams(n,e)&&o.showComponentParams(e.target,n)})),o.$template.on("click",".app-component .component-remove",(function(){var i=t(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");o.fire("removeComponent",i),o.confirmDlg(n("Remove Block?"),(function(t){t&&(o.Core.getComponent(i)._global&&Object.keys(o.Core.resultJSON).length>1?o.confirmDlg(n("This block is global. Do you want to remove it from all pages?"),(function(t){t?o.Core.removeComponent(i,e.Core.currentPage,!0):o.Core.removeComponent(i)})):o.Core.removeComponent(i),o.fire("removedComponent",i))}))})),o.$template.on("mousedown touchstart",".app-component .app-component-content",(function(e){i=t(this).parents("[data-app-component-id]:eq(0)").find("[contenteditable]:focus").length})),o.$template.on("click",".app-component .app-component-content",(function(e){e.preventDefault();var n=t(this).parents("[data-app-component-id]:eq(0)");if(i)i=void 0;else{var r=n.attr("data-app-component-id");if(o.$body.hasClass("app-component-params-open"))return o.Core.focusComponentBlock("x"),void o.hideComponentParams();o.Core.focusComponentBlock(r),t(e.target).is("img[data-app-edit], .mbr-nav-toggle, [data-app-prevent-settings]")||t(e.target).parents(".mbr-google-map:eq(0)").length||t(e.target).parents("[data-app-prevent-settings]:eq(0)").length||o.fire("componentClicked",r,e)}})),o.$template.on("scroll",(function(){o.calulateComponentParams()})),o.$componentsParams.on("change input","input, textarea, select",(function(){o.changeComponentParams(this)})),o.$componentsParams.on("click",".image .btn, .image img",(function(){o.changeComponentParams(this)})),o.$componentsParams.on("click",".image-tabs .images > ul > li:not(.add-item, .active)",(function(e){o.selectComponentParamsTab(t(this),e)})),o.$componentsParams.on("click",".image-tabs .images > ul > li.add-item",(function(e){o.addComponentParamsTab(t(this),e)})),o.$componentsParams.on("click",".image-tabs .images >div.add-item",(function(e){o.addComponentParamsTab(t(this).parent().find("li.add-item"),e)})),o.$componentsParams.on("click",".image-tabs .foot .remove-item",(function(e){o.removeComponentParamsTab(t(this),e)})),o.$template.on("mousedown touchstart",".app-component .sortable",(function(){o.hideComponentParams()})),o.Core.on(["showedPopover"],(function(){o.hideComponentParams()})),e.on(["showedPopup"],(function(){o.hideComponentParams()})),o.Core.addFilter("prepareComponent",(function(t){return n(t)})),o.Core.addFilter("changeComponentParams",(function(t,n,i,o){return e.applyFilter("changeComponentParams",t,n,i,o)}))},resizeTemplate:function(){this.calulateComponentParams(),this.hideComponentParams()},toggleComponents:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},removeComponent:function(){this.hideComponentParams()},sidebarOpened:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},openThemeSettings:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},showPublishModal:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-theme-settings",(function(t,e,n,o){var r="app-theme-settings-open",a="app-theme-settings-toggle-visible",s="#theme-settings",l=".app-theme-settings-toggle",c={};var d,u=function(){var i=!1,o=[];function r(n){if(i||(i=!0,t(e.iframe).on("click.settings.toggle",r.closeAll),e.on("sidebarOpened",r.closeAll),e.on("toggleComponents",r.closeAll),e.on("clickBody",(function(e){if(!t(e.target).closest(".dropdownjs-ul").length){for(var n=t(e.target).parents().add(e.target),i=0;i<o.length;i++){var a=o[i],s=a.target&&a.target.getElm();if(a.$elm.filter(n).length)return;if(s&&(s.filter?s:t(s)).filter(n).length)return}r.closeAll()}}))),!(n=n||{}).selector)throw new Error("Unknown selector! For example: new Toggle({selector: '.btn-toggle'}).");this.$elm=t(n.selector),n.target&&(this.target=n.target),n.visible&&this.show();var a=this.$elm.data("settings.toggle");if(a){var s=o.indexOf(a);o[s>=0?s:o.length]=this}else o.push(this);this.$elm.data("settings.toggle",this),this.$elm.off("click.settings.toggle").on("click.settings.toggle",t.proxy(this.onClick,this))}return r.prototype.setTarget=function(t){return this.target=t,this},r.prototype.open=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",n("Close")),this.target.open()),this},r.prototype.close=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",this.$elm.data("tooltipster-initialTitle")),this.target.close(),"true"!==e.appSettings.showSiteStylesBtn&&e.$themeToggleBtn.css("visibility","hidden")),this},r.prototype.onClick=function(){this.target&&(this.target.isOpen()?this.close():this.open())},r.prototype.show=function(){return this.$elm.addClass(a),this},r.prototype.hide=function(){return this.$elm.removeClass(a),this},r.closeAll=function(){o.forEach((function(t){t.close()}))},r}(),p=function(){var i;function o(){var o=function(t,e){if(-1==(e=e.map((function(t){return t.toUpperCase()}))).indexOf(t.toUpperCase()))return!0};this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:e.getThemeColorsSet(7),show:function(){i=this},move:function(e){t(this).val(e.toHexString()).trigger("change.settings.sidebar")},hide:function(t){var n;t&&((n=e.projectSettings.theme.additionalSetColors)?o(t.toHexString(),n)&&o(t.toHexString(),e.getThemeColorsSet(7)[0])&&(n.length<7?n.push(t.toHexString()):(n.unshift(t.toHexString()),n.pop())):o(t.toHexString(),e.getThemeColorsSet(7)[0])?e.projectSettings.theme.additionalSetColors=[t.toHexString()]:e.projectSettings.theme.additionalSetColors=[])}})}function r(){var i="",r=this.settings;this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy"),r.getSource().forEach((function(t){i+=function t(i){var o="";switch(i.title=i.title?n(i.title):i.title,i.type){case"title":o+='<h4 class="app-layer-title">'+g(i.title)+"</h4>";break;case"subtitle":o+='<h5 class="app-layer-subtitle">'+g(i.title)+"</h5>";break;case"color":o+='<div class="app-layer-color" data-setting-name="'+i.var+'" data-setting-type="color"><label>'+g(i.title)+'</label><input class="mbr-color" type="text" value="'+g(r.get(i.var))+'"></div>';break;case"group":for(var a in o+='<div class="app-layer-group'+(i.class?" app-layer-group-"+i.class:"")+'" data-group-name="'+(i.name||"")+'">',i.title&&(o+="<label>"+g(i.title)+"</label>"),i.set)o+=t(i.set[a]);o+="</div>";break;case"colors":for(var a in o+='<div class="app-layer-color" data-setting-type="colors"><label>'+g(i.title)+'</label><div class="app-layer-color-set">',i.set){var s=i.set[a].var;o+='<input type="text" class="mbr-color" name="'+s+'" value="'+g(r.get(s))+'"> '}o+="</div></div>";break;case"font":var l=e.getAccesibleFonts(),c=r.get(i.var);for(var a in o+='<div class="app-layer-font fonts dropdownjs-add" data-setting-name="'+i.var+'" data-setting-type="font">',i.title&&(o+="<label>"+g(i.title)+"</label>"),o+='<select class="form-control">',l){var d=l[a];o+='<option value="'+d.name+'"'+(d.name==c?" selected":"")+">"+d.name+"</option>"}o+="</select></div>";break;case"range":c=r.get(i.var);o+='<div class="app-layer-range" data-setting-type="range" data-setting-name="'+i.var+'">'+(i.title?"<label>"+g(i.title)+"</label>":"")+'<input type="text" class="form-control" name="'+i.var+'"  data-min="'+(i.min||0)+'" data-max="'+(i.max||100)+'" data-step="'+(i.step||1)+'" value="'+(c||0)+'"></div>';break;case"select":c=r.get(i.var);for(var a in o+='<div class="app-layer-select dropdownjs-add" data-setting-name="'+i.var+'" data-setting-type="select">',i.title&&(o+="<label>"+g(i.title)+"</label>"),o+='<select class="form-control">',i.values)o+='<option value="'+i.values[a]+'"'+(i.values[a]==c?" selected":"")+">"+g(i.values[a])+"</option>";o+="</select></div>";break;case"switch":o+='<div class="app-layer-checkbox togglebutton" data-setting-name="'+i.var+'" data-setting-type="switch"><label><input type="checkbox"'+(r.get(i.var)?" checked":"")+'><span class="toggle pull-right"></span>'+g(i.title)+"</label></div>"}o&&i.groupName&&(o='<div data-group-name="'+g(i.groupName)+'">'+o+"</div>");return o}(t)})),this.$elm.find(".app-layer-cont").html(i),this.$elm.off("change.settings.sidebar").on("change.settings.sidebar","input, select",(function(n){var i=t(this),o=i.closest("[data-setting-type]"),a=o.attr("data-setting-name"),s=i.is('[type="checkbox"]')?i.prop("checked"):i.val();"colors"==o.attr("data-setting-type")&&(a=i.attr("name")||""),r.set(a,s)&&e.Core.destroySummernote()})),o.call(this),this.$elm.find(".app-layer-select select, .app-layer-font select").each((function(){var e=t(this);e.dropdown({absolutePos:!0,align:"right"});var n=e.next(".dropdownjs");e.off("change").on("change",(function(i){var o,r=t(i.target);r.val()&&r.val().length&&(e.attr("multiple")?e.dropdown("_select",n,e.find(":selected")):(o=e.find(":selected").length?e.find(":selected").last():e.find("option, li").first(),e.dropdown("select",n,o.val())))}))})),this.$elm.find(".app-layer-font .dropdownjs").each((function(n){var i=t(this).data("select"),o=t(i.data("dropdownjs-ul"));o.find("li").each((function(){var n=e.getFont(t(this).attr("value"));t(this).css("font-family",n.css)})),o.addClass("fonts-dropdownjs")})),this.$elm.find(".app-layer-range input").each((function(){e.initPopoverRange(this)}))}function a(e){if(!(e=e||{}).selector)throw new Error("Unknown selector! For example: new Sidebar({selector: '.my-sidebar', ...}).");if(!e.settings)throw new Error("Settings not found! For example: new Sidebar({settings: new Settings({}), ...}).");if(!e.classNameOpen)throw new Error("Unknown class name for open/close sidebar! For example: new Sidebar({classNameOpen: 'sidebar-opened', ...}).");this.$elm=t(e.selector),this.$elm.data("settings.sidebar",this),this.settings=e.settings,this.callbacks={open:e.open},this.classNameOpen=e.classNameOpen,r.call(this)}return e.on("sidebarOpened",(function(){i&&t(i).spectrum("hide")})),a.prototype.isOpen=function(){return e.$body.hasClass(this.classNameOpen)},a.prototype.open=function(){return this.callbacks.open&&this.callbacks.open(),e.$body.addClass(this.classNameOpen),o.call(this),this},a.prototype.close=function(){return e.$body.removeClass(this.classNameOpen),this},a.prototype.getElm=function(){return this.$elm},a}(),f=function(){function e(e){var n=this._types={},i=this._source=[],o=this._variables={};if(t.isArray(e))for(var r=0;r<e.length;r++){var a=e[r];switch(a.type){case"title":case"subtitle":i.push(a);break;case"group":var s=a.set;if(t.isArray(s)&&a.set.length){a.set=[];for(var l=0;l<s.length;l++){var c=s[l];c&&c.var&&(u(c),a.set.push(c))}i.push(a)}break;case"colors":s=a.set;if(t.isArray(s)&&a.set.length){a.set=[];for(l=0;l<s.length;l++){var d=s[l];d&&d.var&&(u(d,"color"),a.set.push(d))}i.push(a)}break;default:if(!a.var)break;u(a),i.push(a)}}function u(t,e){switch(t.type||e){case"color":t.default=t.default||"#000000";break;case"switch":t.default=!!t.default;break;case"range":t.default=t.default||0;break;default:t.default=t.default||""}o[t.var]=t.default,n[t.var]=t.type||e}}return e.prototype.onChange=function(t){return this._onChange=t,this},e.prototype.set=function(t,e){return t in this._variables&&this._variables[t]!=e&&(this._variables[t]=e,this._onChange&&this._onChange(t,e),!0)},e.prototype.get=function(t){return t in this._variables?this._variables[t]:null},e.prototype.merge=function(t){for(name in t=t||{},this._variables)name in t&&(this._variables[name]=t[name]);return this},e.prototype.getSource=function(){return this._source},e.prototype.getVariables=function(){var t=[];for(name in this._variables)t.push({name:name,type:this._types[name],value:this._variables[name]});return t},e.prototype.getRawVariables=function(){return this._variables},e.prototype.isEmpty=function(){return 0==this._source.length},e}(),h=function(){function t(e){this._isValid=t.isValid(e),this._isValid&&(this._name=e.substr(1))}return t.isValid=function(t){return"string"==typeof t&&/^@[-a-zA-Z0-9_]+$/.test(t)},t.prototype.getName=function(){return this._name},t.prototype.isValid=function(){return this._isValid},t.prototype.eval=function(){return this._isValid&&c.get?c.get(this._name):null},t}();function m(){e.fire("initThemeSettings"),e.projectSettings.theme=e.projectSettings.theme||{},e.projectSettings.theme.name==e.theme.name&&(c=new f(e.theme.params.theme.settings).merge(e.projectSettings.theme.styling).onChange((function(t,n){e.fire("changeThemeSettings",t,n)})),e.projectSettings.theme.styling=c.getRawVariables(),c.isEmpty()&&!e.projectSettings.theme.settings||(e.ToogleThemeSettings=new u({selector:l,visible:!0,target:new p({selector:s,settings:c,classNameOpen:r,open:function(){e.fire("openThemeSettings")}})})))}function g(t){return e.escapeHtml(t)}!function(){var n,i="",r=[null];function a(e){var n=t.Deferred();return o.loadLocalFile(e,(function(t){n.resolve(t)})),n}function s(){e.Core.renderComponentsStyles()}e.on("changeThemeSettings",function(t,e){var n,i;function o(){(n=!!i)&&(t.apply(i.this,i.args),i=null,setTimeout(o,e))}return function(){i={this:this,args:arguments},n||o()}}(s,100)),e.on("addonLoaded",(function(t,n){!t.theme&&t.themeParams&&t.themeParams.customLESS&&r.push(a(e.getAddonDir(n.name)+"/"+t.themeParams.customLESS).then((function(t){return"\n\n// addon: "+n.name+"\n"+t})))})),e.on("loadedProject",(function(){var o=e.theme.params.theme.customLESS;n=!1,r[0]=o?a(e.theme.pathExport+"/"+o):"",t.when.apply(t,r).done((function(){i=[].join.call(arguments,""),n&&s()}))})),e.on("coreLoad",(function(){var o,r,a=e.iwindow.less;function s(t,n){var o="",r="",a=[],s="",l="*"===t;return c.getVariables&&c.getVariables().forEach((function(t){if(s+="@"+t.name+": ","font"==t.type){var i=e.getFont(t.value);s+=i.css,i.url&&(e.isAMP()?r+="@import url("+i.url+"&display=swap);":n&&a.push(i.url))}else s+=t.value;s+=";\n"})),t=t||"",(l||t.indexOf("imports")>=0)&&(o+=r),(l||t.indexOf("variables")>=0)&&(o+=s),(l||t.indexOf("rules")>=0)&&(o+=e.applyFilter("getCustomLessText",i).replace(/^\s+/,"")),!e.isAMP()&&n&&e.fire("getPublishFonts",a),o}function l(t){return function(n,i){switch(n=n.toCSS(),i=i.toCSS(),t){case"==":return e.iwindow.less.tree.Keyword[n==i];case"<":return e.iwindow.less.tree.Keyword[n<i];case"<=":return e.iwindow.less.tree.Keyword[n<=i];case">":return e.iwindow.less.tree.Keyword[n>i];case">=":return e.iwindow.less.tree.Keyword[n>=i]}}}r=e.isAMP(),e.on("runPublish",(function(){o=!0})),e.Core.addFilter("beforeRenderStyles",(function(t,e,i){var a;return n=!0,i?(a=s(o?"*":"variables",i),o=!!r):a=s("variables, rules"),a+t})),e.Core.addFilter("beforeRenderStylesForComponent",(function(t,e){return s("variables")+t})),t.map({if:function(t,e,n){return"true"==t.value?e:n},eq:l("=="),lt:l("<"),lte:l("<="),gt:l(">"),gte:l(">="),includes:function(t,e){return a.tree.Keyword[t.value.map((function(t){return t.value})).indexOf(e.value)>=0?"True":"False"]}},(function(t,e){a.functions.functionRegistry.add(e,t)}))}))}(),function(){function n(e){if(!c.get)return e;var n=t.isArray(e)?[]:{};for(var i in e){var o=e[i];0==o.indexOf("@")?n[i]=new h(o).eval()||"":n[i]=o}return n}e.addFilter("getThemeButtonColors",(function(t){return n(t)})),e.addFilter("getThemeLinkColors",(function(t){return n(t)})),e.addFilter("getThemeColorsSet",(function(t){return n(t)}))}(),e.on("bridgeInit",(function(){function t(t,e,n){var o=[t];if("object"==i(o[0]))for(;t=o.pop();)for(var r in t)!1!==e.call(n,t[r],r,t)&&"object"==i(t[r])&&o.push(t[r])}var n=function(e){t([e],(function(t,e,n){if("_styles"==e)return!1;var i,o,r;h.isValid(t)&&(n[e]=(o=new h(i=t),(r=function(){return o.eval()})._variableName=o.getName(),r.toString=function(){return r()},r.toLESS=r.toJSON=function(){return i},r))}))};e.addFilter("loadingComponents",(function(t,e){return n(t),t})),e.on("load",(function(){var o;e.Core.cleanJSONPlease=(o=e.Core.cleanJSONPlease,function(t,e){if(!e&&"object"==(void 0===t?"undefined":i(t)))for(var n in t)"function"==typeof t[n]&&t[n]._variableName&&(t[n]=t[n].toJSON());return o.apply(this,arguments)}),e.Core.on("render",(function(t){void 0===t&&n(e.Core.resultJSON[e.Core.currentPage].components)}));var r={};!function(e){var n=e.set;e.set=function(e){return t("object"==(void 0===e?"undefined":i(e))?e:[e],(function(t,e,n){if("function"==typeof t&&t._variableName){var i=t._variableName;r[i]||(r[i]=[]),r[i].indexOf(this)<0&&r[i].push(this)}}),this),n.call(this,e)}}(e.iwindow.rivets._.Binding.prototype),e.on("changeThemeSettings",(function(t,n){r[t]&&r[t].forEach((function(t){t.sync()})),e.runSaveProject(!1,!0)})),e.Core.on("removeComponent",(function(t,e){for(name in r)r[name]=r[name].filter((function(e){return t!=e.view.models._id}))})),e.on("switchedPage",(function(){r={}}))}))})),d=[],e.on("addonLoaded",(function(e){!e.theme&&e.themeParams&&e.themeParams.settings&&(t.isArray(e.themeParams.settings)?d=d.concat(e.themeParams.settings):d.push(e.themeParams.settings))})),e.on("addonsLoaded",(function(){e.theme.params.theme=e.theme.params.theme||{},e.theme.params.theme.settings=(e.theme.params.theme.settings||[]).concat(d)})),e.regExtension({name:"theme-settings",global:{ToogleThemeSettings:0,$themeToggleBtn:t(".app-theme-settings-toggle"),getThemeSettings:function(t){return c.get?c.get(t):null},hasThemeSettings:function(t){return!!(t.theme&&t.theme.settings&&t.theme.settings.length)},openThemeSettings:function(){e.ToogleThemeSettings.open()},closeThemeSettings:function(){e.ToogleThemeSettings.close()},redrawStyleChanger:function(){m(),e.fire("redrawStyleChanger")}},events:{loadedProject:function(){m(),e.fire("initSettingsSidebar")}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("add-builder-ext",(function(t,e,n){var i={"iconFont.iconFont":n("Insert icon"),"mbrStyle.mbrStyle":n("Font"),"mbrBtn.mbrBtnColor":n("Color"),"mbrBtn.mbrBtnExtendedColor":n("Color"),"mbrBtn.mbrBtnAdd":n("Add"),"mbrBtn.mbrBtnMove":n("Move Left"),"mbrBtn.mbrBtnRemove":n("Remove"),"mbrAlign.mbrAlign":n("Align"),"mbrLink.mbrLink":n("Link"),"mbrColor.mbrColor":n("Color")};function o(t,e,n){e=e.split(".");for(var i=0;i<e.length;i++)i<e.length-1?(t[e[i]]=t[e[i]]||{},t=t[e[i]]):t[e[i]]=n}function r(t,e){e=e.split(".");for(var n=0;t&&n<e.length;n++)t=t[e[n]];return t}e.regExtension({name:"builder-ext",global:{},events:{load:function(){!function(){var t=r(e,"iwindow.$.summernote.lang.en-US");if(!t)return;for(var n in i)r(t,n)&&o(t,n,i[n])}(),e.Core.addFilter("buttonFontSiteStyleIcon",(function(){return'<i class="mbr-icon-paint-brush" title="'+n("Edit Site Styles")+'"></i> '})),e.addFilter("buttonColorSiteStyleIcon",(function(){return'<a data-event="mbrShowSiteColors" href="javascript:void(0);" title="'+n("Edit Site Styles")+'"><i class="mbr-icon-paint-brush"></i></a>'})),e.Core.addFilter("getComponentsAnchorList",(function(e,i){var o=t("<div>").html(e);o.find('[value="#top"]').html(n("Top of Page")),o.find('[value="#bottom"]').html(n("Bottom of Page"));var r=o[0].innerHTML;return o.remove(),r}))},removeLastButton:function(){e.alertDlg(n('To remove all buttons from the block use %"Block Parameters" -> "Show Buttons"%').replace(/%(.+)%/,'<span class="btn btn-component-params mbr-icon-cog"></span> $1'))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("app-publish",(function(t,e,n){var o="";function r(t){e.progressBar("isCanceled")?(e.progressBar("show"),e.progressBar(1),e.progressBar(n("Initialization, please wait...")),e.$progressModal.one("shown.bs.modal",(function(){t&&t()}))):t&&t()}function a(n){var i=e.Core.resultJSON,o=[],r=0;for(var a in i)o.push(e.Core.loadPage(a)),r++;return t.when.apply(t,o).then((function(){n&&n(r)}))}function s(t){var e=document.createElement("div");return e.setAttribute("path",t),(e=/\"([^"]*)\"/.exec(e.outerHTML))&&e[1]||t}function l(t){return t=t.replace(/^&quot;|&quot;$/g,""),(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}e.regExtension({name:"publish",global:{publishPages:{},publishImagesList:[],$publishBtn:t(".publish-block"),clickPublish:function(t){this.publish(!t||!t.nopreview,null,(function(){var i=e.projectSettings.domains.filter((function(t){return"Deployed"===t.status.name})).pop().name;i="https://"+i,e.projectSettings.mbrsite!==i&&(e.projectSettings.mbrsite=i,e.runSaveProject(null,!0)),e.projectSettings.domains.length>1||t&&t.nocongrats||bootbox.alert({message:'<div class="congrats-modal">\n                                        <br>\n                                        <div>'+n("Your site is published and is live online:")+'</div>\n                                        <div><a class="congrats-site-link" href="'+e.getPublicDomain()+'" target="_blank">'+e.getPublicDomain()+"</a></div>\n                                    </div>",className:"congrats-modal-wrapper"})}))},forEachObjKeys:function(t,e,n){var i=0,o=Object.keys(t),r=o.length;!function a(){i<r?(setTimeout(function(n){return function(){e(t[o[n]],o[n],t,a)}}(i),0),++i):n()}()},publishPage:function(i,o,r,a){var s=this,l=t.Deferred();return setTimeout((function(){var t;try{s.progressBar(n("Preparing $page name$").replace("$page name$",i)+"..."),t=s.processingPage(i,r.pages[i].settings)}catch(t){throw l.reject(),e.showError(n("Internal error while processing page $page name$").replace("$page name$",i)),e.progressBar("hide"),t}t&&t.promise?t.then((function(t){!function(t){s.publishPages[o]=s.applyFilter("publishHTML",t,r.pages[i],r),s.publishPages[o]=s.preparePublishImages(s.publishPages[o]),a.push({dest:o,srcList:[{src:o,filter:"template"}]})}(t),l.resolve()})):l.resolve()}),1),l},filesPublish:function(t,n,o,r,a,s,l){var c=this;i.Bridge.isExistsLocal(e.getProjectImagesDir()+"/hashes.json",(function(i){for(var d in i&&a.push({dest:e.IMAGES_FOLDER+"/hashes.json",srcList:[{src:e.getProjectImagesDir()+"/hashes.json"}]}),c.additionalStyles=c.preparePublishImages(c.additionalStyles,"../../../"),c.publishImagesList)a.push(c.publishImagesList[d]);if(a.push({dest:"assets/css/mbr-additional.css",srcList:[{src:"assets/css/mbr-additional.css",filter:"template"}]}),!s){var u=c.getPluginsFilesForPublish();for(var p in u){var f=u[p];a.push({dest:f.dest,srcList:[{src:f.src}]})}for(var p in c.Core.publishAssets)for(var d in a)a[d].dest===c.Core.publishAssets[p].dest&&a[d].srcList.push({src:c.Core.publishAssets[p].src})}a.push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),a=c.applyFilter("publishFiles",a,r);var h=c.applyFilter("publishIndex",o,n);c.uploadFiles(a,n,{index:h,preview:t,close:function(t){c.publishImagesList=[],t&&(c.fire("published",n,t),l&&l())}})}))},publish:function(n,i,o){var s=this,l=e.isAMP();r((function(){a((function(r){e.progressBar(4*r),function(e,n){function i(t){return t+(t.indexOf(".")>-1?"":".html")}s.fire("runPublish",n);var r=s.Core.getResultProject();s.additionalStyles="",s.publishPages={};var a=[];s.publishImagesList=[];var c=i(r.settings.currentPage),d=t.Deferred().resolve();for(var u in r.pages)!function(t){d=d.then((function(){return s.publishPage(t,i(t),r,a)}))}(u);d.then((function(){s.filesPublish(e,n,c,r,a,l,o)}))}(n,i)}))}))},exportProject:function(t){var o=this;r((function(){a((function(r){e.progressBar(4*r),function(){var r=o.projectSettings.name;o.fire("exportProject",r,t),o.makeScreenshot((function(a){var s=[];s.push({dest:"screenshot.png",srcList:[{src:a}]});var l=o.Core.getResultProject();o.publishImagesList=[],e.forEachObjKeys(l.pages,(function(t,e,n,i){o.additionalStyles+=o.Core.renderComponentsStyles(!0,e),o.Core.getResultHTML(e).then((function(t){o.preparePublishImages(t),o.preparePublishImages(o.additionalStyles),i()}))}),(function(){for(var a in o.publishImagesList)s.push(o.publishImagesList[a]);i.Bridge.isExistsLocal(o.getProjectImagesDir()+"/hashes.json",(function(a){a&&s.push({dest:e.IMAGES_FOLDER+"/hashes.json",srcList:[{src:o.getProjectImagesDir()+"/hashes.json"}]}),(s=o.applyFilter("exportProjectFiles",s,t)).push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),o.uploadFiles(s,t,{close:function(){o.publishImagesList=[],e.alertDlg(n("Your site was successfully exported to the folder $folder name$").replace("$folder name$","<strong>"+i.Bridge.url2sys(t)+"</strong>")),o.fire("exportedProject",r,t)}})}))}))}))}()}))}))},uploadFiles:function(o,r,a){var s=this;if(!o)return"";function l(t){s.progressBar("hide"),a.close&&a.close(t)}(a=a||{}).preview&&(r=i.Bridge.registerPreviewPath(e.projectPath)),r=i.Bridge.registerPreviewPath(e.projectPath),s.applyFilter("uploadFilesStart",t.Deferred().resolve(o,r),a).then((function(t,o){var r=new i.Bridge.FileManager(t,o,{start:function(t){s.progressBar(t),a.start&&a.start(t)},file:function(t){s.progressBar(t),a.file&&a.file(t)},uploaded:function(t){s.fire("uploadFilesUploaded",t)},error:function(t){t=(t=(t=t.replace("\n","<br>").replace("ENOENT:","")).replace(i.Bridge.url2sys(i.Bridge.base),"[Resources]:")).replace(i.Bridge.url2sys(mbrApp.getAddonsDir()),"[Extensions]:"),s.progressBar("error",t||n("Unknown error while publish")),a.error&&a.error(t)},close:function(t){a.preview&&(o=e.getPublicDomain(),"index.html"!=a.index&&(o+=a.index),window.open(o,"_blank")),s.fire("uploadFilesComplete",t),setTimeout((function(){l(t)}),1)}});s.progressBar(r)})).fail((function(t){l(t)}))},preparePublishVideos:function(t){return t=(t=t.replace(/(<img[^>]+>)/g,(function(t,e,n){var i=t.match(/data-video-src="(.*?)"/),o=t.match(/data-video-width="(.*?)"/),r=t.match(/data-video-height="(.*?)"/);return i&&i[1]?(o=o&&o[1]?'width="'+o[1]+'"':"",r=r&&r[1]?'height="'+r[1]+'"':"",'<iframe class="mbr-embedded-video" src="'+i[1].replace(/^http:/g,"https:")+'" '+o+" "+r+' frameborder="0" allowfullscreen></iframe>'):t}))).replace(/data-video-src/g,"data-bg-video"),this.applyFilter("preparePublishVideos",t)},addImage2PublishList:function(t){if(i.Bridge.supportedImgExts.indexOf(t.split(".").pop())<0)return t;if(""==t.replace(/\t|\s|\n/g,""))return t;if(/(http(s?))\:\/\//gi.test(t)&&!this.isAssetsDir(t))return t;var e=i.Bridge.cleanURI(t.split("/").pop())||"";for(var n in e&&!/^\./.test(e)||(e="0"+e),e="assets/images/"+e,/^[\w]+\:/.test(t)||(t="web/app/builder/"+t),t=(t=t.replace(/^qrc\:\/web/,"web/")).replace(/^\:\/web/,"web/"),this.publishImagesList)if(this.publishImagesList[n].srcList[0].src===t)return this.publishImagesList[n].publicUrl||this.publishImagesList[n].dest;for(var n in this.publishImagesList)if(this.publishImagesList[n].dest===e){for(;this.publishImagesList[n].dest===e;)e=e.replace(/(.[\w]+)$/g,this.uniqNum()+"$1");break}var o={dest:e,srcList:[{src:t}]};return this.publishImagesList.push(o),this.isAssetsDir(t)&&(e=o.publicUrl=this.projectSettings.resourcesUrl+e+"?rnd="+Date.now()),e},preparePublishImages:function(t,e){var n=this;return e=e||"",t=(t=(t=t.replace(/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,(function(t,i,o,r){return i+e+n.addImage2PublishList(l(o))+r}))).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,(function(t,i,o,r){var a=l(o);return function(t){return!("string"==typeof t&&/^https?:\/\//i.test(t))}(a)&&(i+=e),i+n.addImage2PublishList(a)+r}))).replace(/(href=")(.*?)(")+/g,(function(t,i,o,r){return i+e+n.addImage2PublishList(l(o))+r})),n.applyFilter("preparePublishImages",t,n.publishImagesList,e)},prepareProjectText:function(n,o){var r=e.Core.getResultProject();if(i.Bridge.version&&(r.settings.versionPublish=i.Bridge.version),void 0!==e.projectSettings&&(r.settings=t.extend({},e.projectSettings,r.settings)),r.settings=this.applyFilter("publishProjectSettings",r.settings||{},o),r.pages=this.applyFilter("publishProjectPages",r.pages||{}),r=JSON.stringify(r,null,2),n)for(var a in n)if(1==n[a].srcList.length){var l=n[a].srcList[0].src,c="@PROJECT_PATH@/"+n[a].dest;/^file\:/.test(l)&&(r=r.split(l).join(c).split(s(l)).join(c))}return e.projectPath&&0==e.projectPath.indexOf("file:")&&(r=r.split(e.projectPath).join("@PROJECT_PATH@")),e.theme.name&&(r=(r=r.split('"'+e.path2core(e.getAddonDir(e.theme.name))).join('"@THEME_PATH@')).split("("+e.path2core(e.getAddonDir(e.theme.name))).join("(@THEME_PATH@")),e.getAddonsDir()&&0==e.getAddonsDir().indexOf("file:")&&(r=r.split(e.getAddonsDir()).join("@ADDONS_PATH@")),r}},events:{bridgeInit:function(){var t=this;i.Bridge.templating=function(n){var i="";if(/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(n))i=e.publishPages[n]||"";else if(/.json$|.mobirise$/g.test(n))i=t.prepareProjectText(t.publishImagesList,!0);else if(/.css/g.test(n)){var r=e.additionalStyles,a="";r=r.replace(/(@import url\(.*?\);)/g,(function(t,e,n){return-1==a.indexOf(t)&&(a+=t+"\n"),""})),i=(a||"")+(r||"")}else n.indexOf("kw.template.js")>=0&&(i=o);return t.applyFilter("publishTemplating",i,n)}},load:function(){var n=this;t(".app-publish").on("click",(function(t){n.runPublishDlg((function(t){t&&e.clickPublish({nopreview:!0})}))})),e.Core.$body.find(".browser-chrome .link-wrapper").on("click",(function(t){t.stopPropagation(),e.openProjectSettings(e.projectPath+"/project.mobirise"),e.fire("selectBasicDomain")}));var r=i.Bridge&&i.Bridge.version?i.Bridge.version:"";i.Bridge.loadLocalFile("web/app/interface/kw.template.js",(function(t){o=t.replace(/\$VERSION\$/g,r)})),i.Bridge.loadLocalFile("web/app/interface/kw.txt",(function(t){t.split("\n")})),e.addFilter("publishFiles",(function(t,n){return"mbrsite"===e.projectSettings.publishType&&t.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),t})),e.addFilter("publishTemplating",(function(t,n){return"mbrsite"===e.projectSettings.publishType&&"edit/index.html"==n?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':t}))}}}),function(t){var e=t.prototype,n=e.parseFromString;try{if((new t).parseFromString("","text/html"))return}catch(t){}e.parseFromString=function(t,e){if(/^\s*text\/html\s*(?:;|$)/i.test(e)){var i=document.implementation.createHTMLDocument("");return t.toLowerCase().indexOf("<!doctype")>-1?i.documentElement.innerHTML=t:i.body.innerHTML=t,i}return n.apply(this,arguments)}}(DOMParser)}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("app-publish-dlg",(function(t,e,n){var o='<div class="publishMethod mbrsite-publish-settings">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="mbrsite" checked>\n                <span class="circle"></span>\n                <span class="check"></span>\n                '+(e.domainManager?e.domainManager.getCustomDomainInfo()?e.domainManager.getCustomDomainInfo().name:"*.mobirisesite.com":"Mobirise")+'\n            </label>\n        </div>\n        <div class="publishBody">\n            <div class="row">\n                <div class="col-md-4">\n                    <input type="text" class="mbrsite-domain form-control" placeholder="name" name="mbrsiteDomain">\n                </div>\n                <div class="col-md-2 gp-domain">.mobirisesite.com</div>\n                <div class="col-md-4"></div>\n            </div>\n            <span class="mbrsite-input-status">IMPORTANT! Use this option for testing only</span>\n        </div>\n    </div>\n    <div class="publishMethod">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="local"><span class="circle"></span><span class="check"></span>\n                '+n("Local drive folder")+"\n            </label>\n        </div>\n    </div>";e.regExtension({name:"publish-dlg",global:{PUBLISH_MODAL_HTML:o,runPublishDlg:function(i){function o(){var e=t(this).closest(".publishMethod"),n=e.find(".publishBody"),i=t(this).parents(".modal-body"),o=i.find("input[name=uploadDiff]");i.find(".publishBody").not(n).hide(),i.find(".publishMethod").not(e).removeClass("selected"),n.show(),e.addClass("selected"),"local"===t(this).attr("value")?o.closest(".togglebutton").css("display","none"):"none"===o.closest(".togglebutton").css("display")&&o.closest(".togglebutton").css("display","block")}e.fire("showPublishModal");var r=e.projectSettings||{},a=e.showDialog({title:n("Publish"),className:"publish-dialog",body:e.PUBLISH_MODAL_HTML,buttons:{btClose:{label:n("Cancel"),callback:function(){}},btSave:{label:n("Publish"),default:!0,callback:function(){switch(a.find(".publishMethod.selected input").val()){case"local":e.projectSettings.publishType="local",e.createZipProject();break;default:e.projectSettings.publishType="mbrsite",e.clickPublish({nopreview:!1})}}}},create:function(n){e.fire("createPublishModal",t(n))},show:function(i){var a=t(i).find("[name=publishType][value="+(r.publishType||"mbrsite")+"]");i.find('input[name="mbrsiteDomain"]').val(e.projectSettings.domains?e.projectSettings.domains[0].name.split(".")[0]:e.getUID(10).toLowerCase()),i.find(".mbrsite-domain").on("change",(function(o){var r=t(o.target),a=i.find(".mbrsite-input-status");r.prop("disabled",!0),r.addClass("waiting-input"),e.changeUsrDomain(o.target.value).then((function(t){e.projectSettings.domains[0]=t,e.projectSettings.publicUrl="https://"+t.name+"/",e.runSaveProject(),r.removeClass("waiting-input"),r.prop("disabled",!1),r.addClass("success-input"),a.show(),a.addClass("success"),a.html(n("Domain changed")),setTimeout((function(){r.removeClass("success-input"),a.hide(),a.removeClass("success")}),2e3),e.fire("userDomainChanged",o.target.value)}),(function(t){r.removeClass("waiting-input"),r.prop("disabled",!1),r.addClass("error-input"),a.show(),a.addClass("danger"),a.html(t.message),setTimeout((function(){r.removeClass("error-input"),a.hide(),a.removeClass("danger")}),1e4)}))})),a.prop("checked",!0),o.call(a)}});a&&(e.fire("showedPublishModal",a),a.on("change","[name=publishType]",o))},getPublishUrl:function(t){var e=t.find("[name=publishType]:checked").val(),n="",o=this.projectSettings||{};switch(o.publishType=e,e){case"local":n=i.Bridge.sys2url(t.find("[name=publishLocal]").val(),i.Bridge.docLocation),o.publishPath=n,i.Bridge.getSettingsArray("RecentPublish",(function(t){var e=[n];for(var o in t)e.indexOf(t[o])>=0||e.push(t[o]);i.Bridge.setSettingsArray("RecentPublish",e)}))}return n=this.applyFilter("getPublishUrl",n,e,t,o),this.projectSettings=o,n}},events:{load:function(){e.addFilter("publishProjectSettings",(function(t,e){return e&&(delete t.publishType,delete t.publishPath),t}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("app-preview",(function(t,e,n){e.regExtension({name:"preview",global:{$previewBtn:t(".preview-block"),additionalStyles:"",templateHTML:["$global_before_html$$SETTINGS.html_before$<!DOCTYPE html>","<html $LANG_ATTR$>","<head>","  \x3c!-- Site made with Mobirise Online Website Builder v$VERSION$, https://a.mobirise.com --\x3e",'  <meta charset="UTF-8">','  <meta http-equiv="X-UA-Compatible" content="IE=edge">','  <meta name="generator" content="Mobirise v$VERSION$, a.mobirise.com">','  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','  <meta name="description" content="$SETTINGS.meta_descr$">',"  $SETTINGS.title$","  $STYLES$","  $SCRIPTS_HEAD$","  $global_header_custom$","  $SETTINGS.header_custom$","</head>","<body>","  $global_after_body$","  $CONTENT$","  $SCRIPTS$","  $global_footer_custom$","  $SETTINGS.footer_custom$","</body>","</html>"].join("\n"),processingPage:function(n,o){var r,a,s=this,l=t.Deferred(),c=t.Deferred();return r=e.isAMP(),s.Core.getResultHTML(n).then((function(t){t=s.preparePublishVideos(t),r&&(s.additionalStyles=""),s.additionalStyles+=s.Core.renderComponentsStyles(!0,n);var d=e.getPluginsHTMLForPublish(n),u=(d=s.applyFilter("publishAssets",d,n)).js,p=d.js_head,f=d.css;f+='<link rel="stylesheet" href="assets/css/mbr-additional.css" type="text/css">\n  ';var h=r?"amp":"";function m(){var n=jQuery.extend({},o);a=(a=s.templateHTML.replace(/\$SETTINGS\.(.*)\$/g,(function(t,e){var i=n[e]||"";return"title"===e&&(i=i?"<title>"+i+"</title>":""),i||""})).replace(/\$VERSION\$/g,(function(){return i.Bridge&&i.Bridge.version?i.Bridge.version:""})).replace(/\$CONTENT\$/g,t).replace(/\$SCRIPTS\$/g,u).replace(/\$SCRIPTS_HEAD\$/g,p).replace(/\$STYLES\$/g,f).replace(/\$AMP_TITLE\$/g,h).replace(/\$global_before_html\$/g,e.projectSettings.global_before_html||"").replace(/\$global_header_custom\$/g,e.projectSettings.global_header_custom||"").replace(/\$global_after_body\$/g,e.projectSettings.global_after_body||"").replace(/\$global_footer_custom\$/g,e.projectSettings.global_footer_custom||"")).replace(/\$LANG_ATTR\$/g,(function(){return e.projectSettings.site_lang?'lang="'+e.projectSettings.site_lang+'"':""}))}r?(u="",mbrApp.applyFilter("prepareAmpStyles",f,n).then((function(t){f=t,l.resolve()})).fail((function(t){console.error(t.message),f+="<style amp-custom>"+s.additionalStyles+"</style>\n ",l.resolve()})),l.then((function(){m(),c.resolve(a)}))):(m(),c.resolve(a))})),c}},events:{load:function(){}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("app-addons",(function(t,e){var n=/\.mbrext$/,o='<div class="modal">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title"></h4>      </div>      <div class="modal-body">        <div class="placeholder hide">'+a("No extensions matched your search. Try again.")+"</div>      </div>    </div>  </div></div>";function r(e){var n=(e=e||{}).body;if("string"==typeof n)for(var i in e)n=n.replace("@"+i+"@",e[i]);var r=t(o).attr("id",e.id).insertBefore("#insertBefore");return"large"==e.size&&(r.addClass("bs-example-modal-lg"),r.find(".modal-dialog").addClass("modal-lg")),r.find(".modal-body").append(n),r.find(".modal-title").append(e.title),r.on("hidden.bs.modal",(function(){t(this).data("modal",null),e.onhide&&e.onhide(),t(this).remove()})),e.onbeforeshow&&e.onbeforeshow(r),r.modal("show"),r}function a(t){return e.TR?e.TR(t,"app-addons"):t}e.regExtension({name:"addons",global:{addonPackageExt:"mbrext",$addonsBlock:0,showAddonsList:function(n,o){e.fire("clearAutoUpdateTimeout");var s=t(e.preloaderHTML),l=a("Extensions"),c=r({id:"addonsModal",title:l,body:s,onhide:function(){o?(console.log("rebooting..."),i.Bridge.reload()):(i.Bridge.isDev||(e.off("updateAllStop",enableExtWindow),e.off("updateAllStart",disableExtWindow)),n&&n())},onbeforeshow:function(t){t.find(".modal-header>*").wrapAll('<div class="modal-header-wrapper">')}});function d(){var t=e.getUserInfo();c.find(".modal-title").replaceWith('<h3 class="modal-title">'+l+(t&&t.email?" ("+t.email+")":"")+"</h3>")}d();var u=c.find(".modal-body"),p=c.find(".modal-header-wrapper"),f=t('<div class="col-md-4" id="filter-extensions"><input name="name" type="text" placeholder="'+a("Search")+'" value="" class="form-control"></div>');f.on("keyup","input",(function(){var e=this.value.toLowerCase(),n=t(".list-view .row").children();if(n.forEach=[].forEach,n.forEach((function(t){return t.classList.remove("hide")})),""!==e){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=t(n).filter((function(t){return void 0!==this&&"plugin"!==this.dataset.extensionsType?this.dataset.extensionsTitle||this.dataset.extensionsText?!(~this.dataset.extensionsTitle.toLowerCase().search(e)||~this.dataset.extensionsText.toLowerCase().search(e)):"":1}));i.forEach=[].forEach,i.forEach((function(t){return t.classList.add("hide")})),n.length===i.length?t("#addonsModal .placeholder").removeClass("hide"):t("#addonsModal .placeholder").addClass("hide")}else t("#addonsModal .placeholder").addClass("hide")})).appendTo(p),c.find(".modal-header .close").replaceWith('<div class="app-layer"><span class="app-layer-close mbr-icon-angle-left" data-dismiss="modal"></span></div>');var h=t('<div class="list-view">').appendTo(u),m=t('<div id="themes-list"></div>').appendTo(h),g=function n(){var i=1;function o(n,o,r){e.getAddonsEx(0,o?{type:o}:0,{server:r,serverOptions:{with_archive:1},restricted:!0}).then((function(o,s,l){l&&(r=l),--i<=0&&(t(".preloader-spinner").remove(),e.isUpdatingNow&&e.updateAllAppendLoader(h)),function(n,i,o,r,s){e.getAddons((function(o){Object.keys(o).map((function(t){var e=n.filter((function(e){return t===e.name}));e.length&&"archive"===e[0].status&&delete o[t]})),n=n.filter((function(t){return!("archive"===t.status)}));var r=0;for(var l in o)o[l].id_local=r,r++;n.sort((function(t,e){return t.hasOwnProperty("id")&&!e.hasOwnProperty("id")?-1:!t.hasOwnProperty("id")&&e.hasOwnProperty("id")?1:t.hasOwnProperty("id")||e.hasOwnProperty("id")?0:o[t.name].id_local>o[e.name].id_local?-1:o[t.name].id_local<o[e.name].id_local?1:0}));var c=t("<div>");i.html(c);var d=c;for(l=0;l<n.length;l++)!function(n){0===l&&(d=t('<div class="row">').appendTo(c));var i=t('<div class="panel panel-default">').appendTo(d),o=t('<div class="panel-body"></div>').appendTo(i),r=t("<img>").attr("src",n.largeCover||n.cover),u="";u=n.new?t("<div>").html("<p>"+n.description+'</p> <div><h3 class="text-primary">'+(n.title||n.name)+"</h3><h4>NEW!</h4></div>"):t("<div>").html("<p>"+n.description+'</p> <h3 class="text-primary">'+(n.title||n.name)+"</h3>");var p=t("<div class='btn-group'>");if(n.demoUrl||u.find("p a").attr("href")){var f=t('<a target="_blank" data-href="'+(n.demoUrl||u.find("p a").eq(-1).attr("href")||u.find("p a").eq(0).attr("href"))+'">').appendTo(d);t('<div class="col-sm-6 col-md-6 col-lg-3">').append((function(){return f.append(i)})).appendTo(d),t(u).find("p a").remove(),f.click((function(n){t(n.target).parents(".btn-group").length||t(n.target).attr("href")||e.openUrl(t(this).attr("data-href"))}))}else t("a[href^=http]",u).each((function(){t(this).data("link",t(this).attr("href"))})).attr("href","javascript:void(0)").click((function(){var n=t(this).data("link");e.openUrl(n)})),t('<div class="col-sm-6 col-md-6 col-lg-3">').append(i).appendTo(d);i.parents(".col-sm-6.col-md-6.col-lg-3").attr({"data-extensions-title":n.title||n.name,"data-extensions-text":t(u).find("p")[0].innerHTML,"data-extensions-type":n.new?n.type:""}),o.html(['<div class="media">','<div class="media-img"></div>','<div class="media-body"></div>',"</div>"].join("\n")),o.find(".media-img").append(r),o.find(".media-body").append(p).prepend(u),n.paid&&!n.expired||n.buyURL&&t('<span class="btn btn-primary" data-tooltipster="bottom" title="'+a("Buy")+'">'+(n.price?"<span>"+n.price+"</span>":a("Buy"))+"</span>").click((function(){s(n)})).appendTo(p),u.find(n.new?"div":"h3").css("max-width","calc( 100% - "+(p.width()+11)+"px)")}(n[l])}))}(o=o.filter((function(t){return!("mobirise5"==t.name||"mobirise-amp"==t.name)})),n,0,0,(function(t,n){e.openUrl(t.buyURL)})),e.fire("showedAddonsList",o)}))}f.find("input").val(""),f.find("input").trigger("keyup"),o(m,0,!0),e.off("signedin",n)};g(),e.on("signedin",g),e.fire("shownAddonsDialog",c)},downloadAddon:function(t,n,o){var r=t.downloadURL;console.log("Start download "+r),e.fire("downloadAddon",t);var s=jQuery.Deferred();if(!r)return s.reject(a("Unable to download $extension$. Try to re-login.").replace("$extension$",t.name||"extension"),1302);function l(){s.reject(a("Download cancelled: "),1303),i.Bridge.stopDownload(r),e.off("cancelDownloadAddon",l)}return e.on("cancelDownloadAddon",l),mbrServer.download(r,(function(i){if(n)o({msg:t.title,currentAddon:i});else switch(i){case 0:return void(e.progressBar("isCanceled")&&(e.progressBar("show",a("Downloading..."),t.title),e.$progressModal.removeClass("passive")));case 1:return void e.progressBar("hide");default:e.progressBar({progress:Math.floor(100*i)}),console.log("Download progress "+i)}})).fail((function(t,n){e.off("cancelDownloadAddon",l),s.reject(t,n),e.handleServerError(t,n)})).done((function(t){e.off("cancelDownloadAddon",l),e.extractAddon(t,(function(t){if(t){var n=e.pkgParams2addon(t);console.log("Loaded new addon "+n.name),e.fire("downloadedAddon",n),s.resolve(n)}else s.reject("extract error",1301)}),n)})),s},extractAddon:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=i.Bridge.tempLocation+"/addon"+i.Bridge.dateFormat(new Date,"yyyyMMdd_hhmmss");n=n||function(){};i.Bridge.unzip(t,r,(function(a){if(!a)return console.log("Extraction error ",t,"to",r),void n();i.Bridge.getLocalJSON(r+"/params.json",(function(a){var s=e.pkgParams2addon(a||{}),l=s.name;if(!l)return console.log("Error: wrong params.json file of addon "+t),void n();var c=e.getAddonsDir()+"/"+l;!o||"plugin"!==s.type&&s.name!==e.theme.name||(c+="-new",s.newVersion=!0),i.Bridge.isExistsLocal(c.replace(/\-new$/,""),(function(t){t||!o||"plugin"!==s.type&&s.name!==e.theme.name||(i.Bridge.removeLocal(c),c=c.replace(/\-new$/,"")),i.Bridge.copyLocal(r,c,(function(t){t?e.enableAddon(s,(function(t){e.fire("extractedAddon"),n(a)})):(console.log("Error: component '"+s.name+"' is not registered"),n()),i.Bridge.removeLocal(r)}))}))}))}))}},events:{load:function(){this.$addonsBlock=e.addSidebarItem({title:a("Extensions"),tooltip:a("Add Themes and Extensions"),onclick:function(){e.showAddonsList()}}),e.on(["accountInited","signedin"],(function(t){!1!==t&&e.getAddons((function(t){"code-editor"in t||(e.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-mobi-kit" data-tooltipster="bottom" title="'+a("Get ALL Mobirise Themes & Extensions!")+'">\n                                        <a href="javascript:void(0)">\n                                            <i class="mbr-icon-shapes"></i>\n                                        </a>\n                                    </li>'),e.$body.find(".nav.navbar-nav.navbar-right .app-mobi-kit").click((function(){e.openUrl("https://mobirise.com/extensions/kit/")})))}))}))},addonsOff:function(){var n=this;t(".preloader").hide(),e.showDialog({title:a("Warning"),body:a("During the last run the program failed to load all extensions. To run again, program will temporarily disable them. Please update the extensions you use."),buttons:{ok:{label:a("Ok"),className:"btn-primary"}},onhide:function(){n.showAddonsList()}})},addonsLoaded:function(n,i){var o=this;if(t(".preloader").delay(600).fadeOut(1e3,(function(){t(this).hide()})),i&&i.length){for(var r="",s=0;s<i.length;s++)r+=(r?",":"")+'"'+i[s].title+'"';e.confirmDlg({message:a('Some installed extensions $ext names$ are not compatible with the current version of the application. Please visit "Extensions list" dialog to update it.').replace("$ext names$","("+r+")"),buttons:{cancel:{label:a("Cancel"),className:"btn-default"},confirm:{label:a('Open "Extensions list"'),className:"btn-primary"}},callback:function(t){t&&o.showAddonsList()}})}},incomingFile:function(t){n.test(t)&&e.extractAddon(t,(function(t){console.log(t)}))}}})}),["jQuery","mbrApp"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27),r=n(97);defineM("addons-core",(function(t,e){function n(t){return{name:t.alias||t.name,title:t.title||t.name,version:t.version,minAppVersion:t.minAppVersion,maxAppVersion:t.maxAppVersion,type:t.theme?"theme":"plugin"}}var a={};function s(t){var e=a,n={};for(var i in e)!function(e,i){if(t)for(var o in t)if(i[o]!=t[o])return;n[e]=i}(i,e[i]);return n}function l(){var t=o.Bridge._getAuthToken().then((function(t){return fetch(e.getAddonsDir()+"/auth",{method:"POST",headers:{Authorization:"Bearer "+t},mode:"cors",credentials:"include"})})).then((function(t){if(200!==t.status)throw new Error("Authorization error")})).catch((function(t){throw e.showError("Extensions are not available, please try again later"),t}));return l=function(){return t},t}function c(t){t.name in a&&(t.version>(a[t.name].version||1)?a[t.name].status="":a[t.name].status="system")}e.regExtension({name:"addons-core",global:{registeredAddons:{},restrictedAddons:{},isBuildInAddon:function(t){return!!Object.keys(a).includes(t.toLowerCase())},pkgParams2addon:n,getAddonsDir:function(){return o.Bridge.getAddonsDir()},isAddonsDir:function(t){return 0===t.indexOf(this.getAddonsDir().replace(/\/$/,"")+"/")},isCurrentThemeDir:function(t){return 0===t.indexOf(this.path2core(this.getAddonDir(this.theme.name)+"/"))},isAssetsDir:function(t){return this.isAddonsDir(t)||this.isCurrentThemeDir(t)},getBuildinAddons:function(t){return s(t)},getAddons:function(t){var n=e.getUserInfo();if(!n||!n.email)return console.warn("Addons request before account entering."),void t({});l().then((function(){o.Bridge.getLocalJSON(e.getAddonsDir()+"/list.json",(function(n){if(n)t(n);else{if(!o.Bridge.dataLocation)return console.error("Error: addons request before Bridge.dataLocation initialization."),void t({});o.Bridge.getLocalJSON(o.Bridge.dataLocation+"/addons/list.json",(function(n){n?o.Bridge.copyLocal(o.Bridge.dataLocation+"/addons",e.getAddonsDir(),(function(e){e?(t(n),o.Bridge.removeLocal(o.Bridge.dataLocation+"/addons")):t({})})):t({})}))}}))}),console.error)},getAddonsListAsText:function(t){e.getAddons((function(e){e=e||{};var n=[];for(var i in e)n.push(i+e[i].version);t&&t(n.join(","))}))},getAddonsEx:function(n,i,a){var l=jQuery.Deferred();a=t.extend({restricted:!1,system:!0,server:!1},a);var c,d=[],u=[],p=[];return p.push((c=t.Deferred(),e.restrictedAddonsList?c.resolve(e.restrictedAddonsList):(o.Bridge.getLocalJSON("web/app/interface/app-addons-restricted.json",(function(t){t=t||{},e.restrictedAddonsList=t,c.resolve(t)})),c.promise()))),p.push(function(n){var i=t.Deferred();return e.getAddons((function(r){r=r||{};var a={},s=[];for(var l in r)!function(i,r){if(n)for(var l in n)if(r[l]!=n[l])return;a[i]=r;var c=t.Deferred();o.Bridge.getLocalJSON(e.getAddonDir(i)+"/params.json",(function(t){for(var e in t=t||{})e in r||(r[e]=t[e]);setTimeout((function(){c.resolve()}),1)})),s.push(c.promise())}(l,r[l]);t.when.apply(t,s).then((function(){i.resolve(a)}))})),i.promise()}(i)),a.server&&!t.isArray(a.server)&&p.push(function(e){var n=t.Deferred();return r.mbrServer.addons().then((function(t){n.resolve(t)}),(function(t){n.reject(t)})),n.promise()}()),t.when.apply(t,p).then((function(o,r,c){o=o||{},r=r||{},c=c&&c.data||t.isArray(a.server)&&a.server;var p=s(i);if(a.system)for(var f in p)f in r?r[f].version<(p[f].version||1)&&(r[f]=p[f]):r[f]=p[f];if(c){e.fire("serverAddonsLoaded",function(t,e){for(var n=0;n<t.length;n++)e[t[n].name]=t[n];return e}(c,{}),r);for(var h=0;h<c.length;h++){(f=(g=c[h]).name)in r&&(g.installed=r[f].version||1,g.status=r[f].status,r[f]=g)}}for(var f in r)!function(t,n){u.push(n),n.cover||(n.cover=n.logo||"",n.cover.indexOf(":")<0&&(n.cover=e.getAddonDir(t)+"/"+n.cover)),n.largeCover&&n.largeCover.indexOf(":")<0&&"system"!==n.status&&(n.largeCover=e.getAddonDir(t)+"/"+n.largeCover),n.installed||(n.installed=n.version)}(f,r[f]);if(c)for(h=0;h<c.length;h++){if((f=(g=c[h]).name)in r)for(var m in g)m in r[f]||(r[f][m]=g[m]);else g.installed=0,u.push(g)}for(h=0;h<u.length;){var g;(f=(g=u[h]).name)in o&&(g.minVersion=o[f].minVersion,g.hiddenIfRestricted=o[f].hiddenIfRestricted,g.disabled=o[f].disabled,!a.restricted&&(g.version<g.minVersion||g.disabled))?(e.restrictedAddons[f]=o[f],o[f].hiddenIfRestricted||d.push(g),u.splice(h,1)):h++}c&&function(){var t={};for(g in c){var e=0;t[g.name]=e++}u.sort((function(e,n){return e.name in t?n.name in t?t[e.name]-t[n.name]:-1:n.name in t?1:e.name.localeCompare(n.name)}))}(),n&&n(u,d,c),l.resolve(u,d,c)})),l.promise()},enableAddon:function(t,n){e.getAddons((function(i){i[t.name]=t,o.Bridge.saveLocalFile(e.getAddonsDir()+"/list.json",JSON.stringify(i,null,o.Bridge.isDev?"    ":""),n),c(t)}))},disableAddon:function(t,n){e.getAddons((function(i){t=t.split(",");for(var r=0;r<t.length;r++)delete i[t[r]],t[r]in a&&(a[t[r]].status="system");o.Bridge.saveLocalFile(e.getAddonsDir()+"/list.json",JSON.stringify(i,null,o.Bridge.isDev?"    ":""),n)}))},disableAllAddons:function(t){o.Bridge.saveLocalFile(e.getAddonsDir()+"/list.json","",t)},getAddonDir:function(t){return t in a&&"system"==a[t].status?"web/app/themes/"+t:e.getAddonsDir()+"/"+t},readAddon:function(t,e){var n=this;o.Bridge.getLocalJSON(t+"/params.json",(function(t){e(n.checkAddon(t))}))},checkAddon:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return void console.log(t)}if(!(t&&t.themeCompatibility&&t.themeCompatibility.indexOf(e.theme.name)<0))return t},loadEachAddon:function(o,r,a,s){var l=this;if(r=l.checkAddon(r)){var c=n(r);if(c.name in l.registeredAddons)return console.warn("Addons already loaded",c.name),void(s&&s(c));l.registeredAddons[c.name]=c,l.fire("addonLoaded",r,c);var d=t.Deferred().resolve();r.includes&&(d=d.then((function(n){return t.when.apply(t,r.includes.map((function(t){if(!/[.~:]/.test(t)){var n="web/app/includes/"+t+".js";return 0==t.split("/").pop().indexOf("core-")?e.addCoreResource(n,!0):e.addAppResource(n)}console.error("Error: wrong include name '"+t+"' in "+o)}))).then(0,(function(t){return console.error(t)}),t.Deferred().resolve())}))),r.dependencies&&(d=d.then((function(n){return t.when.apply(t,r.dependencies.map((function(t){var n=o+"/"+("object"===(void 0===t?"undefined":i(t))?t.src:t),r="object"===(void 0===t?"undefined":i(t))&&t.type?t.type:/.js$/g.test(n)?"js":/.css$/g.test(n)?"css":"";if(r)return e.addAppResource(n,"js"==r)}))).then(0,(function(t){return console.error(t)}),t.Deferred().resolve())}))),r.appScript&&(d=d.then((function(){return e.addAppResource(o+"/app.js")})));var u="code-editor"===r.name;u&&(d=d.then((function(){return e.addAppResource("web/app/code-editor/app.js")}))),u&&(d=d.then((function(){return e.addAppResource("web/app/code-editor/html-clean.js")}))),r.coreDependencies&&(d=d.then((function(n){return t.when.apply(t,r.coreDependencies.map((function(t){try{var n=o+"/"+("object"===(void 0===t?"undefined":i(t))?t.src:t),r="object"===(void 0===t?"undefined":i(t))&&t.type?t.type:/.js$/.test(n)?"js":/.css$/.test(n)?"css":"";if(r)return e.addCoreResource(n,"js"==r)}catch(e){console.error(e,t)}}))).then(0,(function(t){return console.error(t)}),t.Deferred().resolve())}))),r.coreScript&&(d=d.then((function(t){return e.addCoreResource(o+"/core.js",!0)}))),u&&(d=d.then((function(t){return e.addCoreResource("web/app/code-editor/core.js",!0)}))),r.plugins&&(d=d.then((function(n){return t.when.apply(t,r.plugins.map((function(t){var n=o+"/"+t;return e.readPlugin(n)}))).then(0,(function(t){return console.error(t)}),t.Deferred().resolve())}))),r.components&&r.components.forEach((function(t){d=d.then((function(){return e.readComponent2(t,o,c)}))})),d=d.then((function(){!a&&r.plugins?e.updatePlugins(p):p()}))}else s&&s(!1);function p(){l.fire("addonLoadFinish",c,r),s&&s(c)}},loadAllAddons:function(t){var e=this;t=t||function(){},o.Bridge.getSettings("loading",(function(n){e._runLoadAllAddons((function(n,i){e.fire("addonsLoaded",n,i),t()}))}))},_runLoadAllAddons:function(n){var i=this;n=n||function(){},e.getAddonsEx((function(r,a){r?t.when.apply(t,i.applyFilter("promisesBeforeAddonsLoaded",[],r)).then((function(){for(var n=t.Deferred(),a=[],s=0;s<r.length;s++)!function(n,r){if("theme"!==r.type){var s=t.Deferred(),l=e.getAddonDir(n);o.Bridge.loadLocalFile(l+"/params.json",(function(t){t?i.loadEachAddon(l,t,!0,(function(t){t||console.warn("Error while load addon "+l),setTimeout((function(){s.resolve()}),1)})):s.reject()})),a.push(s.promise())}}(r[s].name,r[s]);return t.when.apply(t,a).then((function(){n.resolve()})).fail((function(){n.resolve()})),n.promise()})).done((function(){e.updatePlugins((function(){n(r,a)}))})):n()}))}},events:{accountInited:function(){var t=this;o.Bridge.getLocalJSON("web/app/themes/list.json",(function(n){a=n||a,n||console.warn("no buildin addon"),t.getAddons((function(t){for(var n in a)n in t&&c(t[n]);e.fireOnce("addonsReady")}))}))},signedin:function(){this.loadAllAddons()}}})}),["jQuery","mbrApp"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-progress",(function(t,e,n){var o=!1,r=0,a=0,s=!1,l='<div class="modal fade no-select plugin-progress-modal" id="appProgressModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">  <div class="modal-dialog">\t<div class="modal-content">\t  <div class="modal-header">\t\t<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\t\t<h4 class="modal-title">'+n("Progress")+'</h4>\t  </div>\t  <div class="modal-body">       <div class="progressText">'+n("Publishing...")+'</div>\t\t<br>\t\t<div class="exportingText"></div>\t\t<br>\t\t<div class="progress" style="margin-bottom: 0;">\t\t  <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>\t\t</div>\t  </div>\t  <div class="modal-footer">\t\t<button type="button" class="btn btn-default">'+n("Cancel")+"</button>\t  </div>\t</div>  </div></div>";e.regExtension({name:"plugin-progress",global:{$progressModal:t(l).insertBefore("#insertBefore"),progressBar:function(l,c,d,u){var p=this;if("object"===(void 0===l?"undefined":i(l)))void 0!==l.progress?p.$progressModal.find(".progress-bar").css("width",l.progress+"%"):s=l,u?p.$progressModal.addClass("passive"):p.$progressModal.removeClass("passive");else if("number"==typeof l&&isFinite(l))r=l,a=0;else switch(l){case"show":u?p.$progressModal.addClass("passive"):p.$progressModal.removeClass("passive"),p.progressBar(0),p.progressBar(""),p.$progressModal.addClass("passive").appendTo(p.$body).modal({keyboard:!1}),c&&p.$progressModal.find(".modal-title").html(c),d&&(" "===d?p.$progressModal.find(".progressText").remove():p.$progressModal.find(".progressText").html(d));break;case"hide":r=0,a=0,p.$progressModal.modal("hide"),s=!1;break;case"isCanceled":return!p.$progressModal.is(":visible");case"stop":if(s&&s.pause(),t(".plugin-progress-modal-stop, .plugin-progress-modal-error").length)break;bootbox.dialog({message:c||n("Do you want to stop?"),className:"plugin-progress-modal-stop",closeButton:!1,buttons:{cancel:{label:n("Stop"),className:"btn-default",callback:function(){s&&(s.exit(),s=!1),p.progressBar("hide"),e.fire("cancelDownloadAddon")}},confirm:{label:n("Continue"),className:"btn-primary",callback:function(){s&&s.resume()}}}});break;case"error":if(!s)break;if(o){s.pause(),setTimeout((function(){s.resume()}),0);break}t(".plugin-progress-modal-stop").remove(),s.pause(),bootbox.dialog({message:c||n("Unknown error"),className:"plugin-progress-modal-error",closeButton:!1,buttons:{cancel:{label:n("Cancel"),className:"btn-default",callback:function(){s&&(s.exit(),s=!1),p.progressBar("hide")}},all:{label:n("Ignore Errors"),className:"btn-default",callback:function(){o=!0,s&&s.resume()}},confirm:{label:n("Continue"),className:"btn-primary",callback:function(){s&&s.resume()}}}});break;default:var f=0;0===a&&(o=!1),0!==r&&(a++,f=Math.min(100,100*a/r)),p.$progressModal.find(".exportingText").html(l),p.$progressModal.find(".progress-bar").css("width",f+"%").attr("aria-valuenow",f)}}},events:{load:function(){var t=this,e=function(){t.progressBar("stop",n("Do you want to stop?"))};t.$progressModal.on("click",".modal-footer button, .modal-header button",e).closest("body").on("keydown",(function(n){27==n.which&&t.$progressModal.is(":not(.passive):visible")&&e()}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-favicon",(function(t,e,n,i){var o=!1;e.regExtension({name:"favicon",global:{findMenuLogo:function(){var n,i=e.Core.getPages();for(var r in i){var a=i[r];if(a.settings&&a.settings.main){t(a.components).each((function(t,e){if("Menu"===e._group||e._name.toLowerCase().indexOf("menu")>-1)return n=e,!1}));break}}if(n)if(e.isSecondaryComponent(n)){for(var s in n)if(n[s].hasOwnProperty("iconFont")){if(o)return e.getProjectImagesDir()+"/mbr-favicon.png"}else if(n[s].hasOwnProperty("image"))return n[s].image.src}else{if(!n.logo)return;if(n.logo.image.active)return n.logo.image.src;if(n.logo.iconFont.active)return e.getProjectImagesDir()+"/mbr-favicon.png"}}},events:{load:function(){e.Core.on("loadedComponent",(function(t,n,i,r){if(!e.projectSettings.favicon&&("Menu"===t._group||t._name.toLowerCase().indexOf("menu")>-1)){var a=function(t){if(e.isSecondaryComponent(t)){for(var n in t)if(t[n].hasOwnProperty("iconFont")){if(o)return e.getProjectImagesDir()+"/mbr-favicon.png"}else if(t[n].hasOwnProperty("image"))return t[n].image.src}else{if(!t.logo)return;if(t.logo.image.active)return t.logo.image.src;if(t.logo.iconFont.active)return e.getProjectImagesDir()+"/mbr-favicon.png"}}(t)||("secondary"===e.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");a&&(0===a.indexOf("../../")&&(a=a.replace("../../","")),e.$body.find(".navbar-project-info .navbar-favicon").attr("src",a))}}));var r=this,a="app/builder/images/logo.png";function s(o){i.openImage(n("Select Image"),r.projectPath?r.projectPath+"/assets/images":"","",e.projectSettings.imageResize?{width:"128",format:"png"}:"",(function(n){n&&(n=i.path2app(n),t("input[name=favicon]").val(n),t(".faviconImage").one("load",(function(){e.runSaveProject()})),t(".faviconImage").attr("src",n),e.projectSettings.favicon=n,e.$body.find(".navbar-project-info .navbar-favicon").attr("src",n)),o(n)}))}r.addFilter("publishHTML",(function(t){var n=r.projectSettings.favicon,i=e.findMenuLogo();return(n=n||i||("secondary"===e.theme.type?"images/logo5.png":"images/logo.png"))?t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">\n  <link rel="shortcut icon" href="'+n+'" type="image/x-icon">'):t})),e.addFilter("exportProjectFiles",(function(t){if(e.projectSettings.favicon||o){var n=void 0;e.projectSettings.favicon?n=i.splitPath(e.projectSettings.favicon).fullname:o&&(n="mbr-favicon.png");for(var r=0;r<t.length;r++)if(t[r].dest===e.IMAGES_FOLDER+"/"+n)return t;var a=e.getProjectImagesDir()+"/"+n;t.push({dest:e.IMAGES_FOLDER+"/"+n,srcList:[{src:a}]})}return t})),e.addFilter("sidebarProjectSettings",(function(t){var i=r.projectSettings.favicon||"",o=e.findMenuLogo();o&&(0===o.indexOf("../../")&&(o=o.slice(6)),o.indexOf("mbr-favicon.png")>-1&&(o=o+"?nocache="+ +new Date));var s=i||o||("secondary"===e.theme.type?"app/builder/images/logo5.png":a);"images/logo5.png"===s?s="app/builder/images/logo5.png":"images/logo.png"===s&&(s=a);var l={title:"Common",name:"common",html:'<div class="form-group col-md-12 favicon-setting-wrap">\n                            <label class="control-label">'+n("Favicon")+'</label>\n                            <div class="row">\n                                <img id="faviconButton" class="faviconImage col-md-3" width="60" src="'+s+'">\n                            </div>\n                            <input type="hidden" name="favicon" value="'+i+'">\n                            '+(o?'<div class="row">\n                                <label for="faviconUseMenuLogo" class="control-label col">'+n("Use menu logo")+'</label>\n                                <div class="togglebutton col-auto">\n                                    <label>\n                                        <input type="checkbox" id="faviconUseMenuLogo"'+(i?"":" checked")+'>\n                                        <span class="toggle" style="margin: 0px;"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>':"")};return t.push(l),t})),r.$body.on("click","#faviconButton",(function(){s((function(e){e&&t("#faviconUseMenuLogo").prop("checked",!1)}))})),r.$body.on("change","#faviconUseMenuLogo",(function(){if(t("#faviconUseMenuLogo").prop("checked")){t("input[name=favicon]").val("");var n=e.findMenuLogo();n&&0===n.indexOf("../../")&&(n=n.slice(6));var i=n||a;"images/logo.png"===i&&(i=a),e.projectSettings.favicon="",t(".faviconImage").one("load",(function(){e.runSaveProject()})),t(".faviconImage").attr("src",i),e.$body.find(".navbar-project-info .navbar-favicon").attr("src",i)}else s((function(e){e||t("#faviconUseMenuLogo").prop("checked",!0)}))})),e.Core.on("savedMediaIconFontDialog",(function(n){var i=t(n);if(i.closest('section[id*="menu" i]'.length)){var r;if("secondary"===e.theme.type)r=i;else{if("logo"!==i.attr("mbr-media"))return;r=i.find("a").length?i.find("a"):i.find("span")}var a=e.getProjectImagesDir()+"/mbr-favicon.png";e.saveIcon(r,a,(function(t){o=!0}))}})),e.Core.on("removeComponent",(function(n,r){t(r).find("section").length&&t(r).find("section").attr("id").toLowerCase().indexOf("menu")>-1&&i.removeLocal(e.getProjectImagesDir()+"/mbr-favicon.png",(function(t){if(t){o=!1;var n=e.projectSettings.favicon||("secondary"===e.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===n.indexOf("../../")&&(n=n.replace("../../","")),e.$body.find(".navbar-project-info .navbar-favicon").attr("src",n),e.addFilter("publishFiles",(function(t){for(var n=0;n<t.length;n++)t[n].dest===e.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(n,1);return t})),e.addFilter("exportProjectFiles",(function(t){for(var n=0;n<t.length;n++)t[n].dest===e.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(n,1);return t}))}}))})),e.$body.find(".navbar-project-info .navbar-favicon").on("click",(function(n){n.preventDefault(),n.stopPropagation(),e.openProjectSettings(e.projectPath+"/project.mobirise"),setTimeout((function(){t('#app-project-sidebar > [data-tab="common"]').click(),t(".app-layer-common .favicon-setting-wrap").addClass("selected")}),100)}))},saveMediaImageDialog:function(t,n,i){if(!e.projectSettings.favicon&&void 0!==i){var o=e.Core.getComponent(i);if(o&&("Menu"===o._group||o._name.toLowerCase().indexOf("menu")>-1)){var r=n.image.src;r&&e.$body.find(".navbar-project-info .navbar-favicon").attr("src",r)}}},loadedProject:function(){o=!1,e.projectSettings.favicon||(o=!0);var t=e.projectSettings.favicon||("secondary"===e.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===t.indexOf("../../")&&(t=t.replace("../../","")),e.$body.find(".navbar-project-info .navbar-favicon").attr("src",t)}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-tooltip",(function(t,e,n){var i;function o(){clearTimeout(i),i=setTimeout((function(){e.initTooltips()}),100)}e.regExtension({name:"plugin-tooltip",global:{initTooltips:function(){t('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each((function(){t(this).tooltipster({delay:0,speed:100,contentAsHTML:!!t(this).attr("data-tooltip-src"),content:t(this).attr("data-tooltip-src")?t("<img class="+t(this).attr("data-tooltip-class")+" src="+t(this).attr("data-tooltip-src")+">"):null,position:t(this).attr("data-tooltipster")||t(this).attr("data-placement")||"bottom"})}))}},events:{load:o,signedin:o,loadedProject:o,addedPage:o,showedProjectsList:o,showedProjectSettings:o,showedAddonsList:o,showedCodeEditor:o,showedSiteCodeEditor:o,foundOnlineLibraryImages:o,initedComponentsPalette:o}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-spectrum",(function(t,e,n){e.regExtension({name:"plugin-spectrum",global:{initSpectrum:function(){var i=this,o=function(t,e){if(-1==(e=e.map((function(t){return t.toUpperCase()}))).indexOf(t.toUpperCase()))return!0};t(".spectrum").each((function(){t(this).spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:i.getThemeColorsSet(7),move:function(e){t(this).val(e.toHexString()),i.changeComponentParams(this)},hide:function(t){var n;t&&((n=e.projectSettings.theme.additionalSetColors)?o(t.toHexString(),n)&&o(t.toHexString(),e.getThemeColorsSet(7)[0])&&(n.length<7?n.push(t.toHexString()):(n.unshift(t.toHexString()),n.pop())):o(t.toHexString(),e.getThemeColorsSet(7)[0])?e.projectSettings.theme.additionalSetColors=[t.toHexString()]:e.projectSettings.theme.additionalSetColors=[])}})}))}},events:{preparedComponentParams:function(){this.initSpectrum()},hideComponentParams:function(){t(".spectrum").spectrum("hide")},loadedProject:function(){e.Core.$body.children('input[type="text"]').val("")}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-map",(function(t,e,n,i){var o,r=null,a=[],s="loading",l="ok",c="data-state",d="data-state-details";o={};function u(t){return"https://www.google.com/maps/embed/v1/place?key="+a.pubKeyHub[(e=a.pubKeyHub,Math.floor(Math.random()*e.length))]+"&amp;q="+t;var e}function p(t){return RegExp("<iframe(.+)</iframe>","g").test(t)}function f(e){return t(e).attr("src")}function h(t){return'<iframe frameborder="0" style="border:0" src="'+t+'" allowfullscreen></iframe>'}function m(){var e=t.Deferred();return i.get("storage/google-maps").then((function(t){t?e.resolve(t):(console.error("mbrServer: Invalid google keys."),e.reject())}),(function(){console.warn("Error while trying to get remote keys."),e.reject()})),e}e.regExtension({name:"plugin-map",events:{coreLoad:function(){var t=e.Core.$window[0],n=t.jQuery;t.rivets.binders.map={routine:function(t,i){var o,s,g;if(i)if(i.state=i.state||l,i.state==l||p(i.address))if(p(i.address))n(t).removeAttr(c).html(h(f(i.address)));else{if(null===r&&(r=n.Deferred(),(o=4e3,s=m(),g=new Promise((function(t,e){var n=setTimeout((function(){clearTimeout(n),t({private_keys:["AIzaSyDUGx-K5p_F4g1KzbL5oJ4WZRg00GsRy-4"],public_keys:["AIzaSyCt1265A4qvZy9HKUeA8J15AOC4SrCyZe4"]})}),o)})),Promise.race([s,g])).then((function(t){a.pubKeyHub=t.public_keys,a.prvKeyHub=t.private_keys,r.resolve(a)}),(function(t){console.error(t.message)}))),"resolved"===r.state())return void n(t).removeAttr(c).html(h(u(i.address)));"pending"===r.state()&&r.then((function(e){n(t).removeAttr(c).html(h(u(i.address)))}),(function(e){console.error(e.message),n(t).removeAttr(c).html(h(u(i.address)))}))}else n(t).attr(c,i.state).html("<div "+d+">"+e.escapeHtml(i.stateDetails||"")+"</div>")}}},loaded:function(){e.$body.on("click",".map-update",(function(){var n=t(this).data(),i=n.componentID,o=n.paramName,r=n.address,a=e.Core.getComponent(i)._params;a[o].address!==r&&(a[o]={address:r,state:s},p(r)?(a[o].state=l,a[o].address=r,e.Core.changeComponentParams(i,o,a[o]),e.checkConditionsComponentParams(i),e.calulateComponentParams()):function(t,n,i,o,r){Promise.resolve().then((function(){i[o]={address:r,state:l,stateDetails:""},e.Core.changeComponentParams(n,o,i[o]),e.checkConditionsComponentParams(n),e.calulateComponentParams()}))}(0,i,a,o,r),t(this).attr("disabled","true"))}))},"map.changeComponentParams":function(t,e,n,i){i.find(".map-update").data({componentID:t,paramName:e,address:n}).removeAttr("disabled")}}})}),["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-range-slider",(function(t,e,n){e.regExtension({name:"plugin-range-slider",global:{initRangeSlider:function(){this.$componentsParams.find(".slider").each((function(){var e=this,n=1*t(e).attr("data-value"),i=1*t(e).attr("data-min"),o=1*t(e).attr("data-max"),r=1*t(e).attr("data-step");noUiSlider.create(e,{start:n,step:r,range:{min:i,max:o}});var a=t("<span></span>").appendTo(t(e).find(".noUi-handle")),s=0;e.noUiSlider.on("update",(function(n,r){if(s){var l=parseFloat(n[r]);t(e).removeClass("noUi-first noUi-last"),l==i?t(e).addClass("noUi-first"):l==o&&t(e).addClass("noUi-last"),a.html("<span>"+l+"</span>"),t(e).next().val(l).trigger("change")}else s=1})),t(e).find(".noUi-handle").on("mousedown",(function(e){var n=t(".app-template")[0];t(n).append('<div class="iframeWrapper"></div>'),t(".iframeWrapper").css({position:"absolute","z-index":"8000",top:"0",bottom:"0",width:"100%"}).on("mouseup",(function(e){t(".iframeWrapper").remove()}))}))}))}},events:{preparedComponentParams:function(){this.initRangeSlider()}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-iconfont",(function(t,e,n,o){var r='<div class="form-group clearfix"><div class="row"><iframe class="col-md-3 iconfont-preview" frameborder="no"src="about:blank"></iframe><div class="col-md-3 icons-params"><div class="row"><div class="form-group col-md-12"><label>'+n("Icon Color")+'</label><input class="mbr-color iconfont-color pull-right" name="color" type="text" value=""/></div></div><div class="row"><div class="col-md-12 iconfont-size"><label class="" >'+n("Icon Size")+'</label><div class="togglebutton pull-right"><label><input type="checkbox" name="sizeAuto" checked/><span class="toggle"></span>'+n("Auto")+'</label></div></div></div><div class="col-md-8 pull-right"><input class="iconfont-size form-control" name="fontSize" type="text" value=""/></div></div><div class="iconfont-link-group col-sm-9"><div class="row"><div class="col-md-7"><label class="control-label link-label" for="iconfont-link">'+n("Link Icon to")+'</label><input id="iconfont-link" class="form-control" name="link" type="text" readonly></div><div class="col-md-3"><button class="btn btn-primary iconfont-link-btn">'+n("Edit Link")+'</button></div></div></div></div></div><div class="form-group clearfix "><div class="row"><div class="col"><input type="text" placeholder="'+n("Search...")+'" class="form-control iconfont-search" style="width:200px;margin-right:30px;margin-top:0px;display:inline-block;" /><button class="btn btn-primary collapse-btn">'+n("Collapse All")+'</button><button class="btn btn-primary expand-btn" style="margin-left:10px;">'+n("Expand All")+'</button></div></div></div><iframe class="form-group iconfont-list" frameborder="no" style="width:100%; -webkit-flex-grow:1;" src="about:blank"></iframe>',a=function(n){var i=t('<div class="font-block"/>');i.append('<p class="font-title">'+(n.author?'<a href="'+n.author+'">':"")+(n.title||n.family)+(n.author?"</a>":"")+"</p>");var o=t("<div/>").addClass("font-table").attr("data-family",n.family);i.append(o);var r=n.names;for(var a in r){var s=t(e.createIconFont({name:r[a],family:n.family}));s.attr("title",r[a]),o.append(s)}return i};function s(){for(var t in e.iconFonts)if("object"==i(e.iconFonts[t]))return e.iconFonts[t];return{}}function l(t){var e="";return t.class&&(e="."+t.class.split(/\s+/).join(".")),t.prefix&&(e=e+'[class*=" '+t.prefix+'"],'+e+'[class^="'+t.prefix+'"]'),e}e.regExtension({name:"iconfont",global:{iconFonts:{},parseIconFontNames:function(t,n){var i=t.iconfont;if(i){var r=i.names=[],a=i.codes=n&&[];e.eachPlugins2([t],(function(t,e,n,i){"css"==e&&o.loadLocalFile(t,s)}))}else console.log("Error: plugin.iconfont undefined for plugin "+t.name);function s(t){for(var e,o=/\.([^\s\:\{]+)\s*(?:\:[^\{]+)?{[^\}]*content\s*\:\s*([^};\s]+)\s*[;}]/gi;null!==(e=o.exec(t));){var s=e[1];if(i.prefix){if(0!==s.indexOf(i.prefix))continue;s=s.replace(i.prefix,"")}if(!(r.indexOf(s)>=0)){if(n){var l=/(?:\'\\([A-F0-9]+)\')|(?:\"\\([A-F0-9]+)\")/i.exec(e[2]);l?a.push(l[1]||l[2]):a.push(e[2])}r.push(s)}}i.default||(i.default=i.names[0])}},createIconFont:function(n){if(!s().family)return console.log("Warning: no iconfonts found"),"";if(!n||!n.name)return"";var i,o=n.family&&e.iconFonts[n.family]||s();return o&&o.names?(n.link?(i=t("<a>").attr("href",n.link),n.newWindow&&i.attr("target","_blank")):i=t("<span/>"),o.class&&i.addClass(o.class),o.prefix?i.addClass(o.prefix+n.name):(i.html("&#x"+o.codes[o.names.indexOf(n.name)]),i.attr("data-name",n.name)),n.class&&i.addClass(n.class),n.size&&i.css("fontSize",parseInt(n.size,10)+"px"),n.color&&i.css("color",n.color),i.get(0)):""},extractIconFont:function(n){var i,o={};if(!s().family)return console.log("Warning: no iconfonts found"),o;if(!n||!e.iconFonts)return o;for(var r in e.iconFonts){var a,l,c=e.iconFonts[r];if(c.class){var d="."+c.class.replace(/\s+/g,".");a=t(n).is(d)}if(c.prefix&&(l=new RegExp("^(.*\\s)?"+c.prefix).test(n.className)),(c.class||c.prefix)&&(!c.class||a)&&(!c.prefix||l)){i=c;break}}if(!i)return console.log("no font found for .",n),o;o.family=i.family;var u=n.className,p=i.prefix;return p?u&&u.indexOf(p)>=0&&(o.name=u.substr(u.indexOf(p)+p.length).split(" ")[0],o.classPrefix=p):i.class&&u.split(" ").indexOf(i.class)>=0&&(o.name=t(n).attr("data-name")),n.tagName&&(o.size=parseInt(n.style.fontSize,10),o.color=n.style.color,"A"==n.tagName.toUpperCase()&&(o.link=n.href,o.newWindow="_blank"==n.target)),o},runIconFontDialog:function(i,l,c){l=l||{};var d=!!(i=i||{}).name,u=e.iconFonts[i.family]||e.iconFonts[l.family]||s();l=t.extend({name:u.default},l),i=t.extend({name:l.name,family:u.family},i);var p=e.showDialog({title:n("Select icons"),className:"note-air-layout note-font-dialog",size:"large",flex:!0,body:r,id:"innerFontDialog",buttons:{success:{label:n("Insert Icon"),default:!0,className:"iconfont-ok"},delete:{label:n("Remove Icon"),className:"iconfont-delete"}},create:function(e){t(e).find("input.iconfont-color.mbr-color").val(i.color).on("change",(function(){i.color=t(this).val(),k()}))},show:function(t){var n=t.find("#iconfont-link");n.val(i.link),t.on("click.media-click","#iconfont-link, .iconfont-link-btn",(function(t){var o={url:n.val(),isNewWindow:i.newWindow};e.showMbrLinkDialog(o,(function(t){n.val(t.url),i.link=t.url,i.newWindow=t.isNewWindow}))})),t.on("click.media-click",".collapse-btn",(function(t){w.collapse()})),t.on("click.media-click",".expand-btn",(function(t){w.expand()}))}});e.fire("runIconFontDialog",p);var f=["app/interface/app-plugin-iconfont.css"],h="";for(var m in e.iconFonts){var g=e.iconFonts[m];g.plugin&&e.eachPlugins2([e.getPlugin(g.plugin)],(function(t,e,n,i){"css"==e&&f.push(o.path2app(t))})),h+=a(g)[0].outerHTML}var v,b,y,w,x=e.createIconFont({name:l.name,family:l.family,color:l.color}).outerHTML;function _(t,e){v.find("span").removeClass("char-active"),t=(t=t||i.name).replace("'","\\'"),e=e||i.family;var n=v.find(".font-table[data-family="+e+"]");n.find("[title="+t+"]").addClass("char-active"),n.length&&n.get(0).focus()}function S(t,e){i.name=t||i.name,i.family=e||i.family,k(t,e),_(i.name,i.family)}function k(t,n){if(b){var o=e.extractIconFont(b.find("span").get(0));o.name=t||o.name,o.color=i.color,o.family=n||o.family,b.html(e.createIconFont(o).outerHTML)}}e.runIframe(p.find("iframe.iconfont-preview").get(0),x,{base:"",onload:function(e){(b=t(e).find("body")).addClass("iconfont-selected"),k(i.name,i.family)},links:f,noScroll:!0}),e.runIframe(p.find("iframe.iconfont-list").get(0),h,{base:"",onload:function(n){v=t(n).find("body"),t(n).find("body .font-table span").click((function(){S((y=t(this)).attr("title"),y.parents(".font-table").attr("data-family"))})),y=v.find(".font-table[data-family="+i.family+"] span[title="+i.name.replace("'","\\'")+"]"),S(),(w=new e.Accordion(v.find(".font-title").get(),v.find(".font-table").get(),{autoCollapse:!1})).collapse(),w.open(v.find(".font-table:first").get())},links:f}),p.find("iframe.iconfont-list").contents().find("body").css("margin","0"),e.redirectLinks(p);var C=p.find(".iconfont-search"),P=p.find("input[name=fontSize]"),T=p.find("input[name=sizeAuto]"),E=P.parent(".bootstrap-touchspin"),A=p.find(".iconfont-size");E.length||(P.TouchSpin({min:1,max:1e3,verticalbuttons:!0,initval:i.size||""}).on("change",(function(){i.size=t(this).val()})),E=P.parent(".bootstrap-touchspin")),"size"in i?(A.show(),P.val(i.size)):A.hide(),T.on("change",(function(){t(this).prop("checked")?(l.size=i.size,i.size="",P.val(i.size),E.hide()):(i.size=l.size||0,P.val(i.size),E.show())})),T.prop("checked",!i.size),i.size?E.show():E.hide();var j=p.find(".iconfont-link-group");function L(){var e=C.val().toLowerCase().replace("'","\\'"),n=t(v).find(".font-table span");""!=e?(w.expand(),n.hide(),n.filter("[title*="+e+"]").show()):n.show()}return"link"in i?j.show():j.hide(),p.on("click",".close",(function(){c(),p.modal("hide")})),p.on("click",".iconfont-ok",(function(){c(i),p.modal("hide")})),p.on("click",".iconfont-cancel",(function(){c(),p.modal("hide")})),d?(p.on("click",".iconfont-delete",(function(){c(void 0),p.modal("hide")})),p.find(".iconfont-delete").show()):p.find(".iconfont-delete").hide(),p.on("hidden.bs.modal",(function(){p.off("click mouseenter mouseleave"),t(v).off("keydown")})),C.keyup(L),C.val(""),L(),p.modal("show"),p},saveIcon:function(e,n,i){var r=t("<canvas></canvas>");r.insertAfter(e).css("display","none").attr({width:e.outerWidth(),height:e.outerHeight()});var a=r[0].getContext("2d"),s=window.getComputedStyle(e[0],":before").getPropertyValue("font-family"),l=window.getComputedStyle(e[0]).getPropertyValue("font-size"),c=window.getComputedStyle(e[0]).getPropertyValue("color"),d=window.getComputedStyle(e[0],":before").getPropertyValue("content").replace(/"/g,"");a.font=l+" "+s,a.fillStyle=c,a.fillText(d,0,e.outerHeight());var u=r[0].toDataURL().replace("data:image/png;base64,","");r.remove(),n||(n=o.tempLocation+"/open"+o.dateFormat(new Date,"yyyyMMdd_hhmmss")+"/mbr-favicon.png"),o.saveLocalBase64(n,u,(function(t){t?i(n):console.error("Error while saving image to:",n)}))}},events:{registeredPlugin:function(t){if(t.iconfont){var e=t.iconfont;!(e.family in this.iconFonts)||this.iconFonts[e.family].names&&e.names&&!(this.iconFonts[e.family].names.length>=e.names.length)?(e.plugin=t.name,this.iconFonts[e.family]=e,e.names?e.default||(e.default=e.names[0]):(console.log("Warning: font "+e.family+" has no icons, now will be parsed..."),this.parseIconFontNames(t))):console.log("Warning: font is dublicated: ",e.family," in ",t.name,t)}},load:function(){var n={},i=[];e.Core.addFilter("getResultComponent",(function(o){return o.then((function(o,r,a){var s=e.iconFonts,c=n[a]||[];for(var d in s){var u=s[d],p=l(u),f=t(o).find(p);f.length&&c.indexOf(d)<0&&c.push(u.plugin),f.length&&i.indexOf(u.plugin)<0&&i.push(u.plugin)}return n[a]=c,t.Deferred().resolve(o,r,a)}))})),e.addFilter("allUsedPluginsForPage",(function(t,e){var i=n[e];if(i){for(var o=0;o<i.length;o++)t.indexOf(i[o])<0&&t.push(i[o]);n[e]=0}return t})),e.addFilter("allUsedPlugins",(function(t){for(var e=0;e<i.length;e++){var n=i[e];t.indexOf(n)<0&&t.push(n)}return i=[],t}))}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-smart-page-adding",(function(t,e,n){e.regExtension({name:"plugin-smart-page-adding",events:{addedPage:function(n,i){if(!(i.length<5||i[4]&&void 0!==i[4])){var o=e.Core.resultJSON[n],r=e.Core.resultJSON[e.Core.currentPage];for(var a in r.components)if(r.components[a]._global){var s=t.extend({},r.components[a]);delete s._anchor,s._id=e.Core.uniqNum(),o.components.push(s)}}}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-device-preview",(function(t,e,n){e.regExtension({name:"plugin-device-preview",global:{$navbarDevices:t(".navbar-devices"),checkPreviewHeight:function(){var n=t(".app-template iframe");parseInt(n.height()+e.$body.find(".app-navbar").outerHeight())>=parseInt(t(".app-template").css("height"))?this.$iframe.addClass("maximumHeight"):this.$iframe.removeClass(".maximumHeight")}},events:{load:function(){var n=this;n.$iframe.attr("class",n.$navbarDevices.find(".active").attr("data-device")),n.$navbarDevices.on("click","> li",(function(i){if(i.preventDefault(),!t(this).hasClass("active")){var o=t(this).attr("data-device");"true"===e.appSettings.showAllViews?t(this).addClass("active").siblings().removeClass("active"):(t(this).addClass("active").hide(),"phone"===o?t(this).siblings('[data-device="desktop"]').removeClass("active").css("display","inline-block"):t(this).siblings('[data-device="phone"]').removeClass("active").css("display","inline-block")),n.$iframe.attr("class",o),"desktop"===o?e.Core.$body.addClass("desktop"):e.Core.$body.removeClass("desktop")}n.checkPreviewHeight()}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-mobile-interface",(function(t,e,n,i){var o,r=t("nav.app-navbar").innerHeight(),a=window.innerHeight-r,s=window.innerWidth,l=e.$body.find("#mobile-blocks-manager");e.regExtension({name:"mobile-interface",global:{$navbar:t(".app-navbar"),calcBlocksCoords:function(e){var n=[];if(0!==e.lenght)return e.each((function(i){var o=(i=t(e[i])).offset().top,r=o+i.innerHeight();n.push([o,r])})),n},checkActiveBlock:function(t){var n=e.Core.$document.scrollTop(),i=Math.ceil(n+a/3),o=e.$body.find(".app-mobile-focus-block a h4"),r=e.Core.$template;if(t.length){var s,l,c;if(0===n)return l=(s=r.find(".app-component").eq(0)).attr("data-app-component-id"),void((c=s.find("section").attr("id"))&&o.attr("data-current-component",l).text(c.charAt(0).toUpperCase()+c.slice(1).replace(/\d/," $&")));for(var d=0,u=t.length;d<u;d++)l=(s=r.find(".app-component").eq(d)).attr("data-app-component-id"),c=s.find("section").attr("id"),t[d][0]<=i&&t[d][1]>=i&&c&&o.attr("data-current-component",l).text(c.charAt(0).toUpperCase()+c.slice(1).replace(/\d/," $&"))}else o.removeAttr("data-current-component").text("Blocks")},setAdditionalPadding:function(e){var n=this.Core.$template.find("[data-app-component-id]"),i=a*(2/3)-e.height()+1;n.each((function(e){t(this).removeAttr("style")})),i>0&&e.attr("style","margin-bottom: "+i+"px")},scrollToComponent:function(t){var e=this,n=l.find(".preloader");if(t){var i=e.Core.$template.find('[data-app-component-id="'+parseInt(t)+'"]');e.Core.$body.stop().animate({scrollTop:i.offset().top},0,(function(){e.$componentsParams.removeData("app-params-btn"),e.$body.removeClass("app-blocks-manager-open"),n.remove()}))}else e.$componentsParams.removeData("app-params-btn"),e.$body.removeClass("app-blocks-manager-open"),n.remove()},showBlocksManager:function(t){this.fire("showBlocksManager");var e=this;setTimeout((function(){e.$body.addClass("app-blocks-manager-open"),l.append(e.preloaderHTML),l.find(".preloader").hide(),o=!1,e.renderBlocksManager(),e.fire("showedBlocksManager")}),0)},hideBlocksManager:function(n){this.fire("hideBlocksManager");var i,r=this,a=this.$body.find("#sortable-blocks-manager").children(),s=l.find(".preloader");o?(this.Core.resultJSON[this.Core.currentPage].components,i=[],s.fadeIn(50),a.each((function(n){var o=t(this).attr("data-block-id");i.push(e.Core.getComponent(parseInt(o)))})),r.Core.resultJSON[r.Core.currentPage].components=i,r.Core.render(void 0,r.scrollToComponent.bind(r,n))):r.scrollToComponent(n),this.fire("hiddenBlocksManager")},renderBlocksManager:function(){this.fire("renderBlocksManager");var e=this;l.find(".cont").empty(),this.Core.$template.find(".app-component").each((function(n){var i=e.Core.getComponent(t(this).attr("data-app-component-id")),o=e.Core.$template.find('[data-app-component-id="'+i._id+'"]').find("section").attr("id"),r=!0===i._alwaysTop,a='<div class="m-component'+(r?" is-top-block":"")+'" data-block-id="'+i._id+'"><div class="m-component__thumb"><img src="'+e.theme.path+"/components/"+i._name+'/thumb.png"></div><div class="m-component__name">'+o.charAt(0).toUpperCase()+o.slice(1).replace(/\d/," $&")+"</div>"+(r?"":'<div class="m-component__replace"><span class="mbr-icon-arrows-vertical"></span></div>')+"</div>";l.find(".cont").append(a)})),l.find(".m-component").on("click",(function(n){var i=t(n.target).closest(".m-component").attr("data-block-id");e.hideBlocksManager(i)})),l.find("#sortable-blocks-manager").sortable({axis:"y",handle:".m-component__replace",items:"> div:not(.is-top-block)",stop:function(t,e){o=!0}}),this.fire("renderedBlocksManager")}},events:{beforeAppLoad:function(){s>600||e.addFilter("addPage",(function(t){return t.hasClass("main-page")||t.find("> a").append('<div class="m-page-sort"><span class="mbr-icon-arrows-vertical"></span></div>'),t}))},load:function(){var i,o=this;if(!(s>600)){!function(){var t=["click"];for(var n in t)!function(t,e){var n=t.contentWindow["on"+e];t.contentWindow["on"+e]=function(i){n&&n(i);var o=document.createEvent("MouseEvents"),r=t.getBoundingClientRect();o.initMouseEvent(e,!0,!1,window,i.detail,i.screenX,i.screenY,i.clientX+r.left,i.clientY+r.top,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,null),t.dispatchEvent(o)}}(e.iframe,t[n])}(),o.$body.find("#app-pages-list, #app-projects-list").find(".app-layer-title").after('<div class="mobile-top-buttons btn-group"><div class="btn-group"><span class="mobile-app-project-clone btn"><i class="mbr-icon-copy"></i></span></div><div class="btn-group"><span class="mobile-app-page-project-settings btn"><i class="mbr-icon-cog"></i></span></div></div>'),o.Core.on(["rendered","summernoteBlur","removedComponent","changedComponentPosition","changedComponentParams"],(function(){e.Core.$template.find("[data-app-component-id]").each((function(e){t(this).removeAttr("style")})),e.setAdditionalPadding(e.Core.$template.find(".app-component").last()),i=o.calcBlocksCoords(o.Core.$template.find("[data-app-component-id]")),o.checkActiveBlock(i)}));var r='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]';e.Core.$window.on("click scroll",(function(n){(i=e.calcBlocksCoords(e.Core.$template.find("[data-app-component-id]")),o.checkActiveBlock(i),e.$body.find(".app-navbar").is(":visible"))||("scroll"===n.type&&e.Core.$body.find(".sp-container").addClass("sp-hidden"),t(n.target).is(r)||t(n.target).closest(r).length||t(n.target).closest(".popover").length||t(n.target).hasClass("popover")||(e.Core.$body.find(".popover").hide(),e.Core.$body.find(".dummyTopbar").hide(),e.$iframe.css("height",""),e.Core.$template.css("padding-top",""),e.Core.$template.find(".app-component:first .app-component-content .navbar-fixed-top").css("top",""),e.$body.find(".app-navbar").show(),setTimeout((function(){e.Core.$template.find("[data-app-always-top] .app-component-content .navbar-fixed-top").css("transition","")}),0),e.Core.$template.find("[data-app-component-id]").each((function(e){t(this).removeAttr("style")})),e.setAdditionalPadding(e.Core.$template.find(".app-component").last()),i=e.calcBlocksCoords(e.Core.$template.find("[data-app-component-id]")),e.checkActiveBlock(i),e.$template.find("[contenteditable]:focus").trigger("blur")))})),o.Core.on("removedComponent",(function(){var t=o.Core.$template.find(".app-component").eq(0).attr("data-app-component-id");o.scrollToComponent(t)})),o.$body.find("#edit-component-params").prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title"></h4></div>'),o.$componentsLayer.prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title">Add Block</h4></div>'),o.on("prepareComponentParams",(function(t){var e=o.Core.$template.find('[data-app-component-id="'+t+'"]').find("section").attr("id");o.$body.find("#edit-component-params .descr .app-layer-title").html(e.charAt(0).toUpperCase()+e.slice(1).replace(/\d/," $&"))})),o.$navbar.find(".sidebar-toggle").after('<ul class="nav navbar-nav navbar-blockname"><li class="app-mobile-focus-block"><a href="javascript:void(0)"><h4>Blocks</h4></a></li><li class="app-mobile-focus-block-icon"><a href="javascript:void(0)"><i class="mbr-icon-shapes"></i></a></li></ul>'),o.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-mobile-params"><a href="javascript:void(0)"><i class="mbr-icon-cog"></i></a></li>'),o.$body.find(".app-mobile-params").on("click",(function(t){o.Core.$template.find(".app-component").length&&(o.prepareComponentParams(o.$body.find(".app-mobile-focus-block a h4").attr("data-current-component")),setTimeout((function(){o.showComponentParams(null)}),0))})),o.on("showedComponentParams",(function(){o.$body.find("#edit-component-params > .cont").append('<button type="button" id="removeComponent" class="btn pull-right btn-danger">'+n("Remove")+"</button>"),o.$body.find("#removeComponent").on("click",(function(){o.confirmDlg(n("Remove Block?"),(function(t){t&&(o.Core.removeComponent(o.$body.find(".app-mobile-focus-block h4").attr("data-current-component")),o.hideComponentParams())}))}))})),o.$navbar.find(".navbar-blockname").on("click",(function(){o.showBlocksManager()})),o.on("renderedBlocksManager",(function(){var e=o.$body.find(".app-mobile-focus-block a h4").attr("data-current-component"),n=l.find('.m-component[data-block-id="'+e+'"]');e&&(n.addClass("m-component__active"),n.offset().top-67!=0&&t("#sortable-blocks-manager").animate({scrollTop:n.offset().top-67},500))})),l.on("click",".app-layer-close",(function(t){o.hideBlocksManager()})),o.$body.find("#edit-component-params").on("click",".app-layer-close",(function(t){o.hideComponentParams()})),o.$body.find("#theme-settings").append('<div class="descr"><span class="app-layer-close mbr-icon-angle-left"></span><h4 class="app-layer-title">Site Styles</h4></div>'),o.$body.find("#theme-settings .app-layer-close").on("click",(function(t){o.closeThemeSettings()})),o.$componentsLayer.find(".app-layer-close").on("click",(function(t){o.hideComponentsList()}));var a=o.$sidebar.find(".top-sidebar-block");a.addClass("navbar").append('<span class="sidebar-mobile-close"><i class="i1"></i><i class="i2"></i></span><ul class="nav navbar-nav buttons-right"><li class="app-preview"><a href="javascript:void(0)"><i class="mbr-icon-eye"></i></a></li><li class="app-publish"><a href="javascript:void(0)"><i class="mbr-icon-upload"></i></a></li></ul>'),a.find(".sidebar-mobile-close").on("click",(function(){o.closeSidebar()})),o.$sidebar.find(".app-preview").on("click",(function(){o.publish(!0)})),o.$sidebar.find(".app-publish").on("click",(function(){o.runPublishDlg((function(t){t&&o.publish(!1,t)}))})),o.$pagesList.on("click",".mobile-app-project-clone",(function(t){var e=o.$pagesList.find(".list li > a.active").closest("[data-page]").attr("data-page"),n=o.$pagesList.find(".list li > a.active > .page-thumb").clone();if(e){var i=o.addPage(e);i.find("> a").prepend(n),o.$pagesList.find(".list .sortable-container").sortable("disable");var r=i.find("span:eq(0)");i.children("a").addClass("editing"),r.attr("contenteditable","");var a=document.createRange(),s=window.getSelection();a.selectNodeContents(r[0]),s.removeAllRanges(),s.addRange(a),i.children("a").click()}})),o.$pagesList.on("click",".mobile-app-page-project-settings",(function(t){t.preventDefault(),t.stopPropagation();var e=o.$pagesList.find(".list li > a.active").closest("[data-page]");o.showPageSettings(e)})),o.$pageSettings.find(".app-layer-cont").append('<div class="form-group"><a class="m-remove-page btn btn-danger pull-right">'+n("Remove Page")+"</a></div>"),o.on("showedPageSettings",(function(){o.$pageSettings.find(".app-layer-cont .m-remove-page").show(),o.$pagesList.find('.list [data-page="'+o.currentPageSettings+'"]').closest("li").hasClass("main-page")&&o.$pageSettings.find(".app-layer-cont .m-remove-page").hide()})),o.$pageSettings.on("click",".m-remove-page",(function(e){e.preventDefault(),e.stopPropagation();var i=o.$pagesList.find('.list [data-page="'+o.currentPageSettings+'"]').closest("li")[0],r=t(i).find("> a").attr("data-page")||"";o.confirmDlg(n("Remove page $page name$?").replace("$page name$"," <strong>"+r+"</strong>"),(function(t){t&&(o.removePage(i),o.$pageSettings.find(".app-layer-close").click())}))})),o.$projectsList.on("click",".mobile-app-project-clone",(function(t){t.preventDefault(),t.stopPropagation();var e=o.$projectsList.find(".list > li > div.active").closest("[data-url]"),n=e.attr("data-url").replace("/project.mobirise",""),i=e.attr("data-name")+"-clone";o.projectClone(n,i)})),o.$projectsList.on("click",".mobile-app-page-project-settings",(function(t){t.preventDefault();var e=o.$projectsList.find(".list > li > div.active").closest("[data-url]").attr("data-url")||"";o.openProjectSettings(e)})),o.addFilter("additionalSiteSettings",(function(t){return t+'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-remove-site btn btn-danger pull-right">'+n("Remove Site")+"</a></div></div>"})),o.$body.on("click",".site-settings-modal .m-remove-site",(function(t){t.preventDefault(),t.stopPropagation();var e=o.$projectsList.find(".list > li > div.active").closest("[data-url]"),n=e.attr("data-url"),i=e.attr("data-path")||n,r=e.attr("data-name")||i;o.projectRemove(n,r)})),o.addFilter("additionalSiteSettings",(function(t){return(e.hasThemeSettings(e.theme.params)?'<div class="form-group row clearfix"><div class="col-md-9 col-md-offset-3"><a class="m-project-styles btn btn-info pull-right">'+n("Edit Site Styles")+"</a></div></div>":"")+t})),o.$body.on("click",".site-settings-modal .m-project-styles",(function(t){o.$body.find(".site-settings-modal").modal("hide"),o.closeSidebar(),o.openThemeSettings()})),o.$projectsList.append('<div class="app-import-project btn btn-fab btn-material-teal btn-raised no-select"><i class="mbr-icon-to-local-drive"></i></div>')}},loadedProject:function(){s>600||e.$projectsList.find("> .app-layer-title").html(e.escapeHtml(e.projectSettings.name))},changedProjectSettings:function(){s>600||e.$projectsList.find("> .app-layer-title").html(e.escapeHtml(e.projectSettings.name))},switchedPage:function(t){s>600||e.$pagesList.find("> .app-layer-title").html(e.escapeHtml(e.$navbarPageName.html()))},changedPageSettings:function(t){s>600||e.$pagesList.find("> .app-layer-title").html(e.escapeHtml(e.$navbarPageName.html()))},showedPagesList:function(){if(!(s>600)){var n=e.Core.getPages();for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];t(o.components).each((function(t,n){if(!0===n._alwaysTop)return!0;var o=e.theme.path+"/components/"+n._name+"/thumb.png";return e.$pagesList.find('.list li > [data-page="'+i+'"]').prepend('<div class="page-thumb"><img src='+o+" width=60></div>"),!1}))}}},showedProjectsList:function(){s>600||i.getRecentsList((function(n){for(var o=0;o<n.length;o++){var r=n[o].path+"/project.mobirise";i.getLocalJSON(r,(function(n){for(var o in n.pages){if(n.pages.hasOwnProperty(o)){var a=n.pages[o];t(a.components).each((function(t,o){if(!0===o._alwaysTop||o._name.indexOf("menu")>=0)return!0;var a=i.path2app(e.getAddonDir(n.settings.theme.name))+"/components/"+o._name+"/thumb.png";return e.$projectsList.find('.list > li[data-url="'+r+'"] .project-img').prepend("<img src="+a+" width=60>"),!1}))}break}}))}}))},hiddenPagesList:function(){s>600||e.$pagesList.find(".list li > a > .page-thumb").remove()},toggleComponents:function(){s>600||(e.Core.$window.scroll(),e.$body.hasClass("app-blocks-manager-open")||(o=!1),e.hideBlocksManager())},openThemeSettings:function(){s>600||e.Core.$window.scroll()},modalDialogShow:function(t){if(!(s>600)){e.Core.$window.scroll();var n=t.find(".modal-footer");(t.hasClass("create-site-modal")||t.hasClass("crop-image-dialog")||t.hasClass("note-font-dialog")||t.hasClass("note-mbr-link-dialog"))&&n.is(":visible")&&(n.find("> *:visible").length?t.find(".modal-body").addClass("mobile-padding"):n.addClass("hidden")),t.hasClass("create-site-modal")||t.find(".modal-header .modal-mobile-close").click((function(){n.find('[data-bb-handler="success"]').click(),n.find('[data-bb-handler="insert"]').click()}))}}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=n(27);defineM((function(t,e,n){function o(t){var e=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==e.length?(console.error("Invalid base64 image string"),null):e[2]}e.regExtension({name:"aws-app-plugin-media-editor",global:{showMediaImageDialog:function(r,a,s,l,c,d,u,p){var f,h,m,g=[],v='<div class="row mb-0">\n                    <div class="col-xs-12">\n                        <form class="media-image-form">\n                            <div class="form-group clearfix">\n                                <div class="row">\n                                    <div class="col-xs-12" id="media-tabs">\n                                        <ul class="nav nav-tabs mb-0">\n                                            <li class="browse-img">\n                                            '+(i.Bridge.isMobile?'<button class="btn btn-md w-100 btn-primary browser-image-src-btn">'+n("From Phone")+"</button>":'<a href="#browseComputer" data-toggle="tab">'+n("Browse Computer")+"</a>")+'\n                                            </li>\n                                            <li class="active">\n                                                <a href="#onlineLibrary" data-toggle="tab">'+(i.Bridge.isMobile?n("Library"):n("Free Online Library"))+'</a>\n                                            </li>\n                                            <li>\n                                                <a href="#siteLibrary" data-toggle="tab">'+n("Site Library")+'</a>\n                                            </li>\n                                        </ul>\n                                        <div class="tab-content">\n                                            <div class="tab-pane" id="browseComputer">\n                                                <div class="browse-computer-section unspl-section align-center form-row">\n                                                    <div>\n                                                        <p>'+n("Drop images here")+"</p>\n                                                        <p>"+n("or")+'</p>\n                                                        <a class="btn btn-lg btn-primary browser-image-src-btn">'+(i.Bridge.isMobile?n("From Phone"):n("Browse Computer"))+'</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="tab-pane active" id="onlineLibrary"></div>\n                                            <div class="tab-pane" id="siteLibrary"></div>\n                                            <input id="selected-photo" type="file" '+(c?"multiple":"")+' style="display: none;" accept=".gif,.jpg,.jpeg,.png,.svg">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row '+(c?" hidden":"")+'">\n                                <div class="col-xs-12 col-sm-3">\n                                    <div class="form-group sel-image">\n                                        <label class="control-label image-label">'+n("Selected Image")+'</label>\n                                        <div class="selected-image">\n                                            <img class="w-100 h-a" src="'+(r.image.src||"")+'" data-name="'+(h=r.image.src,((m=h.match(/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/))?m[0]:"")+'" id="media-image">\n                                            <div class="btn-group">\n                                                <span class="btn btn-material-light-blue btn-crop">\n                                                    <i class="mbr-icon-pencil"></i>\n                                                </span>\n                                            </div>\n                                            <input id="media-image-src" name="src" type="hidden" value="')+(r.image.src||"")+'">\n                                        </div>\n                                    </div>\n                                </div>\n                                '+(s?"":'<div class="col-xs-12 col-sm-9 col-md-9">\n                                    '+(l?"":'<div class="form-group row">\n                                        <div class="col-md-6">\n                                            <label class="control-label link-label col-xs-12" for="media-image-link">'+n("Link Image to")+'</label>\n                                            <input id="media-image-link" style="margin-top:10px" class="form-control" name="link" type="text" readonly value="'+(r.image.link||"")+'">\n                                        </div>\n                                        <div class="col-md-3">\n                                            <button class="btn btn-primary media-image-link-btn w-100" style="'+(e.isAMP()&&u?"margin-top:75px;":"margin-top:50px")+'">'+n("Edit Link")+"</button>\n                                        </div>\n                                    </div>")+'\n                                    <div class="row">\n                                        <div class="form-group col-xs-12 col-md-6">\n                                            <label class="control-label link-label" for="media-image-alt">'+n("Alt")+'</label>\n                                            <input id="media-image-alt" class="form-control" name="alt" type="text" value="'+(r.image.alt||"")+'">\n                                        </div>\n                                    </div>\n                                </div>')+"\n                            </div>\n                        </form>\n                    </div>\n                </div>";e.fire("showMediaImageDialog");e.showDialog({title:n("Media Image"),className:"note-air-layout media-image",body:e.applyFilter("showMediaImageDialog",[v].join("\n"),r),cancel:function(t){t.off(".media-click"),e.fire("cancelMediaImageDialog",this)},success:function(n){var s=this,l=n.find("#browseComputer").hasClass("active");if(l&&c)l&&c&&y();else{var u=t("#media-image",n).attr("src"),h=t("#media-image",n).attr("data-name");if(h=h.replace(/[^A-Za-z0-9.\-_]/g,(function(t){return t.charCodeAt()})),u!==r.image.src)if(e.isAMP())t(p).closest("amp-img").prepend('<div class="amp-img-preloader">\n                                            '+e.preloaderHTML+"\n                                        <div>");else{var m=t(p).width(),v=t(p).height();t(p).before('<div class="m-img-preloader" style="width:'+m+"px; height:"+v+'px;">\n                                            '+e.preloaderHTML+"\n                                        <div>")}if(!u||0!==u.indexOf("data:image/"))return void y(u);if(t("#media-image",n).hasClass("site-library-image"))y(u);else{var b=e.projectPath+"/assets/images/"+h.replace(/\.jpeg$/,".jpg");b=function(t){var e=/\-\d+x\d+$/,n=i.Bridge.splitPath(t),o=n.name,r="";r=(r=o.match(e))&&r[0]||"",(o=(o=o.replace(e,"")).replace(/\-h_[a-z0-9]+$/,"")).length>30&&(o=o.substring(0,29));return n.dir+"/"+o+"-h_"+Date.now().toString(36)+r+"."+n.ext}(b),i.Bridge.saveLocalBase64(b,o(u),(function(t){t?y(i.Bridge.path2app(b)):(console.warn("Unable to save image"),a(r))}))}}function y(i){if(!c||!l){var o=t("form.media-image-form",n).serializeArray();if(o&&o.length){for(var u=0;u<o.length;u++)r.image[o[u].name]=o[u].value;r.image.linkInNewWindow=f}for(var h in r)r[h].active=void 0;r.image.active=!0,i&&(r.image.src=i),p&&(e.isAMP()?0==p.parents(".lightbox").length?r=e.applyFilter("saveMediaImageDialog",r):p.siblings(".amp-img-preloader").remove():p.siblings(".m-img-preloader").remove())}var m=[];g.forEach((function(t){m.push(t.src)})),e.fire("saveMediaImageDialog",s,r,d),a(c&&l?m:r),n.off(".media-click"),e.Core.fire("savedMediaImageDialog")}},show:function(a){var s=a.find("#media-image-link"),l=a.find("#unspl-section .preloader"),d=t(e.preloaderHTML);a.find(".modal-body").before(d),d.hide(),a.on("click.media-click","#media-image-link, .media-image-link-btn",(function(t){t.preventDefault(),t.stopPropagation();var n={url:s.val(),isNewWindow:r.image.linkInNewWindow};e.showMbrLinkDialog(n,(function(t){s.val(t.url),f=t.isNewWindow}))}));var u=a.find(".browse-computer-section")[0];function p(){function n(n){var r=new t.Deferred,a=n.src,s=n.name;s=s.replace(/[^A-Za-z0-9.\-_]/g,(function(t){return t.charCodeAt()}));var l=e.projectPath+"/images/"+s.replace(/\.jpeg$/,".jpg");return i.Bridge.saveLocalBase64(l,o(a),(function(t){t?(n.src=i.Bridge.path2app(l),r.resolve()):(console.warn('Unable to save image = "'+n.name+'"'),r.reject())})),r.promise()}var r=(new t.Deferred).resolve();g.forEach((function(t){r=r.then(n.bind(r,t))})),r.done((function(){l.hide(),d.hide(),a.find(".modal-content").removeClass("no-events"),a.find('.modal-footer [data-bb-handler="success"]').click()}))}function h(n){var i=new t.Deferred;if((n=Array.from(n))&&n[0])for(var o=0;o<n.length;o++)return/\.(gif|jpg|jpeg|svg|png)$/i.test(n[o].name)||(e.alertDlg('Invalid file type in"'+n[o].name+'"'),i.reject()),n[o].size>3e6&&(e.alertDlg("Error : "+n[o].name+" is larger than 3Mb."),i.reject()),n.reduce((function(t,e){return t.then((function(){return m(e)}))}),i.resolve(n));return i.promise()}function m(n){var o=new t.Deferred;return i.Bridge.transformImage(n,{quality:60,maxWidth:2e3},(function(r){i.Bridge.loadLocalBlob(r,(function(s){i.Bridge.removeLocal(r);var d=new FileReader;d.readAsDataURL(s),d.onload=function(e){if(c){if(c){var i={name:n.name,src:e.target.result};g.push(i)}}else t("#media-image").attr("src",e.target.result),a.find(".modal-content").removeClass("no-events"),l.hide();o.resolve(e.target.result)},d.onerror=function(t){console.error('Invalid base64 image string on "'+n.name+'"'),e.alertDlg("Error while loading image."),a.find(".modal-content").removeClass("no-events"),l.hide(),o.reject(t)}}))})),o.promise()}u.ondragover=function(){return!1},u.ondragleave=function(){return!1},u.ondragend=function(){return!1},u.ondrop=function(t){l.show(),d.show(),a.find(".modal-content").addClass("no-events"),t.preventDefault(),h({files:t.dataTransfer.files}.files).then((function(){p()}),(function(t){d.hide(),console.log("Load is fail ",t)}))},a.on("click.media-click",".browser-image-src-btn",(function(e){e.preventDefault(),t("#selected-photo").click()})),a.on("change","#selected-photo",(function(e){d.show(),a.find(".modal-content").addClass("no-events"),t("#media-image",a).removeClass("site-library-image"),h(e.currentTarget.files).then((function(){p()}),(function(t){d.hide(),console.log("Load is fail ",t)}))})),a.on("click.media-click",".btn-crop, #media-image",(function(i){i.preventDefault();var o=e.showDialog({title:n("Crop Image"),className:"crop-image-dialog",body:'<div class="row form-group"><div class="col-md-12"><img src="'+a.find("#media-image").attr("src")+'" id="crop-image"></div></div><div class="row"><div class="col-sm-12 crop-options"><div class="crop-image-transform"><button class="btn btn-material-light-blue crop-zoom-in mbr-icon-search-plus" title="'+n("Zoom In")+'"></button><button class="btn btn-material-light-blue crop-zoom-out mbr-icon-search-minus" title="'+n("Zoom Out")+'"></button><button class="btn btn-material-light-blue crop-scale-x mbr-icon-exchange" title="'+n("Flip Horizontal")+'"></button><button class="btn btn-material-light-blue crop-scale-y mbr-icon-arrows-vertical" title="'+n("Flip Vertical")+'"></button><button class="btn btn-material-light-blue rotate-counter-clockwise mbr-icon-alternate-undo" title="'+n("Counter Clockwise")+'"></button><button class="btn btn-material-light-blue rotate-clockwise mbr-icon-alternate-redo" title="'+n("Clockwise")+'"></button></div><div class="crop-aspect-ratio"><button class="btn btn-material-light-blue crop-ratio-16-9" title="'+n("Aspect Ratio")+': 16:9">16:9</button><button class="btn btn-material-light-blue crop-ratio-4-3" title="'+n("Aspect Ratio")+': 4:3">4:3</button><button class="btn btn-material-light-blue crop-ratio-1-1" title="'+n("Aspect Ratio")+': 1:1">1:1</button><button class="btn btn-material-light-blue crop-ratio-2-3" title="'+n("Aspect Ratio")+': 2:3">2:3</button><button class="btn btn-material-light-blue crop-ratio-free active" title="'+n("Aspect Ratio: Free")+'">'+n("Free")+"</button></div></div></div>",show:function(t){t.find(".crop-options .btn").tooltipster({delay:0,speed:100,position:"bottom"})},cancel:function(){},success:function(){var t=void 0;var e=r.attr("src");e&&"string"==typeof e&&(t=e.includes("data:image/jpeg")||function(t){return!((t=t.split(".")).length<=1)&&!(!t[t.length-1].includes("jpg")&&!t[t.length-1].includes("jpeg"))}(e)?r.cropper("getCroppedCanvas").toDataURL("image/jpeg"):r.cropper("getCroppedCanvas").toDataURL("image/png"),a.find("#media-image").attr("src",t))}}),r=o.find("#crop-image");o.on("shown.bs.modal",(function(){r.cropper({viewMode:3,guides:!1,toggleDragModeOnDblclick:!1})})),o.on("click.media-click",".crop-zoom-in",(function(t){r.cropper("zoom",.1)})),o.on("click.media-click",".crop-zoom-out",(function(t){r.cropper("zoom",-.1)})),o.on("click.media-click",".crop-scale-x",(function(t){var e=r.cropper("getData");r.cropper("scale",-e.scaleX,e.scaleY)})),o.on("click.media-click",".crop-scale-y",(function(t){var e=r.cropper("getData");r.cropper("scale",e.scaleX,-e.scaleY)})),t(".rotate-counter-clockwise").click((function(t){r.cropper("rotate",-45)})),t(".rotate-clockwise").click((function(t){r.cropper("rotate",45)})),o.on("click.media-click",".crop-ratio-16-9",(function(e){r.cropper("setAspectRatio",16/9),t(this).addClass("active").siblings().removeClass("active")})),o.on("click.media-click",".crop-ratio-4-3",(function(e){r.cropper("setAspectRatio",4/3),t(this).addClass("active").siblings().removeClass("active")})),o.on("click.media-click",".crop-ratio-1-1",(function(e){r.cropper("setAspectRatio",1),t(this).addClass("active").siblings().removeClass("active")})),o.on("click.media-click",".crop-ratio-2-3",(function(e){r.cropper("setAspectRatio",2/3),t(this).addClass("active").siblings().removeClass("active")})),o.on("click.media-click",".crop-ratio-free",(function(e){r.cropper("setAspectRatio",NaN),t(this).addClass("active").siblings().removeClass("active")}))})),e.fire("showedMediaImageDialog",a,r,c),e.fire("showedPopup",a),e.initTooltips()}})}},events:{load:function(){e.addFilter("getExternalThumb",(function(t,e){if(0==e.indexOf("http://")||0==e.indexOf("https://")||!t){var n=e.split("/").pop();return/(jpg|jpeg|png)/i.test(n.split(".").pop())&&-1!==e.indexOf("cndmbr")?e.replace("/images/","/thumbnails/"):e}return t}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("aws-app-plugin-image-editor-pixabay",(function(t,e,n){e.regExtension({name:"aws-plugin-image-editor-pixabay",events:{showedMediaImageDialog:function(o,r,a){var s='<div id="unspl-section" class="unspl-section">\n                        <input class="form-control search-input pull-left" value="" type="text" placeholder="'+n("Search by keyword")+'"/>\n                        <button class="btn btn-primary search-btn">'+n("Search")+'</button>\n                        <p class="pb-text">'+n("Images from")+' <a class="pb-link" href="https://pixabay.com/" target="_blank">Pixabay</a></p>\n                        <div class="keywords">'+n("e.g.")+',&nbsp;\n                            <a href="javascript:void(0)">computer</a>\n                            <a href="javascript:void(0)">work</a>\n                            <a href="javascript:void(0)">business</a>\n                            <a href="javascript:void(0)">man</a>\n                            <a href="javascript:void(0)">woman</a>\n                            <a href="javascript:void(0)">city</a>\n                            <a href="javascript:void(0)">nature</a>\n                            <a href="javascript:void(0)">animals</a>\n                            <a href="javascript:void(0)">pattern</a>\n                            <a href="javascript:void(0)">abstract</a>\n                            <a href="javascript:void(0)">art</a>\n                            <a href="javascript:void(0)">food</a>\n                        </div>\n                        <div class="images-list"></div>\n                    </div>',l=t('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2"><img class="w-100 h-a"></div>'),c=t('<div class="error-alert"><p></p></div>');o.find(".media-image-form #media-tabs .tab-content .tab-pane#onlineLibrary").append(s);var d=t(e.preloaderHTML),u=o.find(".search-input"),p=o.find(".search-btn"),f=o.find("#unspl-section .images-list"),h=!1,m=!1,g=["computer","work","business","phone","mobile","pc"],v=g[Math.floor(Math.random()*g.length)];function b(e,i){o.find("#unspl-section").addClass("no-events"),h=!0,t.when(function(e,i){d.fadeIn(100);var r=t.Deferred(),a=[],s="https://pixabay.com/api/?key=10565071-2fab8a0cb075d46840c40e655&page="+(i=i||1)+"&per_page=200&q="+encodeURIComponent(v);return fetch(s).then((function(t){if(t.ok)return t.json();throw new Error(t.status+", "+t.statusText)})).then((function(e){parseInt(e.totalHits)>0?(o.find(".pb-text").show(),t.each(e.hits,(function(t,e){a.push(function(t){if(t){var e=l.clone();f.append(e),e.find("img").attr({src:t.previewURL,"data-url":t.fullHDURL})}}(e))})),t.when.apply(t,a).then((function(){r.resolve()}))):r.reject()})).catch((function(t){console.error("error:",t.message),f.find(".error-alert p").text(n("Online image library is not available")),r.reject()})),r.promise()}(0,i)).done((function(){m&&(m=!1,f.append(c),f.find(".error-alert p").text(n("Online image library is not available"))),d.hide(),h=!1,o.find("#unspl-section").removeClass("no-events")})).fail((function(){d.hide(),h=!1,o.find("#unspl-section").removeClass("no-events"),1===y&&(f.append(c),f.find(".error-alert p").html(n("No images found!")+"<br>"+n("Please try another keyword")))}))}f.before(d),o.on("click.media-click",".search-btn, .keywords a",(function(e){e.preventDefault(),!1===h&&("A"===e.target.nodeName&&u.val(e.target.text),""!==t.trim(u.val())&&(v=t.trim(u.val()),f.off("scroll"),c.remove(),f.empty(),b(0,y=1),setTimeout((function(){f.on("scroll",w)}),1e3)))})),u.keypress((function(t){13===(t.keyCode?t.keyCode:t.which)&&(t.preventDefault(),p.trigger("click.media-click"))})),o.on("click.media-click","#unspl-section .image-wrapper img",(function(n){n.preventDefault(),o.find(".modal-content").addClass("no-events"),d.fadeIn(100);var r=t(this).attr("data-url"),s=!1;t("#media-image",o).removeClass("site-library-image"),t("#media-image").attr("crossorigin","anonymous").attr("src",r).attr("data-name",r.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0]).on("load",(function(){if(/firefox/i.test(navigator.userAgent)&&this.currentSrc!==this.src)return s=!0,void t(n.target).click();var r;s||(r=t("#media-image")[0],new Promise((function(t,e){var n=document.createElement("canvas");n.width=r.naturalWidth,n.height=r.naturalHeight,document.getElementsByTagName("body")[0].appendChild(n),n.getContext("2d").drawImage(r,0,0);var o=n.toDataURL("image/jpeg");n.remove();var a=function(t,e){e=e||"";for(var n=n||512,i=window.atob(t.replace("data:image/jpeg;base64,","")),o=[],r=0;r<i.length;r+=n){for(var a=i.slice(r,r+n),s=new Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);var c=new Uint8Array(s);o.push(c)}return new Blob(o,{type:e})}(o,"image/jpeg");i.Bridge.transformImage(a,{quality:60,maxWidth:2e3},(function(n){i.Bridge.loadLocalBlob(n,(function(o){i.Bridge.removeLocal(n);var r=new FileReader;r.readAsDataURL(o),r.onload=function(){t(r.result||"")},r.onerror=function(t){e(t)}}))}))}))).then((function(e){t("#media-image").attr("src",e),s=!0,o.find(".modal-content").removeClass("no-events"),d.hide()}),(function(n){console.error(n),e.alertDlg("Error while loading image."),t("#media-image").removeAttr("src"),o.find(".modal-content").removeClass("no-events"),d.hide()})).then((function(){a&&o.find('.modal-footer [data-bb-handler="success"]').click()}))}))}));var y=1;function w(t){t.preventDefault(),f.scrollTop()+f.innerHeight()>=f[0].scrollHeight&&b(0,++y)}f.on("scroll",w),b(0,y)}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM((function(t,e,n){e.regExtension({name:"aws-plugin-image-editor-site-library",events:{showedMediaImageDialog:function(n,o,r){var a=t('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2 local"><img class="h-a w-100"><span class="img-name"></span><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div></div>'),s=!0,l=void 0;n.find(".media-image-form #media-tabs .tab-content .tab-pane#siteLibrary").append('<div class="unspl-section row mb-0"><div class="col-xs-12"><div class="site-library images-list form-row mb-0"></div></div></div>'),n.on("shown.bs.tab",'a[data-toggle="tab"][href="#siteLibrary"]',(function(o){if(s){s=!1;var r=t(e.preloaderHTML);n.find(".site-library.images-list").before(r),r.show(),new Promise((function(t,e){i.Bridge.dirList(mbrApp.projectPath+"/assets/images/",(function(e){t(e)}))})).then((function(e){e=e.filter((function(t){return-1===t.indexOf("apple-launch-")}));var o=function(i,o){t.each(e,(function(t,e){var o=a.clone(),r=i+function(t){return t?"assets/images/"+t:(console.warn("getThumbPath: error input"),t)}(e);n.find(".site-library.images-list").append(o),o.find(".img-name").html(e),o.find("img").attr("src",r)})),o()};i.Bridge.getRecentSettings(mbrApp.projectPath+"/assets/images/",(function(t){o((l=t).resourcesUrl,(function(){r.hide()}))}))}))}})),n.on("click.media-click",".unspl-section .image-wrapper.local",(function(e){t("#media-image",n).addClass("site-library-image");var i=t(e.currentTarget).find("img").attr("src");t("#media-image",n).removeAttr("crossorigin").attr("src",i),r&&n.find('.modal-footer [data-bb-handler="success"]').click()})),n.on("click",".btn-delete",(function(e){e.stopPropagation();var n=t(e.target).closest(".image-wrapper").find("img").attr("src").split("/").pop(),o=t(e.target).closest(".image-wrapper");i.Bridge.removeLocal(i.Bridge.projectsLocation+"/"+l.id+"/assets/images/"+n,(function(t){o.remove()}))}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-link-editor",(function(t,e,n,i){var o,r,a=function(n,i,o,r,a,s){var l=i.url,c=i.isNewWindow,d=i.range;(o=o||s.makeLayoutInfo(n).editor().data("options")).onCreateLink&&(l=o.onCreateLink(l));var u=[];n.hasClass("btn")||n.is("[data-app-btn]")?u.push(n[0]):u=function(e,n,i,o){e=e.splitText();var r=n&&n.nodeName||"SPAN",a=!(!n||!n.expandClosestSibling),s=!(!n||!n.onlyPartialContains);if(e.isCollapsed())return[e.insertNode(o.create(r))];var l,c,d=o.makePredByNodeName(r),u=t.map(e.nodes(o.isText,{fullyContains:!0}),(function(t){return o.singleChildAncestor(t,d)||o.wrap(t,r)}));if(a){if(s){var p=e.nodes();l=d,c=function(t){return i.contains(p,t)},d=function(t){return l(t)&&c(t)}}return t.map(u,(function(e){var n=o.withClosestSiblings(e,d),r=i.head(n),a=i.tail(n);return t.each(a,(function(t,e){o.appendChildNodes(r,e.childNodes),o.remove(e)})),i.head(n)}))}return u}(d,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0},a,s),u=e.applyFilter("textLinkAnchors",t.each(u,(function(n,o){if(e.isAMP()&&i.ampCart)if(-1!==i.url.search("data:application/json")){var r=JSON.parse(decodeURIComponent(i.url.replace(/^data:application\/json,/,""))),a="tap:shopItemLightbox,AMP.setState({shopItemInfo: "+JSON.stringify(r).replace(/"/gm,"'")+"})";t(o).attr("on",a),t(o).removeAttr("href")}else{var s=i.url.match(/\?(.*$)/)[1],d={};s=s.split("&"),t(s).each((function(t,e){var n=e.split("=");d[n[0]]=n[1].replace(/\+/g," ")}));var u='tap:cartanim.start,AMP.setState({cart: {items:cart.items.concat([{item_name: "'+decodeURIComponent(d.item_name)+'", amount: "'+d.amount+'", currency_code: "'+d.currency_code+'" , cmd: "_ampcart", id: cart.id}]),total: cart.total+'+d.amount+",id: cart.id+1}})";t(o).attr("on",u),t(o).removeAttr("href")}else t(o).attr("href",l),t(o).is("img, .btn")||t(o).addClass("text-primary");c?t(o).attr("target","_blank"):t(o).removeAttr("target")})),i);var p=r.createFromNodeBefore(a.head(u)).getStartPoint(),f=r.createFromNodeAfter(a.last(u)).getEndPoint();r.create(p.node,p.offset,f.node,f.offset).select()},s=(t(window.document).on("focusout",(function(t){r&&(r=!1,t.preventDefault())})),function(){r=!0}),l=function(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)},c=function(t,e){t.toggleClass("error-input",!e)},d=function(n,i){var o="";e.Core?o=e.Core.getComponentsAnchorList("",i):(o='<option value="" disabled="disabled" selected="selected">Anchors</option>',t("[id]:not(.note-air-layout, .note-editable, .tooltip, style)").each((function(){var e=t(this).attr("id");o+='<option value="#'+e+'">#'+e+"</option>"}))),n.html(o),e.initTooltips()},u=new RegExp(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1,2}[a-z0-9]+)*\.(([a-z]+)([-.]{1,2}[a-z0-9]+)?){2,}(:[0-9]{1,5})?(\/.*)?$/),p=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),f=new RegExp(/^[^a-zA-Z]+$/),h=function(o,r,a,s){var h,m=r.find(".nav-tabs"),g=r.find(".note-mbr-anchors"),v=r.find(".note-mbr-pages"),b=r.find(".note-mbr-url"),y=r.find(".note-mbr-email"),w=r.find(".note-mbr-phone"),x=r.find(".note-mbr-custom-url"),_=r.find(".note-mbr-link-btn"),S=r.find(".note-mbr-delete-link-btn"),k=r.find("input[type=checkbox]"),C=r.find("#phone .phone-link-label"),P=r.find("#phone .phone-link-example");if(e.addFilter("shoppingCartInNewWindow",(function(){return!!a.isNewWindow&&a.isNewWindow})),a.url){var T,E=!1,A=e.Core.getPages();for(var j in A)if(A.hasOwnProperty(j)&&(a.url===j||0===a.url.indexOf(j+"#"))){E=!0;break}switch(!0){case E||"#top"===a.url||"#bottom"===a.url:h=m.find('a[href="#page"]');break;case 0===a.url.indexOf("tel:"):h=m.find('a[href="#phone"]'),T=a.url.replace("tel:",""),C.text(n("Call Phone Number")),P.text(n("e.g.")+", +1-234-5678910"),w.val(T),r.find('#phone .phone-messengers [value="tel"]').prop("checked",!0);break;case 0===a.url.indexOf("sms:"):h=m.find('a[href="#phone"]'),T=a.url.replace("sms:",""),C.text(n("Send SMS Text to Number")),P.text(n("e.g.")+", +1-234-5678910"),w.val(T),r.find('#phone .phone-messengers [value="sms"]').prop("checked",!0);break;case 0===a.url.indexOf("https://wa.me/"):h=m.find('a[href="#phone"]'),T=a.url.replace("https://wa.me/",""),C.text(n("Chat with WhatsApp")),P.text(n("e.g.")+", +1-234-5678910"),w.val(T),r.find('#phone .phone-messengers [value="whatsapp"]').prop("checked",!0);break;case 0===a.url.indexOf("viber://chat?number="):h=m.find('a[href="#phone"]'),T=a.url.replace("viber://chat?number=",""),C.text(n("Chat with Viber")),P.text(n("e.g.")+", +1-234-5678910"),w.val(T),r.find('#phone .phone-messengers [value="viber"]').prop("checked",!0);break;case 0===a.url.indexOf("skype:"):h=m.find('a[href="#phone"]'),T=a.url.replace(/skype:|\?call/g,""),C.text(n("Call with Skype by Number or Name")),P.text(n("e.g.")+", +1-234-5678910 or echo123"),w.val(T),r.find('#phone .phone-messengers [value="skype"]').prop("checked",!0);break;case 0===a.url.indexOf("tg://resolve?domain="):h=m.find('a[href="#phone"]'),T=a.url.replace("tg://resolve?domain=",""),C.text(n("Chat with Telegram")),P.text(n("e.g.")+", mobirisebuilder"),w.val(T),r.find('#phone .phone-messengers [value="telegram"]').prop("checked",!0);break;case 0===a.url.indexOf("assets/files/"):h=m.find('a[href="#file"]');break;case 0===a.url.indexOf("http://")||0===a.url.indexOf("https://"):h=m.find('a[href="#webAddress"]'),b.val(a.url);break;case 0===a.url.indexOf("mailto:"):h=m.find('a[href="#email"]'),T=a.url.replace("mailto:",""),y.val(T);break;case""!==a.url:h=m.find('a[href="#custom"]'),x.val(a.url);break;default:h=m.find("a:first")}}else h=m.find("a:first");c(b,u.test(punycode.toASCII(b.val().replace(/(^\w+:|^)\/\//,"")))),c(y,p.test(y.val())),c(w,f.test(w.val())),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#page"]',(function(t){l(_,v.val()||g.val())})),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#webAddress"]',(function(t){b.focus(),l(_,u.test(b.val()))})),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#email"]',(function(t){y.focus(),l(_,p.test(y.val()))})),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#phone"]',(function(t){w.focus();var e=r.find("#phone .phone-messengers [name=phoneLinkType]:checked").val();"skype"!==e&&"telegram"!==e||(f=new RegExp(/^.+$/)),l(_,f.test(w.val())),c(w,f.test(w.val()))})),r.find("#phone .phone-messengers [name=phoneLinkType]").change((function(){switch(t(this).val()){case"tel":C.text(n("Call Phone Number")),P.text(n("e.g.")+", +1-234-5678910"),f=new RegExp(/^[^a-zA-Z]+$/);break;case"sms":C.text(n("Send SMS Text to Number")),P.text(n("e.g.")+", +1-234-5678910"),f=new RegExp(/^[^a-zA-Z]+$/);break;case"whatsapp":C.text(n("Chat with WhatsApp")),P.text(n("e.g.")+", +1-234-5678910"),f=new RegExp(/^[^a-zA-Z]+$/);break;case"viber":C.text(n("Chat with Viber")),P.text(n("e.g.")+", +1-234-5678910"),f=new RegExp(/^[^a-zA-Z]+$/);break;case"skype":C.text(n("Call with Skype by Number or Name")),P.text(n("e.g.")+", +1-234-5678910 or echo123"),f=new RegExp(/^.+$/);break;case"telegram":C.text(n("Chat with Telegram")),P.text(n("e.g.")+", mobirisebuilder"),f=new RegExp(/^.+$/);break;default:C.text(n("Call Phone Number")),P.text(n("e.g.")+", +1-234-5678910")}l(_,f.test(w.val())),c(w,f.test(w.val()))}));var L=!0;r.on("shown.bs.tab",'a[data-toggle="tab"][href="#file"]',(function(o){if(L){L=!1;var s=t('<div class="link-file"><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div><span class="file-ext"></span><span class="file-name"></span></div>'),c=t(e.preloaderHTML);r.find(".tab-pane#file .links-wrap").before(c),i.dirList(e.projectPath+"/assets/files/",(function(t){for(var e=t.length,n=0;n<e;n++){var o=s.clone(),d=a.url.replace("assets/files/","");t[n]===d&&o.addClass("active");var u=i.splitPath(t[n]),p=u.ext.toUpperCase(),f=u.fullname;o.find(".file-ext").html(p),o.find(".file-name").html(f),r.find(".tab-pane#file .links-wrap").append(o)}l(_,r.find(".tab-pane#file .link-file.active").length),c.hide()}),{filter:1,recursive:!1}),r.on("click",".btn-delete",(function(n){n.stopPropagation();var o=e.projectPath+"/assets/files/"+t(n.target).closest(".link-file").find(".file-name").html();i.removeLocal(o,(function(e){e?(t(n.target).closest(".link-file").remove(),l(_,r.find(".tab-pane#file .link-file.active").length)):console.log("Failed to remove file:",o)}))})),r.on("click","#link-add-file-btn",(function(t){t.preventDefault(),i.runFileDialog(n("Add File"),"","Documents (*.pdf *.doc *.docx *.ppt *.pptx *.xls *.xlsx *.odp *.odt)",(function(t){t&&i.dirList(e.projectPath+"/assets/files/",(function(o){for(var a=o.length,c=i.splitPath(t),d=decodeURI(c.fullname).replace(/\s/,"-").replace(/[^-0-9a-zA-Z_\.]/g,""),u=!1,p=0;p<a;p++)d===o[p]&&(u=!0);if(u)e.alertDlg(n("This document is already added."));else{var f=c.ext.toUpperCase();i.copyLocal(t,e.projectPath+"/assets/files/"+d,(function(t){if(t){var e=s.clone();e.addClass("active").find(".file-name").html(d),e.find(".file-ext").html(f),r.find(".tab-pane#file .links-wrap .link-file").removeClass("active"),r.find(".tab-pane#file .links-wrap").append(e),l(_,r.find(".tab-pane#file .link-file.active").length)}}))}}),{filter:1,recursive:!1})}))})),r.on("click",".link-file",(function(e){t(e.target).closest(".link-file").addClass("active").siblings().removeClass("active"),l(_,!0)}))}l(_,r.find(".tab-pane#file .link-file.active").length)})),r.on("shown.bs.tab",'a[data-toggle="tab"][href="#custom"]',(function(t){x.focus(),l(_,x.val())})),h.tab("show"),r.find(".dropdownjs").each((function(){if(t(this).children().hasClass("note-mbr-pages"))t(this).children().removeAttr("readonly");else if(t(this).children().hasClass("note-mbr-anchors")){var e=t(this).data("select");t(e.data("dropdownjs-ul")).addClass("anchors-dropdownjs")}}));var $=!!o&&o.parent().is('[data-app-edit="buttons"]'),F=!!o&&o.closest("[mbr-menu]").length;function O(n){var i;i=n.indexOf("#")>0?n.slice(0,n.indexOf("#")):n;var o=v.find('option[value="'+e.escapeHtml(i||n)+'"]'),r=g.find('option[value="'+e.escapeHtml(n)+'"]'),a=0!==o.length?o.html():"",s=0!==r.length?r.html():"";v.val(i),t(v[1]).val(a),g.val(n),t(g[1]).val(s)}S[a.url&&!F?"show":"hide"](),b.on("input",(function(){var e=t(this).val().replace(/(^\w+:|^)\/\//,"");l(_,u.test(punycode.toASCII(e))),c(t(this),u.test(punycode.toASCII(e)))})),y.on("input",(function(){l(_,p.test(t(this).val())),c(t(this),p.test(t(this).val()))})),w.on("input",(function(){l(_,f.test(t(this).val())),c(t(this),f.test(t(this).val()))})),x.on("input",(function(){l(_,t(this).val()),c(t(this),t(this).val())})),a.url||(a.url="http://");var D=a.url;!function(t){if(e.Core){var n=e.Core.getPagesList();t.html(n)}}(v),v.on("change",(function(){e.$body.find(".anchors-dropdownjs").empty();var i=r.find(".dropdownjs .note-mbr-pages").closest(".dropdownjs").data("select"),o=t(i.data("dropdownjs-ul")),a=v.find("option").filter((function(e,n){return t(n).attr("data-text")===t(v[1]).val()?(t(n).attr("selected","selected"),!0):(t(n).removeAttr("selected"),!1)}));a.length?t(this).val(t(a[0]).attr("value")):(o.find('li[disabled="disabled"]').attr("selected","selected"),t(this).val("")),d(g,t(this).val()),t(v[1]).val(t(this).find('option[value="'+t(this).val()+'"]').attr("data-text")),g.val(""),r.find(".anchors-label").html(n("Block on $page title$ Page").replace("$page title$","'"+(t(v[1]).val()||v.find('option[value="'+e.Core.currentPage+'"]').html())+"'")),l(_,!0)})),O(a.url);var I=v.find("option").filter((function(){return t(this).attr("data-text")===t(v[1]).val()}));return d(g,I.val()),v.val()!==e.Core.currentPage&&v.val()&&e.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),O(a.url),r.find(".anchors-label").html(n("Block on $page title$ Page").replace("$page title$","'"+t(v[1]).val()+"'")),v.val()||r.find(".anchors-label").html(n("Block on $current page$ Page").replace("$current page$","'"+v.find('option[value="'+e.Core.currentPage+'"]').html()+"'")),g.on("change",(function(){v.val()!==e.Core.currentPage&&v.val()&&e.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),e.initTooltips(),l(_,!0)})),e.fire("showedLinkDialog",r),t.Deferred((function(t){_.click((function(){var n,i,o=r.find(".tab-pane.active"),s="";switch(o.attr("id")){case"page":D=g.val()||v.val(),n=o.find("input[type=checkbox]").is(":checked");break;case"webAddress":s=o.find(".note-mbr-url").val(),D=0===s.indexOf("http:")||0===s.indexOf("https:")?s:"http://"+s,n=o.find("input[type=checkbox]").is(":checked");break;case"email":s=o.find(".note-mbr-email").val(),D=0===s.indexOf("mailto:")?s:"mailto:"+s;break;case"phone":switch(r.find("#phone .phone-messengers [name=phoneLinkType]:checked").val()){case"tel":s=o.find(".note-mbr-phone").val(),D="tel:"+s;break;case"sms":s=o.find(".note-mbr-phone").val(),D="sms:"+s;break;case"whatsapp":s=o.find(".note-mbr-phone").val(),D=("https://wa.me/"+s).replace(/[+\-()]/g,"");break;case"viber":s=o.find(".note-mbr-phone").val(),D="viber://chat?number="+s;break;case"skype":s=o.find(".note-mbr-phone").val(),D="skype:"+s+"?call";break;case"telegram":s=o.find(".note-mbr-phone").val(),D="tg://resolve?domain="+s;break;default:s=o.find(".note-mbr-phone").val(),D="tel:"+s}break;case"file":D="assets/files/"+o.find(".link-file.active .file-name").html(),n=o.find("input[type=checkbox]").is(":checked");break;case"shoppingCart":D=e.applyFilter("shoppingCartUrl"),n=o.find("input[type=checkbox]").is(":checked"),i=o.find('[value="_ampcart"]').prop("checked")||o.find('[name="in-popup"]').prop("checked");break;case"popup":D=e.applyFilter("popupUrl");break;default:D=x.val(),n=o.find("input[type=checkbox]").is(":checked")}setTimeout((function(){t.resolve({range:a.range,url:D,isNewWindow:n,ampCart:i})}),1)})),S.click((function(e){s?$?setTimeout((function(){t.resolve({url:"https://mobiri.se"})}),1):(s.unlink(o),t.reject()):setTimeout((function(){t.resolve({url:""})}),1)})),r.one("hidden.bs.modal",(function(){g.off("change"),v.off("change"),k.off("change"),"pending"===t.state()&&t.reject()}))}))};e.regExtension({name:"plugin-link-editor",global:{showMbrLinkDialog:function(i,r){var l=i.editor,c=i.layoutInfo,d=i.range,u=i.list,p=i.dom;if(!o){if(c){var f=c.editor(),m=c.editable(),g=l.getLinkInfo(m),v=f.data("options");if(f.is("[href]")&&(g.url=f.attr("href")),f.is("[on]")&&-1!==f.attr("on").search("cart")&&-1===f.attr("on").search("shopItem")){g.ampCart=!0;var b=f.attr("on").match(/{.+{(.+)}.+}/),y="";b=b[1].split(/\s?,\s?/),t(b).each((function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],y+="&"+e)})),g.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+y}else if(f.find("[on*=cart]").length){g.ampCart=!0;var w=f.find("[on*=cart]").attr("on").match(/{.+{(.+)}.+}/),x="";w=w[1].split(/\s?,\s?/),t(w).each((function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],x+="&"+e)})),g.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+x}else if(f.find('[href*="data:application,json"]').length||f.is('[href*="data:application,json"]')||f.find('[on*="shopItem"]').length||f.is('[on*="shopItem"]')){g.ampCart=!0;var _="data:application/json,"+encodeURIComponent(f.attr("on").match(/{.+?({.+?})/)[1]);g.url=_}m.focus(),l.saveRange(m)}else g={url:i.url,isNewWindow:i.isNewWindow};s(),o=!0,e.showDialog({title:n("Link to"),className:"note-mbr-link-dialog",body:'<div class="row form-group link-tabs">\n                            <div class="col-md-12">\n                                <ul class="nav nav-tabs">\n                                    <li class="active">\n                                        <a href="#page" data-toggle="tab">'+n("Page")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#webAddress" data-toggle="tab">'+n("Web Address")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#email" data-toggle="tab">'+n("Email")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#phone" data-toggle="tab">'+n("Phone")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#file" data-toggle="tab">'+n("File")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#custom" data-toggle="tab">...</a>\n                                    </li>\n                                </ul>\n                                <div class="tab-content">\n                                    <div class="tab-pane active" id="page">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label>'+n("Site Pages")+'</label>\n                                                <select class="note-mbr-pages form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                            <div class="col-sm-6">\n                                                <label class="anchors-label">'+n("Block on Page")+'</label>\n                                                <select class="note-mbr-anchors form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(g.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="webAddress">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+n("e.g.")+', https://mobirise.com</label>\n                                                <input class="note-mbr-url form-control" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(g.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="email">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+n("e.g.")+', support@mobirise.com</label>\n                                                <input class="note-mbr-email form-control" type="text" />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="phone">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal phone-link-label">Call Phone Number</label>\n                                                <label class="font-weight-normal phone-link-example">'+n("e.g.")+', +1-234-5678910</label>\n                                                <input class="note-mbr-phone form-control" type="text" />\n                                            </div>\n                                            <div class="col-sm-6 phone-messengers">\n                                                <div class="row">\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="tel" checked>\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Phone\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="whatsapp">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                WhatsApp\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="telegram">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Telegram\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="sms">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                SMS\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="viber">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Viber\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="skype">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Skype\n                                                            </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane file-library" id="file">\n                                        <button class="btn btn-primary" id="link-add-file-btn">'+n("Browse Computer")+'</button>\n                                        <span class="formats">'+n("Choose pdf, doc, docx, ppt, pptx, xls, xlsx, odp or odt file")+'</span>\n                                        <div class="form-group links-wrap"></div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(g.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="custom">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+n("Custom URL")+", "+n("e.g.")+', /dir123/page123.php</label>\n                                                <input class="form-control note-mbr-custom-url" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(g.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+n("Open in new window")+"\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",buttons:{insert:{label:n("Insert Link"),className:"note-mbr-link-btn",default:!0},delete:{label:n("Remove Link"),className:"note-mbr-delete-link-btn"}},show:function(t){h(m,t,g,l).then((function(t){if(m){m.trigger("blur"),a(m,t,v,d,u,p);var n=m.closest("[data-app-component-id]").attr("data-app-component-id");e.fire("successTextLinkDialog",t,n)}else r&&r(t)})).fail((function(){m&&m.trigger("blur")}))},hide:function(){o=!1}})}}},events:{loadedProject:function(){e.addFilter("uploadFilesStart",(function(n,o){var r=t.Deferred();return n.then((function(t,n){i.dirList(e.projectPath+"/assets/files/",(function(i){for(var o=i.length,a=0;a<o;a++)t.push({dest:"assets/files/"+i[a],srcList:[{src:e.projectPath+"/assets/files/"+i[a]}]});r.resolve(t,n)}),{filter:1,recursive:!1})})),r}))}}})}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27);defineM("app-amp",(function(t,e){e.regExtension({name:"app-amp",global:{registeredAmpPlugins:[],registerAmpPlugin:function(t){var n=function(t){t&&-1===e.registeredAmpPlugins.indexOf(t)&&e.registeredAmpPlugins.push(t)};Array.isArray(t)&&0!==t.length?t.forEach((function(t){n(t)})):n(t)},isAMP:function(){var t;try{t=!!e.theme.params.theme.isAMP}catch(e){t=!1,console.error("APP.isAmp: failed to determine theme type.")}return t}},events:{coreLoad:function(){if(e.theme.params.theme.isAMP){for(var n in console.log("AMP theme loaded"),e.Core.$body.find("#scrollToTop").remove(),e.addFilter("previewTemplating",(function(e){if(e){var n=t(e);if(n.find("section.menu").length){var i=n.find("amp-sidebar"),o=n.find(".navbar-collapse");0!=o.length&&(i.find(".builder-sidebar").append(o.html()),n.find("section.horizontal-menu .navbar-toggler").remove(),n.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href"))}}return e})),e.addFilter("publishTemplating",(function(e,n){if(-1!==n.indexOf(".html")){var i=e.match(/<body>[^]*(.*)<\/body>/),o=t('<div class="sandbox">').html(i);if(o.find("section.menu").length){var r=o.find("amp-sidebar"),a=r.attr("side"),s=r.attr("id"),l=r.closest("section").attr("class").match(/cid-\w+/)||"",c=r.attr("layout"),d=o.find(".navbar-collapse");0!=d.length&&(r.find(".builder-sidebar").append(d.html()),o.find("section.horizontal-menu .navbar-toggler").remove(),o.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),o.prepend('<amp-sidebar id="'+s+'"                                             class="'+(l?l[0]:"")+'"                                            layout="'+c+'" side="'+a+'">'+r.html()+"</amp-sidebar>"),r.remove()}if(o.find("section.map").length&&o.find("section.map").each((function(){var e=t(this).find(".google-map"),n=t(this).find("iframe"),i=n.attr("src"),o=t(this).find(".map-placeholder"),r='<amp-iframe src="'+i+'" height="400"                                 layout="fill" sandbox="allow-scripts allow-same-origin                                 allow-popups" frameborder="0" class="placeholder-loader">'+o.html()+"</amp-iframe>";e.prepend(r),n.remove(),o.remove()})),o.find("section.slider").length&&o.find("section.slider").each((function(){if(t(this).find(".super-hide").each((function(){t(this).remove()})),"slides"==t(this).find("amp-carousel").attr("type")){var e=t(this).find(".slider-box").attr("data-autoplay"),n=t(this).find(".slider-box").attr("data-delay");e&&(t(this).find("amp-carousel")[0].setAttribute("autoplay",""),t(this).find("amp-carousel").attr("delay",n))}})),o.find(".amp-accordion").length&&o.find(".amp-accordion").each((function(){for(var e=t(this).find(".accordion-item:not(.super-hide)"),n=0;n<e.length;n++){for(var i="tap:",o=0;o<e.length;o++)i+=t(e[o]).find(".accordion-item-body").attr("id"),i+=n==o?".toggleVisibility,":".hide,",t(e[o]).find(".accordion-title .fa-plus").length&&(i+=t(e[o]).find(".fa-plus").attr("id"),i+=n==o?".toggleVisibility,":".show,",i+=t(e[o]).find(".fa-minus").attr("id"),i+=n==o?".show,":".hide,");i=i.substring(0,i.length-1),t(e[n]).find(".accordion-title").attr("on",i)}})),o.find(".builder-overlay").length&&o.find(".builder-overlay").each((function(){t(this).removeClass("builder-overlay")})),o.find("form.mbr-form").length&&o.find("form.mbr-form").each((function(){var e=t(this).find('*[name^="form[data]"]'),n=0;t(this).find("div[submit-error] > template").html("Failed! {{error}}");for(var i=0;i<e.length;i++){if("hidden"!=t(e[i]).attr("type")){var o="form[data]["+n+"][0]",r="form[data]["+n+"][1]";t(e[i-1]).attr("name",o),t(e[i]).attr("name",r),n++}"hidden"==t(e[i]).attr("type")&&"hidden"==t(e[i-1]).attr("type")&&t(e[i-1]).remove(),i+1==e.length&&"hidden"==t(e[i]).attr("type")&&t(e[i]).remove()}})),o.find("section.slider-with-bullets").length&&o.find("section.slider-with-bullets").each((function(){var e="carousel"+t(this).attr("id").replace(/[-]/g,""),n="selected"+t(this).attr("id").replace(/[-]/g,""),i="slideChange:AMP.setState({"+n+": {slide :event.index}})",o=0;t(this).prepend('<amp-state id= "'+n+'"><script type="application/json">{"slide": 0}<\/script></amp-state>'),t(this).find("amp-carousel").attr({on:i,id:e}),t(this).find(".dots-wrapper .dots").each((function(){var i="tap:"+e+".goToSlide(index="+o+")",r=n+".slide == '"+o+"' ? 'current' : ''",a=t(this).find("span"),s=a.text(),l='<span role="button" tabindex="'+o+'" on="'+i+'" [class]="'+r+'"';0==o&&(l+=' class="current"'),l+=">"+s+"</span>",t(this).prepend(l),a.remove(),o++}))})),o.find("section.carousel-with-preview").length){var u,p=0;o.find("section.carousel-with-preview").find("amp-carousel").each((function(){var e=[],n=0;t(this).attr("id","carousel-with-preview"+p),u=t(this).attr("id"),t(this).find(".carousel-img").each((function(){e.push(t(this).attr("src"))})),t(this).parent().parent().find(".preview .btn-img").each((function(){t(this).attr("on","tap:"+u+".goToSlide(index="+n+")"),n++})),t(this).parent().parent().find(".preview .preview-img").each((function(){t(this).attr("src",e.shift()),n++})),p++}))}o.find("section.video-with-button-image").length&&o.find("section.video-with-button-image").each((function(){var e="img"+t(this).attr("id").replace(/[-]/g,""),n="video"+t(this).attr("id").replace(/[-]/g,"");t(this).find(".img-block").attr("id",e),t(this).find(".video-block").attr("id",n),t(this).find(".video-wrap .iconbox").attr("on","tap:"+e+".hide,"+n+".show")})),o.find("section.video-with-lightbox").length&&o.find("section.video-with-lightbox").each((function(){var e="my-lightbox"+t(this).attr("id").replace(/[-]/g,"");t(this).find("amp-lightbox").attr("id",e),t(this).find(".iconbox").length&&t(this).find(".iconbox").attr("on","tap:"+e),t(this).find("amp-lightbox .lightbox").attr("on","tap:"+e+".close")}));var f="<body>"+t(o).html()+"</body>";e=e.replace(/<body>[^]*(.*)<\/body>/,f)}return e})),e.Core.on("changeComponentParams",(function(n,o,r){var a=e.Core.getComponent(n),s=e.$template.find("[data-app-component-id="+n+"] > .app-component-content");if("videoUrl"===o){var l=r;if((s.find("amp-youtube").length||s.find("amp-vimeo").length)&&(-1!==l.indexOf("youtu")||-1!==l.indexOf("vimeo"))){var c,d=s.find("amp-youtube").length?s.find("amp-youtube"):s.find("amp-vimeo"),u=s.find(".video-block"),p="",f=d.attr("layout"),h=d.attr("class"),m=t(d).attr("autoplay");if(-1!==l.indexOf("youtu"))""!=(c=(c=-1!==(c=-1!==l.indexOf("v=")?l.split("v=")[1]:"").indexOf("&")?c.split("&")[0]:c).split("&")[0])&&(p='<amp-youtube width="16" height="9" layout="'+f+'" data-videoid="'+c+'"',"undefined"!==(void 0===m?"undefined":i(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===h?"undefined":i(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-youtube>");else if(-1!==l.indexOf("vimeo")){try{c=l.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){c=""}""!=c&&(p='<amp-vimeo width="16" height="9" layout="'+f+'" data-videoid="'+c+'"',"undefined"!==(void 0===m?"undefined":i(m))&&!1!==m&&(p+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===h?"undefined":i(h))&&!1!==h&&(p+=' class="'+h+'"'),p+="></amp-vimeo>")}u.prepend(p),d.remove()}}if("date"===o||"time"===o||"lang"===o||"zone"===o){var g=s.find(".amp-countdown-wrap");if(s.find(".amp-countdown").length){var v=s.find(".amp-countdown"),b=v.clone(),y=b.attr("end-date");"date"===o?(y=r+"T"+y.split("T")[1],b=b.attr("end-date",y)):"time"===o&&(y=y.split(".0")[0].split("T")[0]+"T"+r+".0"+y.split(".0")[1],b=b.attr("end-date",y)),"lang"===o&&(b=b.attr("locale",r)),"zone"===o&&(y=y.split(".0")[0]+".0"+r,b=b.attr("end-date",y)),g.prepend(b),v.remove()}}if("trackId"===o||"playlistId"===o||"scHeight"===o||"scColor"===o||"audioLink"===o){var w=s.find(".sound-block");if(("trackId"===o||"playlistId"===o)&&s.find("amp-soundcloud").length){var x=r,_=(k=s.find("amp-soundcloud")).clone();"trackId"===o?_.attr("data-trackid",x):"playlistId"===o&&_.attr("data-playlistid",x),w.prepend(_),k.remove()}if("scHeight"===o&&s.find("amp-soundcloud").length){var S=(k=s.find("amp-soundcloud")).attr("height");k.css("height",S+"px")}if("scColor"===o&&s.find("amp-soundcloud").length){_=(k=s.find("amp-soundcloud")).clone();var k,C=-1!==r.indexOf("#")?r.split("#")[1]:"";_.attr("data-color",C),w.prepend(_),k.remove()}if("audioLink"===o&&s.find("amp-audio").length){var P=s.find("amp-audio"),T=r,E=P.clone();E.attr("src",T),w.prepend(E),P.remove()}}if("fbLink"===o){var A=s.find(".facebook-wrap"),j="";s.find("amp-facebook").length?j="amp-facebook":s.find("amp-facebook-page").length?j="amp-facebook-page":s.find("amp-facebook-like").length&&(j="amp-facebook-like");var L=s.find(j),$=L.clone().empty();$.attr("data-href",r),A.prepend($),L.remove()}if("carouselHeight"===o){var F=s.find("amp-carousel"),O=F.find("amp-fit-text");S=F.attr("height");F.css("height",S+"px"),O.css("height",S+"px")}if("animatedText"===o&&s.find(".animated-text").length){var D=s.find(".animated-text"),I=a._params.animatedText;D.text(I)}if("linkPostFacebook"===o||"numpostsFacebook"===o){var N=s.find(".mbr-facebook-comments"),B=s.find("amp-facebook-comments"),M=a._params.numpostsFacebook,R=a._params.linkPostFacebook;"linkPostFacebook"===o&&(R=r),"numpostsFacebook"===o&&(M=r);var U='<amp-facebook-comments height="9"                                                         layout="fixed-height" class="container"                                                        data-numposts="'+M+'"                                                         data-href="'+R+'">';N.append(U),B.remove()}if("dateFormat"!==o&&"datepickerLocale"!==o&&"minDate"!==o&&"maxDate"!==o||s.find(".date-picker-wrap").length&&("dateFormat"===o?t(s).find("amp-date-picker").attr("format",r):"datepickerLocale"===o?t(s).find("amp-date-picker").attr("locale",r):"minDate"===o?t(s).find("amp-date-picker").attr("min",r):"maxDate"===o&&t(s).find("amp-date-picker").attr("max",r)),("containersCount"===o||"firstCount"===o||"secondCount"===o||"thirdCount"===o||"fourthCount"===o)&&s.find("section.gallery").length){(q=t("<div>")).html(a._customHTML);var z=e.Core.$template.find("[data-app-component-id="+n+"] .app-component-content"),H=e.Core.getSecondaryComponent(a);if(a._customHTML=q.html(),e.isSecondaryComponent(a)&&!H.isActualTemplate()){var W=H.update().createElementFromTemplate();e.Core.$window[0].rivets.unbind(z).bind(W,a),z.html(W),e.Core.fire("loadedComponent",a,e.Core.currentPage,e.Core.$template,!1)}}if("imagesAmount"===o&&s.find(".slider").length){var q;(q=t("<div>")).html(a._customHTML);for(var V=q.find(".slider-box"),G=q.find("amp-carousel"),Y=t(G).clone().empty(),K=q.find("amp-carousel > *"),J=r;K.length<J;)K.push(t(K[K.length-1]).clone().get(0));for(;K.length>J;)K.splice(-1,1);K.each((function(){Y.append(t(this).clone())})),t(G).remove(),t(V).prepend(Y),q.find(".dots span").length&&(q.find(".dots span").each((function(){t(this).removeClass("current")})),q.find(".dots span").eq(0).addClass("current"));z=e.Core.$template.find("[data-app-component-id="+n+"] .app-component-content"),H=e.Core.getSecondaryComponent(a);if(a._customHTML=q.html(),e.isSecondaryComponent(a)&&!H.isActualTemplate()){W=H.update().createElementFromTemplate();e.Core.$window[0].rivets.unbind(z).bind(W,a),z.html(W),e.Core.fire("loadedComponent",a,e.Core.currentPage,e.Core.$template,!1)}}})),e.Core.on("loadedComponent",(function(n,o,r,a){var s=t(r).find("[data-app-component-id="+n._id+"]"),l=e.Core.$template.find("[data-app-component-id="+n._id+"] .app-component-content");if(a)s.find("*[once]").each((function(){t(this).removeAttr("once")})),r.find("amp-sidebar").length&&l.length&&-1!==n._plugins.indexOf("amp-sidebar")&&(t(l.find("section").attr("class").split(" ")).each((function(t){0===this.indexOf("cid-")&&(c=this)})),r.find("amp-sidebar").addClass(c)),t(r).find("img.mbr-temp").each((function(n,i){var o=t(this).attr("src");t(this).closest("amp-img").attr("src",e.addImage2PublishList(o)),t(this).remove()})),t(r).find("form").each((function(){t(this).removeAttr("action").removeAttr("novalidate").attr("action-xhr","https://f.8b.com/api/sites/"+e.projectSettings.id+"/forms/data/")})),t(r).find("amp-img[lightbox]").each((function(){var e=t(this).closest("section").attr("id");t(this).attr("lightbox",e)}));else{s.find("i-amphtml-sizer").each((function(){t(this).addClass("temp-amp-sizer"),"AMP-CAROUSEL"===this.parentNode.tagName&&t(this).css("position","static")}));var c,d=l.find("amp-sidebar"),u=l.find("section");d.length&&(l.find('button[on="tap:sidebar.toggle"]').on("click",(function(){u.toggleClass("sidebar-open"),d.toggleClass("open"),d.css({display:"block",transform:"translateX(0%)!important"})})),l.find('button[on="tap:sidebar.close"]').on("click",(function(){u.toggleClass("sidebar-open"),d.toggleClass("open"),d.css({display:"none",transform:"translateX(100%)!important"})}))),l.find("img.mbr-temp").each((function(n,i){var o=t(this).attr("src"),r=t(this).parents("amp-carousel"),a=r.height?r.attr("height"):null,s=t(this).attr("alt");t(this).closest("amp-img").attr("src",o),t(this).closest("amp-img").attr("alt",s),t(this).on("load",(function(n){var i=t('<div id="amp-sandbox">'),o=e.Core.getComponent(t(this).closest(".app-component").attr("data-app-component-id")),s=e.Core.$template.find("[data-app-component-id="+o._id+"] .app-component-content"),l=t(this).height(),c=this.naturalWidth/this.naturalHeight*l,d=t(this).attr("src"),u=t(this).attr("alt");if(o){i.html(o._customHTML),r&&a&&(l=a,c=this.naturalWidth/this.naturalHeight*l);var p=s.find("amp-img"),f=(s.find("amp-carousel"),t(this).closest("amp-img")),h=i.find("img.mbr-temp")[p.index(f)],m=e.Core.getSecondaryComponent(o),g=t(p[p.index(f)]).parents("amp-carousel");if(c&&l&&d){if(t(h).attr("src",d).closest("amp-img").attr("width",c).attr("height",l).attr("src",d).attr("alt",u||""),o._customHTML=i.html(),0===t(this).closest("amp-img").parents(".lightbox").length&&e.isSecondaryComponent(o)&&!m.isActualTemplate()){var v=m.update().createElementFromTemplate();if(e.Core.$window[0].rivets.unbind(s).bind(v,o),s.html(v),s.find(".preview .preview-img").length&&s.find("section.carousel-with-preview").length&&g.length&&d!=t(p[p.index(f)]).attr("src")){var b=0;t.each(r,(function(){for(var e=0;p[p.index(f)]!==t(this).find("amp-img")[e]&&t(this).find("amp-img")[e];)e++;if(t(this).find("amp-img")[e]&&s.find(".preview .preview-img")[b+e])return t(s.find(".preview .preview-img img")[b+e]).attr("src",d),!1;b+=t(this).find("amp-img").length}))}e.Core.fire("loadedComponent",o,e.Core.currentPage,e.Core.$template,!1)}t("#amp-sandbox").remove()}}})),t(this).addClass("nodisplay")}))}if(s.find("amp-youtube").length||s.find("amp-vimeo").length){var p=n._params.videoUrl;if(!p||-1==p.indexOf("youtu")&&-1==p.indexOf("vimeo"))return void(s.find("amp-vimeo").length?n._params.videoUrl="https://vimeo.com/"+s.find("amp-vimeo").attr("data-videoid"):n._params.videoUrl="https://www.youtube.com/watch?v="+s.find("amp-youtube").attr("data-videoid"));var f,h=s.find("amp-youtube").length?s.find("amp-youtube"):s.find("amp-vimeo"),m=s.find(".video-block"),g="",v=h.attr("layout"),b=h.attr("class"),y=t(h).attr("autoplay");if(-1!==p.indexOf("youtu"))""!=(f=(f=-1!==(f=-1!==p.indexOf("v=")?p.split("v=")[1]:"").indexOf("&")?f.split("&")[0]:f).split("&")[0])&&(g='<amp-youtube width="16" height="9" layout="'+v+'" data-videoid="'+f+'"',"undefined"!==(void 0===y?"undefined":i(y))&&!1!==y&&(g+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===b?"undefined":i(b))&&!1!==b&&(g+=' class="'+b+'"'),g+="></amp-youtube>");else if(-1!==p.indexOf("vimeo")){try{f=p.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){f=""}""!=f&&(g='<amp-vimeo width="16" height="9" layout="'+v+'" data-videoid="'+f+'"',"undefined"!==(void 0===y?"undefined":i(y))&&!1!==y&&(g+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===b?"undefined":i(b))&&!1!==b&&(g+=' class="'+b+'"'),g+="></amp-vimeo>")}m.prepend(g),h.remove()}if(s.find(".animated-text").length){var w=s.find(".animated-text"),x=n._params.animatedText;w.text(x)}if(s.find(".amp-accordion").length){s.find(".accordion-item").each((function(){var e=t(this);t(this).find(".accordion-title").on("click",(function(){s.find(".accordion-item-body").each((function(){t(this).attr("hidden",!0)})),e.find(".accordion-item-body").removeAttr("hidden"),s.find(".accordion-title .fa-plus").length&&(s.find(".fa-plus").each((function(){t(this).removeAttr("hidden")})),e.find(".fa-minus").removeAttr("hidden"),e.find(".fa-plus").attr("hidden",!0))}))}));for(var _=s.find(".accordion-item"),S=0;S<_.length;S++)t(_[S]).find(".accordion-item-body").attr("id","amp-accordion-item"+(S+1)+n._id),s.find(".accordion-title .fa-plus").length&&(t(_[S]).find(".fa-minus").attr("id","fa-minus"+(S+1)+n._id),t(_[S]).find(".fa-plus").attr("id","fa-plus"+(S+1)+n._id))}if(s.find(".img-with-overlay").length&&s.find(".img-with-overlay").each((function(){t(this).addClass("builder-overlay")})),s.find("amp-date-picker").length){var k=s.find("amp-date-picker"),C=k.find("input"),P="input-date"+n._id;k.attr("input-selector","."+P),C.removeClass("input-date").addClass(P)}if(s.find("amp-soundcloud").length&&s.find("amp-soundcloud").each((function(){if(-1!==t(this).attr("data-color").indexOf("#")){var e=t(this).attr("data-color").indexOf("#"),n=t(this).attr("data-color").substring(e+1);t(this).attr("data-color",n)}})),s.find("div.placeholder").length&&s.find("div.placeholder").each((function(){var e=!1;t(this).parents().each((function(){"none"==t(this).css("display")&&(e=!0)})),t(this).parents().is(".is-builder")&&e&&t(this).css("display","none")})),l.find("section.slider-with-bullets").length){var T=t("<div>");T.html(n._customHTML);for(var E=T.find(".slider-box"),A=T.find("amp-carousel"),j=t(A).clone().empty(),L=T.find("amp-carousel > *"),$=n._params.imagesAmount;L.length<$;)L.push(t(L[L.length-1]).clone().get(0));for(;L.length>$;)L.splice(-1,1);L.each((function(){j.append(t(this).clone())})),t(A).remove(),t(E).prepend(j),T.find(".dots span").each((function(){t(this).removeClass("current")})),T.find(".dots span").eq(0).addClass("current");var F=e.Core.getSecondaryComponent(n);if(n._customHTML=T.html(),e.isSecondaryComponent(n)&&!F.isActualTemplate()){var O=F.update().createElementFromTemplate();e.Core.$window[0].rivets.unbind(l).bind(O,n),l.html(O),e.Core.fire("loadedComponent",n,e.Core.currentPage,e.Core.$template,!1)}var D=s.find(".dots-wrapper span");for(S=0;S<D.length;S++)t(D[S]).on("click",(function(e){var n=s.find("amp-carousel .i-amphtml-slides-container > div");n.each((function(){t(this).addClass("hidden-slide").removeClass("visible-slide")}));var i=D.index(e.target);t(n[i]).addClass("visible-slide").removeClass("hidden-slide"),D.each((function(){t(this).removeClass("current")})),t(this).addClass("current")}))}if(l.find("section.carousel-with-preview").length){var I=0;t.each(l.find("amp-carousel"),(function(){for(var e=0;e<t(this).find("amp-img").length;e++,I++)t(t(this).find("amp-img")[e]).attr("src")!==t(l.find(".preview .preview-img img")[I]).attr("src")&&t(l.find(".preview .preview-img img")[I]).attr("src",t(t(this).find("amp-img")[e]).attr("src"))}))}})),e.iconFonts)(e.iconFonts[n].root||e.iconFonts[n].addon_root)&&delete e.iconFonts[n];e.registerPlugin({name:"fontawesome",condition:!1,priority:900,iconfont:{family:"FontAwesome",title:"FontAwesome",prefix:"fa-",class:"fa",names:["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","remove","search-plus","search-minus","power-off","signal","gear","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","rotate-right","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","dedent","indent","video-camera","photo","pencil","map-marker","adjust","tint","edit","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","mail-forward","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","warning","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart-o","twitter-square","facebook-square","camera-retro","key","gears","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook-f","github","unlock","credit-card","feed","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","group","chain","cloud","flask","cut","copy","paperclip","save","square","navicon","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","unsorted","sort-down","sort-up","envelope","linkedin","rotate-left","legal","dashboard","comment-o","comments-o","flash","sitemap","umbrella","paste","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile-phone","circle-o","quote-left","quote-right","spinner","circle","mail-reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","mail-reply-all","star-half-empty","location-arrow","crop","code-fork","unlink","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","toggle-down","toggle-up","toggle-right","euro","gbp","dollar","rupee","cny","ruble","won","bitcoin","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gittip","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","toggle-left","dot-circle-o","wheelchair","vimeo-square","turkish-lira","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","institution","mortar-board","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","automobile","cab","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-photo-o","file-zip-o","file-sound-o","file-movie-o","file-code-o","vine","codepen","jsfiddle","life-bouy","circle-o-notch","ra","ge","git-square","git","y-combinator-square","tencent-weibo","qq","wechat","send","send-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","soccer-ball-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","shekel","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","intersex","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","hotel","viacoin","train","subway","medium","pied-piper"]},files:["web/assets/fontawesome/css/font-awesome.css","web/assets/fontawesome/fonts/fontawesome-webfont.eot","web/assets/fontawesome/fonts/fontawesome-webfont.svg","web/assets/fontawesome/fonts/fontawesome-webfont.ttf","web/assets/fontawesome/fonts/fontawesome-webfont.woff"]}),e.on("runIconFontDialog",(function(t){t.addClass("amp-icons-dialog")})),e.addFilter("allUsedPluginsForPage",(function(t,n){return e.getPlugin("amp-bind")&&-1==t.indexOf("amp-bind")&&e.Core.resultJSON[n].components.some((function(t){return/<form.+?class=".*?mbr-form/.test(t._customHTML)}))&&t.push("amp-bind"),e.getThemeSettings("isScrollToTopButton")||(!e.Core.resultJSON[n].components.some((function(t){return/<amp-animation/.test(t._customHTML)}))&&t.includes("amp-animation")&&t.splice(t.indexOf("amp-animation"),1),!e.Core.resultJSON[n].components.some((function(t){return/<amp-position-observer/.test(t._customHTML)}))&&t.includes("amp-position-observer")&&t.splice(t.indexOf("amp-position-observer"),1)),t})),e.addFilter("getPluginResource",(function(t,n,i,o,r){if(0===n.indexOf("amp-")&&"js"===i&&r){var a="amp-main"===n,s="amp-mustache"===n,l='custom-element="'+n+'"',c='custom-template="'+n+'"';t.js_head="<script async "+(a?"":s?c:l)+' src="'+o+'"><\/script>\n  '}return"amp-animation"!==n&&"amp-date-countdown"!==n||(!e.Core.$body.find("amp-animation").length&&"amp-animation"===n||!e.Core.$body.find("amp-date-countdown").length&&"amp-date-countdown"===n)&&(t.js_head=""),t})),e.addFilter("filterUserBlocks",(function(t){return t.filter((function(t){return t.isAMP}))})),e.addFilter("prepareAmpStyles",(function(n,i){var r=this,a=t.Deferred(),s=mbrApp.getPluginsFilesForPublish(),l=function(t){for(var e=t.match(/https.*\w/g)||"",i=function(t){if(t){for(var e={},n=0;n<t.length;n++){e[t[n]]=!0}return Object.keys(e)}return[]}(t.match(/https.*(googleapis).*\w/g)),o=0,r=e.length;o<r;o++)t=t.replace("@import url("+e[o]+");","");return i.forEach((function(t){n+='<link href="'+t+'" rel="stylesheet">\n '})),t},c=function(t){var e=t;return e=e.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!")},d=n.match(/<[^>]*>/g);d&&d.length&&(d=d.filter((function(t){return-1===t.indexOf("app.8b.io")&&(-1!==t.indexOf("https")||-1!==t.indexOf("http"))})),n=d.join("")+"\n"),n+='<link rel="canonical" href="'+(e.projectSettings.publicUrl+("index.html"===i?"":i))+'">\n ',n+="<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>\n",n=(n+="<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n").replace(/!important/g,"");var u=[],p="";return s.forEach((function(e){var n=t.Deferred();e.dest&&-1!==e.dest.indexOf("theme/css/style.css")?o.Bridge.loadLocalFile(e.src,(function(t){t?(p+=t,n.resolve()):n.resolve()})):r.registeredAmpPlugins.length?r.registeredAmpPlugins.forEach((function(t){e&&e.src&&-1!==e.src.indexOf(".css")&&-1!==e.src.indexOf(t)?o.Bridge.loadLocalFile(e.src,(function(t){t||n.resolve(),p+=t,n.resolve()})):n.resolve()})):n.resolve(),u.push(n.promise())})),t.when.apply(this,u).then((function(){(p=c(p)).length>5e4&&a.reject(new Error("Author stylesheet is larger than 50,000 bytes.")),r.additionalStyles=l(r.additionalStyles),r.additionalStyles=c(r.additionalStyles),n=(n+="\n <style amp-custom> \n"+p+"\n"+r.additionalStyles+'\n[class*="-iconfont"]{display: inline-flex;}</style>\n ').replace(/!important/g,""),a.resolve(n)})),a.promise()})),e.addFilter("publishFiles",(function(t){for(var e=0;e<t.length;){var n=t[e].dest;n.endsWith(".css")||n.endsWith(".js")&&!n.endsWith("sw.js")&&!n.endsWith("sw-toolbox.js")?t.splice(e,1):e++}return t})),e.addFilter("publishHTML",(function(t){return e.isAMP()&&(t=t.replace("<html","<html amp")),t}))}else mbrApp.addFilter("filterUserBlocks",(function(t){return t.filter((function(t){return!t.isAMP}))}))}}})}),["jQuery","mbrApp"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(27);defineM("app-component-presets",(function(t,e,n){function r(){var n=e.$body.find("#edit-component-params .preset-slider .block-presets .preset").length,i=e.$body.find("#edit-component-params .preset-slider"),o=e.$body.find("#edit-component-params .presets-wrapper"),r=250*n,a=0;o.find(".active-number").html(a+1+"/"+n),i.css({width:250,height:150}),i.find(".block-presets").css({width:r,height:150,marginLeft:-250}),i.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),i.find(".active-number").html(a+1+"/"+n),t(".preset-slider .sl-prev").click((function(t){var r=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(e.Core.getComponent(r)._name)&&e.Core.render(r),i.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),i.find(".block-presets").css("left",""),a=a-1<0?n-1:a-1,o.find(".active-number").html(a+1+"/"+n),i.find(".preset[data-id="+a+"]").click()})),t(".preset-slider .sl-next").click((function(t){var r=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(e.Core.getComponent(r)._name)&&e.Core.render(r),i.find(".block-presets .preset:first-child").appendTo("#edit-component-params .preset-slider .block-presets"),i.find(".block-presets").css("left",""),a=a+1>n-1?0:a+1,o.find(".active-number").html(a+1+"/"+n),i.find(".preset[data-id="+a+"]").click()}))}function a(t){if(t){for(var e in t){if("bg"===e)for(var n in t[e])"type"!==n&&"value"!==n&&delete t.bg[n];0===e.indexOf("uname__")&&delete t[e]}return t}}function s(n){var i=e.Core.getComponent(n);return{name:"default",params:a(t.extend(!0,{},i._params)),styles:t.extend(!0,{},i._styles)}}e.regExtension({name:"component-presets",global:{exBlockPreset:{},presetsLoading:!1,renderComponentPresets:function(t,n,i){var r=void 0,a=void 0,l=void 0,c=function(n,r){var a="";return"default"!==n[0].name?n.unshift(s(t)):n[0]=s(t),n.map((function(t,n){0===n&&i||(0!==n||i?t.type&&"fromProject"===t.type?a+='<div class="preset" data-id="'+n+'">\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+t.skin+'">\n\t\t\t\t\t\t\t\t\t\t</div>':a+='<div class="preset" data-id="'+n+'">\n\t\t\t\t\t\t\t\t\t\t<img src="'+o.Bridge.path2app(e.getAddonDir(e.DEFAULT_THEME))+"/components/"+r+"/presets/"+t.skin+'">\n\t\t\t\t\t\t\t\t\t</div>':a+='<div class="preset default" data-id="0">\n\t\t\t\t\t\t\t\t\t\t\t<div style="padding: 5px;">Current Layout</div>\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+o.Bridge.path2app(e.getAddonDir(e.DEFAULT_THEME))+"/components/"+l+'/thumb.png">\n\t\t\t\t\t\t\t\t\t\t</div>')})),a};return!isNaN(parseFloat(t))&&isFinite(t)?(e.Core.getComponentParams(t),r=e.Core.getComponent(t),l=r._name,a=e.getAddonDir(e.theme.name)+"/components/"+l+"/presets/list.json"):(l=n,a=e.getAddonDir(e.theme.name)+"/components/"+l+"/presets/list.json"),new Promise((function(i,r){e.components[l]&&!0!=!e.components[l].presets?o.Bridge.isExistsLocal(a,(function(s){s&&o.Bridge.getLocalJSON(a,(function(o){o&&o.presets&&Array.isArray(o.presets)?(o.presets.forEach((function(t){t.params&&t.params.bg&&"image"===t.params.bg.type&&(t.params.bg.value=e.theme.pathCore+"/components/"+l+t.params.bg.value)})),e.exBlockPreset[l]?o.presets.forEach((function(t){e.exBlockPreset[l].presets.some((function(e){return t.name===e.name}))||e.exBlockPreset[l].presets.push(t)})):e.exBlockPreset[l]=o,i({id:t,name:n,count:o.presets.length,template:'<div class="block-presets">\n\t\t\t\t\t\t\t\t\t\t\t\t\t'+c(e.exBlockPreset[l].presets,l)+"\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>"})):r()}),(function(t){i("")}))})):i(!1)}))}},events:{load:function(){var n=this;n.$body.on("click",".block-presets > .preset",(function(o){o.preventDefault();var r=t('<div class="preloader no-select" style="background-color: rgba(255,255,255,.8)"></div>').html('<div class="preloader-wrapper">\n                                    \t\t<div style="transform: scale(0.35);">\n\t\t\t                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="200" height="200">\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="230" stroke-dashoffset="230" cx="150" cy="150" r="145">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="900" to="0" dur="3s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="212" cx="150" cy="150" r="135">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="850" to="0" dur="1.5s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>');t(r).addClass("comp-preloading"),t(o.target).closest(".preset-slider").prepend(r),setTimeout((function(){var a=t(o.target).closest("section").attr("data-component-id"),s=e.Core.getComponent(a),l=t(o.target).closest(".preset").attr("data-id"),c=t(o.target).closest(".preset").hasClass("default"),d=void 0,u=void 0;n.presetsLoading=!0,c?(d=t.extend(!0,{},e.exBlockPreset[s._name].presets[0].params),u=t.extend({},e.exBlockPreset[s._name].presets[0].styles)):(d=t.extend(!0,{},e.exBlockPreset[s._name].presets[+l].params),u=t.extend({},e.exBlockPreset[s._name].presets[+l].styles)),d=function(n,o){var r=e.Core.getComponent(n),a=e.Core.getComponentParams(n).default,s=e.Core.getComponentParams(n).current;if(o.bg&&"object"===i(o.bg)&&a.bg){var l=a.bg.default[o.bg.type].sourceProp;r.usersParams&&r.usersParams[l]&&(o.bg.value=r.usersParams[l])}for(var c in t.extend(!0,o,r.usersParams),o)o[c]===s[c]&&delete o[c];return o}(a,d),e.Core.changeComponentParamsObj(a,d),r.remove(),s._styles=t.extend({},s._defaultStyles,u),e.Core.renderComponentsStyles(),e.fire("presetSwitched",a),n.presetsLoading=!1}),50)})),e.on("presetsReady",(function(){r()})),e.Core.on("changedComponentParams",(function(t,i,o){if(!n.presetsLoading){var r=e.Core.getComponent(t);r&&(r.usersParams=r.usersParams||{},r.usersParams[i]=o)}}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-logging",(function(t,e,n){e.regExtension({name:"logging",global:{stagingElement:t("<div class='staging'>").appendTo(".preloader .logo.top"),stagingStartTime:new Date,stagingMessage:["..."],stagingTime:[new Date],stagingDuration:[],staging:function(t,e){this.stagingMessage.push(t),this.stagingTime.push(new Date);var n=(new Date-(this.stagingTime[this.stagingTime.length-2]||this.stagingStartTime))/1e3;this.stagingDuration.push(n),this.stagingElement.html(t),console.log("logging:",t,(new Date-this.stagingStartTime)/1e3),e&&e()}},events:{bridgeInit:function(){t(".preloader .painter").css({width:"45%",transition:"width 2.4s"}),this.addFilter("loadComponentsHTML",(function(t){return this.staging("prepare Components Palette"),t}))},addonLoaded:function(e,n){t(".preloader .painter").css({width:"70%",transition:"width 1.1s"}),this.staging("loading "+n.title,(function(){}))},addonLoadFinish:function(e){t(".preloader .painter").css({width:"100%",transition:"width 1.5s"})},beforeCoreLoad:function(){},coreLoad:function(){e.on("loadedComponentTemplates",(function(){this.staging("init Components Palette")})),this.addFilter("loadComponents",(function(t){return this.staging("loadComponents"),t}))},load:function(){},loaded:function(){this.staging("loaded",(function(){t(".preloader .painter").css({width:"100%",transition:"width 0s"})}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-form-editor",(function(t,e,n,i){var o,r,a=function(){var t=new JSEncrypt;return t.setPublicKey(FORMOID_PUBLIC_KEY),function(e){return e.match(/(^$|[\s\S]{64}|[\s\S]{1,63}$)/g).map((function(e){return t.encrypt(e)})).join(".")}}(),s=function(t){return/^((([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},l=function(t){return""==t||/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(t)||s(t)},c=!0,d=function(n,i,l,d){var u=l[n.attr("mbr-form")]||{},p="true"===l._params.usedRecaptcha;if(n.find('a[type="submit"]').each((function(){t(this).replaceWith(this.outerHTML.replace(/(<\/?)a(\W)/gi,"$1button$2"))})),s(u.action)){o=r=!0;var f=l.title?l.title.replace(/(<([^>]+)>)/gi,""):u.title||"UNTITLED FORM",h=n.attr("data-rcpha_secretKey"),m=n.attr("data-rcpha_siteKey"),g=n.attr("data-rcpha_label");n.attr("data-rcpha")&&"true"===g&&(c=!1),n.find("[data-form-email]").length||(n.prepend('<input type="hidden" name="email" data-form-email="true">'),e.isAMP()||(n.attr("data-rcpha")&&n.attr("data-rcpha_siteKey")&&h?(n.prepend('<input type="hidden" name="g-recaptcha-response" data-form-captcha="true" value="'+n.attr("data-rcpha_siteKey")+'">'),e.registerPlugin("recaptcha-input-"+m,{name:"recaptcha-input-"+m,priority:3500,condition:"_params.usedRecaptcha=true",files:["https://www.google.com/recaptcha/api.js?render="+m]})):(e.getPlugin("recaptcha-input-"+m)||{}).condition=!1),e.isAMP()&&(n.attr("data-rcpha")&&n.attr("data-rcpha_siteKey")&&h?(n.prepend('<amp-recaptcha-input layout="nodisplay" name="recaptcha_token" data-sitekey="'+n.attr("data-rcpha_siteKey")+'" data-action="recaptcha_example"></amp-recaptcha-input>'),l._plugins=l._plugins+",amp-recaptcha-input"):l._plugins&&(l._plugins=l._plugins.replace(",amp-recaptcha-input",""))),n.removeAttr("data-rcpha data-rcpha_secretKey data-rcpha_siteKey data-rcpha_label"));var v={email:u.action};h&&p&&(v.captcha=h),d&&(v.licenseKey=d),n.find("[data-form-email]").val(a(JSON.stringify(v))),n.attr("data-form-title",f).parent().attr("data-form-type","formoid"),t.each(u.fields,(function(t){n.find("[name='"+t+'\']:not([data-form-email="true"])').attr("data-form-field",this.title)}))}else u.action&&n.attr("action",u.action),i.find("[data-form-email], [data-form-alert]").remove()};e.regExtension({name:"plugin-form-editor",global:{formbuilderBuyer:{}},events:{coreLoad:function(){e.Core.$window[0].rivets.binders.form={routine:function(t,e){}}},load:function(){e.Core.$body.on("click","[mbr-form] input, [mbr-form] textarea, [mbr-form] select",(function(i){i.preventDefault(),i.stopPropagation(),t(this).keyup((function(t){this.value=""}));var o=t(this).parents("[mbr-form]"),r=o.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),a=e.Core.getComponent(r),c=o.attr("mbr-form");void 0!==a[c]&&(function(i,o){var r="";r+="<h4>"+n("Form Fields")+"</h4><hr>";t.each(i.fields,(function(e){if("hidden"!==this.type){var n=t('<div>   <div class="row">       <div class="togglebutton col-md-4">           <label class="checkbox-inline">               <input type="checkbox" name="visible" checked onchange="               jQuery(this).parents(\'.row\').find(\'[type=\\\'text\\\']\').prop(\'disabled\', !this.checked);               "><span class="toggle"></span> <b></b>           </label>       </div>       <div class="col-md-8">           <input type="text" name="title" class="form-control" placeholder="">       </div>   </div></div>').find(".row").attr("field",e).end().find("b").text(this.title).end(),i=n.find('[type="checkbox"]'),o=n.find('[type="text"]').attr("value",this.customTitle);"visible"in this?this.visible||(o.prop("disabled",!0),i.removeAttr("checked")):(i.remove(),n.find(".toggle").remove()),"type"in this&&(/text|tel|password|number|url|textarea|email/.test(this.type)||o.prop("disabled",!0)),r+=n.html()}})),r+="<h4>"+n("Form Options")+"</h4><hr>",r+=t('<div>   <div class="row">       <div class="col-md-3">           <b>'+n("Notification Email or Action URL")+'</b>       </div>       <div class="col-md-9">           <input type="text" name="action" class="form-control" placeholder="">           <span class="help-block" style="display:none">'+n("Please enter a valid email address or URL")+"</span>       </div>   </div></div>").find('[name="action"]').attr("value",i.action).end().html(),r+=t('<div>   <div class="row" alert="success"'+(s(i.action)?"":' style="display:none"')+'>       <div class="col-md-3">           <b>'+n("Success Message")+'</b>       </div>       <div class="col-md-9">           <textarea name="message" class="form-control" style="height:55px;" placeholder=""></textarea>       </div>   </div></div>').find('[name="message"]').text(i.alerts.success).end().html();var a=t.Deferred(),c=e.showDialog({title:"",className:"note-air-layout form-settings-dialog",body:"<form>"+r+"</form>",cancel:function(){},successLabel:"Save",success:function(){var e=t(this).find('[name="action"]'),n={action:e.val(),alerts:{},fields:{}};if(!l(n.action))return e.keyup(),!1;t(this).find("[alert]").each((function(){n.alerts[t(this).attr("alert")]=t(this).find('[name="message"]').val()})),t(this).find("[field]").each((function(){var e=t(this).attr("field"),i=t(this).find('[name="visible"]').prop("checked");n.fields[e]={customTitle:t(this).find('[name="title"]').val()},void 0!==i&&(n.fields[e].visible=i)})),a.resolve(n)},id:"form-editor"});return c.find('[name="action"]').keyup((function(){l(this.value)?(t(this).parent().removeClass("has-error").find(".help-block").hide(),t(this).parents("form:eq(0)").find("[alert]")[s(this.value)?"show":"hide"]()):t(this).parent().addClass("has-error").find(".help-block").show()})),e.fire("formeditorOpen",c,o),a}(a[c],r).done((function(n){t.extend(!0,a[c],n),e.Core.updateGlobalComponents(r),e.fire("formoidSucces",r,c,a[c],o)})),e.fire("showedPopup"))})),e.Core.addFilter("getResultComponent",(function(n){return n.then((function(n,o,r){var a=n.find("[mbr-form]").attr("mbr-form"),l=o[a]||null,c=t.Deferred();return l&&l.action&&s(l.action)?e.formbuilderBuyer[l.action]?c.resolve(n,o,r,e.formbuilderBuyer[l.action]):(i.get("storage/formbuilder?email="+l.action).then((function(t){e.formbuilderBuyer[l.action]=t.key,c.resolve(n,o,r,t.key)}),(function(t){c.resolve(n,o,r)})),c):c.resolve(n,o,r)})).then((function(e,n,i,o){var r=e.find("[mbr-form]");return r.length&&d(r,e,n,o),t.Deferred().resolve(e,n,i)}))})),e.Core.addFilter("resultHTMLforEditor",(function(t,e){var n=t.find("[mbr-form]");return n.length&&d(n,t,e),t})),e.on("runPublish",(function(){o=!1})),e.addFilter("allUsedPlugins",(function(t){return o&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):o&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),o&&c&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),t})),e.addFilter("allUsedPluginsForPage",(function(t){return r&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):r&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),r&&c&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),c=!0,r=!1,t}))}}})}),["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-help-info",(function(t,e,n){var i=t('\n        <p class="app-help-info">\n            '+n("This is the site editor. Click any text or image to edit it. Select a text to insert a link. Click the 'gear' $gearIcon$ to change the section's layout and settings. Click the 'plus' $plusIcon$ to add a new section. Use the 'menu' $menuIcon$ to publish site, change the site style and settings, create new pages and sites.").replace("$gearIcon$",'<span class="app-btn mbr-icon-setting"></span>').replace("$plusIcon$",'<span class="app-btn mbr-icon-plus"></span>').replace("$menuIcon$",'<span class="app-btn mbr-icon-menu"></span>')+"\n        </p>\n    "),o=void 0;function r(){e.Core.$document.scrollTop()>o+30&&(i.remove(),e.Core.$window.off("scroll",r))}e.regExtension({name:"plugin-help-info",events:{createdProject:function(){e.Core.$body.find(".browser-template-wrap").before(i),o=i.outerHeight(),e.Core.$window.on("scroll",r)}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM((function(t,e,n){var o={},r=function n(i,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.type="custom",this.name=o,this.customThumb=e.theme.path+"/projects/"+e.projectSettings.sourceProject+"/"+t(i._customHTML).attr("custom-thumb"),this._group=t(i._customHTML).attr("group"),this.styles=i._styles,this.html=i._customHTML,this._once=i._once,this._global=i._global};e.regExtension({name:"aws-app-project-components",events:{load:function(){e.on("loadProjectCore",(function(n,a){if(e.projectSettings.developerProject){if(o={},n&&"object"===i(n.pages)){var s=function(i){var a=0,s=[];n.pages[i].components&&n.pages[i].components.map((function(n){if(!(!(c=n)._customHTML||-1===c._customHTML.indexOf("custom-thumb"))){if(e.components[n._name])return;var i=t(n._customHTML).attr("custom-thumb").split("/").pop();if(s.some((function(t){return t===i})))return;s.push(i);var l=void 0;l=-1!==n._name.indexOf("-custom-")?n._name.slice(0,n._name.length-1)+a:n._name+"-custom-"+a,o[l]=new r(n,l),a++}var c}))};for(var l in n.pages)s(l)}e.projectComponents=o}})),e.addFilter("addProjectsComponents",(function(e){return t.extend(!0,e,o)})),e.addFilter("customThumb",(function(t,e){return"custom"===e.type?e.customThumb:t}))},loadedProject:function(){for(var t in e.$componentsLayer.removeAttr("data-pallete-inited"),e.components)"ProjectsComponent"===e.components[t].constructor.name&&delete e.components[t]}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM((function(t,e,n){e.regExtension({name:"aws-app-project-components-presets",events:{load:function(){e.addFilter("publishProjectSettings",(function(t){return t.developerProject&&delete t.developerProject,t})),e.Core.addFilter("cleanHTMLplease",(function(t,e){return t.find("[custom-thumb]").removeAttr("custom-thumb"),t}))},loadedProject:function(){e.$componentsLayer.removeAttr("data-pallete-inited"),e.exBlockPreset={},e.projectSettings.developerProject&&e.on("beforeRenderComponentPresets",(function(n){if(e.Core.resultJSON)for(var i in e.Core.resultJSON){e.Core.resultJSON[i].components&&e.Core.resultJSON[i].components.map((function(n){if(!(!(o=n)._customHTML||-1===o._customHTML.indexOf("custom-thumb"))){var i=t(n._customHTML).attr("custom-thumb").split("/").pop();if(e.exBlockPreset[n._name]||(e.exBlockPreset[n._name]={presets:[]}),e.exBlockPreset[n._name].presets.some((function(t){return t.name===i})))return;e.exBlockPreset[n._name].presets.push({type:"fromProject",name:i,skin:e.theme.path+"/projects/"+e.projectSettings.sourceProject.toLowerCase()+"/"+t(n._customHTML).attr("custom-thumb"),params:t.extend(!0,{},n._params),styles:t.extend(!0,{},n._styles)})}var o}))}}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(27);defineM("app-plugin-iconfont-svg",(function(t,e,n){e.regExtension({name:"iconfont-svg",events:{registeredPlugin:function(t){t.iconfont&&(t.iconfont.addon_root=t.addon_root||null,t.iconfont.root=t.root||null)},loaded:function(){"secondary"!=!e.Core.theme.type&&e.isAMP()&&(e.addFilter("svgFontFilter",(function(t){return t&&Array.isArray(t)&&(t=t.filter((function(t){return!t.iconfont}))),t})),e.Core.addFilter("getResultComponent",(function(n){return n.then((function(n,o,r){var a=t.Deferred(),s=[],l=e.iconFonts;return n.find("[class*=-iconfont]").each((function(n,o){var r=t.Deferred(),a=e.extractIconFont(o),c=void 0;s.push(r.promise()),l[a.family]&&a&&(t(o).hasClass("mbr-iconfont")||t(o).hasClass("amp-iconfont"))?(c=l[a.family].addon_root&&!l[a.family].root?l[a.family].addon_root+"/"+l[a.family].plugin+"/svg/"+a.name+".svg":l[a.family].root?l[a.family].root+"/"+a.family+"/svg/"+a.name+".svg":"web/assets/"+l[a.family].plugin+"/svg/"+(a.classPrefix+a.name)+".svg",e.isAMP()&&t(o).removeAttr("style"),i.Bridge.loadLocalFile(c,(function(e){var n=void 0;t(e).each((function(e,i){i.nodeName&&"svg"===i.nodeName&&(t(i).find("title").remove(),n=i)})),n?(t(n).attr("fill","currentColor"),t(n).attr("width","100%"),t(n).attr("height","100%"),t(o).html(n.outerHTML),r.resolve()):r.resolve()}))):r.resolve()})),t.when.apply(this,s).then((function(){a.resolve(n,o,r)})),a.promise()}))})))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";"function"==typeof Symbol&&Symbol.iterator;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},r=n(27);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}defineM("app-plugin-whois",(function(t,e,n,s){var l=["mx","txt"],c=null,d="",u=!1;function p(n){var i=e.$body.find(".app-layer-common");u=n,i&&(i.find(".domains-wrapper").html(m()),i.find(".domains-template__input").each((function(e,n){t(n).off().on("focus",v)})))}function f(t){return function(t,e){var n=((e=e||{}).method||"GET").toUpperCase();function i(){return console.log("Token updating..."),s.getAuthToken().then((function(t){return d=t.access_token}))}function r(){return fetch(t,{method:n,headers:o(e.headers||{},{Authorization:"bearer "+d,"Content-type":e.contentType,"Access-Control-Allow-Origin":"*"}),body:e.data})}return"POST"!=n&&"PUT"!=n||(e.contentType="application/json","data"in e&&(e.data=JSON.stringify(e.data))),Promise.resolve().then((function(){if(!d)return i()})).then(r).catch((function(t){if("TokenExpired"==t.type)return i().then(r);throw t})).then((function(t){if(t.status<200||t.status>299)throw new Error(""+t.statusText);return t.json()}))}("https://api.whois.vu/?q="+t)}function h(t,e){return function(t){function e(t,e,n){return t.replace("Name Server: ","")}function n(t,e){return 0===t.filter((function(t){return t.toLowerCase()===e.toLowerCase()})).length&&t.push(e),t}return f(t).then((function(t){try{var i=JSON.parse(t).whois.match(/Name Server: .*/g);return i?i.map(e).reduce(n,[]):""}catch(t){return console.error(t.message),""}}),(function(t){console.error(t.message)}))}(t).then((function(t){var i="";return t?(t.forEach((function(t,o){i+='<div class="col-md-12">\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+t.toLowerCase()+'" class="form-control" readonly>\n                                        </div>\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+(e?e[o]:"ns"+((o+1)%2==0?2:1)+".mobirisesite.com")+'" class="form-control domain-readonly" readonly>\n                                            '+(o<2?'<span class="domain-copy">'+n("Copy")+"</span>":"")+"\n                                            "+(o>1?'<span class="domain-remove">'+n("Remove")+"</span>":"")+"\n                                        </div>\n                                      </div>"})),i):'<div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+e[0]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+n("Copy")+'</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+e[1]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+n("Copy")+"</span>\n                                    </div>\n                                </div>"}),(function(t){console.error(t.message)}))}function m(){if(e.projectSettings.domains.length>1){var t=void 0;switch(e.projectSettings.domains[1].status.type){case"info":t="pending";break;case"error":t="error";break;case"success":t="connected";break;default:console.warn("invalid status")}return'<div class="domains-template">\n                        <div class="wrapper col-md-12">\n                            <div class="wrapper__row">\n                                <span class="domains-template__protocol">https://</span>\n                                <input class="form-control domains-template__input" id="userDomain" type="text" value="'+e.projectSettings.domains[1].name+'" readonly/>\n                                <span title="'+e.projectSettings.domains[1].status.description+'" class="domains-template__status '+("pending"===t?"warn":"error"===t?"danger":"")+'">\n                                    '+("pending"===t?'<span id="domainInfo">Pending connection...</span>':"connected"===t?"Connected":"")+'\n                                </span>\n                            </div>\n                            <button class="btn btn-primary" type="button" id="dnsManagerButton"><i class="mbr-icon-cog" style="vertical-align:middle;"></i></button>\n                            <button class="btn btn-warning" type="button" id="domainRemoveButton">'+n("Disconnect")+"</button>\n                        </div>\n                    </div>"}var i=void 0;return null!==c&&c.length&&((i=c.filter((function(t){return!t.siteId&&"active"===t.status.toLowerCase()})).map((function(t){return t.name}))).getTemplate=function(){return i.reduce((function(t,e){return t+'<option value="'+e+'">'}),'<datalist id="mydomains">')+"</datalist>"}),'<div class="domains-template">\n                        <div class="wrapper row">\n                            <div class="wrapper__row col-md-8">\n                                <span class="domains-template__protocol col-md-4">https://</span>\n                                <input class="domains-template__input form-control" id="userDomain" type="text" '+(i?'list="mydomains"':"")+' placeholder="yourdomain.com"/>\n                                '+(i?i.getTemplate():"")+'\n                                <span id="userDomainStatus" class="domains-template__status col-md-12"></span>\n                            </div>\n                            <button class="btn btn-primary '+(!0===u?"loading":"")+'" type="button" id="domainConnectButton" '+(!0===u?"disabled":"")+">"+n("Connect")+'</button>\n                        </div>\n                        <div class="wrapper basic col-md-12">\n                            <div class="wrapper__row row col-md-9">\n                                <input class="domains-template__input form-control" id="newDomain" type="text" value="'+e.projectSettings.domains[0].name.match(/^[A-Za-z0-9-]+/gm)+'"/>\n                                <span class="col-md-7 domains-template-label">.mobirisesite.com</span>\n                                <span class="domains-template__status col-md-12"></span>\n                            </div>\n                            <button class="btn btn-primary" type="button" id="domainChangeButton">'+n("Change")+"</button>\n                        </div>\n                    </div>"}function g(i){e.showDialog({title:n("Connect domain"),className:"domain-settings-modal",buttons:{success:{label:n("OK"),default:!0,className:"iconfont-ok",callback:function(){}}},body:['<div class="row wrapper"><div class="col-md-12">\n                    '+e.preloaderHTML+'\n                    <div class="form-group row">\n                        <span class="col-md-12 control-label">\n                            '+n("1. Log into your domain ")+'<span id="registratorUrl"></span><br>\n                            '+n("2. Go to your domain's DNS / name server settings.")+"<br>\n                            "+n("3. Replace your current name servers with the Mobirise name servers shown below.")+'<br>\n                        </span>\n                        <div class="user-domains col-md-12"></div>\n                        <span class="col-md-12 control-label">\n                            '+n("4. After your nameservers change it may take from 20 minutes to 48 hours for your domain to be visible online.")+"<br>\n                        </span>\n                    </div>\n                </div></div>"].join("\n"),create:function(){e.infoUsrDomain(e.projectSettings.id).then((function(o){e.projectSettings.domains=o.domains;var r,a,s=t.Deferred(),l=t.Deferred(),c=void 0;r=(((o||{}).domains[1]||{}).requiredDnsRecords[1]||{}).values,c||(c=e.projectSettings.domains[1].requiredDnsRecords[0].values),h(i,c).then((function(i){return function(e,i,o){return t.isEmptyObject(o)?e:e+'<div class="cname-wrapper col-md-12">\n                    <div class="col-md-12 cname-wrapper__title">\n                        <span>'+n("DNS SETTINGS")+':</span>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="col-md-5 cname-wrapper__domain">\n                            <span>'+i+'</span>\n                        </div>\n                        <div class="col-md-2 cname-wrapper__slash">\n                            <span>CNAME</span>\n                        </div>\n                        <div class="col-md-5 cname-wrapper__cname">\n                            <span>'+o+"</span>\n                        </div>\n                    </div>\n                </div>"}(i,e.projectSettings.domains[1].name,r)})).then((function(t){e.$body.find(".domain-settings-modal .user-domains").html(t),l.resolve()}),(function(t){console.error(t.message),l.resolve()})),(a=i,f(a).then((function(t){try{var e=JSON.parse(t).whois.match(/Registrar URL: .*/);return e?e[0].replace("Registrar URL: ",""):""}catch(t){return console.error(t.message),""}}),(function(t){console.error(t.message)}))).then((function(t){t?e.$body.find("#registratorUrl").html('<a href="'+t+'" target="_blank"> '+n("provider's account")+"</a> ("+(t.replace(/https?:\/\//gi,"").split("/")[0].replace("www.","")+")")):e.$body.find("#registratorUrl").html(""+n("provider's account")),s.resolve()}),(function(t){console.error(t.message),s.resolve()})),t.when(s,l).then((function(t){e.$body.find(".domain-settings-modal .preloader").hide()}),(function(t){bootbox.alert(t.message)}))}),(function(t){throw new Error(t)}))}})}function v(){e.$body.find(".app-layer-common").find(".domains-template__status").each((function(e,n){t(n).html("").removeClass("danger")})),e.$body.find(".app-layer-common").find(".domains-template__input").each((function(e,n){t(n).removeClass("err")}))}var b=new(function(){function t(){a(this,t),this.uinfo=e.getUserInfo(),this.id=this.uinfo.id,this.email=this.uinfo.email}return i(t,[{key:"getMyOwnDomains",value:function(){var t=[];return Promise.resolve().then((function(){return r.Bridge._REST("/me/sites").then((function(e){if(e.items.length)return e.items.forEach((function(e){e.domains&&e.domains.length<2||t.push(new y(e))})),t}))})).catch((function(e){return console.error(e),t}))}}]),t}()),y=function(){function o(t){a(this,o),this.siteId=t.id,this.defaultDmn=t.domains?t.domains[0]:null,this.customDmn=t.domains?t.domains[1]:null,this.name=t.domains?this.customDmn.name:null,this.type="connected",this.html,this.records=null}return i(o,[{key:"getDNSRecords",value:function(){return this.customDmn?r.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records"):Promise.reject(new Error("Custom domain not exist"))}},{key:"deleteDNSRecord",value:function(t){return this.customDmn?r.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records/"+t,{method:"DELETE"}):Promise.reject(new Error("Custom domain not exist"))}},{key:"setDNSRecords",value:function(t){return this.customDmn?r.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records",{method:"POST",data:t}):Promise.reject(new Error("Custom domain not exist"))}},{key:"buildNsConstructor",value:function(n){var i=this;if(!Array.isArray(this.records))throw new Error("Invalid NS records");var o="";l.forEach((function(t){switch(t){case"mx":o+='\n                <div class="ns-form__body" name="mx">\n                    <div class="ns-item">\n                        <label class="">Mail server</label>\n                        <div class="ns-input">\n                            <input name="exchange">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Priority</label>\n                        <div class="ns-input">\n                            <input name="priority" placeholder="0 - 65535">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                </div>';break;case"txt":o+='\n                <div class="ns-form__body" name="txt">\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Content</label>\n                        <div class="ns-input">\n                            <input name="data">\n                        </div>\n                    </div>\n                </div>'}}));var r=t('\n                    <div class="ns-module">\n                        <div class="row ns-module__wrapper">\n                            <div class="ns-module__addbutton">\n                                <button type="button" class="btn btn-success">Add record</button>\n                            </div>\n                            <div class="ns-module__form">\n                                <div class="ns-module__form-body">\n                                    <form name="txt" class="ns-form">\n                                        <div class="ns-form__select">\n                                            <label class="">Type</label>\n                                            <div class="ns-input">\n                                                '+function(t){t||(t=l[0]);var e='<select name="type" class="ns-type-select">';return l.forEach((function(n){e+='\n                        <option value="'+n+'" '+(n===t?"selected":"")+">\n                            "+n.toUpperCase()+"\n                        </option>\n                    "})),e+"</select>"}()+'\n                                            </div>\n                                        </div>\n                                        <div class="ns-form__body-wrapper">\n                                            '+o+'\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class="ns-module__footer">\n                                    <button type="button" class="btn btn-default ns-module__cancel">Cancel</button>\n                                    <button type="button" class="btn btn-info ns-module__save">Save</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>');function a(e,n){e||(e=l[0]),t(n).find('select.ns-type-select option[value="'+e+'"]').prop("selected",!0),t(n).find(".ns-form__body-wrapper .ns-form__body").each((function(n,i){t(i).attr("name")===e?t(i).show():t(i).hide()}))}n.empty(),n.append(r),n.find(".ns-module__addbutton form").on("click",(function(t){})),n.find(".ns-module__addbutton > button").on("click",(function(t){n.find(".ns-module__form").toggleClass("open"),a(null,n)})),n.find("button.ns-module__cancel").on("click",(function(t){n.find(".ns-module__form").toggleClass("open",!1)})),n.find("button.ns-module__save").on("click",(function(o){var r=t(i.html).find(".preloader");r.show();var a=n.find(".ns-form__body-wrapper"),s=n.find("select.ns-type-select").val();if(s){a.find(".ns-form__body").each((function(e,n){t(n).attr("name")!==s&&t(n).remove()}));var l={},c=n.find("form.ns-form").serializeArray();t(c).each((function(t,e){l[e.name]=e.value})),l.name||(l.name=i.customDmn.name),i.setDNSRecords(JSON.stringify(l)).then((function(e){return i.getDNSRecords().then((function(e){i.records=e,i.buildNsTable(t(i.html).find("#nsrecord .nsrecord__table")),i.buildNsConstructor(n),r.hide()}))})).catch((function(t){i.buildNsConstructor(n),r.hide(),console.log(t),e.alertDlg(t.message)}))}})),n.find("select.ns-type-select").on("click",(function(e){a(t(e.target).val(),n)}))}},{key:"buildNsTable",value:function(i){var o=this;this.records.sort((function(t,e){return t.type<e.type?-1:t.type>e.type?1:0}));var r=this.records.reduce((function(t,e){var n="";return"A"===e.type&&(e.data=e.address),"SRV"===e.type?t:t+(n+='\n                    <tr data-id="'+e.id+'">\n                        <td name="type">'+e.type+'</td>\n                        <td name="name">'+e.name+"</td>\n                        "+(/MX/i.test(e.type)?'<td name="data" class="mx">\n                                <span class="priority">\n                                    '+e.priority+'\n                                </span>\n                                <span class="mserver">\n                                    '+e.exchange+"\n                                </span>\n                               </td>":'<td name="data">'+e.data+"</td>")+'\n                        <td name="ttl">'+e.ttl+"</td>\n                        "+(l.includes(e.type.toLowerCase())?'<td class="rm">\n                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.3 3.625L12.375 1.7 8 6.075 3.625 1.7 1.7 3.625 6.075 8 1.7 12.375 3.625 14.3 8 9.925l4.375 4.375 1.925-1.925L9.925 8 14.3 3.625z"></path></svg>\n                               </td>':"<td></td>")+"\n                    </tr>\n                ")}),"");i.empty(),i.append('<table id="Table" class="Table">\n                        <thead>\n                            <tr>\n                                <th>Type</th>\n                                <th>Name</th>\n                                <th>Value</th>\n                                <th>TTL</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            '+r+"\n                        </tbody>\n                    </table> "),i.find("td.rm").on("click",(function(i){var r=t(i.target).closest("tr"),a=r.attr("data-id"),s=r.find('td[name="type"]').text(),l=r.find('td[name="name"]').text(),c=(r.find('td[name="ttl"]').text(),r.find('td[name="data"]').text());bootbox.confirm({title:n("Are you sure you want to delete this record?"),message:r.clone(),className:"remove-ns",buttons:{confirm:{label:n("Delete"),className:"btn-warning"},cancel:{label:n("Cancel"),className:"btn-default"}},callback:function(t){t&&l&&s&&c&&o.deleteDNSRecord(a).then((function(t){r.remove()})).catch((function(t){e.alertDlg(n("Internal server error."))}))}})}))}},{key:"buildNsWindow",value:function(){var i=this;return e.showDialog({title:""+n("DNS management"),className:"domain-manager__ns-editor",body:'<div class="row">\n                            <div class="col-md-12">\n                                <div class="form-group clearfix">\n                                    <div class="row">\n                                        <div class="col-md-12" id="nsrecord" class="nsrecord">\n                                            '+e.preloaderHTML+'\n                                            <div class="nsrecord__add-new"></div>\n                                            <div class="nsrecord__table"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>',create:function(o){var r=t(o).find(".preloader");i.getDNSRecords().then((function(e){i.records=e,r.hide(),i.buildNsConstructor(t(o).find("#nsrecord .nsrecord__add-new")),i.buildNsTable(t(o).find("#nsrecord .nsrecord__table"))})).catch((function(t){console.error(t),e.alertDlg(n("Internal server error.")),r.hide()}))},cancel:function(t){}})}},{key:"onClick",value:function(){this.html=this.buildNsWindow()}}]),o}();e.regExtension({name:"plugin-whois",global:{filterCustomDomain:function(t,n,i){var o=i||e.projectSettings.domains;return o.length>1&&"success"===o[1].status.type?n?"https://"+o[1].name+"/":o[1].name:t},getPublicDomain:function(){if(r.Bridge.args.external)return e.projectSettings.publicUrl;var t=e.projectSettings.domains||[];return t.length>1&&"success"===t[1].status.type?"https://"+t[1].name+"/":"https://"+t[0].name+"/"}},events:{load:function(){new CustomEvent("updateDomainsList");e.addFilter("sidebarProjectSettings",(function(t){var e={title:"Common",name:"common",html:'<div class="form-group domain col-md-12">\n                                    <label class="control-label">Domain</label>\n                                    <div class="row domains-wrapper">\n                                        '+m()+"\n                                    </div>\n                                </div>"};return t.push(e),t})),this.$body.on("click","#connectDomain",(function(n){bootbox.hideAll(),t(".preview-close").click(),e.openProjectSettings(e.projectPath+"/project.mobirise"),e.fire("selectBasicDomain")})),this.$body.on("click","#domainConnectButton",(function(n){var i=e.$body.find(".app-layer-common"),o=i.find("#userDomain"),r=(i.find("#userDomainStatus"),t(n.target));r.addClass("loading").prop("disabled",!0),e.applyFilter("connectUserDomain",Promise.resolve(),e.projectSettings.id,o.val()).then((function(t){return e.connectUsrDomain(o.val(),e.projectSettings.id)})).then((function(t){e.projectSettings.domains[1]=t,g(o.val()),p(!0),e.fire("siteDomainConnected",o.val(),e.projectSettings.id),e.$body.find("#app-project-sidebar .app-layer-close").trigger("click")}),(function(t){i.find("#userDomainStatus").html(t.message).addClass("danger"),i.find("#userDomain").addClass("err"),r.removeClass("loading").prop("disabled",!1)}))})),this.$body.on("click","#domainChangeButton",(function(i){var o=e.$body.find(".app-layer-common").find("#newDomain"),r=t(i.target),a=r.closest(".wrapper").find(".domains-template__status");r.addClass("loading").prop("disabled",!0),e.changeUsrDomain(o.val()).then((function(t){e.projectSettings.domains[0]=t,e.projectSettings.publicUrl="https://"+t.name+"/",e.runSaveProject(),e.Core.$body.find(".browser-chrome .address-bar-url").text(t.name),r.removeClass("loading").prop("disabled",!1),a.html(n("Changed")),o.addClass("success"),setTimeout((function(){a.html(""),o.removeClass("success")}),1500),e.fire("userDomainChanged",o.val())}),(function(t){r.removeClass("loading").prop("disabled",!1),o.addClass("err"),a.addClass("danger").html(t.message)}))})),this.$body.on("click","#domainRemoveButton",(function(i){var o=t(i.target);bootbox.confirm(n("Do you really want to disconnect this domain?"),(function(t){t&&(o.addClass("loading").prop("disabled",!0),e.deleteUsrDomain(e.projectSettings.id).then((function(t){e.infoUsrDomain(e.projectSettings.id).then((function(t){e.projectSettings.domains=t.domains,p(!1),e.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[0].name),e.$body.find("#app-project-sidebar .app-layer-close").trigger("click")}))}),(function(t){throw bootbox.alert(n("Something went wrong. Domain disconnecting issue.")),o.removeClass("loading").prop("disabled",!1),new Error(t)})))}))})),this.$body.on("click","#domainInfo",(function(e){g(t(e.target).closest(".domains-template").find("#userDomain").val())})),this.$body.on("click",".domain-settings-modal .domain-copy",(function(e){t(e.target).siblings("input.domain-readonly").select(),document.execCommand("copy"),t(e.target).addClass("copied").text(n("Copied")),setTimeout((function(){t(e.target).text("Copy").removeClass("copied"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()}),500)})),e.on(["showProjectSettings","showProjectsList"],(function(t){e.projectSettings.domains.length>1&&e.infoUsrDomain(e.projectSettings.id).then((function(t){e.projectSettings.domains.length>1&&t.domains.length>1&&e.projectSettings.domains[1].status.type!==t.domains[1].status.type&&(e.projectSettings.domains=t.domains,e.$body.find(".app-layer-common").length&&(p(!0),e.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[1].name)))}))})),e.on("shownProjectSettings",(function(e){t(e.target).find(".domains-template__input").each((function(e,n){t(n).off().on("focus",v)}))})),e.on("selectBasicDomain",(function(t){e.$body.find(".app-layer-common .domains-template").addClass("selected")}))},loadedProject:function(){var t=this;if(!r.Bridge.args.external){e.projectSettings.publicUrl=e.getPublicDomain();var n=e.projectSettings.domains[1]||null;b.getMyOwnDomains().then((function(e){e&&n&&e.forEach((function(e,i){(e.name||e.customDmn.name===n.name)&&t.$body.on("click","#dnsManagerButton",e.onClick.bind(e))})),c=e}))}}}})}),["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-help",(function(t,e,n,i){e.regExtension({name:"help",global:{helpBtn:".helpme-block",helpLoginMsg:n("Please sign up/login to contact us or get the access to public forums"),showHelp:function(o){e.checkSign((function(r){if(r){var a=e.getUserInfo();if(a&&a.email){o=o||{};var s=e.showDialog({title:n("Help"),className:"help-dialog",body:"<p>"+n("Please visit %Help Center% or %Forums% before contacting us.").replace(/%(.[^%]+)%/,' <b><a class="link-help" href="https://mobirise.com/help/">$1</a></b>').replace(/%(.[^%]+)%/,'<b><a class="link-forum" href="http://forums.mobirise.com">$1</a></b>')+'</p><a class="btn btn-help" href="https://mobirise.com/help/">'+n("Visit Help Center")+'</a><a class="btn btn-primary link-forum" href="http://forums.mobirise.com">'+n("Visit Forums")+"</a><br/><br/><h4>"+n("Send us a message")+"</h4><span>"+n("From")+':</span><input class="form-control email" disabled="disabled" value="email@email.com" style="margin-bottom: 10px"></input><span>'+n("Message")+':</span><textarea rows="4" class="form-control" placeholder="'+n("Please explain in details what happened and what steps we can take to reproduce the problem.")+'"></textarea>',buttons:{send:{label:n("SEND"),default:!0,callback:function(){var t=s.find("textarea").val();if(!t||t.length<100)return e.alertDlg(n("Your message is too short. Please add more details")),!1;t+="\n--------------\n",e.getAddonsListAsText((function(o){t+=Bridge.appName+" "+Bridge.version+"\n",t+="Platform: "+Bridge.getPlatform()+", "+window.navigator.userAgent+"\n",t+="Addons: "+o,t+="Data location: "+Bridge.dataLocation,i.sendMessage("support",t).then((function(){e.alertDlg(n("Your message has been successfully sent!")+"<br/> "+n("We will reply to your email $userEmail$ shortly.").replace("$userEmail$","<b>"+a.email+"</b>")).on("hidden.bs.modal",(function(){s.hide()}))}),(function(t,n){e.alertDlg(t),e.handleServerError(t,n)}))}))}}},show:function(n){n.find("textarea").val(o.message||""),n.find(".link-forum").attr("href","javascript:void(0)").click((function(){i.url("forum").then((function(t){e.openUrl(t)}),(function(t,n){e.alertDlg(t),e.handleServerError(t,n)}))})),n.find(".link-help, .btn-help").click((function(t){t.preventDefault(),e.openUrl("https://mobirise.com/help/")})),n.find(".email").val(a.email),n.on("shown.bs.modal",(function(){t(this).find("textarea").focus()})),n.on("hidden.bs.modal",(function(){t(this).data("modal",null),o.onhide&&o.onhide(),t(this).remove()}))}})}else console.log("Error: wrong checkSign")}}),e.helpLoginMsg)}},events:{load:function(){var t=this;t.helpBtn=e.addSidebarItem({title:n("Help"),className:"helpme-block",tooltip:n("Visit Help Center or Contact Us"),onclick:function(){t.showHelp()}})}}})}),["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";(function(t){var e,i=n(140),o=(e=i)&&e.__esModule?e:{default:e},r=n(27);defineM((function(e,n,i){n.regExtension({name:"app-plugin-zip-project",global:{createZipProject:function(){var a=this;n.applyFilter("createZipProject",Promise.resolve()).then((function(){n.publish(!1,null,(function(){var s=e(n.preloaderHTML);n.$body.find(".site-settings-modal .modal-content").prepend(s);var l=[],c=(n.prepareProjectText(),r.Bridge.zip()),d=(n.Core.getResultProject(),function(t){return(t=t.replace(/\?.+$/g,"")).replace(/https?:\/\/.*?\/.*?\/.*?\//g,"")});o.default.dirList(mbrApp.projectSettings.path).then((function(u){var p=Object.keys(n.Core.getResultProject().pages);u.map((function(t,i){if(/\.html$/.test(t)&&p.includes(t)&&0!==t.indexOf("google")){var s=e.Deferred();l.push(s),o.default.loadLocalFile(mbrApp.projectSettings.path+"/"+t).then((function(t){return i=t,o=[],r=/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,r=n.isAMP()?/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g:/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,i=(i=(i=(i=(i=i.replace(r,(function(t,e,n,i){return o.push(n),e+"assets/"+d(n)+i}))).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,(function(t,e,n,i){return 0!==n.indexOf("http")?t:(o.push(n),e+"assets/"+d(n)+i)}))).replace(/(<link.*?rel="shortcut icon".*?href=")([^">]*\/[^">]*?)(".*?>)/g,(function(t,e,n,i){return"assets/images/logo5.png"===n&&(n="app/builder/images/logo5.png"),o.push(n),e+"assets/"+d(n)+i}))).replace(/(<link.*?rel="canonical".*?href=")([^">]*\/[^">]*?)(".*?>)/g,(function(t,e,n,i){var o=n.split("/");return e+(o[o.length-1]?o[o.length-1]:"/")+i}))).replace(/(<script.*?src=")([^">]*\/[^">]*?)(".*?>)/g,(function(t,e,n,i){return o.push(n),e+"assets/"+d(n)+i})),e.Deferred().resolve(i,o);var i,o,r})).then((function(n,i){if(c.file(t,n),i){var o=[];i.forEach((function(t,n){if(-1!==t.indexOf("dummy")){var i=t.split("?");i.pop(),t=i.join("")}o.push(function(t,n,i){var o=e.Deferred();return r.Bridge.loadLocalBase64(t,(function(e){e?(n.file((i||"")+"/"+d(t),e,{base64:!0}),o.resolve()):o.reject("Loading image error")})),o}(t,c,"assets"))})),e.when.apply(a,o).then((function(){console.log("all files from "+t+" page are uploaded"),s.resolve()}),(function(t){console.error(t),s.reject()}))}else s.resolve()}))}if(/manifest\.json$/.test(t)||/sw\.js$/.test(t)||/sw-toolbox\.js$/.test(t)){var u=e.Deferred();l.push(u),o.default.loadLocalFile(mbrApp.projectSettings.path+"/"+t).then((function(e){c.file(t,e),u.resolve()}))}})),e.when.apply(a,l).then((function(){console.log("All promise resolved. Starting zip process..."),c.generateAsync({type:"blob"}).then((function(e){var n;r.Bridge.saveAs(e,(n=mbrApp.projectSettings.title,/^[A-Za-z0-9]*$/.test(n)||(n=new t(n).toString("hex")),n+".zip")),s.remove()}),(function(t){console.error(t),s.remove()}))}),(function(t){s.remove(),bootbox.alert(i("Something went wrong"))}))}),(function(t){console.error(t),s.remove()}))}))}))}}})}),["jQuery","mbrApp","TR()"])}).call(this,n(365).Buffer)},function(t,e,n){"use strict";var i=n(27);defineM("progressive-web-app",(function(t,e,n){var o=i.Bridge.base+"assets/progressive-web-app",r=o+"/icons/512x512.png",a=function(){return!e.projectSettings.PWA||!e.projectSettings.PWA.enabled};e.$body.on("change","#pwa-switcher",(function(){e.$body.find(".pwa-edit")[0].classList.toggle("hidden"),e.projectSettings.PWA?e.projectSettings.PWA.enabled=this.checked:e.projectSettings.PWA={enabled:this.checked},e.runSaveProject(!1,!0)})),e.$body.on("click","#pwa-edit",(function(){e.showDialog({title:n("Enter your PWA parameters"),className:"pwa-edit-modal",size:"small",body:'<div class="row">\n                        <div class="form-group col-md-12 col-sm-12">\n                            <p>App Name</p>\n                            <input type="text" class="form-control" id="pwa-name" placeholder="'+e.projectSettings.name+'" value="'+(e.projectSettings.PWA.name||"")+'">\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-icon-field">\n                            <p>Icon</p>\n                            <img src="'+(e.projectSettings.PWA.icon?e.projectSettings.PWA.icon:r)+'" id="pwa-current-icon" class="img-responsive">\n                            <button id="pwa-icon-change-btn" class="btn btn-primary">Change Icon</button>\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-color-field">\n                            <p>Theme Color</p>\n                            <input type="color" class="form-control" id="pwa-theme-color" value="'+(e.projectSettings.PWA.themeColor||e.projectSettings.theme.styling.primaryColor)+'">\n                        </div>\n                    </div>',create:function(i){t(i).find("#pwa-theme-color").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:e.getThemeColorsSet(7),move:function(e){t(this).val(e.toHexString())}})},success:function(t){var n=e.projectSettings.PWA;n.name=t[0].querySelector("#pwa-name").value.trim(),n.icon=t[0].querySelector("#pwa-current-icon").src,n.themeColor=t[0].querySelector("#pwa-theme-color").value,e.runSaveProject(!1,!0)},cancel:function(){}})})),e.$body.on("click","#pwa-icon-change-btn, #pwa-current-icon",(function(){i.Bridge.openImage("Select 512x512px PNG Icon",e.projectPath?e.projectPath+"/icons":"","",{width:"512",height:"512",keepAspectRatio:!1,format:"png"},(function(e){e&&t("#pwa-current-icon").attr("src",i.Bridge.path2app(e))}),!1)})),e.addFilter("publishFiles",(function(t){return a()||(t.push({srcList:[{src:o+"/sw.js"}],dest:"sw.js"},{srcList:[{src:"manifest.json",filter:"template"}],dest:"manifest.json"}),e.projectSettings.PWA.icon?t.push({srcList:[{src:e.projectSettings.PWA.icon}],dest:"icons/512x512.png"}):t.push({srcList:[{src:r}],dest:"icons/512x512.png"}),e.isAMP()||t.push({srcList:[{src:o+"/sw-connect.js"}],dest:"sw-connect.js"})),t})),e.addFilter("publishTemplating",(function(t,n){if(a())return t;if("manifest.json"==n){var o=e.projectSettings.PWA,r=e.projectSettings,s={name:o.name||r.name,short_name:o.name||r.name,start_url:"/",display:"standalone",theme_color:o.themeColor||r.theme.styling.primaryColor,background_color:o.themeColor||r.theme.styling.primaryColor,icons:[{src:e.projectSettings.resourcesUrl+"icons/"+(e.projectSettings.PWA.icon?i.Bridge.splitPath(e.projectSettings.PWA.icon).name+".png":"512x512.png"),sizes:"512x512",type:"image/png"}]};return JSON.stringify(s)}return t})),e.addFilter("publishHTML",(function(t){return a()?t:t=e.isAMP()?(t=t.replace("</head>",'<meta name="theme-color" content="'+(e.projectSettings.PWA.themeColor||e.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"><\/script></head>')).replace("</body>",'<amp-install-serviceworker src="sw.js" layout="nodisplay"></amp-install-serviceworker></body>'):t.replace("</head>",'<meta name="theme-color" content="'+(e.projectSettings.PWA.themeColor||e.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script src="sw-connect.js"><\/script></head>')})),e.addFilter("changeProjectSettings",(function(t,n){return t.hasOwnProperty("pwa-switcher")?e.fire("settingsPWAEnable",!0):e.fire("settingsPWAEnable",!1),t})),e.regExtension({name:"progressive-web-app",events:{load:function(){e.addFilter("additionalSiteSettings",(function(t){return t+'<div class="form-group row clearfix">\n                            <label class="col-md-3 control-label" for="pwa-switcher">Progressive Web App</label>\n                            <div class="col-md-9">\n                                <div class="pwa-inner">\n                                    <div class="togglebutton">\n                                        <label style="width: 100%;">\n                                            <input type="checkbox" id="pwa-switcher" name="pwa-switcher" '+(a()?"":"checked")+'>\n                                            <span class="toggle" style="margin-top: -6px;"></span>\n                                        </label>\n                                    </div>\n                                    <button id="pwa-edit" class="btn btn-primary pwa-edit '+(a()?"hidden":"")+'" type="button">PWA Settings</button>\n                                </div>\n                            </div>\n                        </div>'}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i=n(455);defineM((function(t,e,n){e.regExtension({name:"dropCSS",events:{load:function(){e.isAMP()&&(e.addFilter("additionalSiteSettings",(function(t){return t+'<div class="form-group row clearfix">\n\t\t\t\t            <label class="col-md-3 control-label">'+n("Remove Unused Css")+'</label>\n                            <div class="togglebutton col-md-9">\n                                <label style="width: 100%">\n                                    <input id="unuse-css-check" type="checkbox" '+(e.projectSettings.cleanCSS?"checked":"")+'>\n                                    <span class="toggle" style="margin-top: -6px;"></span>\n                                </label>\n                            </div>\n                        </div>'})),e.$body.on("change","#unuse-css-check",(function(n){e.projectSettings.cleanCSS=t(n.target).prop("checked")})))},loadProject:function(){e.addFilter("publishTemplating",(function(t){if(e.projectSettings.cleanCSS){var n=t.match(/<body>[^]*<\/body>/),o=t.match(/<style amp-custom>([^]*)<\/style>/);if(n&&o){var r=n[0],a=o[1],s=/amp|cookie|scroll/,l=new Set,c=i({html:r,css:a,shouldDrop:function(t){return!s.test(t)&&(l.add(t),!0)}});t=t.replace(o[0],"<style amp-custom>"+c.css+"</style>")}}return t}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";function i(t,e,n){throw new Error(t+' parser stopped here: "'+e.substring(n,n+100)+'"')}var o=new Set("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),r=/<!doctype[^>]*>|<!--[\s\S]*?-->|<script[^>]*>[\s\S]*?<\/script>|<style[^>]*>[\s\S]*?<\/style>|<link[^>]*>|<meta[^>]*>/gim,a={NAME:/\s*<([\w-]+)\s*/imy,ATTR:/\s*([\w-:]+)(?:="([^"]*)"|='([^']*)'|=([\w-]+))?\s*/imy,TAIL:/\s*(\/?>)\s*/imy,TEXT:/\s*[^<]*/my,CLOSE:/\s*<\/[\w-]+>\s*/imy};var s=new Set;function l(t,e,n){return{tagName:e,attributes:n,classList:null!=n&&n.has("class")?new Set(n.get("class").split(/\s+/g)):s,parentNode:t,childNodes:[]}}var c=[];function d(t,e){if(null!=t){var n=t._ofTypes=t._ofTypes||{};if(!(e in n)){var i=0;n[e]=t.childNodes.filter((function(t){if(t.tagName==e)return t._typeIdx=i++,!0}))}return n[e]}return c}var u=function(t){var e=function(t){var e,n,r=0,s=[];function l(t){for(var e in r=t.lastIndex,a)a[e].lastIndex=r}function c(){if(null!=(e=a.CLOSE.exec(t)))return l(a.CLOSE),void s.push(3);if(null!=(e=a.NAME.exec(t))){l(a.NAME);var i,r=e[1];for(s.push(1,r);n=a.ATTR.exec(t);)l(a.ATTR),(i=i||new Map).set(n[1],(n[2]||n[3]||n[4]||"").trim());return i&&s.push(2,i),n=a.TAIL.exec(t),(o.has(r)||"/>"==n[1])&&s.push(3),void l(a.TAIL)}null!=(e=a.TEXT.exec(t))&&l(a.TEXT)}for(var d=r;r<t.length;)c(),d===r&&i("html",t,r),d=r;return l({lastIndex:0}),s}(t=t.replace(r,"")),n={nodes:[],tag:new Set(["*"]),class:new Set,attr:new Set};!function(t,e){for(var n,i=l(null,"root",s),o=0;o<t.length;o++){switch(t[o]){case 1:var r=t[++o],a=s;2===t[o+1]&&(a=t[o+=2]),n=i.childNodes.length,i.childNodes.push(i=l(i,r,a)),e(i,n);break;case 3:i=i.parentNode}}}(e,(function(t,e){return function(t,e,n){t.idx=e;var i=t.attributes;n.tag.add(t.tagName),t.classList.forEach((function(t){return n.class.add(t)})),i.has("id")&&n.attr.add("[id="+i.get("id")+"]"),i.has("type")&&n.attr.add("[type="+i.get("type")+"]"),n.nodes.push(t)}(t,e,n)}));return n},p=/\s*\/\*[\s\S]*?\*\/\s*/gm,f=/\s*[>~+.#]\s*|\[[^\]]+\]|\s+/gm;function h(t){var e=t.split(/\s*,\s*/gm);return e.push(e.map((function(t){return function(t){for(var e=t.length;(t=t.replace(m,"")).length!=e;)e=t.length;return t.replace(/:?:[a-z-]+/gm,"")}(t).trim().replace(f,(function(t,e){return t=t.trim(),0==e?t:"."==t||"#"==t?"`"+t:t.length<=1?"`":"`"+t.replace(/['"]/gm,"")})).split(/`+/gm)}))),e}var m=/:[a-z-]+\([^()]*\)/;function g(t,e,n,i){for(var o="",r=1;t[e]==n?r++:t[e]==i&&r--,0!=r;)o+=t[e++];return o}function v(t){return function(t){var e,n={RULE_HEAD:/\s*([^{;]+?)\s*[{;]\s*/my,RULE_TAIL:/\s*([^}]*?)\s*\}/my,AT_TAIL:/\s*\}/my,RULE_FULL:/\s*([^{]*?)\{([^}]+?)\}/my},o=0,r=0,a=[];function s(t){for(var e in r=t.lastIndex,n)n[e].lastIndex=r}function l(){if(o>0&&null!=(e=n.AT_TAIL.exec(t)))return o--,a.push(2),void s(n.AT_TAIL);if(null!=(e=n.RULE_HEAD.exec(t))){var i=e[1];if(s(n.RULE_HEAD),"@"==i[0])switch(i.match(/@[a-z-]+/)[0]){case"@media":case"@supports":case"@document":o++,a.push(1,i);break;case"@import":case"@charset":case"@namespace":a.push(5,i+";");break;default:o++;var l=g(t,r,"{","}");s({lastIndex:r+l.length}),a.push(1,i,5,l)}else a.push(3,h(e[1])),e=n.RULE_TAIL.exec(t),a.push(4,e[1]),s(n.RULE_TAIL)}else r=t.length}for(var c=r;r<t.length;)l(),c===r&&i("css",t,r),c=r;return a}(t=t.replace(p,""))}function b(t){return t.replace(/@[a-z-]+[^{]+\{\s*\}/gm,"")}var y=/^([+-]?\d*)?n([+-]\d+)?$/;function w(t,e){return e==t.tagName||"*"==e}function x(t,e,n,i){i=i||"=";var o=t.attributes;if(o.has(e)){var r=o.get(e);switch(i){case"=":return null==n||n==r;case"*=":return-1!=r.indexOf(n);case"^=":return r.startsWith(n);case"$=":return r.endsWith(n);case"~=":return n==r||r.startsWith(n+" ")||r.endsWith(" "+n)||-1!=r.indexOf(" "+n+" ")}}return!1}function _(t,e){return t.classList.has(e)}function S(t,e){var n;if("odd"==e)n=t%2==1;else if("even"==e)n=t%2==0;else if(/^\d+$/.test(e))n=t==+e;else{var i=function(t){var e=y.exec(t);if(null!=e){var n=e[1],i=e[2];return[n=null==n||"+"==n?1:"-"==n?-1:+n,i=null==i?0:+i]}return[0,0]}(e);n=function(t,e,n){if(e<0&&t<=0)return!1;if(-1===t)return n<=e;if(0===t)return n===e;if(1===t)return e<0||n>=e;var i=e%t;return i<0&&(i+=t),t>1?n>=e&&n%t===i:(t*=-1,n<=e&&n%t===i)}(i[0],i[1],t)}return n}function k(t,e){return t.some((function(t){return function t(e,n){for(var i,o,r,a,s,l;n.idx>-1;){switch(e[n.idx]){case"_":i=e[--n.idx],l=w(n.node,i),n.idx--;break;case"#":o=e[--n.idx],l=x(n.node,"id",o,"="),n.idx--;break;case".":i=e[--n.idx],l=_(n.node,i),n.idx--;break;case"[":i=e[--n.idx],r=e[--n.idx],o=e[--n.idx],l=x(n.node,i,o,r),n.idx--;break;case":":i=e[--n.idx],o=e[--n.idx];var c=n.node,u=c.tagName;s=c.idx;var p=(a=c.parentNode)?a.childNodes.length:1,f=void 0;switch(i){case"not":l=!t(o,{node:n.node,idx:o.length-1});break;case"first-child":l=0==s;break;case"last-child":l=s==p-1;break;case"only-child":l=1==p;break;case"nth-child":l=S(s+1,o);break;case"nth-last-child":l=S(p-s,o);break;case"first-of-type":f=d(a,u),l=0==c._typeIdx;break;case"last-of-type":f=d(a,u),l=c._typeIdx==f.length-1;break;case"only-of-type":l=1==(f=d(a,u)).length;break;case"nth-of-type":f=d(a,u),l=S(c._typeIdx+1,o);break;case"nth-last-of-type":l=S((f=d(a,u)).length-c._typeIdx,o)}n.idx--;break;case" ":for(s=--n.idx,l=!1;!l&&null!=(a=n.node.parentNode);)n.idx=s,n.node=a,l=t(e,n);break;case">":n.idx--,null!=(a=n.node.parentNode)?(n.node=a,l=t(e,n)):l=!1;break;case"+":n.idx--,null!=(a=n.node.parentNode)&&n.node.idx>0?(n.node=a.childNodes[n.node.idx-1],l=t(e,n)):l=!1;break;case"~":if(n.idx--,l=!1,s=n.node.idx,null!=(a=n.node.parentNode)&&s>0)for(var h=0;h<s&&!l;h++)n.node=a.childNodes[h],l=t(e,n)}if(!l)break}return l}(e,{idx:e.length-1,node:t})}))}var C=function(t,e){return k(t,Array.isArray(e)?e:function t(e){var n,i={IDENT:/([\w*-]+)/iy,ATTR:/([\w-]+)(?:(.?=)["']?([^\]]*?)["']?)?\]/iy,PSEUDO:/([\w-]+)(\()?/iy,MODE:/\s*[:.#\[]\s*/iy,COMB:/\s*[>~+]\s*|\s+/iy},o=0,r=[],a=-1;function s(t){for(var e in o=t.lastIndex,i)i[e].lastIndex=o}function l(){var o=!1;if(n=i.COMB.exec(e)){o=!0;var l=n[0].trim();""==l&&(l=" "),r.push(l),s(i.COMB),a=r.length-1}else if(n=i.MODE.exec(e)){o=!0;var c=n[0].trim();if(s(i.MODE),":"==c){if("("==(n=i.PSEUDO.exec(e))[2]){var d=g(e,i.PSEUDO.lastIndex,"(",")");i.PSEUDO.lastIndex+=d.length+1,n[2]="not"==n[1]?t(d):d}r.splice(a+1,0,n[2],n[1],c),s(i.PSEUDO)}else"["==c?(n=i.ATTR.exec(e),r.splice(a+1,0,n[3],n[2],n[1],c),s(i.ATTR)):(n=i.IDENT.exec(e),r.push(n[1],c),s(i.IDENT))}else(n=i.IDENT.exec(e))&&(o=!0,r.push(n[1],"_"),s(i.IDENT));return o}for(;o<e.length;)l();return r}(e))};function P(t,e,n,i,o){o=o||"";for(var r=e.length-1;r>-1;r--){var a=e[r];n.has(a[2])||!0!==i(o+a[2])||(s=t,l=a[0],c=a[1],d="",t=s.slice(0,l)+d+s.slice(l+c))}var s,l,c,d;return t}var T=/([{};])\s*(--[\w-]+)\s*:\s*([^;}]+);?\s*/gm,E=/var\(([\w-]+)\)/gm,A=/\s*,\s*/gm;function j(t){return t.trim().replace(/'|"/gm,"").split(A)}function L(t,e,n,i){var o=function(t){for(var e,n={};E.test(t);){for(;e=T.exec(t);)n[e[2]]=e[3];t=t.replace(E,(function(t,e){return E.test(n[e])?t:n[e]}))}return t}(t).replace(T,(function(t,e){return e}));return(t=function(t,e){var n=t;do{n=(t=n).replace(T,(function(e,n,i){return-1!=t.indexOf("var("+i+")")?e:n}))}while(n!=t);return n}(t=function(t,e,n){for(var i,o="@font-face[^}]+\\}+",r=RegExp(o,"gm"),a=[];i=r.exec(t);)a.push([i.index,i[0].length]);for(var s,l="font-family:([^;!}]+)",c=RegExp(l),d=0;i=r.exec(e);)s=c.exec(i[0]),a[d++].push(j(s[1])[0]);for(var u=new Set,p=RegExp(o+"|"+l,"gm");i=p.exec(e);)"@"!==i[0][0]&&j(i[1]).forEach((function(t){return u.add(t)}));for(var f,h=/font:([^;!}]+)/gm,m=/\s*(?:['"][\w- ]+['"]|[\w-]+)\s*(?:,|$)/gm;i=h.exec(e);){for(f="";s=m.exec(i[1]);)f+=s[0];j(f).forEach((function(t){return u.add(t)}))}return P(t,a,u,n,"@font-face ")}(t=function(t,e,n){for(var i,o=[],r=/@(?:-\w+-)?keyframes\s+([\w-]+)\s*\{/gm;i=r.exec(t);){var a=g(t,r.lastIndex,"{","}");o.push([i.index,i[0].length+a.length+1,i[1]])}for(var s=new Set,l=/animation(?:-name)?:([^;!}]+)/gm;i=l.exec(e);)i[1].trim().split(A).forEach((function(t){var e=t.match(/^\S+/)[0];/^-?[\d.]+m?s/.test(e)&&(e=t.match(/\S+$/)[0]),s.add(e)}));return P(t,o,s,n,"@keyframes ")}(t,o,e),o,e))).replace(/[^{}]+\{\s*\}/gm,"")}var $=/\[([\w-]+)(?:(.?=)"?([^\]]*?)"?)?\]/i,F=/:(?:first|last|nth|only|not)\b/;var O=function(t){return!0};t.exports=function(t){for(var e=u(t.html,t.keepText),n=t.shouldDrop||O,i=v(t.css),o={},r=0;r<i.length;r++){if(3===i[r]){var a=i[r+1],s=a[a.length-1];r++;for(var l=0;l<s.length;l++){var c=s[l];t:for(var d=0;d<c.length;d++){var p=c[d],f=!1,h=void 0;if(""!=p){if(p in o)f=o[p];else switch(p[0]){case"#":h=p.substr(1),o[p]=f=e.attr.has("[id="+h+"]");break;case".":h=p.substr(1),o[p]=f=e.class.has(h);break;case"[":if(p.startsWith("[type="))o[p]=f=e.attr.has(p);else{var m=p.match($);o[p]=f=e.nodes.some((function(t){return x(t,m[1],m[3],m[2])}))}break;default:o[p]=f=e.tag.has(p)}if(!f){!0===n(a[l])?a[l]=null:o[a[l]]=!0;break t}}}}}}for(var g=0;g<i.length;g++){if(3===i[g]){i[++g].length;i[g]=i[g].filter((function(t){if("string"==typeof t){if(t in o)return o[t];var i=t.replace(/:?:[a-z-]+/gm,(function(t){return t.startsWith("::")||!F.test(t)?"":t})).replace(/:[a-z-]+\(\)/gm,"");return""==i||(i in o?o[i]:o[i]=C(e.nodes,i)||!0!==n(t))}return!1}))}}var y=new Set,w=function(t,e){for(var n="",i=0,o=0;o<t.length;o++){switch(t[o]){case 3:var r=t[++o];(i=r.length)>0&&(r.forEach((function(t){return e.add(t)})),n+=r.join());break;case 4:i>0&&(n+="{"+t[++o]+"}");break;case 1:n+=t[++o]+"{";break;case 2:n+="}";break;case 5:n+=t[++o]}}return b(n)}(i,y);return{css:b(w=L(w,n)),sels:y}}},function(t,e,n){"use strict";defineM("google-analytics",(function(t,e,n){e.regExtension({name:"google-analytics",events:{load:function(){e.addFilter("publishHTML",(function(t){var n=e.projectSettings["google-analytics"]||"";return n?t.replace("<body>","<body>\n\n\x3c!-- Analytics --\x3e\n"+n+"\n\x3c!-- /Analytics --\x3e\n\n"):t})),e.addFilter("sidebarProjectSettings",(function(t){var e={title:"SEO & Analytics",name:"seo-analytics",html:'<div class="form-group col-md-12"><label class="control-label" for="site-settings-google-analytics">'+n("Analytics")+'</label><textarea id="site-settings-google-analytics" rows="5" name="google-analytics" placeholder="'+n("Paste your Analytics code snippet here or paste any other code that you want to have on every page immediately after the opening $body$ tag.").replace("$body$","&lt;body&gt;")+'" class="form-control"></textarea></div>'};return t.push(e),t}))},shownSidebarProjectSettings:function(n,i){var o=e.projectSettings["google-analytics"]||"";t("#site-settings-google-analytics").val(o),t("#site-settings-google-analytics").change((function(t){e.projectSettings["google-analytics"]=t.target.value,e.changeProjectSettings(i,{"google-analytics":t.target.value})}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i,o=n(366),r=(i=o)&&i.__esModule?i:{default:i},a=n(27);defineM((function(t,e,n){function i(t){var n,i,o=e.Core.getPages(),a=[];for(var s in t.match(/\/$/i)&&(t=t.slice(0,-1)),n=t.match(/https?:\/\//i)[0],i=r.default.toASCII(t.slice(n.length)),t=n+i,o)a.push("\t<url>","\t\t<loc>"+t+"/"+s.toString()+"</loc>","\t</url>");return['<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',a=a.join("\n"),"</urlset>"].join("\n")}function o(t){a.Bridge.saveLocalFile(e.projectPath+"/sitemap.xml",t)}function s(t){return!!t.match(/^https?:\/\/.*/i)}function l(){e.showDialog({title:n("Enter site URL"),className:"site-url-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<span class="site-url-error" style="color: red;display: none;">'+n('URL is not valid! (must be like "http://mysite.com")')+"</span>",'<input class="form-control" type="text" name="siteUrlModal" placeholder="http://mysite.com" value="'+e.projectSettings.siteUrl+'">',"</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){var n=t("input[name='siteUrlModal']");if(!s(n.val()))return t(".site-url-error").show(),n.focus(),e.projectSettings.siteUrl="",!1;e.projectSettings.siteUrl=n.val(),t("#siteUrl").parents(".form-group").show(),t("#siteUrl").val(n.val()),t(".sitemapEdit").parents(".form-group").hide()}}]})}e.regExtension({name:"seo",events:{shownSidebarProjectSettings:function(r,c){!function(i){t("#robotsSwitcher").change((function(n){var i=t(n.target).prop("checked");e.projectSettings.robotsSwitcher=i,i&&t(".robotsEdit").click(),e.projectSettings.robotsText="User-agent: *\r\nDisallow: /cgi-bin\r\n",t(".robotsText").val("User-agent: *\r\nDisallow: /cgi-bin\r\n"),t(".robotsEdit").parents(".form-group").toggle()})),t(".robotsEdit").click((function(o){o.preventDefault(),e.showDialog({title:n("Edit robots.txt"),className:"robots-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control robotsText" name="robotsText" rows="10">',e.projectSettings.robotsText,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){e.changeProjectSettings(i,{robotsText:t(".robotsText").val()}),e.projectSettings.robotsText=t(".robotsText").val()}}]})}))}(c),function(r){t("#sitemapSwitcher").change((function(n){var i=t(n.target).prop("checked");e.projectSettings.sitemapSwitcher=i,e.projectSettings.siteUrl="",e.projectSettings.sitemapSwitcherAuto="on",e.changeProjectSettings(r,{siteUrl:""}),e.changeProjectSettings(r,{sitemapSwitcherAuto:"on"}),t("#siteUrl").val(""),t("#sitemapSwitcherAuto").prop("checked",!0),t(n.target).prop("checked")?(l(),t(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col-auto").removeClass("col"),t(".togglebutton").has("#sitemapSwitcherAuto").show(),t(".togglebutton").has("#sitemapSwitcherAuto").prev("label").show(),t(".form-group").has("#siteUrl").show(),t(".form-group").has(".sitemapEdit").hide(),t("input[name='siteUrlModal']").on("input",(function(){s(t(this).val())?t(".site-url-error").hide():t(".site-url-error").show()})),t(".site-url-modal").on("hidden.bs.modal",(function(){t(".site-url-modal").remove(),e.projectSettings.siteUrl||t("#sitemapSwitcher").trigger("click")}))):(t(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col").removeClass("col-auto"),t(".form-group").has("#siteUrl").hide(),t(".togglebutton").has("#sitemapSwitcherAuto").hide(),t(".togglebutton").has("#sitemapSwitcherAuto").prev("label").hide(),t(".form-group").has(".sitemapEdit").hide())})),t("#siteUrl").click((function(){l()})),t("#sitemapSwitcherAuto").change((function(n){var a=t(n.target).prop("checked");return o(i(e.projectSettings.siteUrl)),a?(t("#siteUrl").parents(".form-group").show(),t(".sitemapEdit").parents(".form-group").hide()):(t("#siteUrl").parents(".form-group").hide(),t(".sitemapEdit").parents(".form-group").show()),e.projectSettings.sitemapSwitcherAuto=a?"on":"",e.changeProjectSettings(r,{sitemapSwitcherAuto:a?"on":""}),!0})),t(".sitemapEdit").click((function(i){i.preventDefault(),a.Bridge.loadLocalFile(e.projectPath+"/sitemap.xml",(function(i){e.showDialog({title:n("Edit sitemap.xml"),className:"sitemap-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control sitemapText" name="robotsText" rows="15">',i,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){o(t(".sitemapText").val())}}]})})),t(".sitemap-modal").on("hidden.bs.modal",(function(){t(".sitemap-modal").remove()}))}))}(c)},load:function(){var t=this;e.addFilter("sidebarProjectSettings",(function(e){var i={title:n("SEO & Analytics"),name:"seo-analytics",html:'<div class="form-group col-md-12"><div class="row"><label class="col control-label" for="robotsSwitcher">'+n("Use robots.txt")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" id="robotsSwitcher" name="robotsSwitcher" '+(t.projectSettings.robotsSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(t.projectSettings.robotsSwitcher?">":' style="display: none;">')+'<button class="btn btn-primary pull-right robotsEdit" type="button">'+n("Edit Robots.txt")+'</button></div><div class="form-group col-md-12"><div class="row"><label class="'+(t.projectSettings.sitemapSwitcher?"col-auto":"col")+' control-label" for="sitemapSwitcher">'+n("Use sitemap.xml")+'</label><div class="col-auto togglebutton"><label><input type="checkbox" id="sitemapSwitcher" name="sitemapSwitcher" '+(t.projectSettings.sitemapSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div><label class="col text-right control-label"'+(t.projectSettings.siteUrl&&"undefined"!==t.projectSettings.siteUrl&&t.projectSettings.sitemapSwitcher?"":'style="display:none"')+' for="sitemapSwitcherAuto">'+n("Auto")+'</label><div class="col-auto togglebutton"'+(t.projectSettings.siteUrl&&"undefined"!==t.projectSettings.siteUrl&&t.projectSettings.sitemapSwitcher?"":'style="display:none"')+'><label><input type="checkbox" id="sitemapSwitcherAuto" name="sitemapSwitcherAuto" '+(t.projectSettings.sitemapSwitcherAuto?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" '+(t.projectSettings.siteUrl&&t.projectSettings.sitemapSwitcherAuto&&t.projectSettings.sitemapSwitcher?"":'style="display: none;"')+'><input class="form-control" type="text" id="siteUrl" name="siteUrl" placeholder="http://mysite.com" '+(t.projectSettings.siteUrl?'value="'+t.projectSettings.siteUrl+'"':"")+'readonly></div><div class="form-group col-md-12"'+(t.projectSettings.siteUrl&&!t.projectSettings.sitemapSwitcherAuto&&t.projectSettings.sitemapSwitcher?">":'style="display: none;">')+'<button class="btn btn-primary pull-right sitemapEdit" type="button">'+n("Edit Sitemap Settings")+"</button></div>"};return e.push(i),e})),t.addFilter("publishFiles",(function(n){return t.projectSettings.robotsSwitcher&&n.push({srcList:[{src:"robots.txt",filter:"template"}],dest:"robots.txt"}),t.projectSettings.siteUrl&&"undefined"!==t.projectSettings.siteUrl&&(t.projectSettings.sitemapSwitcherAuto?n.push({srcList:[{src:"sitemap.xml",filter:"template"}],dest:"sitemap.xml"}):n.push({srcList:[{src:e.projectPath+"/sitemap.xml"}],dest:"sitemap.xml"})),n})),t.addFilter("publishTemplating",(function(e,n){return"robots.txt"==n?t.projectSettings.robotsText:"sitemap.xml"==n?i(t.projectSettings.siteUrl):e}))}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};defineM("cookies-alert",(function(t,e,n){var r={colorText:"#a7a7a7",colorLink:"#149dcc",underlineLink:!1,text:n("By continuing you agree to our %Terms of Service% and %Privacy Policy%").replace(/%(.[^%]+)%/,"<a href='terms.html'>$1</a>").replace(/%(.[^%]+)%/,"<a href='policy.html'>$1</a>.")},a={customDialogSelector:!1,colorText:"#424a4d",colorBg:"#eaeff1",colorButton:"",colorLink:"#424a4d",underlineLink:!0,opacity:"99",opacityOverlay:"80",text:n("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."),textButton:n("Agree")};function s(t){return t=t.slice(1),.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16)>186?"#000000":"#FFFFFF"}function l(){var t=['<span class="gdpr-block'+(e.projectSettings.gdpr?"":" covert")+'">',"<label>",'<span class="textGDPR display-7"><input type="checkbox" name="gdpr" id="gdpr-input" required>'+(e.projectSettings.gdpr?e.projectSettings.gdpr.text:"")+"</span>","</label>","</span>"].join("\n");return e.projectSettings.gdpr&&(t=(t=t.replace('class="textGDPR display-7"','class="textGDPR display-7" style="color: '+e.projectSettings.gdpr.colorText+'"')).replace(/<a/gi,'<a style="color: '+e.projectSettings.gdpr.colorLink+"; text-decoration: "+(e.projectSettings.gdpr.underlineLink?"underline":"none")+';"')),t}function c(e){var n={};if("cookiesAlert"===e){var i=t(".cookiesDialog");n.customDialogSelector=i.find("#customDialogSelector").prop("checked"),n.colorText=i.find("#colorText").val(),n.colorBg=i.find("#colorBg").val(),n.textButton=i.find("#buttonCookies").val(),n.colorButton=i.find("#colorButton").val(),n.colorLink=i.find("#colorLink").val(),n.underlineLink=i.find("#underlineLink").prop("checked"),n.opacity=i.find("#opacityAlert").val(),n.opacityOverlay=i.find("#opacityOverlay").val(),n.text=i.find("#textCookies").val()}if("gdpr"===e){var o=t(".editorGDPR");n.colorText=o.find("#colorText").val(),n.colorLink=o.find("#colorLink").val(),n.underlineLink=o.find("#underlineLink").prop("checked"),n.text=o.find("#textareaGDPR").val()}return n}function d(t,e){if(t){var n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+i+", "+o+", "+e+")":"rgb("+n+", "+i+", "+o+")"}}function u(t){var n=t.contents().find("body");e.isAMP()?n.find(".custom-dialog").length?t.css("height",n.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",n.find("#amp-cookies-notification")[0].scrollHeight):n.find("#cookie-dialog").length?t.css("height",n.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",n.find("#cookiesdirective")[0].scrollHeight)}function p(){var i=e.projectSettings.cookiesAlert,r=o({},i);function a(e,i){if(t(e).contents().find("body").find("#epd, #cookie-dialog").remove(),i.customDialogSelector){var o='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective"><div class="cookieOverlay" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(i.opacityOverlay?.01*i.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000;"><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); font-family: Arial; font-size: 16px; line-height: 1.5; color:'+i.colorText+"; background:"+d(i.colorBg,.01*i.opacity)+';"><div class="mbr-text"><p class="display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</div><div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(i.colorButton?" background-color:"+i.colorButton+"!important;color:"+s(i.colorButton)+"!important":"")+'" id="impliedsubmit">'+i.textButton||!1;t(e).contents().find("body").append(o)}e[0].contentWindow.$.cookiesDirective({explicitConsent:!1,position:"bottom",duration:0,limit:0,customDialogSelector:i.customDialogSelector?"#cookie-dialog":null,message:i.text,fontFamily:"Arial",fontColor:i.colorText,fontSize:"13px",backgroundColor:d(i.colorBg,.01*i.opacity),linkColor:i.colorLink,textButton:i.textButton||n("Agree"),colorButton:i.colorButton,underlineLink:i.underlineLink,animate:!1}),t(e).contents().find("#impliedsubmit").attr("demo","")}function l(e,i){var o,r=t(e).contents().find("body");r.empty(),o=i.customDialogSelector?'<amp-user-notification id="amp-cookies-notification" class="custom-dialog" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center;"><div class="cookieOverlay" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(i.opacityOverlay?.01*i.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="background:'+d(i.colorBg,.01*i.opacity)+"; color:"+i.colorText+'; position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000;"><span class="display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(i.colorButton?" background-color:"+i.colorButton+";border-color:"+i.colorButton+";color:"+s(i.colorButton)+"!important;":"")+'">'+i.textButton||!1:'<amp-user-notification id="amp-cookies-notification" style="background:'+d(i.colorBg,.01*i.opacity)+"; color:"+i.colorText+'; padding: 10px 5px; display:block; text-align: center;" layout="nodisplay" class="cookie-wrapper"><span class="display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="margin-left: 10px; cursor: pointer;'+(i.colorButton?" background-color:"+i.colorButton+";border-color:"+i.colorButton+";color:"+s(i.colorButton)+"!important;":"")+'">'+(i.textButton||n("Agree"))+"</button></amp-user-notification>",r.append(o)}e.showDialog({title:n("Cookies Alert Editor"),className:"cookiesDialog",size:"medium",body:['<div class="row clearfix">','<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+n("Explicit Consent")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="customDialogSelector" name="customDialogSelector"'+(r.customDialogSelector?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Text Color")+":</label>",'<input class="mbr-color" id="colorText" type="text" value='+r.colorText+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Background Color")+":</label>",'<input class="mbr-color" id="colorBg" type="text" value='+r.colorBg+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Button Color")+":</label>",'<input class="mbr-color" id="colorButton" type="text" value='+r.colorButton+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Link Color")+":</label>",'<input class="mbr-color" id="colorLink" type="text" value='+r.colorLink+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+n("Underline Link")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="underlineLink" name="underlineLink"'+(r.underlineLink?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="col-md-12" style="margin-bottom: 15px">',"<label>"+n("Alert Opacity")+":</label>",'<input type="range" style="margin-top: 10px" id="opacityAlert" name="opacityAlert" min="1" max="99" step="1" value='+r.opacity+">","</div>",'<div class="col-md-12 opacity-overlay-wrap" style="margin-bottom: 15px">',"<label>"+n("Overlay Opacity")+":</label>",'<input type="range" style="margin-top: 10px" id="opacityOverlay" name="opacityOverlay" min="1" max="99" step="1" value='+(r.opacityOverlay||"80")+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+n("Text")+":</label>",'<textarea rows="3" id="textCookies" style="resize: vertical" name="textCookies" placeholder="'+n("Paste your cookies alert message.")+'" class="form-control">'+(r.text?r.text:n("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."))+"</textarea>","</div>",'<div class="col-md-12">','<label style="margin-bottom: 15px">'+n("Button")+":</label>",'<textarea rows="1" id="buttonCookies" style="resize: vertical" name="buttonCookies" placeholder="'+n("Paste your cookies alert button text.")+'" class="form-control">'+(r.textButton?r.textButton:n("Agree"))+"</textarea>","</div>","</div>",'<iframe src="javascript:\'\'" id="iframeCookies" class="" style="width: 100%; height: 40px; border: none; margin-top: 10px">'].join("\n"),buttons:[{label:"save",default:!0,callback:function(){o(i,c("cookiesAlert"))}}],hide:function(t){},show:function(n){r.customDialogSelector||n.find(".opacity-overlay-wrap").hide();var i=n.find("#iframeCookies");i.on("load",(function(){var o=i.contents().find("body");i.contents().find("head");o.css("background-color","#fff"),n.find("#colorText, #colorBg, #colorButton, #colorLink, #underlineLink, #opacityAlert").on("change",(function(){var t=c("cookiesAlert");if(e.isAMP()){var n=o.find(".cookie-wrapper");n.css({color:t.colorText,"background-color":d(t.colorBg,.01*t.opacity)}),n.find("a").css({color:t.colorLink,"text-decoration":t.underlineLink?"underline":"none"}),n.find("button").css({"background-color":t.colorButton})}else{var i;(i=t.customDialogSelector?o.find(".cookie-wrapper"):o.find("#cookiesdirective")).css({color:t.colorText,"background-color":d(t.colorBg,.01*t.opacity)}),i.find("a:not(.btn)").css({color:t.colorLink,"text-decoration":t.underlineLink?"underline":"none"}),i.find("#impliedsubmit").css({"background-color":t.colorButton}),i.find("#impliedsubmit").css({color:s(t.colorButton)}),i.find("#impliedsubmit")[0].style.setProperty("background-color",t.colorButton,"important"),i.find("#impliedsubmit")[0].style.setProperty("color",s(t.colorButton),"important")}})),n.find("#opacityOverlay").on("change",(function(){var t=c("cookiesAlert");o.find(".cookieOverlay").css("opacity",.01*t.opacityOverlay)})),n.find("#customDialogSelector").on("change",(function(){var i=c("cookiesAlert"),o=e.$body.find(".cookiesDialog #iframeCookies");e.isAMP()?l(o,i):a(o,i),u(o),t(this).prop("checked")?n.find(".opacity-overlay-wrap").show():n.find(".opacity-overlay-wrap").hide()})),n.find("#textCookies").on("keyup",(function(){o.find(".cookie-wrapper .mbr-text p").html(this.value),n.find("#colorText, #colorBg, #colorButton, #colorLink, #underlineLink, #opacityAlert").trigger("change"),u(i)})),n.find("#buttonCookies").on("keyup",(function(){var e=o.find(".cookie-wrapper").find("#impliedsubmit");e.is("input")?e.val(t(this).val()):e.text(t(this).val()),n.find("#colorText, #colorBg, #colorButton, #colorLink, #underlineLink, #opacityAlert").trigger("change"),u(i)}))}))}}).on("shown.bs.modal",(function(){var e=t("#iframeCookies");u(e),e.contents().on("click","a",(function(t){t.preventDefault()}))})),t("#iframeCookies").on("load",(function(){var n=t("#iframeCookies"),i=n.contents().find("body");i.css({margin:0,"background-color":"transparent"}),e.isAMP()||i.append('<input name="cookieData" type="hidden">'),t.when(function(){var n=t("#iframeCookies").contents(),i=t("#iframeCookies").contents().find("head"),o=t.Deferred(),r='<link rel="stylesheet" href="'+e.theme.path+'/plugins/theme/css/style.css"/>',a=t("body .desktop").contents().find('body style[name="theme-styles"]');i.append('<link rel="stylesheet" href="assets/bootstrap/bootstrap.min.css"/>'),i.append(r),i.append(a.clone()),e.isAMP()||i.append('<link rel="stylesheet" href="assets/bootstrap-material/css/material.min.css"/>');if(e.isAMP())o.resolve();else{var s=n[0].createElement("script");s.src="assets/jquery/jquery.js",s.onload=function(){var t=n[0].createElement("script");t.src="assets/cookies-alert-plugin/cookies-alert-core.js",i[0].append(t),t.onload=function(){o.resolve()}},i[0].append(s)}return o}()).then((function(){e.isAMP()?l(n,r):a(n,r)}))}))}function f(){var i=e.projectSettings.gdpr,r=o({},i);e.showDialog({title:n("Compliance GDPR"),className:"editorGDPR",size:"medium",body:['<div class="row clearfix">','<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Text Color")+":</label>",'<input class="mbr-color" id="colorText" type="text" value='+r.colorText+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+n("Link Color")+":</label>",'<input class="mbr-color" id="colorLink" type="text" value='+r.colorLink+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+n("Underline Link")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="underlineLink" name="underlineLink"'+(r.underlineLink?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">Text:</label>','<textarea rows="2" id="textareaGDPR" style="resize: vertical" placeholder="'+n("Paste your GDPR message.")+'" class="form-control">'+r.text+"</textarea>","</div>",'<div class="col-md-12">','<label style="margin-bottom: 15px">'+n("Demo")+":</label>",'<span class="gdpr-block-for-customization" style="display: block;"><label><input type="checkbox" name="gdpr" id="gdpr-input" required style="width: 15px; height: 15px; margin: 0; margin-right: 10px;"></label><span class="textGDPR display-7">'+i.text+"</span></span>","</div>","</div>"].join("\n"),buttons:[{label:"Save",default:!0,callback:function(t){o(i,c("gdpr"))}}],show:function(e){e.find("#colorText, #colorLink, #underlineLink").on("change",(function(){var e=t(".gdpr-block-for-customization").find(".textGDPR"),n=c("gdpr");e.css({color:n.colorText}),e.find("a").css({color:n.colorLink,"text-decoration":n.underlineLink?"underline":"none"})})),e.find("#textareaGDPR").on("keyup",(function(){t(".gdpr-block-for-customization").find(".textGDPR").html(t(this).val()),e.find("#colorText, #colorLink, #underlineLink").trigger("change")})),e.find("#colorText").trigger("change")}})}e.regExtension({name:"cookies-alert",events:{load:function(){e.addFilter("sidebarProjectSettings",(function(t){var i=e.projectSettings.customCookies||e.projectSettings.cookiesAlert||"",o=e.projectSettings.gdpr||"",r={title:n("Cookies Alert"),name:"cookies-alert",html:'<div class="form-group col-md-12"><div class="row"><label for="cookiesAlertSwitcher" class="col control-label">'+n("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="cookiesAlert" id="cookiesAlertSwitcher" '+(""!==i?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==i?"block":"none")+'"><div class="row"><div class="col-md-12 customCookiesAlert"><button class="btn btn-primary pull-right" id="customCookiesButton" type="button">'+n("Edit")+"</button></div></div></div>"},a={title:n("GDPR Compliance"),name:"gdpr-compliance",html:'<div class="form-group col-md-12"><div class="row"><label for="gdprSwitcher" class="col control-label">'+n("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="gdpr" id="gdprSwitcher" '+(""!==o?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==o?"block":"none")+'"><div class="row"><div class="col-md-12 customGdpr"><button class="btn btn-primary pull-right" id="customGdprButton" type="button">'+n("Edit")+"</button></div></div></div>"};return t.push(r),t.push(a),t})),e.addFilter("publishHTML",(function(t){var i=e.projectSettings.cookiesAlert||"";if(i)if(e.isAMP()){var o;o=i.customDialogSelector?'<amp-user-notification style="height: 100vh; padding-top: 40vh; background: none;" id="amp-cookies-notification" layout="nodisplay"><div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(i.opacityOverlay?.01*i.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000; color:'+i.colorText+"; background:"+d(i.colorBg,.01*i.opacity)+';"><span class="mbr-text display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn" style="display:block"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(i.colorButton?" background-color:"+i.colorButton+"; border-color:"+i.colorButton+";":"")+'">'+(i.textButton||n("Agree"))+"</button></span></div></amp-user-notification>":'<amp-user-notification class="display-7" id="amp-cookies-notification" style="color:'+i.colorText+"; background:"+d(i.colorBg,.01*i.opacity)+'; padding: 10px 5%; display:inline-block;text-align: center;" layout="nodisplay"><span class="display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: inline-block; cursor: pointer; margin-left: 10px;'+(i.colorButton?" background-color:"+i.colorButton+"; border-color:"+i.colorButton+";":"")+'">'+(i.textButton||n("Agree"))+"</button></span></amp-user-notification>",/<script.*?(?=amp-user-notification-\d\.\d\.js).*?>/.test(t)||(t=t.replace("</head>",'  <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"><\/script>\n  </head>')),t=t.replace("</body>",o+"\n </body>")}else{var r=["data-cookie-customDialogSelector='"+(i.customDialogSelector?"#cookie-dialog":"null")+"'","data-cookie-colorText='"+i.colorText+"'","data-cookie-colorBg='"+d(i.colorBg,.01*i.opacity)+"'","data-cookie-textButton='"+(i.textButton||n("Agree"))+"'","data-cookie-colorButton='"+(i.colorButton||"")+"'","data-cookie-colorLink='"+i.colorLink+"'","data-cookie-underlineLink='"+i.underlineLink+"'",'data-cookie-text="'+i.text+'"'];if(i.customDialogSelector){var a='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective"><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(i.opacityOverlay?.01*i.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000"><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); color:'+i.colorText+"; background:"+d(i.colorBg,.01*i.opacity)+';"><div class="mbr-text"><p class="display-7">'+i.text.replace(/<a/gi,"<a style='color: "+i.colorLink+"; text-decoration: "+(i.underlineLink?"underline":"none")+";'")+'</p></div><div class="mbr-section-btn"><a style="margin:0;'+(i.colorButton?" background-color:"+i.colorButton+" !important; color:"+s(i.colorButton)+"!important; border-color:"+i.colorButton+" !important;":"")+';" class="btn btn-sm btn-primary display-7" id="impliedsubmit">'+(i.textButton||n("Agree"))+"</a></div></div></div></div></div>";t=t.replace("</body>",a+"\n  </body>")}t=t.replace("</body>",'<input name="cookieData" type="hidden" '+r.join(" ")+">\n  </body>")}return t})),e.Core.addFilter("loadComponentTemplate",(function(t,n,i,o){if((n._customHTML&&n._customHTML.indexOf("</form>")||n.form)&&(t=t.replace("</form>",l()+"</form>")),i&&!e.projectSettings.gdpr&&-1!==t.indexOf(l())){var r=new RegExp(l(),"gi");t=t.replace(r,"")}return t})),e.registerAmpPlugin(["gdpr-plugin"])},shownSidebarProjectSettings:function(n,i){t("#cookiesAlertSwitcher").change((function(){t(this).prop("checked")?(e.projectSettings.cookiesAlert=o({},a),p(),t(".customCookiesAlert").parents(".form-group").show()):(delete e.projectSettings.cookiesAlert,t(".customCookiesAlert").parents(".form-group").hide())})),t("#customCookiesButton").click(p),t("#gdprSwitcher").change((function(){t(this).prop("checked")?(e.projectSettings.gdpr=o({},r),f(),t(".customGdpr").parents(".form-group").show()):(delete e.projectSettings.gdpr,t(".customGdpr").parents(".form-group").hide())})),t("#customGdprButton").click(f)},loadedProject:function(){!function(){if(e.projectSettings.gdpr&&"string"==typeof e.projectSettings.gdpr){var t=o({},r);t.text=e.projectSettings.gdpr,e.projectSettings.gdpr=o({},t)}if(e.projectSettings.cookiesAlert&&"string"==typeof e.projectSettings.cookiesAlert&&((n=o({},a)).text=e.projectSettings.cookiesAlert,e.projectSettings.cookiesAlert=o({},n)),e.projectSettings.customCookies&&"object"===i(e.projectSettings.customCookies)){if(e.projectSettings.cookiesAlert&&"object"===i(!!e.projectSettings.cookiesAlert))return e.projectSettings.cookiesAlert=o(e.projectSettings.cookiesAlert,e.projectSettings.customCookies),void delete e.projectSettings.customCookies;var n=o({},a);n=o(n,e.projectSettings.customCookies),e.projectSettings.cookiesAlert=o({},n),delete e.projectSettings.customCookies}e.projectSettings.cookiesAlert&&e.projectSettings.cookiesAlert.colorButton&&!e.projectSettings.cookiesAlert.hasOwnProperty("customDialogSelector")&&"#ffffff"===e.projectSettings.cookiesAlert.colorButton&&delete e.projectSettings.cookiesAlert.colorButton}()}}})}),["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-projects-presets",(function(t,e,n,i){function o(o,r){return new Promise((function(a,s){!function(r){var l=function(t){return'<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+n("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+t.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>"}((r=r.filter((function(t){return t.themeName===o.name}))).map((function(t){return function(t){var n=t.presetsList,o=[],r=void 0;if(t.local){var a=e.getAddonDir(t.themeName);r=i.path2app(a)}else r="https://my.mobirise.com/data/upload/thumbs/"+t.themeName;for(var s in n)if(n.hasOwnProperty(s)){o.push(function(e,n){return'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+e+'" titlepreset="'+n.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+r+"/projects/"+e+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+n.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"}(s,n[s]))}return o}(t).join("")}))),c=e.showDialog({title:n("Choose Template for $nameTheme$ Theme").replace("$nameTheme$",o.title),className:"presets-site-modal",body:l,create:function(i){t(i).find(".columns-presets").on("click",".column-preset",(function(){"false"!==t(this).attr("data-local")?(c.modal("hide"),o.titlePreset=t(this).attr("titlepreset"),o.nameSelectPreset=t(this).attr("namepreset"),o.presetSourceTheme=t(this).attr("data-theme"),a(o)):function(i){var o="",r=e.getUserInfo(),a=i.attr("data-theme"),s=i.attr("data-theme");r&&r.email&&(o=r.email),e.confirmDlg({message:n("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",s?"<strong>"+s+"</strong>":"")+(o?" "+o+"<br>":".<br>")+n("If the theme is installed, please reinstall it."),buttons:{cancel:{label:n("Cancel"),className:"btn-default"},confirm:{label:n("Install $theme title$").replace("$theme title$",s),className:"btn-primary"}},callback:function(o){if(o){var r=e.AddonsRegistry.get(a);if(r.get("downloadURL")&&!r.isExpired()){var l=t(e.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-site-modal");e.downloadAddon(r.toJSON()).done((function(){i.attr("data-local","true"),i.click()})).fail((function(){e.showError(n("Error add extension")+' "'+s+'"')})).always((function(){l.remove()}))}else e.openUrl("https://mobirise.com/extensions/kit/")}}})}(t(this))})),t(i).find(".column-options").on("click",".column-option",(function(){t(this).hasClass("plus")?(c.modal("hide"),a(void 0)):t(this).hasClass("features")&&(e.showAddonsList(),c.modal("hide"),s())}));var r=t(i).find(".columns-presets > .column-preset");var l=e.stopIfRepeatDecorator((function(e){var n=e.target.value.toLowerCase();r.each((function(e,i){var o=t(i);o.attr("titlepreset").toLowerCase().includes(n)?o.removeClass("hidden"):o.addClass("hidden")}))}),100);t(i).find(".search-preset-input").on("input",(function(t){return l(t)}))}})}(r)}))}e.regExtension({name:"app-plugin-projects-presets",global:{},events:{load:function(){e.presetsList=[],e.on(["deletedAddon","downloadedAddon","redeemActivated","importedAddon"],(function(){e.presetsList=[]})),e.addFilter("promiseChosenTheme",(function(n){return n.then((function(n){return new Promise((function(r,a){var s=n.name.endsWith("amp"),l=e.presetsList;if(l.length&&l[0].themeName.endsWith("amp")===s)l=l.filter((function(t){return void 0!==t})).sort((function(t,e){return t.themeName===n.name?-1:e.themeName===n.name?1:t.local?-1:1})),o(n,l).then((function(t){return r(t||n)}),(function(){return a()}));else{var c=t(e.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".create-site-modal");e.getAddonsEx((function(t){t=t.filter((function(t){return s?t.name.endsWith("amp"):t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name?t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name:void 0})),Promise.all(t.map((function(t){return new Promise((function(n){if(t.installed&&t.paid&&!t.expired||i.isDev||"mobirise5"===t.name){var o=e.getAddonDir(t.name)+"/projects/list.json";i.getLocalJSON(o,(function(e){e?n({themeName:t.name,presetsList:e,local:!0}):n()}))}else fetch("https://my.mobirise.com/data/upload/thumbs/"+t.name+"/projects/list.json").then((function(e){404===e.status?(console.log("No presets in "+t.name+" theme."),n()):e.json().then((function(e){n({themeName:t.name,presetsList:e,local:!1})})).catch((function(t){n()}))})).catch((function(t){n()}))}))}))).then((function(t){(t=t.filter((function(t){return void 0!==t})).sort((function(t,e){return t.themeName===n.name?-1:e.themeName===n.name?1:t.local?-1:1}))).length?(e.presetsList=t,o(n,t).then((function(t){return r(t||n)}),(function(){return a()}))):r(n)})).finally((function(){c.remove()}))}),{type:"theme"},{server:!0})}}))}))})),e.addFilter("promiseDefaultProject",(function(n,o,a){return a.nameSelectPreset?n.then((function(n){return new Promise((function(o){!function(n,o,a){var s=o.nameSelectPreset;i.loadLocalFile(n+"/projects/"+s+"/project.mobirise",(function(n){try{n=t.parseJSON(n)}catch(t){return console.error("File 'project.mobirise' is missing!"),a()}if((n=function(t,n){if(1!==Object.keys(t.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var i=void 0;for(var o in t)if(t.hasOwnProperty(o))if("settings"===o){var a=t[o];for(var s in a)if(a.hasOwnProperty(s))if("theme"===s){var l=a[s];for(var c in l)l.hasOwnProperty(c)&&("name"===c?(i=l[c],l[c]=n.name):"title"===c?l[c]=n.title:"styling"!==c&&delete l[c])}else"currentPage"===s?a[s]="index.html":delete a[s]}else if("pages"===o){var d=t[o];for(var u in d)if(d.hasOwnProperty(u)){var p=d[u];"index.html"!==u&&(p=d["index.html"]=d[u],delete d[u]),p.settings=r["index.html"].settings}}var f=JSON.stringify(t),h="mobirise5"!==i?e.getAddonDir(i):"..";f=f.replace(/@THEME_PATH@/g,e.path2core(h)),"mobirise5"!==e.theme.name&&(f=f.replace(/=\\"..\//g,'=\\"'+h+"/components/"));try{f=JSON.parse(f)}catch(e){console.error(e),f=t}return f}(n,o))instanceof Error)return console.error(n.message),a();a(n)}))}(e.getAddonDir(a.presetSourceTheme),a,(function(t){o(t||n)}))}))})):n}))}}});var r={"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}}),["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-page-presets",(function(t,e,n,i){function o(o){return o=o.filter((function(t){return t.themeName===e.theme.name})),new Promise((function(r,a){!function(o){var s=function(t){return'<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+n("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+t.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>"}(o.map((function(t){return function(t){var n=t.presetsList,o=[],r=void 0;if(t.local){var a=e.getAddonDir(t.themeName);r=i.path2app(a)}else r="https://my.mobirise.com/data/upload/thumbs/"+t.themeName;for(var s in n)if(n.hasOwnProperty(s)){o.push(function(e,n){return'<div class="column column-preset col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+e+'" titlepreset="'+n.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+r+"/projects/"+e+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+n.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"}(s,n[s]))}return o}(t).join("")})));e.showDialog({title:n("Choose Template for Page"),className:"presets-page-modal",body:s,create:function(o){t(o).find(".columns-presets").on("click",".column-preset",(function(){if("false"!==t(this).attr("data-local")){var a=t(e.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),s=t(this).attr("data-theme"),l=t(this).attr("namepreset"),c=e.getAddonDir(s),d=c+"/projects/"+l+"/assets";i.copyLocal(d,e.projectPath+"/assets",(function(){!function(n,o,r){var a=o;i.loadLocalFile(n+"/projects/"+a+"/project.mobirise",(function(n){try{n=t.parseJSON(n)}catch(t){return console.error("File 'project.mobirise' is missing!"),r()}if((n=function(t){if(1!==Object.keys(t.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var n=t.pages,i=void 0;for(var o in n){i=n[o].components;break}if(!i)return new Error("Error! Empty page found.");var r=JSON.stringify(i);r=(r=r.replace(/@PROJECT_PATH@(\/project\.mobirise)+/g,"@PROJECT_PATH@")).replace(/\@PROJECT_PATH\@/g,e.projectPath);var a=t.settings.theme.name,s="mobirise5"!==a?e.getAddonDir(a):"..";r=r.replace(/@THEME_PATH@/g,e.path2core(s)),"mobirise5"!==e.theme.name&&(r=r.replace(/=\\"..\//g,'=\\"'+s+"/components/"));try{r=JSON.parse(r)}catch(t){console.error(t),r=i}return r}(n))instanceof Error)return console.error(n.message),r();r(n)}))}(c,l,(function(e){r(e),a.remove(),t(o).modal("hide")}))}))}else{!function(i){var o="",r=e.getUserInfo(),a=i.attr("data-theme"),s=i.attr("data-theme");r&&r.email&&(o=r.email),e.confirmDlg({message:n("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",s?"<strong>"+s+"</strong>":"")+(o?" "+o+"<br>":".<br>")+n("If the theme is installed, please reinstall it."),buttons:{cancel:{label:n("Cancel"),className:"btn-default"},confirm:{label:n("Install $theme title$").replace("$theme title$",s),className:"btn-primary"}},callback:function(o){if(o){var r=e.AddonsRegistry.get(a);if(r.get("downloadURL")&&!r.isExpired()){var l=t(e.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal");e.downloadAddon(r.toJSON()).done((function(){i.attr("data-local","true"),i.click()})).fail((function(){e.showError(n("Error add extension")+' "'+s+'"')})).always((function(){l.remove()}))}else e.openUrl("https://mobirise.com/extensions/kit/")}}})}(t(this))}})),t(o).find(".column-options").on("click",".column-option",(function(){t(this).hasClass("plus")?(t(o).modal("hide"),r(void 0)):t(this).hasClass("features")&&(e.showAddonsList(),t(o).modal("hide"),a())}));var s=t(o).find(".columns-presets > .column-preset");var l=e.stopIfRepeatDecorator((function(e){var n=e.target.value.toLowerCase();s.each((function(e,i){var o=t(i);o.attr("titlepreset").toLowerCase().includes(n)?o.removeClass("hidden"):o.addClass("hidden")}))}),100);t(o).find(".search-preset-input").on("input",(function(t){return l(t)}))}})}(o)}))}e.regExtension({name:"app-plugin-page-presets",global:{},events:{load:function(){e.addFilter("getPagePreset",(function(n){return n.then((function(){return new Promise((function(n,r){var a=e.theme.name.endsWith("amp"),s=e.presetsList;if(s.length&&s[0].themeName.endsWith("amp")===a)o(s=s.filter((function(t){return void 0!==t})).sort((function(t,n){return t.themeName===e.theme.name?-1:n.themeName===e.theme.name?1:t.local?-1:1}))).then((function(t){return n(t)}),(function(){return r()}));else{var l=t(e.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}).appendTo("body");e.getAddonsEx((function(t){t=t.filter((function(t){return a?t.name.endsWith("amp"):t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name?t.name.endsWith("m4")||t.name.endsWith("m5")||"mobirise5"===t.name:void 0})),Promise.all(t.map((function(t){return new Promise((function(n){if(t.installed&&t.paid&&!t.expired||i.isDev||"mobirise5"===t.name){var o=e.getAddonDir(t.name)+"/projects/list.json";i.getLocalJSON(o,(function(e){e?n({themeName:t.name,presetsList:e,local:!0}):n()}))}else fetch("https://my.mobirise.com/data/upload/thumbs/"+t.name+"/projects/list.json").then((function(e){404===e.status?(console.log("No presets in "+t.name+" theme."),n()):e.json().then((function(e){n({themeName:t.name,presetsList:e,local:!1})})).catch((function(t){n()}))})).catch((function(t){n()}))}))}))).then((function(t){(t=t.filter((function(t){return void 0!==t})).sort((function(t,n){return t.themeName===e.theme.name?-1:n.themeName===e.theme.name?1:t.local?-1:1}))).length?(e.presetsList=t,o(t).then((function(t){return n(t)}),(function(){return r()}))):n()})).finally((function(){l.remove()}))}),{type:"theme"},{server:!0})}}))}))}))}}})}),["jQuery","mbrApp","TR()","Bridge"])},,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(141),n(142),t.exports=n(352)}]);