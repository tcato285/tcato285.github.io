function setActiveCarouselItem(e){var t=e.querySelector(".carousel-item"),l=e.querySelector(".carousel-indicators > li");t.classList.add("active"),l&&l.classList.add("active")}function initTestimonialsCarousel(e){var t=e,l=t.getAttribute("id")+"-carousel",r=t.getAttribute("data-bs-version")&&t.getAttribute("data-bs-version").startsWith("5");t.querySelectorAll(".carousel").forEach((e=>e.setAttribute("id",l))),t.querySelector(".carousel-controls")&&t.querySelectorAll(".carousel-controls").forEach((e=>{e.querySelectorAll("a").forEach((e=>{e.setAttribute("href","#"+l),r?e.setAttribute("data-bs-target","#"+l):e.setAttribute("data-target","#"+l)}))})),t.querySelectorAll(".carousel-indicators > li").forEach((e=>{r?e.setAttribute("data-bs-target","#"+l):e.setAttribute("data-target","#"+l)})),setActiveCarouselItem(t)}function initClientCarousel(e){var t=e,l=t.querySelectorAll(".carousel-item").length,r=t.querySelector(".carousel-inner").getAttribute("data-visible");l<r&&(r=l),t.querySelectorAll(".carousel-inner").forEach((e=>e.setAttribute("class","carousel-inner slides"+r))),t.querySelectorAll(".clonedCol").forEach((e=>e.remove())),t.querySelectorAll(".carousel-item .col-md-12").forEach((function(e){r<2?e.setAttribute("class","col-md-12"):"5"==r?e.setAttribute("class","col-md-12 col-lg-15"):e.setAttribute("class","col-md-12 col-lg-"+12/r)})),t.querySelectorAll(".carousel-item .row").forEach((e=>{e.setAttribute("style","-webkit-flex-grow: 1; flex-grow: 1; margin: 0;")})),t.querySelectorAll(".carousel-item").forEach((function(e){for(var t=e,l=1;l<r;l++){(t=t.nextElementSibling)||(t=e.parentNode.children[0]===e?e.nextElementSibling:e.parentNode.children[0]);var i=getIndex(t),n=t.querySelector(".col-md-12").cloneNode(!0);n.classList.add("cloneditem-"+l),n.classList.add("clonedCol"),n.setAttribute("data-cloned-index",i),e.children[0].appendChild(n)}}))}function getIndex(e){if(!e)return-1;var t=0;do{t++}while(e=e.previousElementSibling);return t}function updateClientCarousel(e){var t=$(e),l=t.find(".carousel-item").length,r=t.find(".carousel-inner").attr("data-visible");l<r&&(r=l),t.find(".clonedCol").remove(),t.find(".carousel-item").each((function(){for(var e=$(this),t=1;t<r;t++){(e=e.next()).length||(e=$(this).siblings(":first"));var l=e.index();e.find(".col-md-12:first").clone().addClass("cloneditem-"+t).addClass("clonedCol").attr("data-cloned-index",l).appendTo($(this).children().eq(0))}}))}function clickHandler(e){e.stopPropagation(),e.preventDefault();var t,l=e.target;t=l.closest(".clonedCol").length?l.closest(".clonedCol").getAttribute("data-cloned-index"):getIndex(l.closest(".carousel-item"));var r=l.closest(".carousel-inner").querySelectorAll(".carousel-item")[t].querySelector("img");l.parents(".clonedCol").length>0&&r.dispatchEvent(new CustomEvent("click"))}Element.prototype.parents=function(e){for(var t=[],l=this,r=void 0!==e;null!==(l=l.parentElement);)l.nodeType===Node.ELEMENT_NODE&&(r&&!l.matches(e)||t.push(l));return t};var $,isJQuery="function"==typeof jQuery;isJQuery&&($=jQuery);var isBuilder=document.querySelector("html").classList.contains("is-builder");isBuilder?$(document).on("add.cards",(function(e){$(e.target).hasClass("clients")&&(initTestimonialsCarousel(e.target),initClientCarousel(e.target),"add"===e.type&&$(e.target).on("slide.bs.carousel",(function(){updateClientCarousel(e.target)})),$(e.target).find(".carousel-item [mbr-media]").on("click",(function(e){clickHandler(e)})),$(e.target).on("slide.bs.carousel",(function(){$(e.target).find(".carousel-item .clonedCol [mbr-media]").off("click").on("click",(function(e){clickHandler(e)}))})))})).on("changeParameter.cards",(function(e,t,l){$(e.target).hasClass("clients")&&("slidesCount"==t&&0==$(e.target).find(".carousel-item.active").length&&setActiveCarouselItem(e.target),initClientCarousel(e.target),updateClientCarousel(e.target),$(e.target).find(".carousel-item [mbr-media]").on("click",(function(e){clickHandler(e)})),$(e.target).on("slide.bs.carousel",(function(){$(e.target).find(".carousel-item .clonedCol [mbr-media]").off("click").on("click",(function(e){clickHandler(e)}))})))})).on("changeContent.cards",(function(e,t){if($(e.target).hasClass("clients")){updateClientCarousel(e.target);try{$(e.target).closest(".carousel").carousel("next")}catch(e){}}})):void 0===window.initClientPlugin&&(window.initClientPlugin=!0,document.body.querySelectorAll(".clients").forEach((function(e){e.getAttribute("data-isinit")||(initTestimonialsCarousel(e),initClientCarousel(e))})));