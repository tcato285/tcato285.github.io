!function(e){function t(t){for(var n,r,i=t[0],a=t[1],s=0,c=[];s<i.length;s++)r=i[s],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&c.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(l&&l(t);c.length;)c.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=a;r(r.s=2)}([function(e,t){e.exports=window.jQuery},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){n(3),e.exports=n(4)},function(e,t,n){"use strict";n.r(t),n.d(t,"Headers",(function(){return h})),n.d(t,"Request",(function(){return x})),n.d(t,"Response",(function(){return S})),n.d(t,"DOMException",(function(){return P})),n.d(t,"fetch",(function(){return A}));var o="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==o&&o,r="URLSearchParams"in o,i="Symbol"in o&&"iterator"in Symbol,a="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in o,l="ArrayBuffer"in o;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&c.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function f(e){return"string"!=typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function v(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=v(t);return t.readAsArrayBuffer(e),n}function b(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:a&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():l&&a&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=b(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=b(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=m(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(g)}),this.text=function(){var e,t,n,o=m(this);if(o)return o;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=v(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),o=0;o<t.length;o++)n[o]=String.fromCharCode(t[o]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(C)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=d(e),t=f(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},h.prototype.delete=function(e){delete this.map[d(e)]},h.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},h.prototype.set=function(e,t){this.map[d(e)]=f(t)},h.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),p(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),p(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),p(e)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(e,t){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,o,r=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=(n=t.method||this.method||"GET",o=n.toUpperCase(),w.indexOf(o)>-1?o:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function C(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),o=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(r))}})),t}function S(e,t){if(!(this instanceof S))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},y.call(x.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var k=[301,302,303,307,308];S.redirect=function(e,t){if(-1===k.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})};var P=o.DOMException;try{new P}catch(e){(P=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),P.prototype.constructor=P}function A(e,t){return new Promise((function(n,r){var i=new x(e,t);if(i.signal&&i.signal.aborted)return r(new P("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var e,t,o={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new h,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),o=n.shift().trim();if(o){var r=n.join(":").trim();t.append(o,r)}})),t)};o.url="responseURL"in s?s.responseURL:o.headers.get("X-Request-URL");var r="response"in s?s.response:s.responseText;setTimeout((function(){n(new S(r,o))}),0)},s.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){r(new P("Aborted","AbortError"))}),0)},s.open(i.method,function(e){try{return""===e&&o.location.href?o.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":l&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof h?i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,f(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}A.polyfill=!0,o.fetch||(o.fetch=A,o.Headers=h,o.Request=x,o.Response=S)},function(e,t,n){"use strict";n.r(t);n(5),n(9),n(10),n(11),n(12),n(13),n(14),n(15),n(16),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(32),n(33)},function(e,t,n){(function(t){e.exports=function e(t,n,o){function r(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){var n=t[a][1][e];return r(n||e)}),c,c.exports,e,t,n,o)}return n[a].exports}for(var i=!1,a=0;o.length>a;a++)r(o[a]);return r}({1:[function(e,t){var n=e("./utils").addDataAttr,o=e("./browser");t.exports=function(e,t){n(t,o.currentScript(e)),void 0===t.isFileProtocol&&(t.isFileProtocol=/^(file|(chrome|safari)(-extension)?|resource|qrc|app):/.test(e.location.protocol)),t.async=t.async||!1,t.fileAsync=t.fileAsync||!1,t.poll=t.poll||(t.isFileProtocol?1e3:1500),t.env=t.env||("127.0.0.1"==e.location.hostname||"0.0.0.0"==e.location.hostname||"localhost"==e.location.hostname||e.location.port&&e.location.port.length>0||t.isFileProtocol?"development":"production");var r=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(e.location.hash);r&&(t.dumpLineNumbers=r[1]),void 0===t.useFileCache&&(t.useFileCache=!0),void 0===t.onReady&&(t.onReady=!0)}},{"./browser":3,"./utils":9}],2:[function(e,t){e("promise/polyfill.js");var n=window.less||{};e("./add-default-options")(window,n);var o=t.exports=e("./index")(window,n);window.less=o,n.onReady&&(/!watch/.test(window.location.hash)&&o.watch(),o.registerStylesheetsImmediately(),o.pageLoadFinished=o.refresh("development"===o.env))},{"./add-default-options":1,"./index":7,"promise/polyfill.js":94}],3:[function(e,t){var n=e("./utils");t.exports={createCSS:function(e,t,o){var r=o.href||"",i="less:"+(o.title||n.extractId(r)),a=e.getElementById(i),s=!1,l=e.createElement("style");l.setAttribute("type","text/css"),o.media&&l.setAttribute("media",o.media),l.id=i,l.styleSheet||(l.appendChild(e.createTextNode(t)),s=null!==a&&a.childNodes.length>0&&l.childNodes.length>0&&a.firstChild.nodeValue===l.firstChild.nodeValue);var c=e.getElementsByTagName("head")[0];if(null===a||!1===s){var u=o&&o.nextSibling||null;u?u.parentNode.insertBefore(l,u):c.appendChild(l)}if(a&&!1===s&&a.parentNode.removeChild(a),l.styleSheet)try{l.styleSheet.cssText=t}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}},currentScript:function(e){var t=e.document;return t.currentScript||function(){var e=t.getElementsByTagName("script");return e[e.length-1]}()}}},{"./utils":9}],4:[function(e,t){t.exports=function(e,t,n){var o=null;if("development"!==t.env)try{o=void 0===e.localStorage?null:e.localStorage}catch(e){}return{setCSS:function(e,t,r){if(o){n.info("saving "+e+" to cache.");try{o.setItem(e,r),o.setItem(e+":timestamp",t)}catch(t){n.error('failed to save "'+e+'" to local storage for caching.')}}},getCSS:function(e,t){var n=o&&o.getItem(e),r=o&&o.getItem(e+":timestamp");return r&&t.lastModified&&new Date(t.lastModified).valueOf()===new Date(r).valueOf()?n:void 0}}}},{}],5:[function(e,t){var n=e("./utils"),o=e("./browser");t.exports=function(e,t,r){function i(t,i){var a,s,l="less-error-message:"+n.extractId(i||""),c=e.document.createElement("div"),u=[],d=t.filename||i,f=d.match(/([^\/]+(\?.*)?)$/)[1];c.id=l,c.className="less-error-message",s="<h3>"+(t.type||"Syntax")+"Error: "+(t.message||"There is an error in your .less file")+'</h3><p>in <a href="'+d+'">'+f+"</a> ";var p=function(e,t,n){void 0!==e.extract[t]&&u.push('<li><label>{line}</label><pre class="{class}">{content}</pre></li>'.replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))};t.extract&&(p(t,0,""),p(t,1,"line"),p(t,2,""),s+="on line "+t.line+", column "+(t.column+1)+":</p><ul>"+u.join("")+"</ul>"),t.stack&&(t.extract||r.logLevel>=4)&&(s+="<br/>Stack Trace</br />"+t.stack.split("\n").slice(1).join("<br/>")),c.innerHTML=s,o.createCSS(e.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),c.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"===r.env&&(a=setInterval((function(){var t=e.document,n=t.body;n&&(t.getElementById(l)?n.replaceChild(c,t.getElementById(l)):n.insertBefore(c,n.firstChild),clearInterval(a))}),10))}function a(t){var o=e.document.getElementById("less-error-message:"+n.extractId(t));o&&o.parentNode.removeChild(o)}function s(e,n){var o=e.filename||n,i=[],a=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+o+" ",s=function(e,t,n){void 0!==e.extract[t]&&i.push("{line} {content}".replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))};e.extract&&(s(e,0,""),s(e,1,"line"),s(e,2,""),a+="on line "+e.line+", column "+(e.column+1)+":\n"+i.join("\n")),e.stack&&(e.extract||r.logLevel>=4)&&(a+="\nStack Trace\n"+e.stack),t.logger.error(a)}return{add:function(e,t){r.errorReporting&&"html"!==r.errorReporting?"console"===r.errorReporting?s(e,t):"function"==typeof r.errorReporting&&r.errorReporting("add",e,t):i(e,t)},remove:function(e){r.errorReporting&&"html"!==r.errorReporting?"console"===r.errorReporting||"function"==typeof r.errorReporting&&r.errorReporting("remove",e):a(e)}}}},{"./browser":3,"./utils":9}],6:[function(e,t){t.exports=function(t,n){var o=e("../less/environment/abstract-file-manager.js"),r={},i=function(){};return(i.prototype=new o).alwaysMakePathsAbsolute=function(){return!0},i.prototype.join=function(e,t){return e?this.extractUrlParts(t,e).path:t},i.prototype.doXHR=function(e,o,r,i){function a(t,n,o){t.status>=200&&300>t.status?n(t.responseText,t.getResponseHeader("Last-Modified")):"function"==typeof o&&o(t.status,e)}var s=function(){if(window.XMLHttpRequest&&("file:"!==window.location.protocol||!("ActiveXObject"in window)))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return n.error("browser doesn't support AJAX."),null}}(),l=t.isFileProtocol?t.fileAsync:t.async;"function"==typeof s.overrideMimeType&&s.overrideMimeType("text/css"),n.debug("XHR: Getting '"+e+"'"),s.open("GET",e,l),s.setRequestHeader("Accept",o||"text/x-less, text/css; q=0.9, */*; q=0.5"),s.send(null),t.isFileProtocol&&!t.fileAsync?0===s.status||s.status>=200&&300>s.status?r(s.responseText):i(s.status,e):l?s.onreadystatechange=function(){4==s.readyState&&a(s,r,i)}:a(s,r,i)},i.prototype.supports=function(){return!0},i.prototype.clearFileCache=function(){r={}},i.prototype.loadFile=function(e,t,n,o,i){t&&!this.isPathAbsolute(e)&&(e=t+e),n=n||{};var a=this.extractUrlParts(e,window.location.href).url;if(n.useFileCache&&r[a])try{var s=r[a];i(null,{contents:s,filename:a,webInfo:{lastModified:new Date}})}catch(e){i({filename:a,message:"Error loading file "+a+" error was "+e.message})}else this.doXHR(a,n.mime,(function(e,t){r[a]=e,i(null,{contents:e,filename:a,webInfo:{lastModified:t}})}),(function(e,t){i({type:"File",message:"'"+t+"' wasn't found ("+e+")",href:a})}))},i}},{"../less/environment/abstract-file-manager.js":14}],7:[function(e,t){var n=e("./utils").addDataAttr,o=e("./browser");t.exports=function(t,r){function i(e){return r.postProcessor&&"function"==typeof r.postProcessor&&(e=r.postProcessor.call(e,e)||e),e}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function s(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){var o=n.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,o)}}function l(e){for(var t,n=d.getElementsByTagName("style"),o=0;n.length>o;o++)if((t=n[o]).type.match(b)){var i=a(r);i.modifyVars=e;var l=t.innerHTML||"";i.filename=d.location.href.replace(/#.*$/,""),f.render(l,i,s((function(e,t,n){t?v.add(t,"inline"):(e.type="text/css",e.styleSheet?e.styleSheet.cssText=n.css:e.innerHTML=n.css)}),null,t))}}function c(e,t,o,s,l){function c(n){var r=n.contents,a=n.filename,l=n.webInfo,c={currentDirectory:m.getPath(a),filename:a,rootFilename:a,relativeUrls:u.relativeUrls};if(c.entryPath=c.currentDirectory,c.rootpath=u.rootpath||c.currentDirectory,l&&(l.remaining=s,!u.modifyVars)){var d=g.getCSS(a,l);if(!o&&d)return l.local=!0,void t(null,d,r,e,l,a)}v.remove(a),u.rootFileInfo=c,f.render(r,u,(function(n,o){n?(n.href=a,t(n)):(o.css=i(o.css),u.modifyVars||g.setCSS(e.href,l.lastModified,o.css),t(null,o.css,r,e,l,a))}))}var u=a(r);n(u,e),u.mime=e.type,l&&(u.modifyVars=l),m.loadFile(e.href,null,u,p,(function(e,n){return e?void t(e):void c(n)}))}function u(e,t,n){for(var o=0;f.sheets.length>o;o++)c(f.sheets[o],e,t,f.sheets.length-(o+1),n)}var d=t.document,f=e("../less")();f.options=r;var p=f.environment,h=e("./file-manager")(r,f.logger),m=new h;p.addFileManager(m),f.FileManager=h,e("./log-listener")(f,r);var v=e("./error-reporting")(t,f,r),g=f.cache=r.cache||e("./cache")(t,r,f.logger);r.functions&&f.functions.functionRegistry.addMultiple(r.functions);var b=/^text\/(x-)?less$/;return f.watch=function(){return f.watchMode||(f.env="development","development"===f.env&&(f.watchTimer=setInterval((function(){f.watchMode&&(m.clearFileCache(),u((function(e,n,r,i){e?v.add(e,e.href||i.href):n&&o.createCSS(t.document,n,i)})))}),r.poll))),this.watchMode=!0,!0},f.unwatch=function(){return clearInterval(f.watchTimer),this.watchMode=!1,!1},f.registerStylesheetsImmediately=function(){var e=d.getElementsByTagName("link");f.sheets=[];for(var t=0;e.length>t;t++)("stylesheet/less"===e[t].rel||e[t].rel.match(/stylesheet/)&&e[t].type.match(b))&&f.sheets.push(e[t])},f.registerStylesheets=function(){return new Promise((function(e){f.registerStylesheetsImmediately(),e()}))},f.modifyVars=function(e){return f.refresh(!0,e,!1)},f.refresh=function(e,n,r){return(e||r)&&!1!==r&&m.clearFileCache(),new Promise((function(r,i){var a,s,c;a=s=new Date,u((function(e,n,l,u,d){return e?(v.add(e,e.href||u.href),void i(e)):(f.logger.info(d.local?"loading "+u.href+" from cache.":"rendered "+u.href+" successfully."),o.createCSS(t.document,n,u),f.logger.info("css for "+u.href+" generated in "+(new Date-s)+"ms"),0===d.remaining&&(c=new Date-a,f.logger.info("less has finished. css generated in "+c+"ms"),r({startTime:a,endTime:s,totalMilliseconds:c,sheets:f.sheets.length})),void(s=new Date))}),e,n),l(n)}))},f.refreshStyles=l,f}},{"../less":29,"./browser":3,"./cache":4,"./error-reporting":5,"./file-manager":6,"./log-listener":8,"./utils":9}],8:[function(e,t){t.exports=function(e,t){t.logLevel=void 0!==t.logLevel?t.logLevel:"development"===t.env?3:1,t.loggers||(t.loggers=[{debug:function(e){t.logLevel>=4&&console.log(e)},info:function(e){t.logLevel>=3&&console.log(e)},warn:function(e){t.logLevel>=2&&console.warn(e)},error:function(e){t.logLevel>=1&&console.error(e)}}]);for(var n=0;t.loggers.length>n;n++)e.logger.addListener(t.loggers[n])}},{}],9:[function(e,t){t.exports={extractId:function(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/[\?\&]livereload=\w+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")},addDataAttr:function(e,t){for(var n in t.dataset)if(t.dataset.hasOwnProperty(n))if("env"===n||"dumpLineNumbers"===n||"rootpath"===n||"errorReporting"===n)e[n]=t.dataset[n];else try{e[n]=JSON.parse(t.dataset[n])}catch(e){}}}},{}],10:[function(e,t){var n={};t.exports=n;var o=function(e,t,n){if(e)for(var o=0;n.length>o;o++)e.hasOwnProperty(n[o])&&(t[n[o]]=e[n[o]])},r=["paths","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","reference","pluginManager"];n.Parse=function(e){o(e,this,r),"string"==typeof this.paths&&(this.paths=[this.paths])};var i=["paths","compress","ieCompat","strictMath","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope"];n.Eval=function(e,t){o(e,this,i),"string"==typeof this.paths&&(this.paths=[this.paths]),this.frames=t||[],this.importantScope=this.importantScope||[]},n.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},n.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},n.Eval.prototype.isMathOn=function(){return!this.strictMath||this.parensStack&&this.parensStack.length},n.Eval.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/|#)/i.test(e)},n.Eval.prototype.normalizePath=function(e){var t,n=e.split("/").reverse();for(e=[];0!==n.length;)switch(t=n.pop()){case".":break;case"..":0===e.length||".."===e[e.length-1]?e.push(t):e.pop();break;default:e.push(t)}return e.join("/")}},{}],11:[function(e,t){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},{}],12:[function(e,t){t.exports={colors:e("./colors"),unitConversions:e("./unit-conversions")}},{"./colors":11,"./unit-conversions":13}],13:[function(e,t){t.exports={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:.0025,turn:1}}},{}],14:[function(e,t){var n=function(){};n.prototype.getPath=function(e){var t=e.lastIndexOf("?");return t>0&&(e=e.slice(0,t)),0>(t=e.lastIndexOf("/"))&&(t=e.lastIndexOf("\\")),0>t?"":e.slice(0,t+1)},n.prototype.tryAppendExtension=function(e,t){return/(\.[a-z]*$)|([\?;].*)$/.test(e)?e:e+t},n.prototype.tryAppendLessExtension=function(e){return this.tryAppendExtension(e,".less")},n.prototype.supportsSync=function(){return!1},n.prototype.alwaysMakePathsAbsolute=function(){return!1},n.prototype.isPathAbsolute=function(e){return/^(?:[a-z-]+:|\/|\\|#)/i.test(e)},n.prototype.join=function(e,t){return e?e+t:t},n.prototype.pathDiff=function(e,t){var n,o,r,i,a=this.extractUrlParts(e),s=this.extractUrlParts(t),l="";if(a.hostPart!==s.hostPart)return"";for(o=Math.max(s.directories.length,a.directories.length),n=0;o>n&&s.directories[n]===a.directories[n];n++);for(i=s.directories.slice(n),r=a.directories.slice(n),n=0;i.length-1>n;n++)l+="../";for(n=0;r.length-1>n;n++)l+=r[n]+"/";return l},n.prototype.extractUrlParts=function(e,t){var n,o,r=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,i=e.match(r),a={},s=[];if(!i)throw new Error("Could not parse sheet href - '"+e+"'");if(t&&(!i[1]||i[2])){if(!(o=t.match(r)))throw new Error("Could not parse page url - '"+t+"'");i[1]=i[1]||o[1]||"",i[2]||(i[3]=o[3]+i[3])}if(i[3]){for(s=i[3].replace(/\\/g,"/").split("/"),n=0;s.length>n;n++)"."===s[n]&&(s.splice(n,1),n-=1);for(n=0;s.length>n;n++)".."===s[n]&&n>0&&(s.splice(n-1,2),n-=2)}return a.hostPart=i[1],a.directories=s,a.path=(i[1]||"")+s.join("/"),a.fileUrl=a.path+(i[4]||""),a.url=a.fileUrl+(i[5]||""),a},t.exports=n},{}],15:[function(e,t){var n=e("../logger"),o=function(e,t){this.fileManagers=t||[],e=e||{};for(var n=[],o=n.concat(["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"]),r=0;o.length>r;r++){var i=o[r],a=e[i];a?this[i]=a.bind(e):n.length>r&&this.warn("missing required function in environment - "+i)}};o.prototype.getFileManager=function(e,t,o,r,i){e||n.warn("getFileManager called with no filename.. Please report this issue. continuing."),null==t&&n.warn("getFileManager called with null directory.. Please report this issue. continuing.");var a=this.fileManagers;o.pluginManager&&(a=[].concat(a).concat(o.pluginManager.getFileManagers()));for(var s=a.length-1;s>=0;s--){var l=a[s];if(l[i?"supportsSync":"supports"](e,t,o,r))return l}return null},o.prototype.addFileManager=function(e){this.fileManagers.push(e)},o.prototype.clearFileManagers=function(){this.fileManagers=[]},t.exports=o},{"../logger":31}],16:[function(e){function t(e,t,o){var r,i,a,s,l=t.alpha,c=o.alpha,u=[];a=c+l*(1-c);for(var d=0;3>d;d++)s=e(r=t.rgb[d]/255,i=o.rgb[d]/255),a&&(s=(c*i+l*(r-c*(r+i-s)))/a),u[d]=255*s;return new n(u,a)}var n=e("../tree/color"),o=e("./function-registry"),r={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return 1>=(e*=2)?r.multiply(e,t):r.screen(e-1,t)},softlight:function(e,t){var n=1,o=e;return t>.5&&(o=1,n=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*o*(n-e)},hardlight:function(e,t){return r.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};for(var i in r)r.hasOwnProperty(i)&&(t[i]=t.bind(null,r[i]));o.addMultiple(t)},{"../tree/color":48,"./function-registry":21}],17:[function(e){function t(e){return Math.min(1,Math.max(0,e))}function n(e){return i.hsla(e.h,e.s,e.l,e.a)}function o(e){if(e instanceof a)return parseFloat(e.unit.is("%")?e.value/100:e.value);if("number"==typeof e)return e;throw{type:"Argument",message:"color functions take numbers as parameters"}}function r(e,t){return e instanceof a&&e.unit.is("%")?parseFloat(e.value*t/100):o(e)}var i,a=e("../tree/dimension"),s=e("../tree/color"),l=e("../tree/quoted"),c=e("../tree/anonymous"),u=e("./function-registry");i={rgb:function(e,t,n){return i.rgba(e,t,n,1)},rgba:function(e,t,n,i){var a=[e,t,n].map((function(e){return r(e,255)}));return i=o(i),new s(a,i)},hsl:function(e,t,n){return i.hsla(e,t,n,1)},hsla:function(e,n,r,a){function s(e){return 1>6*(e=0>e?e+1:e>1?e-1:e)?c+(l-c)*e*6:1>2*e?l:2>3*e?c+(l-c)*(2/3-e)*6:c}e=o(e)%360/360,n=t(o(n)),r=t(o(r)),a=t(o(a));var l=.5>=r?r*(n+1):r+n-r*n,c=2*r-l;return i.rgba(255*s(e+1/3),255*s(e),255*s(e-1/3),a)},hsv:function(e,t,n){return i.hsva(e,t,n,1)},hsva:function(e,t,n,r){var a,s;e=o(e)%360/360*360,t=o(t),n=o(n),r=o(r);var l=[n,n*(1-t),n*(1-(s=e/60-(a=Math.floor(e/60%6)))*t),n*(1-(1-s)*t)],c=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return i.rgba(255*l[c[a][0]],255*l[c[a][1]],255*l[c[a][2]],r)},hue:function(e){return new a(e.toHSL().h)},saturation:function(e){return new a(100*e.toHSL().s,"%")},lightness:function(e){return new a(100*e.toHSL().l,"%")},hsvhue:function(e){return new a(e.toHSV().h)},hsvsaturation:function(e){return new a(100*e.toHSV().s,"%")},hsvvalue:function(e){return new a(100*e.toHSV().v,"%")},red:function(e){return new a(e.rgb[0])},green:function(e){return new a(e.rgb[1])},blue:function(e){return new a(e.rgb[2])},alpha:function(e){return new a(e.toHSL().a)},luma:function(e){return new a(e.luma()*e.alpha*100,"%")},luminance:function(e){var t=.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255;return new a(t*e.alpha*100,"%")},saturate:function(e,o,r){if(!e.rgb)return null;var i=e.toHSL();return i.s+=void 0!==r&&"relative"===r.value?i.s*o.value/100:o.value/100,i.s=t(i.s),n(i)},desaturate:function(e,o,r){var i=e.toHSL();return i.s-=void 0!==r&&"relative"===r.value?i.s*o.value/100:o.value/100,i.s=t(i.s),n(i)},lighten:function(e,o,r){var i=e.toHSL();return i.l+=void 0!==r&&"relative"===r.value?i.l*o.value/100:o.value/100,i.l=t(i.l),n(i)},darken:function(e,o,r){var i=e.toHSL();return i.l-=void 0!==r&&"relative"===r.value?i.l*o.value/100:o.value/100,i.l=t(i.l),n(i)},fadein:function(e,o,r){var i=e.toHSL();return i.a+=void 0!==r&&"relative"===r.value?i.a*o.value/100:o.value/100,i.a=t(i.a),n(i)},fadeout:function(e,o,r){var i=e.toHSL();return i.a-=void 0!==r&&"relative"===r.value?i.a*o.value/100:o.value/100,i.a=t(i.a),n(i)},fade:function(e,o){var r=e.toHSL();return r.a=o.value/100,r.a=t(r.a),n(r)},spin:function(e,t){var o=e.toHSL(),r=(o.h+t.value)%360;return o.h=0>r?360+r:r,n(o)},mix:function(e,t,n){e.toHSL&&t.toHSL||(console.log(t.type),console.dir(t)),n||(n=new a(50));var o=n.value/100,r=2*o-1,i=e.toHSL().a-t.toHSL().a,l=((r*i==-1?r:(r+i)/(1+r*i))+1)/2,c=1-l,u=[e.rgb[0]*l+t.rgb[0]*c,e.rgb[1]*l+t.rgb[1]*c,e.rgb[2]*l+t.rgb[2]*c],d=e.alpha*o+t.alpha*(1-o);return new s(u,d)},greyscale:function(e){return i.desaturate(e,new a(100))},contrast:function(e,t,n,r){if(!e.rgb)return null;if(void 0===n&&(n=i.rgba(255,255,255,1)),void 0===t&&(t=i.rgba(0,0,0,1)),t.luma()>n.luma()){var a=n;n=t,t=a}return r=void 0===r?.43:o(r),e.luma()<r?n:t},argb:function(e){return new c(e.toARGB())},color:function(e){if(e instanceof l&&/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e.value))return new s(e.value.slice(1));if(e instanceof s||(e=s.fromKeyword(e.value)))return e.value=void 0,e;throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}},tint:function(e,t){return i.mix(i.rgb(255,255,255),e,t)},shade:function(e,t){return i.mix(i.rgb(0,0,0),e,t)}},u.addMultiple(i)},{"../tree/anonymous":44,"../tree/color":48,"../tree/dimension":54,"../tree/quoted":71,"./function-registry":21}],18:[function(e,t){t.exports=function(t){var n=e("../tree/quoted"),o=e("../tree/url"),r=e("./function-registry"),i=function(e,t){return new o(t,e.index,e.currentFileInfo).eval(e.context)},a=e("../logger");r.add("data-uri",(function(e,r){r||(r=e,e=null);var s=e&&e.value,l=r.value,c=this.currentFileInfo,u=c.relativeUrls?c.currentDirectory:c.entryPath,d=l.indexOf("#"),f="";-1!==d&&(f=l.slice(d),l=l.slice(0,d));var p=t.getFileManager(l,u,this.context,t,!0);if(!p)return i(this,r);var h=!1;if(e)h=/;base64$/.test(s);else{if("image/svg+xml"===(s=t.mimeLookup(l)))h=!1;else{var m=t.charsetLookup(s);h=["US-ASCII","UTF-8"].indexOf(m)<0}h&&(s+=";base64")}var v=p.loadFileSync(l,u,this.context,t);if(!v.contents)return a.warn("Skipped data-uri embedding of "+l+" because file not found"),i(this,r||e);var g=v.contents;if(h&&!t.encodeBase64)return i(this,r);var b="data:"+s+","+(g=h?t.encodeBase64(g):encodeURIComponent(g))+f;return b.length>=32768&&!1!==this.context.ieCompat?(a.warn("Skipped data-uri embedding of "+l+" because its size ("+b.length+" characters) exceeds IE8-safe 32768 characters!"),i(this,r||e)):new o(new n('"'+b+'"',b,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}))}},{"../logger":31,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],19:[function(e,t){var n=e("../tree/keyword"),o={eval:function(){var e=this.value_,t=this.error_;if(t)throw t;return null!=e?e?n.True:n.False:void 0},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}};e("./function-registry").add("default",o.eval.bind(o)),t.exports=o},{"../tree/keyword":63,"./function-registry":21}],20:[function(e,t){var n=e("../tree/expression"),o=function(e,t,n,o){this.name=e.toLowerCase(),this.index=n,this.context=t,this.currentFileInfo=o,this.func=t.frames[0].functionRegistry.get(this.name)};o.prototype.isValid=function(){return Boolean(this.func)},o.prototype.call=function(e){return Array.isArray(e)&&(e=e.filter((function(e){return"Comment"!==e.type})).map((function(e){if("Expression"===e.type){var t=e.value.filter((function(e){return"Comment"!==e.type}));return 1===t.length?t[0]:new n(t)}return e}))),this.func.apply(this,e)},t.exports=o},{"../tree/expression":57}],21:[function(e,t){t.exports=function e(t){return{_data:{},add:function(e,t){e=e.toLowerCase(),this._data.hasOwnProperty(e),this._data[e]=t},addMultiple:function(e){Object.keys(e).forEach(function(t){this.add(t,e[t])}.bind(this))},get:function(e){return this._data[e]||t&&t.get(e)},inherit:function(){return e(this)}}}(null)},{}],22:[function(e,t){t.exports=function(t){var n={functionRegistry:e("./function-registry"),functionCaller:e("./function-caller")};return e("./default"),e("./color"),e("./color-blending"),e("./data-uri")(t),e("./math"),e("./number"),e("./string"),e("./svg")(t),e("./types"),n}},{"./color":17,"./color-blending":16,"./data-uri":18,"./default":19,"./function-caller":20,"./function-registry":21,"./math":23,"./number":24,"./string":25,"./svg":26,"./types":27}],23:[function(e){function t(e,t,o){if(!(o instanceof n))throw{type:"Argument",message:"argument must be a number"};return null==t?t=o.unit:o=o.unify(),new n(e(parseFloat(o.value)),t)}var n=e("../tree/dimension"),o=e("./function-registry"),r={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var i in r)r.hasOwnProperty(i)&&(r[i]=t.bind(null,Math[i],r[i]));r.round=function(e,n){var o=void 0===n?0:n.value;return t((function(e){return e.toFixed(o)}),null,e)},o.addMultiple(r)},{"../tree/dimension":54,"./function-registry":21}],24:[function(e){var t=e("../tree/dimension"),n=e("../tree/anonymous"),o=e("./function-registry"),r=function(e,o){switch((o=Array.prototype.slice.call(o)).length){case 0:throw{type:"Argument",message:"one or more arguments required"}}var r,i,a,s,l,c,u,d,f=[],p={};for(r=0;o.length>r;r++)if((a=o[r])instanceof t)if(u=""!==(c=""===(s=""===a.unit.toString()&&void 0!==d?new t(a.value,d).unify():a.unify()).unit.toString()&&void 0!==u?u:s.unit.toString())&&void 0===u||""!==c&&""===f[0].unify().unit.toString()?c:u,d=""!==c&&void 0===d?a.unit.toString():d,void 0!==(i=void 0!==p[""]&&""!==c&&c===u?p[""]:p[c]))l=""===f[i].unit.toString()&&void 0!==d?new t(f[i].value,d).unify():f[i].unify(),(e&&l.value>s.value||!e&&s.value>l.value)&&(f[i]=a);else{if(void 0!==u&&c!==u)throw{type:"Argument",message:"incompatible types"};p[c]=f.length,f.push(a)}else Array.isArray(o[r].value)&&Array.prototype.push.apply(o,Array.prototype.slice.call(o[r].value));return 1==f.length?f[0]:(o=f.map((function(e){return e.toCSS(this.context)})).join(this.context.compress?",":", "),new n((e?"min":"max")+"("+o+")"))};o.addMultiple({min:function(){return r(!0,arguments)},max:function(){return r(!1,arguments)},convert:function(e,t){return e.convertTo(t.value)},pi:function(){return new t(Math.PI)},mod:function(e,n){return new t(e.value%n.value,e.unit)},pow:function(e,n){if("number"==typeof e&&"number"==typeof n)e=new t(e),n=new t(n);else if(!(e instanceof t&&n instanceof t))throw{type:"Argument",message:"arguments must be numbers"};return new t(Math.pow(e.value,n.value),e.unit)},percentage:function(e){return new t(100*e.value,"%")}})},{"../tree/anonymous":44,"../tree/dimension":54,"./function-registry":21}],25:[function(e){var t=e("../tree/quoted"),n=e("../tree/anonymous"),o=e("../tree/javascript");e("./function-registry").addMultiple({e:function(e){return new n(e instanceof o?e.evaluated:e.value)},escape:function(e){return new n(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(e,n,o,r){var i=e.value;return o="Quoted"===o.type?o.value:o.toCSS(),i=i.replace(new RegExp(n.value,r?r.value:""),o),new t(e.quote||"",i,e.escaped)},"%":function(e){for(var n=Array.prototype.slice.call(arguments,1),o=e.value,r=0;n.length>r;r++)o=o.replace(/%[sda]/i,(function(e){var t="Quoted"===n[r].type&&e.match(/s/i)?n[r].value:n[r].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t}));return o=o.replace(/%%/g,"%"),new t(e.quote||"",o,e.escaped)}})},{"../tree/anonymous":44,"../tree/javascript":61,"../tree/quoted":71,"./function-registry":21}],26:[function(e,t){t.exports=function(){var t=e("../tree/dimension"),n=e("../tree/color"),o=e("../tree/expression"),r=e("../tree/quoted"),i=e("../tree/url");e("./function-registry").add("svg-gradient",(function(e){function a(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}var s,l,c,u,d,f,p,h,m="linear",v='x="0" y="0" width="1" height="1"',g={compress:!1},b=e.toCSS(g);switch(2==arguments.length?(arguments[1].value.length<2&&a(),s=arguments[1].value):arguments.length<3?a():s=Array.prototype.slice.call(arguments,1),b){case"to bottom":l='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":l='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":l='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":l='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":m="radial",l='cx="50%" cy="50%" r="75%"',v='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(c='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+m+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+l+">",u=0;s.length>u;u+=1)s[u]instanceof o?(d=s[u].value[0],f=s[u].value[1]):(d=s[u],f=void 0),d instanceof n&&((0===u||u+1===s.length)&&void 0===f||f instanceof t)||a(),p=f?f.toCSS(g):0===u?"0%":"100%",h=d.alpha,c+='<stop offset="'+p+'" stop-color="'+d.toRGB()+'"'+(1>h?' stop-opacity="'+h+'"':"")+"/>";return c+="</"+m+"Gradient><rect "+v+' fill="url(#gradient)" /></svg>',c=encodeURIComponent(c),new i(new r("'"+(c="data:image/svg+xml,"+c)+"'",c,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}))}},{"../tree/color":48,"../tree/dimension":54,"../tree/expression":57,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],27:[function(e){var t=e("../tree/keyword"),n=e("../tree/detached-ruleset"),o=e("../tree/dimension"),r=e("../tree/color"),i=e("../tree/quoted"),a=e("../tree/anonymous"),s=e("../tree/url"),l=e("../tree/operation"),c=e("./function-registry"),u=function(e,n){return e instanceof n?t.True:t.False},d=function(e,n){if(void 0===n)throw{type:"Argument",message:"missing the required second argument to isunit."};if("string"!=typeof(n="string"==typeof n.value?n.value:n))throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return e instanceof o&&e.unit.is(n)?t.True:t.False},f=function(e){return Array.isArray(e.value)?e.value:Array(e)};c.addMultiple({isruleset:function(e){return u(e,n)},iscolor:function(e){return u(e,r)},isnumber:function(e){return u(e,o)},isstring:function(e){return u(e,i)},iskeyword:function(e){return u(e,t)},isurl:function(e){return u(e,s)},ispixel:function(e){return d(e,"px")},ispercentage:function(e){return d(e,"%")},isem:function(e){return d(e,"em")},isunit:d,unit:function(e,n){if(!(e instanceof o))throw{type:"Argument",message:"the first argument to unit must be a number"+(e instanceof l?". Have you forgotten parenthesis?":"")};return n=n?n instanceof t?n.value:n.toCSS():"",new o(e.value,n)},"get-unit":function(e){return new a(e.unit)},extract:function(e,t){return t=t.value-1,f(e)[t]},length:function(e){return new o(f(e).length)}})},{"../tree/anonymous":44,"../tree/color":48,"../tree/detached-ruleset":53,"../tree/dimension":54,"../tree/keyword":63,"../tree/operation":69,"../tree/quoted":71,"../tree/url":78,"./function-registry":21}],28:[function(e,t){var n=e("./contexts"),o=e("./parser/parser"),r=e("./plugins/function-importer");t.exports=function(e){var t=function(e,t){this.rootFilename=t.filename,this.paths=e.paths||[],this.contents={},this.contentsIgnoredChars={},this.mime=e.mime,this.error=null,this.context=e,this.queue=[],this.files={}};return t.prototype.push=function(t,i,a,s,l){var c=this;this.queue.push(t);var u=function(e,n,o){c.queue.splice(c.queue.indexOf(t),1);var r=o===c.rootFilename;s.optional&&e?l(null,{rules:[]},!1,null):(c.files[o]=n,e&&!c.error&&(c.error=e),l(e,n,r,o))},d={relativeUrls:this.context.relativeUrls,entryPath:a.entryPath,rootpath:a.rootpath,rootFilename:a.rootFilename},f=e.getFileManager(t,a.currentDirectory,this.context,e);if(f){i&&(t=f.tryAppendExtension(t,s.plugin?".js":".less"));var p=function(e){var t=e.filename,i=e.contents.replace(/^\uFEFF/,"");d.currentDirectory=f.getPath(t),d.relativeUrls&&(d.rootpath=f.join(c.context.rootpath||"",f.pathDiff(d.currentDirectory,d.entryPath)),!f.isPathAbsolute(d.rootpath)&&f.alwaysMakePathsAbsolute()&&(d.rootpath=f.join(d.entryPath,d.rootpath))),d.filename=t;var l=new n.Parse(c.context);l.processImports=!1,c.contents[t]=i,(a.reference||s.reference)&&(d.reference=!0),s.plugin?new r(l,d).eval(i,(function(e,n){u(e,n,t)})):s.inline?u(null,i,t):new o(l,c,d).parse(i,(function(e,n){u(e,n,t)}))},h=f.loadFile(t,a.currentDirectory,this.context,e,(function(e,t){e?u(e):p(t)}));h&&h.then(p,u)}else u({message:"Could not find a file-manager for "+t})},t}},{"./contexts":10,"./parser/parser":36,"./plugins/function-importer":38}],29:[function(e,t){t.exports=function(t,n){var o,r,i,a,s;return{version:[2,5,1],data:e("./data"),tree:e("./tree"),Environment:s=e("./environment/environment"),AbstractFileManager:e("./environment/abstract-file-manager"),environment:t=new s(t,n),visitors:e("./visitors"),Parser:e("./parser/parser"),functions:e("./functions")(t),contexts:e("./contexts"),SourceMapOutput:o=e("./source-map-output")(t),SourceMapBuilder:r=e("./source-map-builder")(o,t),ParseTree:i=e("./parse-tree")(r),ImportManager:a=e("./import-manager")(t),render:e("./render")(t,i,a),parse:e("./parse")(t,i,a),LessError:e("./less-error"),transformTree:e("./transform-tree"),utils:e("./utils"),PluginManager:e("./plugin-manager"),logger:e("./logger")}}},{"./contexts":10,"./data":12,"./environment/abstract-file-manager":14,"./environment/environment":15,"./functions":22,"./import-manager":28,"./less-error":30,"./logger":31,"./parse":33,"./parse-tree":32,"./parser/parser":36,"./plugin-manager":37,"./render":39,"./source-map-builder":40,"./source-map-output":41,"./transform-tree":42,"./tree":60,"./utils":81,"./visitors":85}],30:[function(e,t){var n=e("./utils"),o=t.exports=function(e,t,o){Error.call(this);var r=e.filename||o;if(t&&r){var i=t.contents[r],a=n.getLocation(e.index,i),s=a.line,l=a.column,c=e.call&&n.getLocation(e.call,i).line,u=i.split("\n");this.type=e.type||"Syntax",this.filename=r,this.index=e.index,this.line="number"==typeof s?s+1:null,this.callLine=c+1,this.callExtract=u[c],this.column=l,this.extract=[u[s-1],u[s],u[s+1]]}this.message=e.message,this.stack=e.stack};if(void 0===Object.create){var r=function(){};r.prototype=Error.prototype,o.prototype=new r}else o.prototype=Object.create(Error.prototype);o.prototype.constructor=o},{"./utils":81}],31:[function(e,t){t.exports={error:function(e){this._fireEvent("error",e)},warn:function(e){this._fireEvent("warn",e)},info:function(e){this._fireEvent("info",e)},debug:function(e){this._fireEvent("debug",e)},addListener:function(e){this._listeners.push(e)},removeListener:function(e){for(var t=0;this._listeners.length>t;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)},_fireEvent:function(e,t){for(var n=0;this._listeners.length>n;n++){var o=this._listeners[n][e];o&&o(t)}},_listeners:[]}},{}],32:[function(e,t){var n=e("./less-error"),o=e("./transform-tree"),r=e("./logger");t.exports=function(e){var t=function(e,t){this.root=e,this.imports=t};return t.prototype.toCSS=function(t){var i,a,s={};try{i=o(this.root,t)}catch(e){throw new n(e,this.imports)}try{var l=Boolean(t.compress);l&&r.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.");var c={compress:l,dumpLineNumbers:t.dumpLineNumbers,strictUnits:Boolean(t.strictUnits),numPrecision:8};t.sourceMap?(a=new e(t.sourceMap),s.css=a.toCSS(i,c,this.imports)):s.css=i.toCSS(c)}catch(e){throw new n(e,this.imports)}if(t.pluginManager)for(var u=t.pluginManager.getPostProcessors(),d=0;u.length>d;d++)s.css=u[d].process(s.css,{sourceMap:a,options:t,imports:this.imports});for(var f in t.sourceMap&&(s.map=a.getExternalSourceMap()),s.imports=[],this.imports.files)this.imports.files.hasOwnProperty(f)&&f!==this.imports.rootFilename&&s.imports.push(f);return s},t}},{"./less-error":30,"./logger":31,"./transform-tree":42}],33:[function(e,t){var n,o=e("./contexts"),r=e("./parser/parser"),i=e("./plugin-manager");t.exports=function(t,a,s){var l=function(t,a,c){if("function"==typeof(a=a||{})&&(c=a,a={}),!c){n||(n="undefined"==typeof Promise?e("promise"):Promise);var u=this;return new n((function(e,n){l.call(u,t,a,(function(t,o){t?n(t):e(o)}))}))}var d,f,p=new i(this);if(p.addPlugins(a.plugins),a.pluginManager=p,d=new o.Parse(a),a.rootFileInfo)f=a.rootFileInfo;else{var h=a.filename||"input",m=h.replace(/[^\/\\]*$/,"");(f={filename:h,relativeUrls:d.relativeUrls,rootpath:d.rootpath||"",currentDirectory:m,entryPath:m,rootFilename:h}).rootpath&&"/"!==f.rootpath.slice(-1)&&(f.rootpath+="/")}var v=new s(d,f);new r(d,v,f).parse(t,(function(e,t){return e?c(e):void c(null,t,v,a)}),a)};return l}},{"./contexts":10,"./parser/parser":36,"./plugin-manager":37,promise:void 0}],34:[function(e,t){t.exports=function(e,t){function n(t){var n=s-v;512>n&&!t||!n||(m.push(e.slice(v,s+1)),v=s+1)}var o,r,i,a,s,l,c,u,d,f=e.length,p=0,h=0,m=[],v=0;for(s=0;f>s;s++)if(!((c=e.charCodeAt(s))>=97&&122>=c||34>c))switch(c){case 40:h++,r=s;continue;case 41:if(--h<0)return t("missing opening `(`",s);continue;case 59:h||n();continue;case 123:p++,o=s;continue;case 125:if(--p<0)return t("missing opening `{`",s);p||h||n();continue;case 92:if(f-1>s){s++;continue}return t("unescaped `\\`",s);case 34:case 39:case 96:for(d=0,l=s,s+=1;f>s;s++)if(!((u=e.charCodeAt(s))>96)){if(u==c){d=1;break}if(92==u){if(s==f-1)return t("unescaped `\\`",s);s++}}if(d)continue;return t("unmatched `"+String.fromCharCode(c)+"`",l);case 47:if(h||s==f-1)continue;if(47==(u=e.charCodeAt(s+1)))for(s+=2;f>s&&(!(13>=(u=e.charCodeAt(s)))||10!=u&&13!=u);s++);else if(42==u){for(i=l=s,s+=2;f-1>s&&(125==(u=e.charCodeAt(s))&&(a=s),42!=u||47!=e.charCodeAt(s+1));s++);if(s==f-1)return t("missing closing `*/`",l);s++}continue;case 42:if(f-1>s&&47==e.charCodeAt(s+1))return t("unmatched `/*`",s);continue}return 0!==p?t(i>o&&a>i?"missing closing `}` or `*/`":"missing closing `}`",o):0!==h?t("missing closing `)`",r):(n(!0),m)}},{}],35:[function(e,t){var n=e("./chunker");t.exports=function(){var e,t,o,r,i,a,s,l=[],c={save:function(){s=c.i,l.push({current:a,i:c.i,j:t})},restore:function(e){(c.i>o||c.i===o&&e&&!r)&&(o=c.i,r=e);var n=l.pop();a=n.current,s=c.i=n.i,t=n.j},forget:function(){l.pop()},isWhitespace:function(t){var n=c.i+(t||0),o=e.charCodeAt(n);return o===u||o===p||o===d||o===f},$re:function(e){c.i>s&&(a=a.slice(c.i-s),s=c.i);var t=e.exec(a);return t?(h(t[0].length),"string"==typeof t?t:1===t.length?t[0]:t):null},$char:function(t){return e.charAt(c.i)!==t?null:(h(1),t)},$str:function(t){for(var n=t.length,o=0;n>o;o++)if(e.charAt(c.i+o)!==t.charAt(o))return null;return h(n),t},$quoted:function(){var t=e.charAt(c.i);if("'"===t||'"'===t){for(var n=e.length,o=c.i,r=1;n>r+o;r++)switch(e.charAt(r+o)){case"\\":r++;continue;case"\r":case"\n":break;case t:var i=e.substr(o,r+1);return h(r+1),i}return null}}},u=32,d=9,f=10,p=13;c.autoCommentAbsorb=!0,c.commentStore=[],c.finished=!1;var h=function(n){for(var o,r,l,m=c.i,v=t,g=c.i-s,b=c.i+a.length-g,y=c.i+=n,w=e;b>c.i;c.i++){if(o=w.charCodeAt(c.i),c.autoCommentAbsorb&&47===o){if("/"===(r=w.charAt(c.i+1))){l={index:c.i,isLineComment:!0};var x=w.indexOf("\n",c.i+2);0>x&&(x=b),c.i=x,l.text=w.substr(l.i,c.i-l.i),c.commentStore.push(l);continue}if("*"===r){var C=w.indexOf("*/",c.i+2);if(C>=0){l={index:c.i,text:w.substr(c.i,C+2-c.i),isLineComment:!1},c.i+=l.text.length-1,c.commentStore.push(l);continue}}break}if(o!==u&&o!==f&&o!==d&&o!==p)break}if(a=a.slice(n+c.i-y+g),s=c.i,!a.length){if(i.length-1>t)return a=i[++t],h(0),!0;c.finished=!0}return m!==c.i||v!==t};return c.peek=function(t){if("string"==typeof t){for(var n=0;t.length>n;n++)if(e.charAt(c.i+n)!==t.charAt(n))return!1;return!0}return t.test(a)},c.peekChar=function(t){return e.charAt(c.i)===t},c.currentChar=function(){return e.charAt(c.i)},c.getInput=function(){return e},c.peekNotNumeric=function(){var t=e.charCodeAt(c.i);return t>57||43>t||47===t||44===t},c.start=function(r,l,u){e=r,c.i=t=s=o=0,i=l?n(r,u):[r],a=i[0],h(0)},c.end=function(){var t,n=c.i>=e.length;return o>c.i&&(t=r,c.i=o),{isFinished:n,furthest:c.i,furthestPossibleErrorMessage:t,furthestReachedEnd:c.i>=e.length-1,furthestChar:e[c.i]}},c}},{"./chunker":34}],36:[function(e,t){var n=e("../less-error"),o=e("../tree"),r=e("../visitors"),i=e("./parser-input"),a=e("../utils"),s=function e(t,s,l){function c(e,t){var n="[object Function]"===Object.prototype.toString.call(e)?e.call(p):h.$re(e);return n||void d(t||("string"==typeof e?"expected '"+e+"' got '"+h.currentChar()+"'":"unexpected token"))}function u(e,t){return h.$char(e)?e:void d(t||"expected '"+e+"' got '"+h.currentChar()+"'")}function d(e,t){throw new n({index:h.i,filename:l.filename,type:t||"Syntax",message:e},s)}function f(e){var t=l.filename;return{lineNumber:a.getLocation(e,h.getInput()).line+1,fileName:t}}var p,h=i();return{parse:function(i,a,c){var u,d,f,p,m=null,v="";if(d=c&&c.globalVars?e.serializeVars(c.globalVars)+"\n":"",f=c&&c.modifyVars?"\n"+e.serializeVars(c.modifyVars):"",t.pluginManager)for(var g=t.pluginManager.getPreProcessors(),b=0;g.length>b;b++)i=g[b].process(i,{context:t,imports:s,fileInfo:l});(d||c&&c.banner)&&(v=(c&&c.banner?c.banner:"")+d,(p=s.contentsIgnoredChars)[l.filename]=p[l.filename]||0,p[l.filename]+=v.length),i=v+(i=i.replace(/\r\n?/g,"\n")).replace(/^\uFEFF/,"")+f,s.contents[l.filename]=i;try{h.start(i,t.chunkInput,(function(e,t){throw new n({index:t,type:"Parse",message:e,filename:l.filename},s)})),(u=new o.Ruleset(null,this.parsers.primary())).root=!0,u.firstRoot=!0}catch(e){return a(new n(e,s,l.filename))}var y=h.end();if(!y.isFinished){var w=y.furthestPossibleErrorMessage;w||(w="Unrecognised input","}"===y.furthestChar?w+=". Possibly missing opening '{'":")"===y.furthestChar?w+=". Possibly missing opening '('":y.furthestReachedEnd&&(w+=". Possibly missing something")),m=new n({type:"Parse",message:w,index:y.furthest,filename:l.filename},s)}var x=function(e){return(e=m||e||s.error)?(e instanceof n||(e=new n(e,s,l.filename)),a(e)):a(null,u)};return!1===t.processImports?x():void new r.ImportVisitor(s,x).run(u)},parsers:p={primary:function(){for(var e,t=this.mixin,n=[];;){for(;e=this.comment();)n.push(e);if(h.finished)break;if(h.peek("}"))break;if(e=this.extendRule())n=n.concat(e);else if(e=t.definition()||this.rule()||this.ruleset()||t.call()||this.rulesetCall()||this.directive())n.push(e);else{for(var o=!1;h.$char(";");)o=!0;if(!o)break}}return n},comment:function(){if(h.commentStore.length){var e=h.commentStore.shift();return new o.Comment(e.text,e.isLineComment,e.index,l)}},entities:{quoted:function(){var e,t=h.i,n=!1;return h.save(),h.$char("~")&&(n=!0),(e=h.$quoted())?(h.forget(),new o.Quoted(e.charAt(0),e.substr(1,e.length-2),n,t,l)):void h.restore()},keyword:function(){var e=h.$char("%")||h.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);return e?o.Color.fromKeyword(e)||new o.Keyword(e):void 0},call:function(){var e,t,n,r=h.i;if(!h.peek(/^url\(/i))return h.save(),(e=h.$re(/^([\w-]+|%|progid:[\w\.]+)\(/))?"alpha"===(e=e[1]).toLowerCase()&&(n=p.alpha())?(h.forget(),n):(t=this.arguments(),h.$char(")")?(h.forget(),new o.Call(e,t,r,l)):void h.restore("Could not parse call arguments or missing ')'")):void h.forget()},arguments:function(){for(var e,t=[];(e=this.assignment()||p.expression())&&(t.push(e),h.$char(",")););return t},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,t;return h.save(),(e=h.$re(/^\w+(?=\s?=)/i))&&h.$char("=")&&(t=p.entity())?(h.forget(),new o.Assignment(e,t)):void h.restore()},url:function(){var e,t=h.i;return h.autoCommentAbsorb=!1,h.$str("url(")?(e=this.quoted()||this.variable()||h.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",h.autoCommentAbsorb=!0,u(")"),new o.URL(null!=e.value||e instanceof o.Variable?e:new o.Anonymous(e),t,l)):void(h.autoCommentAbsorb=!0)},variable:function(){var e,t=h.i;return"@"===h.currentChar()&&(e=h.$re(/^@@?[\w-]+/))?new o.Variable(e,t,l):void 0},variableCurly:function(){var e,t=h.i;return"@"===h.currentChar()&&(e=h.$re(/^@\{([\w-]+)\}/))?new o.Variable("@"+e[1],t,l):void 0},color:function(){var e;if("#"===h.currentChar()&&(e=h.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){var t=e.input.match(/^#([\w]+).*/);return(t=t[1]).match(/^[A-Fa-f0-9]+$/)||d("Invalid HEX color code"),new o.Color(e[1])}},dimension:function(){if(!h.peekNotNumeric()){var e=h.$re(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/i);return e?new o.Dimension(e[1],e[2]):void 0}},unicodeDescriptor:function(){var e;return(e=h.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))?new o.UnicodeDescriptor(e[0]):void 0},javascript:function(){var e,t=h.i;h.save();var n=h.$char("~");return h.$char("`")?(e=h.$re(/^[^`]*`/))?(h.forget(),new o.JavaScript(e.substr(0,e.length-1),Boolean(n),t,l)):void h.restore("invalid javascript definition"):void h.restore()}},variable:function(){var e;return"@"===h.currentChar()&&(e=h.$re(/^(@[\w-]+)\s*:/))?e[1]:void 0},rulesetCall:function(){var e;return"@"===h.currentChar()&&(e=h.$re(/^(@[\w-]+)\s*\(\s*\)\s*;/))?new o.RulesetCall(e[1]):void 0},extend:function(e){var t,n,r,i,a,s=h.i;if(h.$str(e?"&:extend(":":extend(")){do{for(r=null,t=null;!(r=h.$re(/^(all)(?=\s*(\)|,))/))&&(n=this.element());)t?t.push(n):t=[n];r=r&&r[1],t||d("Missing target selector for :extend()."),a=new o.Extend(new o.Selector(t),r,s),i?i.push(a):i=[a]}while(h.$char(","));return c(/^\)/),e&&c(/^;/),i}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var e,t,n,r,i,a,s=h.currentChar(),c=!1,d=h.i;if("."===s||"#"===s){for(h.save();e=h.i,r=h.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)n=new o.Element(i,r,e,l),t?t.push(n):t=[n],i=h.$char(">");return t&&(h.$char("(")&&(a=this.args(!0).args,u(")")),p.important()&&(c=!0),p.end())?(h.forget(),new o.mixin.Call(t,a,d,l,c)):void h.restore()}},args:function(e){var t,n,r,i,a,s,l=p.entities,c={args:null,variadic:!1},u=[],f=[],m=[];for(h.save();;){if(e)s=p.detachedRuleset()||p.expression();else{if(h.commentStore.length=0,h.$str("...")){c.variadic=!0,h.$char(";")&&!t&&(t=!0),(t?f:m).push({variadic:!0});break}s=l.variable()||l.literal()||l.keyword()}if(!s)break;i=null,s.throwAwayComments&&s.throwAwayComments(),a=s;var v=null;if(e?s.value&&1==s.value.length&&(v=s.value[0]):v=s,v&&v instanceof o.Variable)if(h.$char(":")){if(u.length>0&&(t&&d("Cannot mix ; and , as delimiter types"),n=!0),!(a=p.detachedRuleset()||p.expression())){if(!e)return h.restore(),c.args=[],c;d("could not understand value for named argument")}i=r=v.name}else{if(!e&&h.$str("...")){c.variadic=!0,h.$char(";")&&!t&&(t=!0),(t?f:m).push({name:s.name,variadic:!0});break}e||(r=i=v.name,a=null)}a&&u.push(a),m.push({name:i,value:a}),h.$char(",")||(h.$char(";")||t)&&(n&&d("Cannot mix ; and , as delimiter types"),t=!0,u.length>1&&(a=new o.Value(u)),f.push({name:r,value:a}),r=null,u=[],n=!1)}return h.forget(),c.args=t?f:m,c},definition:function(){var e,t,n,r,i=[],a=!1;if(!("."!==h.currentChar()&&"#"!==h.currentChar()||h.peek(/^[^{]*\}/)))if(h.save(),t=h.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){e=t[1];var s=this.args(!1);if(i=s.args,a=s.variadic,!h.$char(")"))return void h.restore("Missing closing ')'");if(h.commentStore.length=0,h.$str("when")&&(r=c(p.conditions,"expected condition")),n=p.block())return h.forget(),new o.mixin.Definition(e,i,n,r,a);h.restore()}else h.forget()}},entity:function(){var e=this.entities;return this.comment()||e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()},end:function(){return h.$char(";")||h.peek("}")},alpha:function(){var e;if(h.$re(/^opacity=/i))return(e=h.$re(/^\d+/))||(e=c(this.entities.variable,"Could not parse alpha")),u(")"),new o.Alpha(e)},element:function(){var e,t,n,r=h.i;return t=this.combinator(),(e=h.$re(/^(?:\d+\.\d+|\d+)%/)||h.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||h.$char("*")||h.$char("&")||this.attribute()||h.$re(/^\([^&()@]+\)/)||h.$re(/^[\.#:](?=@)/)||this.entities.variableCurly())||(h.save(),h.$char("(")?(n=this.selector())&&h.$char(")")?(e=new o.Paren(n),h.forget()):h.restore("Missing closing ')'"):h.forget()),e?new o.Element(t,e,r,l):void 0},combinator:function(){var e=h.currentChar();if("/"===e){h.save();var t=h.$re(/^\/[a-z]+\//i);if(t)return h.forget(),new o.Combinator(t);h.restore()}if(">"===e||"+"===e||"~"===e||"|"===e||"^"===e){for(h.i++,"^"===e&&"^"===h.currentChar()&&(e="^^",h.i++);h.isWhitespace();)h.i++;return new o.Combinator(e)}return new o.Combinator(h.isWhitespace(-1)?" ":null)},lessSelector:function(){return this.selector(!0)},selector:function(e){for(var t,n,r,i,a,s,u,f=h.i;(e&&(n=this.extend())||e&&(s=h.$str("when"))||(i=this.element()))&&(s?u=c(this.conditions,"expected condition"):u?d("CSS guard can only be used at the end of selector"):n?a=a?a.concat(n):n:(a&&d("Extend can only be used at the end of selector"),r=h.currentChar(),t?t.push(i):t=[i],i=null),"{"!==r&&"}"!==r&&";"!==r&&","!==r&&")"!==r););return t?new o.Selector(t,a,u,f,l):void(a&&d("Extend must be used to extend a selector, it cannot be used on its own"))},attribute:function(){if(h.$char("[")){var e,t,n,r=this.entities;return(e=r.variableCurly())||(e=c(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),(n=h.$re(/^[|~*$^]?=/))&&(t=r.quoted()||h.$re(/^[0-9]+%/)||h.$re(/^[\w-]+/)||r.variableCurly()),u("]"),new o.Attribute(e,n,t)}},block:function(){var e;return h.$char("{")&&(e=this.primary())&&h.$char("}")?e:void 0},blockRuleset:function(){var e=this.block();return e&&(e=new o.Ruleset(null,e)),e},detachedRuleset:function(){var e=this.blockRuleset();return e?new o.DetachedRuleset(e):void 0},ruleset:function(){var e,n,r,i;for(h.save(),t.dumpLineNumbers&&(i=f(h.i));(n=this.lessSelector())&&(e?e.push(n):e=[n],h.commentStore.length=0,n.condition&&e.length>1&&d("Guards are only currently allowed on a single selector."),h.$char(","));)n.condition&&d("Guards are only currently allowed on a single selector."),h.commentStore.length=0;if(e&&(r=this.block())){h.forget();var a=new o.Ruleset(e,r,t.strictImports);return t.dumpLineNumbers&&(a.debugInfo=i),a}h.restore()},rule:function(e){var n,r,i,a,s,c=h.i,u=h.currentChar();if("."!==u&&"#"!==u&&"&"!==u&&":"!==u)if(h.save(),n=this.variable()||this.ruleProperty()){if((s="string"==typeof n)&&(r=this.detachedRuleset()),h.commentStore.length=0,!r){a=!s&&n.length>1&&n.pop().value;var d=!e&&(t.compress||s);if(d&&(r=this.value()),!r&&(r=this.anonymousValue()))return h.forget(),new o.Rule(n,r,!1,a,c,l);d||r||(r=this.value()),i=this.important()}if(r&&this.end())return h.forget(),new o.Rule(n,r,i,a,c,l);if(h.restore(),r&&!e)return this.rule(!0)}else h.forget()},anonymousValue:function(){var e=h.$re(/^([^@+\/'"*`(;{}-]*);/);return e?new o.Anonymous(e[1]):void 0},import:function(){var e,t,n=h.i,r=h.$re(/^@import?\s+/);if(r){var i=(r?this.importOptions():null)||{};if(e=this.entities.quoted()||this.entities.url())return t=this.mediaFeatures(),h.$char(";")||(h.i=n,d("missing semi-colon or unrecognised media features on import")),t=t&&new o.Value(t),new o.Import(e,t,i,n,l);h.i=n,d("malformed import statement")}},importOptions:function(){var e,t,n,o={};if(!h.$char("("))return null;do{if(e=this.importOption()){switch(n=!0,t=e){case"css":t="less",n=!1;break;case"once":t="multiple",n=!1}if(o[t]=n,!h.$char(","))break}}while(e);return u(")"),o},importOption:function(){var e=h.$re(/^(less|css|multiple|once|inline|reference|optional)/);return e?e[1]:void 0},mediaFeature:function(){var e,t,n=this.entities,r=[];h.save();do{if(e=n.keyword()||n.variable())r.push(e);else if(h.$char("(")){if(t=this.property(),e=this.value(),!h.$char(")"))return h.restore("Missing closing ')'"),null;if(t&&e)r.push(new o.Paren(new o.Rule(t,e,null,null,h.i,l,!0)));else{if(!e)return h.restore("badly formed media feature definition"),null;r.push(new o.Paren(e))}}}while(e);return h.forget(),r.length>0?new o.Expression(r):void 0},mediaFeatures:function(){var e,t=this.entities,n=[];do{if(e=this.mediaFeature()){if(n.push(e),!h.$char(","))break}else if((e=t.variable())&&(n.push(e),!h.$char(",")))break}while(e);return n.length>0?n:null},media:function(){var e,n,r,i;return t.dumpLineNumbers&&(i=f(h.i)),h.save(),h.$str("@media")?(e=this.mediaFeatures(),(n=this.block())?(h.forget(),r=new o.Media(n,e,h.i,l),t.dumpLineNumbers&&(r.debugInfo=i),r):void h.restore("media definitions require block statements after any features")):void h.restore()},plugin:function(){var e,t=h.i;if(h.$re(/^@plugin?\s+/)){if(e=this.entities.quoted()||this.entities.url())return h.$char(";")||(h.i=t,d("missing semi-colon on plugin")),new o.Import(e,null,{plugin:!0},t,l);h.i=t,d("malformed plugin statement")}},directive:function(){var e,n,r,i,a,s,c,u=h.i,p=!0,m=!0;if("@"===h.currentChar()){if(n=this.import()||this.plugin()||this.media())return n;if(h.save(),e=h.$re(/^@[a-z-]+/)){switch(i=e,"-"==e.charAt(1)&&e.indexOf("-",2)>0&&(i="@"+e.slice(e.indexOf("-",2)+1)),i){case"@counter-style":a=!0,p=!0;break;case"@charset":a=!0,p=!1;break;case"@namespace":s=!0,p=!1;break;case"@keyframes":a=!0;break;case"@host":case"@page":c=!0;break;case"@document":case"@supports":c=!0,m=!1}return h.commentStore.length=0,a?(n=this.entity())||d("expected "+e+" identifier"):s?(n=this.expression())||d("expected "+e+" expression"):c&&(n=(h.$re(/^[^{;]+/)||"").trim())&&(n=new o.Anonymous(n)),p&&(r=this.blockRuleset()),r||!p&&n&&h.$char(";")?(h.forget(),new o.Directive(e,n,r,u,l,t.dumpLineNumbers?f(u):null,!1,m)):void h.restore("directive options not recognised")}}},value:function(){var e,t=[];do{if((e=this.expression())&&(t.push(e),!h.$char(",")))break}while(e);return t.length>0?new o.Value(t):void 0},important:function(){return"!"===h.currentChar()?h.$re(/^! *important/):void 0},sub:function(){var e,t;return h.save(),h.$char("(")?(e=this.addition())&&h.$char(")")?(h.forget(),(t=new o.Expression([e])).parens=!0,t):void h.restore("Expected ')'"):void h.restore()},multiplication:function(){var e,t,n,r,i;if(e=this.operand()){for(i=h.isWhitespace(-1);!h.peek(/^\/[*\/]/);){if(h.save(),!(n=h.$char("/")||h.$char("*"))){h.forget();break}if(!(t=this.operand())){h.restore();break}h.forget(),e.parensInOp=!0,t.parensInOp=!0,r=new o.Operation(n,[r||e,t],i),i=h.isWhitespace(-1)}return r||e}},addition:function(){var e,t,n,r,i;if(e=this.multiplication()){for(i=h.isWhitespace(-1);(n=h.$re(/^[-+]\s+/)||!i&&(h.$char("+")||h.$char("-")))&&(t=this.multiplication());)e.parensInOp=!0,t.parensInOp=!0,r=new o.Operation(n,[r||e,t],i),i=h.isWhitespace(-1);return r||e}},conditions:function(){var e,t,n,r=h.i;if(e=this.condition()){for(;h.peek(/^,\s*(not\s*)?\(/)&&h.$char(",")&&(t=this.condition());)n=new o.Condition("or",n||e,t,r);return n||e}},condition:function(){var e,t,n,r,i=this.entities,a=h.i,s=!1;return h.$str("not")&&(s=!0),u("("),(e=this.addition()||i.keyword()||i.quoted())?(h.$char(">")?r=h.$char("=")?">=":">":h.$char("<")?r=h.$char("=")?"<=":"<":h.$char("=")&&(r=h.$char(">")?"=>":h.$char("<")?"=<":"="),r?(t=this.addition()||i.keyword()||i.quoted())?n=new o.Condition(r,e,t,a,s):d("expected expression"):n=new o.Condition("=",e,new o.Keyword("true"),a,s),u(")"),h.$str("and")?new o.Condition("and",n,this.condition()):n):void 0},operand:function(){var e,t=this.entities;h.peek(/^-[@\(]/)&&(e=h.$char("-"));var n=this.sub()||t.dimension()||t.color()||t.variable()||t.call();return e&&(n.parensInOp=!0,n=new o.Negative(n)),n},expression:function(){var e,t,n=[];do{(e=this.comment())?n.push(e):(e=this.addition()||this.entity())&&(n.push(e),h.peek(/^\/[\/*]/)||(t=h.$char("/"))&&n.push(new o.Anonymous(t)))}while(e);return n.length>0?new o.Expression(n):void 0},property:function(){var e=h.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);return e?e[1]:void 0},ruleProperty:function(){function e(e){var t=h.i,n=h.$re(e);return n?(i.push(t),r.push(n[1])):void 0}var t,n,r=[],i=[];h.save();var a=h.$re(/^([_a-zA-Z0-9-]+)\s*:/);if(a)return r=[new o.Keyword(a[1])],h.forget(),r;for(e(/^(\*?)/);e(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(r.length>1&&e(/^((?:\+_|\+)?)\s*:/)){for(h.forget(),""===r[0]&&(r.shift(),i.shift()),n=0;r.length>n;n++)t=r[n],r[n]="@"!==t.charAt(0)?new o.Keyword(t):new o.Variable("@"+t.slice(2,-1),i[n],l);return r}h.restore()}}}};s.serializeVars=function(e){var t="";for(var n in e)if(Object.hasOwnProperty.call(e,n)){var o=e[n];t+=("@"===n[0]?"":"@")+n+": "+o+(";"===String(o).slice(-1)?"":";")}return t},t.exports=s},{"../less-error":30,"../tree":60,"../utils":81,"../visitors":85,"./parser-input":35}],37:[function(e,t){var n=function(e){this.less=e,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[]};n.prototype.addPlugins=function(e){if(e)for(var t=0;e.length>t;t++)this.addPlugin(e[t])},n.prototype.addPlugin=function(e){this.installedPlugins.push(e),e.install(this.less,this)},n.prototype.addVisitor=function(e){this.visitors.push(e)},n.prototype.addPreProcessor=function(e,t){var n;for(n=0;this.preProcessors.length>n&&!(this.preProcessors[n].priority>=t);n++);this.preProcessors.splice(n,0,{preProcessor:e,priority:t})},n.prototype.addPostProcessor=function(e,t){var n;for(n=0;this.postProcessors.length>n&&!(this.postProcessors[n].priority>=t);n++);this.postProcessors.splice(n,0,{postProcessor:e,priority:t})},n.prototype.addFileManager=function(e){this.fileManagers.push(e)},n.prototype.getPreProcessors=function(){for(var e=[],t=0;this.preProcessors.length>t;t++)e.push(this.preProcessors[t].preProcessor);return e},n.prototype.getPostProcessors=function(){for(var e=[],t=0;this.postProcessors.length>t;t++)e.push(this.postProcessors[t].postProcessor);return e},n.prototype.getVisitors=function(){return this.visitors},n.prototype.getFileManagers=function(){return this.fileManagers},t.exports=n},{}],38:[function(e,t){var n=e("../less-error"),o=e("../tree");(t.exports=function(e,t){this.fileInfo=t}).prototype.eval=function(e,t){var r,i={};r={add:function(e,t){i[e]=t},addMultiple:function(e){Object.keys(e).forEach((function(t){i[t]=e[t]}))}};try{new Function("functions","tree","fileInfo",e)(r,o,this.fileInfo)}catch(e){t(new n({message:"Plugin evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.fileInfo.filename}),null)}t(null,{functions:i})}},{"../less-error":30,"../tree":60}],39:[function(e,t){var n;t.exports=function(t,o){var r=function(t,i,a){if("function"==typeof i&&(a=i,i={}),!a){n||(n="undefined"==typeof Promise?e("promise"):Promise);var s=this;return new n((function(e,n){r.call(s,t,i,(function(t,o){t?n(t):e(o)}))}))}this.parse(t,i,(function(e,t,n,r){if(e)return a(e);var i;try{i=new o(t,n).toCSS(r)}catch(e){return a(e)}a(null,i)}))};return r}},{promise:void 0}],40:[function(e,t){t.exports=function(e,t){var n=function(e){this.options=e};return n.prototype.toCSS=function(t,n,o){var r=new e({contentsIgnoredCharsMap:o.contentsIgnoredChars,rootNode:t,contentsMap:o.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline}),i=r.toCSS(n);return this.sourceMap=r.sourceMap,this.sourceMapURL=r.sourceMapURL,this.options.sourceMapInputFilename&&(this.sourceMapInputFilename=r.normalizeFilename(this.options.sourceMapInputFilename)),i+this.getCSSAppendage()},n.prototype.getCSSAppendage=function(){var e=this.sourceMapURL;if(this.options.sourceMapFileInline){if(void 0===this.sourceMap)return"";e="data:application/json;base64,"+t.encodeBase64(this.sourceMap)}return e?"/*# sourceMappingURL="+e+" */":""},n.prototype.getExternalSourceMap=function(){return this.sourceMap},n.prototype.setExternalSourceMap=function(e){this.sourceMap=e},n.prototype.isInline=function(){return this.options.sourceMapFileInline},n.prototype.getSourceMapURL=function(){return this.sourceMapURL},n.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename},n.prototype.getInputFilename=function(){return this.sourceMapInputFilename},n}},{}],41:[function(e,t){t.exports=function(e){var t=function(t){this._css=[],this._rootNode=t.rootNode,this._contentsMap=t.contentsMap,this._contentsIgnoredCharsMap=t.contentsIgnoredCharsMap,t.sourceMapFilename&&(this._sourceMapFilename=t.sourceMapFilename.replace(/\\/g,"/")),this._outputFilename=t.outputFilename,this.sourceMapURL=t.sourceMapURL,t.sourceMapBasepath&&(this._sourceMapBasepath=t.sourceMapBasepath.replace(/\\/g,"/")),t.sourceMapRootpath?(this._sourceMapRootpath=t.sourceMapRootpath.replace(/\\/g,"/"),"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/")):this._sourceMapRootpath="",this._outputSourceFiles=t.outputSourceFiles,this._sourceMapGeneratorConstructor=e.getSourceMapGenerator(),this._lineNumber=0,this._column=0};return t.prototype.normalizeFilename=function(e){return e=e.replace(/\\/g,"/"),this._sourceMapBasepath&&0===e.indexOf(this._sourceMapBasepath)&&("\\"===(e=e.substring(this._sourceMapBasepath.length)).charAt(0)||"/"===e.charAt(0))&&(e=e.substring(1)),(this._sourceMapRootpath||"")+e},t.prototype.add=function(e,t,n,o){if(e){var r,i,a,s,l;if(t){var c=this._contentsMap[t.filename];this._contentsIgnoredCharsMap[t.filename]&&(0>(n-=this._contentsIgnoredCharsMap[t.filename])&&(n=0),c=c.slice(this._contentsIgnoredCharsMap[t.filename])),s=(i=(c=c.substring(0,n)).split("\n"))[i.length-1]}if(a=(r=e.split("\n"))[r.length-1],t)if(o)for(l=0;r.length>l;l++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+l+1,column:0===l?this._column:0},original:{line:i.length+l,column:0===l?s.length:0},source:this.normalizeFilename(t.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:i.length,column:s.length},source:this.normalizeFilename(t.filename)});1===r.length?this._column+=a.length:(this._lineNumber+=r.length-1,this._column=a.length),this._css.push(e)}},t.prototype.isEmpty=function(){return 0===this._css.length},t.prototype.toCSS=function(e){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var t in this._contentsMap)if(this._contentsMap.hasOwnProperty(t)){var n=this._contentsMap[t];this._contentsIgnoredCharsMap[t]&&(n=n.slice(this._contentsIgnoredCharsMap[t])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),n)}if(this._rootNode.genCSS(e,this),this._css.length>0){var o,r=JSON.stringify(this._sourceMapGenerator.toJSON());this.sourceMapURL?o=this.sourceMapURL:this._sourceMapFilename&&(o=this._sourceMapFilename),this.sourceMapURL=o,this.sourceMap=r}return this._css.join("")},t}},{}],42:[function(e,t){var n=e("./contexts"),o=e("./visitors"),r=e("./tree");t.exports=function(e,t){var i,a=(t=t||{}).variables,s=new n.Eval(t);"object"!=typeof a||Array.isArray(a)||(a=Object.keys(a).map((function(e){var t=a[e];return t instanceof r.Value||(t instanceof r.Expression||(t=new r.Expression([t])),t=new r.Value([t])),new r.Rule("@"+e,t,!1,null,0)})),s.frames=[new r.Ruleset(null,a)]);var l,c=[],u=[new o.JoinSelectorVisitor,new o.ExtendVisitor,new o.ToCSSVisitor({compress:Boolean(t.compress)})];if(t.pluginManager){var d=t.pluginManager.getVisitors();for(l=0;d.length>l;l++){var f=d[l];f.isPreEvalVisitor?c.push(f):f.isPreVisitor?u.splice(0,0,f):u.push(f)}}for(l=0;c.length>l;l++)c[l].run(e);for(i=e.eval(s),l=0;u.length>l;l++)u[l].run(i);return i}},{"./contexts":10,"./tree":60,"./visitors":85}],43:[function(e,t){var n=e("./node"),o=function(e){this.value=e};(o.prototype=new n).type="Alpha",o.prototype.accept=function(e){this.value=e.visit(this.value)},o.prototype.eval=function(e){return this.value.eval?new o(this.value.eval(e)):this},o.prototype.genCSS=function(e,t){t.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value),t.add(")")},t.exports=o},{"./node":68}],44:[function(e,t){var n=e("./node"),o=function(e,t,n,o,r){this.value=e,this.index=t,this.mapLines=o,this.currentFileInfo=n,this.rulesetLike=void 0!==r&&r};(o.prototype=new n).type="Anonymous",o.prototype.eval=function(){return new o(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike)},o.prototype.compare=function(e){return e.toCSS&&this.toCSS()===e.toCSS()?0:void 0},o.prototype.isRulesetLike=function(){return this.rulesetLike},o.prototype.genCSS=function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},t.exports=o},{"./node":68}],45:[function(e,t){var n=e("./node"),o=function(e,t){this.key=e,this.value=t};(o.prototype=new n).type="Assignment",o.prototype.accept=function(e){this.value=e.visit(this.value)},o.prototype.eval=function(e){return this.value.eval?new o(this.key,this.value.eval(e)):this},o.prototype.genCSS=function(e,t){t.add(this.key+"="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)},t.exports=o},{"./node":68}],46:[function(e,t){var n=e("./node"),o=function(e,t,n){this.key=e,this.op=t,this.value=n};(o.prototype=new n).type="Attribute",o.prototype.eval=function(e){return new o(this.key.eval?this.key.eval(e):this.key,this.op,this.value&&this.value.eval?this.value.eval(e):this.value)},o.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},o.prototype.toCSS=function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(e):this.value),"["+t+"]"},t.exports=o},{"./node":68}],47:[function(e,t){var n=e("./node"),o=e("../functions/function-caller"),r=function(e,t,n,o){this.name=e,this.args=t,this.index=n,this.currentFileInfo=o};(r.prototype=new n).type="Call",r.prototype.accept=function(e){this.args&&(this.args=e.visitArray(this.args))},r.prototype.eval=function(e){var t,n=this.args.map((function(t){return t.eval(e)})),i=new o(this.name,e,this.index,this.currentFileInfo);if(i.isValid())try{if(null!=(t=i.call(n)))return t}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}return new r(this.name,n,this.index,this.currentFileInfo)},r.prototype.genCSS=function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var n=0;this.args.length>n;n++)this.args[n].genCSS(e,t),this.args.length>n+1&&t.add(", ");t.add(")")},t.exports=r},{"../functions/function-caller":20,"./node":68}],48:[function(e,t){function n(e,t){return Math.min(Math.max(e,0),t)}function o(e){return"#"+e.map((function(e){return(16>(e=n(Math.round(e),255))?"0":"")+e.toString(16)})).join("")}var r=e("./node"),i=e("../data/colors"),a=function(e,t){this.rgb=Array.isArray(e)?e:6==e.length?e.match(/.{2}/g).map((function(e){return parseInt(e,16)})):e.split("").map((function(e){return parseInt(e+e,16)})),this.alpha="number"==typeof t?t:1};(a.prototype=new r).type="Color",a.prototype.luma=function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,n=this.rgb[2]/255;return.2126*(e=.03928>=e?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=.03928>=t?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n=.03928>=n?n/12.92:Math.pow((n+.055)/1.055,2.4))},a.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},a.prototype.toCSS=function(e,t){var o,r,i=e&&e.compress&&!t;if(this.value)return this.value;if(1>(r=this.fround(e,this.alpha)))return"rgba("+this.rgb.map((function(e){return n(Math.round(e),255)})).concat(n(r,1)).join(","+(i?"":" "))+")";if(o=this.toRGB(),i){var a=o.split("");a[1]===a[2]&&a[3]===a[4]&&a[5]===a[6]&&(o="#"+a[1]+a[3]+a[5])}return o},a.prototype.operate=function(e,t,n){for(var o=[],r=this.alpha*(1-n.alpha)+n.alpha,i=0;3>i;i++)o[i]=this._operate(e,t,this.rgb[i],n.rgb[i]);return new a(o,r)},a.prototype.toRGB=function(){return o(this.rgb)},a.prototype.toHSL=function(){var e,t,n=this.rgb[0]/255,o=this.rgb[1]/255,r=this.rgb[2]/255,i=this.alpha,a=Math.max(n,o,r),s=Math.min(n,o,r),l=(a+s)/2,c=a-s;if(a===s)e=t=0;else{switch(t=l>.5?c/(2-a-s):c/(a+s),a){case n:e=(o-r)/c+(r>o?6:0);break;case o:e=(r-n)/c+2;break;case r:e=(n-o)/c+4}e/=6}return{h:360*e,s:t,l:l,a:i}},a.prototype.toHSV=function(){var e,t,n=this.rgb[0]/255,o=this.rgb[1]/255,r=this.rgb[2]/255,i=this.alpha,a=Math.max(n,o,r),s=Math.min(n,o,r),l=a,c=a-s;if(t=0===a?0:c/a,a===s)e=0;else{switch(a){case n:e=(o-r)/c+(r>o?6:0);break;case o:e=(r-n)/c+2;break;case r:e=(n-o)/c+4}e/=6}return{h:360*e,s:t,v:l,a:i}},a.prototype.toARGB=function(){return o([255*this.alpha].concat(this.rgb))},a.prototype.compare=function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:void 0},a.fromKeyword=function(e){var t,n=e.toLowerCase();return i.hasOwnProperty(n)?t=new a(i[n].slice(1)):"transparent"===n&&(t=new a([0,0,0],0)),t?(t.value=e,t):void 0},t.exports=a},{"../data/colors":11,"./node":68}],49:[function(e,t){var n=e("./node"),o=function(e){" "===e?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=e?e.trim():"",this.emptyOrWhitespace=""===this.value)};(o.prototype=new n).type="Combinator";var r={"":!0," ":!0,"|":!0};o.prototype.genCSS=function(e,t){var n=e.compress||r[this.value]?"":" ";t.add(n+this.value+n)},t.exports=o},{"./node":68}],50:[function(e,t){var n=e("./node"),o=e("./debug-info"),r=function(e,t,n,o){this.value=e,this.isLineComment=t,this.currentFileInfo=o};(r.prototype=new n).type="Comment",r.prototype.genCSS=function(e,t){this.debugInfo&&t.add(o(e,this),this.currentFileInfo,this.index),t.add(this.value)},r.prototype.isSilent=function(e){var t=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,n=e.compress&&"!"!==this.value[2];return this.isLineComment||t||n},r.prototype.markReferenced=function(){this.isReferenced=!0},t.exports=r},{"./debug-info":52,"./node":68}],51:[function(e,t){var n=e("./node"),o=function(e,t,n,o,r){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=o,this.negate=r};(o.prototype=new n).type="Condition",o.prototype.accept=function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},o.prototype.eval=function(e){var t=function(e,t,o){switch(e){case"and":return t&&o;case"or":return t||o;default:switch(n.compare(t,o)){case-1:return"<"===e||"=<"===e||"<="===e;case 0:return"="===e||">="===e||"=<"===e||"<="===e;case 1:return">"===e||">="===e;default:return!1}}}(this.op,this.lvalue.eval(e),this.rvalue.eval(e));return this.negate?!t:t},t.exports=o},{"./node":68}],52:[function(e,t){var n=function(e,t,o){var r="";if(e.dumpLineNumbers&&!e.compress)switch(e.dumpLineNumbers){case"comments":r=n.asComment(t);break;case"mediaquery":r=n.asMediaQuery(t);break;case"all":r=n.asComment(t)+(o||"")+n.asMediaQuery(t)}return r};n.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},n.asMediaQuery=function(e){var t=e.debugInfo.fileName;return/^[a-z]+:\/\//i.test(t)||(t="file://"+t),"@media -sass-debug-info{filename{font-family:"+t.replace(/([.:\/\\])/g,(function(e){return"\\"==e&&(e="/"),"\\"+e}))+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},t.exports=n},{}],53:[function(e,t){var n=e("./node"),o=e("../contexts"),r=function(e,t){this.ruleset=e,this.frames=t};(r.prototype=new n).type="DetachedRuleset",r.prototype.evalFirst=!0,r.prototype.accept=function(e){this.ruleset=e.visit(this.ruleset)},r.prototype.eval=function(e){var t=this.frames||e.frames.slice(0);return new r(this.ruleset,t)},r.prototype.callEval=function(e){return this.ruleset.eval(this.frames?new o.Eval(e,this.frames.concat(e.frames)):e)},t.exports=r},{"../contexts":10,"./node":68}],54:[function(e,t){var n=e("./node"),o=e("../data/unit-conversions"),r=e("./unit"),i=e("./color"),a=function(e,t){this.value=parseFloat(e),this.unit=t&&t instanceof r?t:new r(t?[t]:void 0)};(a.prototype=new n).type="Dimension",a.prototype.accept=function(e){this.unit=e.visit(this.unit)},a.prototype.eval=function(){return this},a.prototype.toColor=function(){return new i([this.value,this.value,this.value])},a.prototype.genCSS=function(e,t){if(e&&e.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var n=this.fround(e,this.value),o=String(n);if(0!==n&&1e-6>n&&n>-1e-6&&(o=n.toFixed(20).replace(/0+$/,"")),e&&e.compress){if(0===n&&this.unit.isLength())return void t.add(o);n>0&&1>n&&(o=o.substr(1))}t.add(o),this.unit.genCSS(e,t)},a.prototype.operate=function(e,t,n){var o=this._operate(e,t,this.value,n.value),r=this.unit.clone();if("+"===t||"-"===t)if(0===r.numerator.length&&0===r.denominator.length)r=n.unit.clone(),this.unit.backupUnit&&(r.backupUnit=this.unit.backupUnit);else if(0===n.unit.numerator.length&&0===r.denominator.length);else{if(n=n.convertTo(this.unit.usedUnits()),e.strictUnits&&n.unit.toString()!==r.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+r.toString()+"' and '"+n.unit.toString()+"'.");o=this._operate(e,t,this.value,n.value)}else"*"===t?(r.numerator=r.numerator.concat(n.unit.numerator).sort(),r.denominator=r.denominator.concat(n.unit.denominator).sort(),r.cancel()):"/"===t&&(r.numerator=r.numerator.concat(n.unit.denominator).sort(),r.denominator=r.denominator.concat(n.unit.numerator).sort(),r.cancel());return new a(o,r)},a.prototype.compare=function(e){var t,o;if(e instanceof a){if(this.unit.isEmpty()||e.unit.isEmpty())t=this,o=e;else if(t=this.unify(),o=e.unify(),0!==t.unit.compare(o.unit))return;return n.numericCompare(t.value,o.value)}},a.prototype.unify=function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},a.prototype.convertTo=function(e){var t,n,r,i,s,l=this.value,c=this.unit.clone(),u={};if("string"==typeof e){for(t in o)o[t].hasOwnProperty(e)&&((u={})[t]=e);e=u}for(n in s=function(e,t){return r.hasOwnProperty(e)?(t?l/=r[e]/r[i]:l*=r[e]/r[i],i):e},e)e.hasOwnProperty(n)&&(i=e[n],r=o[n],c.map(s));return c.cancel(),new a(l,c)},t.exports=a},{"../data/unit-conversions":13,"./color":48,"./node":68,"./unit":77}],55:[function(e,t){var n=e("./node"),o=e("./selector"),r=e("./ruleset"),i=function(e,t,n,r,i,a,s,l){var c;if(this.name=e,this.value=t,n)for(Array.isArray(n)?this.rules=n:(this.rules=[n],this.rules[0].selectors=new o([],null,null,this.index,i).createEmptySelectors()),c=0;this.rules.length>c;c++)this.rules[c].allowImports=!0;this.index=r,this.currentFileInfo=i,this.debugInfo=a,this.isReferenced=s,this.isRooted=l||!1};(i.prototype=new n).type="Directive",i.prototype.accept=function(e){var t=this.value,n=this.rules;n&&(this.rules=e.visitArray(n)),t&&(this.value=e.visit(t))},i.prototype.isRulesetLike=function(){return this.rules||!this.isCharset()},i.prototype.isCharset=function(){return"@charset"===this.name},i.prototype.genCSS=function(e,t){var n=this.value,o=this.rules;t.add(this.name,this.currentFileInfo,this.index),n&&(t.add(" "),n.genCSS(e,t)),o?this.outputRuleset(e,t,o):t.add(";")},i.prototype.eval=function(e){var t,n,o=this.value,r=this.rules;return t=e.mediaPath,n=e.mediaBlocks,e.mediaPath=[],e.mediaBlocks=[],o&&(o=o.eval(e)),r&&((r=[r[0].eval(e)])[0].root=!0),e.mediaPath=t,e.mediaBlocks=n,new i(this.name,o,r,this.index,this.currentFileInfo,this.debugInfo,this.isReferenced,this.isRooted)},i.prototype.variable=function(e){return this.rules?r.prototype.variable.call(this.rules[0],e):void 0},i.prototype.find=function(){return this.rules?r.prototype.find.apply(this.rules[0],arguments):void 0},i.prototype.rulesets=function(){return this.rules?r.prototype.rulesets.apply(this.rules[0]):void 0},i.prototype.markReferenced=function(){var e,t;if(this.isReferenced=!0,this.rules)for(t=this.rules,e=0;t.length>e;e++)t[e].markReferenced&&t[e].markReferenced()},i.prototype.getIsReferenced=function(){return!this.currentFileInfo||!this.currentFileInfo.reference||this.isReferenced},i.prototype.outputRuleset=function(e,t,n){var o,r=n.length;if(e.tabLevel=1+(0|e.tabLevel),e.compress){for(t.add("{"),o=0;r>o;o++)n[o].genCSS(e,t);return t.add("}"),void e.tabLevel--}var i="\n"+Array(e.tabLevel).join("  "),a=i+"  ";if(r){for(t.add(" {"+a),n[0].genCSS(e,t),o=1;r>o;o++)t.add(a),n[o].genCSS(e,t);t.add(i+"}")}else t.add(" {"+i+"}");e.tabLevel--},t.exports=i},{"./node":68,"./ruleset":74,"./selector":75}],56:[function(e,t){var n=e("./node"),o=e("./paren"),r=e("./combinator"),i=function(e,t,n,o){this.combinator=e instanceof r?e:new r(e),this.value="string"==typeof t?t.trim():t||"",this.index=n,this.currentFileInfo=o};(i.prototype=new n).type="Element",i.prototype.accept=function(e){var t=this.value;this.combinator=e.visit(this.combinator),"object"==typeof t&&(this.value=e.visit(t))},i.prototype.eval=function(e){return new i(this.combinator,this.value.eval?this.value.eval(e):this.value,this.index,this.currentFileInfo)},i.prototype.genCSS=function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},i.prototype.toCSS=function(e){e=e||{};var t=this.value,n=e.firstSelector;return t instanceof o&&(e.firstSelector=!0),t=t.toCSS?t.toCSS(e):t,e.firstSelector=n,""===t&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(e)+t},t.exports=i},{"./combinator":49,"./node":68,"./paren":70}],57:[function(e,t){var n=e("./node"),o=e("./paren"),r=e("./comment"),i=function(e){if(this.value=e,!e)throw new Error("Expression requires an array parameter")};(i.prototype=new n).type="Expression",i.prototype.accept=function(e){this.value=e.visitArray(this.value)},i.prototype.eval=function(e){var t,n=this.parens&&!this.parensInOp,r=!1;return n&&e.inParenthesis(),this.value.length>1?t=new i(this.value.map((function(t){return t.eval(e)}))):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(r=!0),t=this.value[0].eval(e)):t=this,n&&e.outOfParenthesis(),this.parens&&this.parensInOp&&!e.isMathOn()&&!r&&(t=new o(t)),t},i.prototype.genCSS=function(e,t){for(var n=0;this.value.length>n;n++)this.value[n].genCSS(e,t),this.value.length>n+1&&t.add(" ")},i.prototype.throwAwayComments=function(){this.value=this.value.filter((function(e){return!(e instanceof r)}))},t.exports=i},{"./comment":50,"./node":68,"./paren":70}],58:[function(e,t){var n=e("./node"),o=function e(t,n,o){switch(this.selector=t,this.option=n,this.index=o,this.object_id=e.next_id++,this.parent_ids=[this.object_id],n){case"all":this.allowBefore=!0,this.allowAfter=!0;break;default:this.allowBefore=!1,this.allowAfter=!1}};o.next_id=0,(o.prototype=new n).type="Extend",o.prototype.accept=function(e){this.selector=e.visit(this.selector)},o.prototype.eval=function(e){return new o(this.selector.eval(e),this.option,this.index)},o.prototype.clone=function(){return new o(this.selector,this.option,this.index)},o.prototype.findSelfSelectors=function(e){var t,n,o=[];for(t=0;e.length>t;t++)n=e[t].elements,t>0&&n.length&&""===n[0].combinator.value&&(n[0].combinator.value=" "),o=o.concat(e[t].elements);this.selfSelectors=[{elements:o}]},t.exports=o},{"./node":68}],59:[function(e,t){var n=e("./node"),o=e("./media"),r=e("./url"),i=e("./quoted"),a=e("./ruleset"),s=e("./anonymous"),l=function(e,t,n,o,r){if(this.options=n,this.index=o,this.path=e,this.features=t,this.currentFileInfo=r,void 0!==this.options.less||this.options.inline)this.css=!this.options.less||this.options.inline;else{var i=this.getPath();i&&/[#\.\&\?\/]css([\?;].*)?$/.test(i)&&(this.css=!0)}};(l.prototype=new n).type="Import",l.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),this.options.plugin||this.options.inline||!this.root||(this.root=e.visit(this.root))},l.prototype.genCSS=function(e,t){this.css&&void 0===this.path.currentFileInfo.reference&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},l.prototype.getPath=function(){return this.path instanceof r?this.path.value.value:this.path.value},l.prototype.isVariableImport=function(){var e=this.path;return e instanceof r&&(e=e.value),!(e instanceof i)||e.containsVariables()},l.prototype.evalForImport=function(e){var t=this.path;return t instanceof r&&(t=t.value),new l(t.eval(e),this.features,this.options,this.index,this.currentFileInfo)},l.prototype.evalPath=function(e){var t=this.path.eval(e),n=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(t instanceof r)){if(n){var o=t.value;o&&e.isPathRelative(o)&&(t.value=n+o)}t.value=e.normalizePath(t.value)}return t},l.prototype.eval=function(e){var t,n,r=this.features&&this.features.eval(e);if(this.options.plugin)return(n=e.frames[0]&&e.frames[0].functionRegistry)&&this.root&&this.root.functions&&n.addMultiple(this.root.functions),[];if(this.skip&&("function"==typeof this.skip&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline){var i=new s(this.root,0,{filename:this.importedFilename},!0,!0);return this.features?new o([i],this.features.value):[i]}if(this.css){var c=new l(this.evalPath(e),r,this.options,this.index);if(!c.css&&this.error)throw this.error;return c}return(t=new a(null,this.root.rules.slice(0))).evalImports(e),this.features?new o(t.rules,this.features.value):t.rules},t.exports=l},{"./anonymous":44,"./media":64,"./node":68,"./quoted":71,"./ruleset":74,"./url":78}],60:[function(e,t){var n={};n.Node=e("./node"),n.Alpha=e("./alpha"),n.Color=e("./color"),n.Directive=e("./directive"),n.DetachedRuleset=e("./detached-ruleset"),n.Operation=e("./operation"),n.Dimension=e("./dimension"),n.Unit=e("./unit"),n.Keyword=e("./keyword"),n.Variable=e("./variable"),n.Ruleset=e("./ruleset"),n.Element=e("./element"),n.Attribute=e("./attribute"),n.Combinator=e("./combinator"),n.Selector=e("./selector"),n.Quoted=e("./quoted"),n.Expression=e("./expression"),n.Rule=e("./rule"),n.Call=e("./call"),n.URL=e("./url"),n.Import=e("./import"),n.mixin={Call:e("./mixin-call"),Definition:e("./mixin-definition")},n.Comment=e("./comment"),n.Anonymous=e("./anonymous"),n.Value=e("./value"),n.JavaScript=e("./javascript"),n.Assignment=e("./assignment"),n.Condition=e("./condition"),n.Paren=e("./paren"),n.Media=e("./media"),n.UnicodeDescriptor=e("./unicode-descriptor"),n.Negative=e("./negative"),n.Extend=e("./extend"),n.RulesetCall=e("./ruleset-call"),t.exports=n},{"./alpha":43,"./anonymous":44,"./assignment":45,"./attribute":46,"./call":47,"./color":48,"./combinator":49,"./comment":50,"./condition":51,"./detached-ruleset":53,"./dimension":54,"./directive":55,"./element":56,"./expression":57,"./extend":58,"./import":59,"./javascript":61,"./keyword":63,"./media":64,"./mixin-call":65,"./mixin-definition":66,"./negative":67,"./node":68,"./operation":69,"./paren":70,"./quoted":71,"./rule":72,"./ruleset":74,"./ruleset-call":73,"./selector":75,"./unicode-descriptor":76,"./unit":77,"./url":78,"./value":79,"./variable":80}],61:[function(e,t){var n=e("./js-eval-node"),o=e("./dimension"),r=e("./quoted"),i=e("./anonymous"),a=function(e,t,n,o){this.escaped=t,this.expression=e,this.index=n,this.currentFileInfo=o};(a.prototype=new n).type="JavaScript",a.prototype.eval=function(e){var t=this.evaluateJavaScript(this.expression,e);return"number"==typeof t?new o(t):"string"==typeof t?new r('"'+t+'"',t,this.escaped,this.index):new i(Array.isArray(t)?t.join(", "):t)},t.exports=a},{"./anonymous":44,"./dimension":54,"./js-eval-node":62,"./quoted":71}],62:[function(e,t){var n=e("./node"),o=e("./variable"),r=function(){};(r.prototype=new n).evaluateJavaScript=function(e,t){var n,r=this,i={};if(void 0!==t.javascriptEnabled&&!t.javascriptEnabled)throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};e=e.replace(/@\{([\w-]+)\}/g,(function(e,n){return r.jsify(new o("@"+n,r.index,r.currentFileInfo).eval(t))}));try{e=new Function("return ("+e+")")}catch(t){throw{message:"JavaScript evaluation error: "+t.message+" from `"+e+"`",filename:this.currentFileInfo.filename,index:this.index}}var a=t.frames[0].variables();for(var s in a)a.hasOwnProperty(s)&&(i[s.slice(1)]={value:a[s].value,toJS:function(){return this.value.eval(t).toCSS()}});try{n=e.call(i)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index}}return n},r.prototype.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map((function(e){return e.toCSS()})).join(", ")+"]":e.toCSS()},t.exports=r},{"./node":68,"./variable":80}],63:[function(e,t){var n=e("./node"),o=function(e){this.value=e};(o.prototype=new n).type="Keyword",o.prototype.genCSS=function(e,t){if("%"===this.value)throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},o.True=new o("true"),o.False=new o("false"),t.exports=o},{"./node":68}],64:[function(e,t){var n=e("./ruleset"),o=e("./value"),r=e("./selector"),i=e("./anonymous"),a=e("./expression"),s=e("./directive"),l=function(e,t,i,a){this.index=i,this.currentFileInfo=a;var s=new r([],null,null,this.index,this.currentFileInfo).createEmptySelectors();this.features=new o(t),this.rules=[new n(s,e)],this.rules[0].allowImports=!0};(l.prototype=new s).type="Media",l.prototype.isRulesetLike=!0,l.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},l.prototype.genCSS=function(e,t){t.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},l.prototype.eval=function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new l(null,[],this.index,this.currentFileInfo);this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo);var n=!1;e.strictMath||(n=!0,e.strictMath=!0);try{t.features=this.features.eval(e)}finally{n&&(e.strictMath=!1)}return e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),0===e.mediaPath.length?t.evalTop(e):t.evalNested(e)},l.prototype.evalTop=function(e){var t=this;if(e.mediaBlocks.length>1){var o=new r([],null,null,this.index,this.currentFileInfo).createEmptySelectors();(t=new n(o,e.mediaBlocks)).multiMedia=!0}return delete e.mediaBlocks,delete e.mediaPath,t},l.prototype.evalNested=function(e){var t,r,s=e.mediaPath.concat([this]);for(t=0;s.length>t;t++)r=s[t].features instanceof o?s[t].features.value:s[t].features,s[t]=Array.isArray(r)?r:[r];return this.features=new o(this.permute(s).map((function(e){for(e=e.map((function(e){return e.toCSS?e:new i(e)})),t=e.length-1;t>0;t--)e.splice(t,0,new i("and"));return new a(e)}))),new n([],[])},l.prototype.permute=function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],n=this.permute(e.slice(1)),o=0;n.length>o;o++)for(var r=0;e[0].length>r;r++)t.push([e[0][r]].concat(n[o]));return t},l.prototype.bubbleSelectors=function(e){e&&(this.rules=[new n(e.slice(0),[this.rules[0]])])},t.exports=l},{"./anonymous":44,"./directive":55,"./expression":57,"./ruleset":74,"./selector":75,"./value":79}],65:[function(e,t){var n=e("./node"),o=e("./selector"),r=e("./mixin-definition"),i=e("../functions/default"),a=function(e,t,n,r,i){this.selector=new o(e),this.arguments=t&&t.length?t:null,this.index=n,this.currentFileInfo=r,this.important=i};(a.prototype=new n).type="MixinCall",a.prototype.accept=function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments&&(this.arguments=e.visitArray(this.arguments))},a.prototype.eval=function(e){function t(t,n){var o,r;for(u=0;2>u;u++){for(C[u]=!0,i.value(u),o=0;n.length>o&&C[u];o++)(r=n[o]).matchCondition&&(C[u]=C[u]&&r.matchCondition(null,e));t.matchCondition&&(C[u]=C[u]&&t.matchCondition(s,e))}return C[0]||C[1]?C[0]!=C[1]?C[1]?P:A:k:S}var n,o,a,s,l,c,u,d,f,p,h,m,v,g,b,y=[],w=!1,x=[],C=[],S=-1,k=0,P=1,A=2;for(s=this.arguments&&this.arguments.map((function(t){return{name:t.name,value:t.value.eval(e)}})),b=function(t){return t.matchArgs(null,e)},l=0;e.frames.length>l;l++)if((n=e.frames[l].find(this.selector,null,b)).length>0){for(f=!0,c=0;n.length>c;c++){for(o=n[c].rule,a=n[c].path,d=!1,u=0;e.frames.length>u;u++)if(!(o instanceof r)&&o===(e.frames[u].originalRuleset||e.frames[u])){d=!0;break}d||o.matchArgs(s,e)&&((h={mixin:o,group:t(o,a)}).group!==S&&x.push(h),w=!0)}for(i.reset(),v=[0,0,0],c=0;x.length>c;c++)v[x[c].group]++;if(v[k]>0)m=A;else if(m=P,v[P]+v[A]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(s)+"`",index:this.index,filename:this.currentFileInfo.filename};for(c=0;x.length>c;c++)if((h=x[c].group)===k||h===m)try{(o=x[c].mixin)instanceof r||(g=o.originalRuleset||o,(o=new r("",[],o.rules,null,!1)).originalRuleset=g),Array.prototype.push.apply(y,o.evalCall(e,s,this.important).rules)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(w){if(!this.currentFileInfo||!this.currentFileInfo.reference)for(l=0;y.length>l;l++)(p=y[l]).markReferenced&&p.markReferenced();return y}}throw f?{type:"Runtime",message:"No matching definition was found for `"+this.format(s)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},a.prototype.format=function(e){return this.selector.toCSS().trim()+"("+(e?e.map((function(e){var t="";return e.name&&(t+=e.name+":"),t+(e.value.toCSS?e.value.toCSS():"???")})).join(", "):"")+")"},t.exports=a},{"../functions/default":19,"./mixin-definition":66,"./node":68,"./selector":75}],66:[function(e,t){var n=e("./selector"),o=e("./element"),r=e("./ruleset"),i=e("./rule"),a=e("./expression"),s=e("../contexts"),l=function(e,t,r,i,a,s){this.name=e,this.selectors=[new n([new o(null,e,this.index,this.currentFileInfo)])],this.params=t,this.condition=i,this.variadic=a,this.arity=t.length,this.rules=r,this._lookups={},this.required=t.reduce((function(e,t){return!t.name||t.name&&!t.value?e+1:e}),0),this.frames=s};(l.prototype=new r).type="MixinDefinition",l.prototype.evalFirst=!0,l.prototype.accept=function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},l.prototype.evalParams=function(e,t,n,o){var l,c,u,d,f,p,h,m,v=new r(null,null),g=this.params.slice(0),b=0;if(t.frames&&t.frames[0]&&t.frames[0].functionRegistry&&(v.functionRegistry=t.frames[0].functionRegistry.inherit()),t=new s.Eval(t,[v].concat(t.frames)),n)for(b=(n=n.slice(0)).length,u=0;b>u;u++)if(p=(c=n[u])&&c.name){for(h=!1,d=0;g.length>d;d++)if(!o[d]&&p===g[d].name){o[d]=c.value.eval(e),v.prependRule(new i(p,c.value.eval(e))),h=!0;break}if(h){n.splice(u,1),u--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+n[u].name+" not found"}}for(m=0,u=0;g.length>u;u++)if(!o[u]){if(c=n&&n[m],p=g[u].name)if(g[u].variadic){for(l=[],d=m;b>d;d++)l.push(n[d].value.eval(e));v.prependRule(new i(p,new a(l).eval(e)))}else{if(f=c&&c.value)f=f.eval(e);else{if(!g[u].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+b+" for "+this.arity+")"};f=g[u].value.eval(t),v.resetCache()}v.prependRule(new i(p,f)),o[u]=f}if(g[u].variadic&&n)for(d=m;b>d;d++)o[d]=n[d].value.eval(e);m++}return v},l.prototype.makeImportant=function(){var e=this.rules?this.rules.map((function(e){return e.makeImportant?e.makeImportant(!0):e})):this.rules;return new l(this.name,this.params,e,this.condition,this.variadic,this.frames)},l.prototype.eval=function(e){return new l(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||e.frames.slice(0))},l.prototype.evalCall=function(e,t,n){var o,l,c=[],u=this.frames?this.frames.concat(e.frames):e.frames,d=this.evalParams(e,new s.Eval(e,u),t,c);return d.prependRule(new i("@arguments",new a(c).eval(e))),o=this.rules.slice(0),(l=new r(null,o)).originalRuleset=this,l=l.eval(new s.Eval(e,[this,d].concat(u))),n&&(l=l.makeImportant()),l},l.prototype.matchCondition=function(e,t){return!(this.condition&&!this.condition.eval(new s.Eval(t,[this.evalParams(t,new s.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),e,[])].concat(this.frames||[]).concat(t.frames))))},l.prototype.matchArgs=function(e,t){var n,o=e&&e.length||0;if(this.variadic){if(this.required-1>o)return!1}else{if(this.required>o)return!1;if(o>this.params.length)return!1}n=Math.min(o,this.arity);for(var r=0;n>r;r++)if(!this.params[r].name&&!this.params[r].variadic&&e[r].value.eval(t).toCSS()!=this.params[r].value.eval(t).toCSS())return!1;return!0},t.exports=l},{"../contexts":10,"./element":56,"./expression":57,"./rule":72,"./ruleset":74,"./selector":75}],67:[function(e,t){var n=e("./node"),o=e("./operation"),r=e("./dimension"),i=function(e){this.value=e};(i.prototype=new n).type="Negative",i.prototype.genCSS=function(e,t){t.add("-"),this.value.genCSS(e,t)},i.prototype.eval=function(e){return e.isMathOn()?new o("*",[new r(-1),this.value]).eval(e):new i(this.value.eval(e))},t.exports=i},{"./dimension":54,"./node":68,"./operation":69}],68:[function(e,t){var n=function(){};n.prototype.toCSS=function(e){var t=[];return this.genCSS(e,{add:function(e){t.push(e)},isEmpty:function(){return 0===t.length}}),t.join("")},n.prototype.genCSS=function(e,t){t.add(this.value)},n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.eval=function(){return this},n.prototype._operate=function(e,t,n,o){switch(t){case"+":return n+o;case"-":return n-o;case"*":return n*o;case"/":return n/o}},n.prototype.fround=function(e,t){var n=e&&e.numPrecision;return null==n?t:Number((t+2e-16).toFixed(n))},n.compare=function(e,t){if(e.compare&&"Quoted"!==t.type&&"Anonymous"!==t.type)return e.compare(t);if(t.compare)return-t.compare(e);if(e.type===t.type){if(e=e.value,t=t.value,!Array.isArray(e))return e===t?0:void 0;if(e.length===t.length){for(var o=0;e.length>o;o++)if(0!==n.compare(e[o],t[o]))return;return 0}}},n.numericCompare=function(e,t){return t>e?-1:e===t?0:e>t?1:void 0},t.exports=n},{}],69:[function(e,t){var n=e("./node"),o=e("./color"),r=e("./dimension"),i=function(e,t,n){this.op=e.trim(),this.operands=t,this.isSpaced=n};(i.prototype=new n).type="Operation",i.prototype.accept=function(e){this.operands=e.visit(this.operands)},i.prototype.eval=function(e){var t=this.operands[0].eval(e),n=this.operands[1].eval(e);if(e.isMathOn()){if(t instanceof r&&n instanceof o&&(t=t.toColor()),n instanceof r&&t instanceof o&&(n=n.toColor()),!t.operate)throw{type:"Operation",message:"Operation on an invalid type"};return t.operate(e,this.op,n)}return new i(this.op,[t,n],this.isSpaced)},i.prototype.genCSS=function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)},t.exports=i},{"./color":48,"./dimension":54,"./node":68}],70:[function(e,t){var n=e("./node"),o=function(e){this.value=e};(o.prototype=new n).type="Paren",o.prototype.genCSS=function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},o.prototype.eval=function(e){return new o(this.value.eval(e))},t.exports=o},{"./node":68}],71:[function(e,t){var n=e("./node"),o=e("./js-eval-node"),r=e("./variable"),i=function(e,t,n,o,r){this.escaped=null==n||n,this.value=t||"",this.quote=e.charAt(0),this.index=o,this.currentFileInfo=r};(i.prototype=new o).type="Quoted",i.prototype.genCSS=function(e,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index),t.add(this.value),this.escaped||t.add(this.quote)},i.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/)},i.prototype.eval=function(e){function t(e,t,n){var o=e;do{o=(e=o).replace(t,n)}while(e!==o);return o}var n=this,o=this.value;return o=t(o,/`([^`]+)`/g,(function(t,o){return String(n.evaluateJavaScript(o,e))})),o=t(o,/@\{([\w-]+)\}/g,(function(t,o){var a=new r("@"+o,n.index,n.currentFileInfo).eval(e,!0);return a instanceof i?a.value:a.toCSS()})),new i(this.quote+o+this.quote,o,this.escaped,this.index,this.currentFileInfo)},i.prototype.compare=function(e){return"Quoted"!==e.type||this.escaped||e.escaped?e.toCSS&&this.toCSS()===e.toCSS()?0:void 0:n.numericCompare(this.value,e.value)},t.exports=i},{"./js-eval-node":62,"./node":68,"./variable":80}],72:[function(e,t){var n=e("./node"),o=e("./value"),r=e("./keyword"),i=function(e,t,r,i,a,s,l,c){this.name=e,this.value=t instanceof n?t:new o([t]),this.important=r?" "+r.trim():"",this.merge=i,this.index=a,this.currentFileInfo=s,this.inline=l||!1,this.variable=void 0!==c?c:e.charAt&&"@"===e.charAt(0)};(i.prototype=new n).type="Rule",i.prototype.genCSS=function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},i.prototype.eval=function(e){var t,n=!1,o=this.name,a=this.variable;"string"!=typeof o&&(o=1===o.length&&o[0]instanceof r?o[0].value:function(e,t){var n,o="",r=t.length,i={add:function(e){o+=e}};for(n=0;r>n;n++)t[n].eval(e).genCSS(e,i);return o}(e,o),a=!1),"font"!==o||e.strictMath||(n=!0,e.strictMath=!0);try{if(e.importantScope.push({}),t=this.value.eval(e),!this.variable&&"DetachedRuleset"===t.type)throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};var s=this.important,l=e.importantScope.pop();return!s&&l.important&&(s=l.important),new i(o,t,s,this.merge,this.index,this.currentFileInfo,this.inline,a)}catch(e){throw"number"!=typeof e.index&&(e.index=this.index,e.filename=this.currentFileInfo.filename),e}finally{n&&(e.strictMath=!1)}},i.prototype.makeImportant=function(){return new i(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)},t.exports=i},{"./keyword":63,"./node":68,"./value":79}],73:[function(e,t){var n=e("./node"),o=e("./variable"),r=function(e){this.variable=e};(r.prototype=new n).type="RulesetCall",r.prototype.eval=function(e){return new o(this.variable).eval(e).callEval(e)},t.exports=r},{"./node":68,"./variable":80}],74:[function(e,t){var n=e("./node"),o=e("./rule"),r=e("./selector"),i=e("./element"),a=e("./paren"),s=e("../contexts"),l=e("../functions/function-registry"),c=e("../functions/default"),u=e("./debug-info"),d=function(e,t,n){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n};(d.prototype=new n).type="Ruleset",d.prototype.isRuleset=!0,d.prototype.isRulesetLike=!0,d.prototype.accept=function(e){this.paths?e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},d.prototype.eval=function(e){var t,n,r,i,a=this.selectors,s=!1;if(a&&(n=a.length)){for(t=[],c.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),i=0;n>i;i++)r=a[i].eval(e),t.push(r),r.evaldCondition&&(s=!0);c.reset()}else s=!0;var u,f,p=this.rules?this.rules.slice(0):null,h=new d(t,p,this.strictImports);h.originalRuleset=this,h.root=this.root,h.firstRoot=this.firstRoot,h.allowImports=this.allowImports,this.debugInfo&&(h.debugInfo=this.debugInfo),s||(p.length=0),h.functionRegistry=function(e){for(var t,n=0,o=e.length;n!==o;++n)if(t=e[n].functionRegistry)return t;return l}(e.frames).inherit();var m=e.frames;m.unshift(h);var v=e.selectors;v||(e.selectors=v=[]),v.unshift(this.selectors),(h.root||h.allowImports||!h.strictImports)&&h.evalImports(e);var g=h.rules,b=g?g.length:0;for(i=0;b>i;i++)g[i].evalFirst&&(g[i]=g[i].eval(e));var y=e.mediaBlocks&&e.mediaBlocks.length||0;for(i=0;b>i;i++)"MixinCall"===g[i].type?(p=g[i].eval(e).filter((function(e){return!(e instanceof o&&e.variable&&h.variable(e.name))})),g.splice.apply(g,[i,1].concat(p)),b+=p.length-1,i+=p.length-1,h.resetCache()):"RulesetCall"===g[i].type&&(p=g[i].eval(e).rules.filter((function(e){return!(e instanceof o&&e.variable)})),g.splice.apply(g,[i,1].concat(p)),b+=p.length-1,i+=p.length-1,h.resetCache());for(i=0;g.length>i;i++)(u=g[i]).evalFirst||(g[i]=u=u.eval?u.eval(e):u);for(i=0;g.length>i;i++)if((u=g[i])instanceof d&&u.selectors&&1===u.selectors.length&&u.selectors[0].isJustParentSelector()){g.splice(i--,1);for(var w=0;u.rules.length>w;w++)(f=u.rules[w])instanceof o&&f.variable||g.splice(++i,0,f)}if(m.shift(),v.shift(),e.mediaBlocks)for(i=y;e.mediaBlocks.length>i;i++)e.mediaBlocks[i].bubbleSelectors(t);return h},d.prototype.evalImports=function(e){var t,n,o=this.rules;if(o)for(t=0;o.length>t;t++)"Import"===o[t].type&&((n=o[t].eval(e))&&n.length?(o.splice.apply(o,[t,1].concat(n)),t+=n.length-1):o.splice(t,1,n),this.resetCache())},d.prototype.makeImportant=function(){return new d(this.selectors,this.rules.map((function(e){return e.makeImportant?e.makeImportant():e})),this.strictImports)},d.prototype.matchArgs=function(e){return!e||0===e.length},d.prototype.matchCondition=function(e,t){var n=this.selectors[this.selectors.length-1];return!(!n.evaldCondition||n.condition&&!n.condition.eval(new s.Eval(t,t.frames)))},d.prototype.resetCache=function(){this._rulesets=null,this._variables=null,this._lookups={}},d.prototype.variables=function(){return this._variables||(this._variables=this.rules?this.rules.reduce((function(e,t){if(t instanceof o&&!0===t.variable&&(e[t.name]=t),"Import"===t.type&&t.root&&t.root.variables){var n=t.root.variables();for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}),{}):{}),this._variables},d.prototype.variable=function(e){return this.variables()[e]},d.prototype.rulesets=function(){if(!this.rules)return[];var e,t,n=[],o=this.rules,r=o.length;for(e=0;r>e;e++)(t=o[e]).isRuleset&&n.push(t);return n},d.prototype.prependRule=function(e){var t=this.rules;t?t.unshift(e):this.rules=[e]},d.prototype.find=function(e,t,n){t=t||this;var o,i,a=[],s=e.toCSS();return s in this._lookups?this._lookups[s]:(this.rulesets().forEach((function(s){if(s!==t)for(var l=0;s.selectors.length>l;l++)if(o=e.match(s.selectors[l])){if(e.elements.length>o){if(!n||n(s)){i=s.find(new r(e.elements.slice(o)),t,n);for(var c=0;i.length>c;++c)i[c].path.push(s);Array.prototype.push.apply(a,i)}}else a.push({rule:s,path:[]});break}})),this._lookups[s]=a,a)},d.prototype.genCSS=function(e,t){function n(e){return"boolean"==typeof e.isRulesetLike?e.isRulesetLike:"function"==typeof e.isRulesetLike&&e.isRulesetLike()}var o,r,i,a,s,l=[];e.tabLevel=e.tabLevel||0,this.root||e.tabLevel++;var c,d=e.compress?"":Array(e.tabLevel+1).join("  "),f=e.compress?"":Array(e.tabLevel).join("  "),p=0,h=0;for(o=0;this.rules.length>o;o++)"Comment"===(a=this.rules[o]).type?(h===o&&h++,l.push(a)):a.isCharset&&a.isCharset()?(l.splice(p,0,a),p++,h++):"Import"===a.type?(l.splice(h,0,a),h++):l.push(a);if(l=[].concat(l),!this.root){(i=u(e,this,f))&&(t.add(i),t.add(f));var m,v=this.paths,g=v.length;for(c=e.compress?",":",\n"+f,o=0;g>o;o++)if(m=(s=v[o]).length)for(o>0&&t.add(c),e.firstSelector=!0,s[0].genCSS(e,t),e.firstSelector=!1,r=1;m>r;r++)s[r].genCSS(e,t);t.add((e.compress?"{":" {\n")+d)}for(o=0;l.length>o;o++){a=l[o],o+1===l.length&&(e.lastRule=!0);var b=e.lastRule;n(a)&&(e.lastRule=!1),a.genCSS?a.genCSS(e,t):a.value&&t.add(a.value.toString()),e.lastRule=b,e.lastRule?e.lastRule=!1:t.add(e.compress?"":"\n"+d)}this.root||(t.add(e.compress?"}":"\n"+f+"}"),e.tabLevel--),t.isEmpty()||e.compress||!this.firstRoot||t.add("\n")},d.prototype.markReferenced=function(){var e;if(this.selectors)for(e=0;this.selectors.length>e;e++)this.selectors[e].markReferenced();if(this.rules)for(e=0;this.rules.length>e;e++)this.rules[e].markReferenced&&this.rules[e].markReferenced()},d.prototype.getIsReferenced=function(){var e,t,n,o;if(this.paths)for(e=0;this.paths.length>e;e++)for(n=this.paths[e],t=0;n.length>t;t++)if(n[t].getIsReferenced&&n[t].getIsReferenced())return!0;if(this.selectors)for(e=0;this.selectors.length>e;e++)if((o=this.selectors[e]).getIsReferenced&&o.getIsReferenced())return!0;return!1},d.prototype.joinSelectors=function(e,t,n){for(var o=0;n.length>o;o++)this.joinSelector(e,t,n[o])},d.prototype.joinSelector=function(e,t,n){function o(e,t){var n,o;if(0===e.length)n=new a(e[0]);else{var s=[];for(o=0;e.length>o;o++)s.push(new i(null,e[o],t.index,t.currentFileInfo));n=new a(new r(s))}return n}function s(e,t){var n;return n=new i(null,e,t.index,t.currentFileInfo),new r([n])}function l(e,t,n,o){var r,a,s;if(r=[],e.length>0?(a=(r=e.slice(0)).pop(),s=o.createDerived(a.elements.slice(0))):s=o.createDerived([]),t.length>0){var l=n.combinator,c=t[0].elements[0];l.emptyOrWhitespace&&!c.combinator.emptyOrWhitespace&&(l=c.combinator),s.elements.push(new i(l,c.value,n.index,n.currentFileInfo)),s.elements=s.elements.concat(t[0].elements.slice(1))}return 0!==s.elements.length&&r.push(s),t.length>1&&(r=r.concat(t.slice(1))),r}function c(e,t,n,o,r){var i;for(i=0;e.length>i;i++){var a=l(e[i],t,n,o);r.push(a)}return r}function u(e,t){var n,o;if(0!==e.length){if(0===t.length)return void t.push([new r(e)]);for(n=0;t.length>n;n++)(o=t[n]).length>0?o[o.length-1]=o[o.length-1].createDerived(o[o.length-1].elements.concat(e)):o.push(new r(e))}}var d,f;if(!function e(t,n,r){function a(e){var t;return"Paren"!==e.value.type||"Selector"!==(t=e.value.value).type?null:t}var d,f,p,h,m,v,g,b,y,w,x=!1;for(h=[],m=[[]],d=0;r.elements.length>d;d++)if("&"!==(b=r.elements[d]).value){var C=a(b);if(null!=C){u(h,m);var S,k=[],P=[];for(S=e(k,n,C),x=x||S,p=0;k.length>p;p++)c(m,[s(o(k[p],b),b)],b,r,P);m=P,h=[]}else h.push(b)}else{for(x=!0,v=[],u(h,m),f=0;m.length>f;f++)if(g=m[f],0===n.length)g.length>0&&g[0].elements.push(new i(b.combinator,"",b.index,b.currentFileInfo)),v.push(g);else for(p=0;n.length>p;p++){var A=l(g,n[p],b,r);v.push(A)}m=v,h=[]}for(u(h,m),d=0;m.length>d;d++)(y=m[d].length)>0&&(t.push(m[d]),w=m[d][y-1],m[d][y-1]=w.createDerived(w.elements,r.extendList));return x}(f=[],t,n))if(t.length>0)for(f=[],d=0;t.length>d;d++)f.push(t[d].concat(n));else f=[[n]];for(d=0;f.length>d;d++)e.push(f[d])},t.exports=d},{"../contexts":10,"../functions/default":19,"../functions/function-registry":21,"./debug-info":52,"./element":56,"./node":68,"./paren":70,"./rule":72,"./selector":75}],75:[function(e,t){var n=e("./node"),o=e("./element"),r=function(e,t,n,o,r,i){this.elements=e,this.extendList=t,this.condition=n,this.currentFileInfo=r||{},this.isReferenced=i,n||(this.evaldCondition=!0)};(r.prototype=new n).type="Selector",r.prototype.accept=function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},r.prototype.createDerived=function(e,t,n){n=null!=n?n:this.evaldCondition;var o=new r(e,t||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);return o.evaldCondition=n,o.mediaEmpty=this.mediaEmpty,o},r.prototype.createEmptySelectors=function(){var e=new o("","&",this.index,this.currentFileInfo),t=[new r([e],null,null,this.index,this.currentFileInfo)];return t[0].mediaEmpty=!0,t},r.prototype.match=function(e){var t,n,o=this.elements,r=o.length;if(e.CacheElements(),0===(t=e._elements.length)||t>r)return 0;for(n=0;t>n;n++)if(o[n].value!==e._elements[n])return 0;return t},r.prototype.CacheElements=function(){if(!this._elements){var e=this.elements.map((function(e){return e.combinator.value+(e.value.value||e.value)})).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g);e?"&"===e[0]&&e.shift():e=[],this._elements=e}},r.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},r.prototype.eval=function(e){var t=this.condition&&this.condition.eval(e),n=this.elements,o=this.extendList;return n=n&&n.map((function(t){return t.eval(e)})),o=o&&o.map((function(t){return t.eval(e)})),this.createDerived(n,o,t)},r.prototype.genCSS=function(e,t){var n;if(e&&e.firstSelector||""!==this.elements[0].combinator.value||t.add(" ",this.currentFileInfo,this.index),!this._css)for(n=0;this.elements.length>n;n++)this.elements[n].genCSS(e,t)},r.prototype.markReferenced=function(){this.isReferenced=!0},r.prototype.getIsReferenced=function(){return!this.currentFileInfo.reference||this.isReferenced},r.prototype.getIsOutput=function(){return this.evaldCondition},t.exports=r},{"./element":56,"./node":68}],76:[function(e,t){var n=e("./node"),o=function(e){this.value=e};(o.prototype=new n).type="UnicodeDescriptor",t.exports=o},{"./node":68}],77:[function(e,t){var n=e("./node"),o=e("../data/unit-conversions"),r=function(e,t,n){this.numerator=e?e.slice(0).sort():[],this.denominator=t?t.slice(0).sort():[],n?this.backupUnit=n:e&&e.length&&(this.backupUnit=e[0])};(r.prototype=new n).type="Unit",r.prototype.clone=function(){return new r(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},r.prototype.genCSS=function(e,t){var n=e&&e.strictUnits;1===this.numerator.length?t.add(this.numerator[0]):!n&&this.backupUnit?t.add(this.backupUnit):!n&&this.denominator.length&&t.add(this.denominator[0])},r.prototype.toString=function(){var e,t=this.numerator.join("*");for(e=0;this.denominator.length>e;e++)t+="/"+this.denominator[e];return t},r.prototype.compare=function(e){return this.is(e.toString())?0:void 0},r.prototype.is=function(e){return this.toString().toUpperCase()===e.toUpperCase()},r.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},r.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},r.prototype.isSingular=function(){return 1>=this.numerator.length&&0===this.denominator.length},r.prototype.map=function(e){var t;for(t=0;this.numerator.length>t;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;this.denominator.length>t;t++)this.denominator[t]=e(this.denominator[t],!0)},r.prototype.usedUnits=function(){var e,t,n={};for(var r in t=function(t){return e.hasOwnProperty(t)&&!n[r]&&(n[r]=t),t},o)o.hasOwnProperty(r)&&(e=o[r],this.map(t));return n},r.prototype.cancel=function(){var e,t,n={};for(t=0;this.numerator.length>t;t++)n[e=this.numerator[t]]=(n[e]||0)+1;for(t=0;this.denominator.length>t;t++)n[e=this.denominator[t]]=(n[e]||0)-1;for(e in this.numerator=[],this.denominator=[],n)if(n.hasOwnProperty(e)){var o=n[e];if(o>0)for(t=0;o>t;t++)this.numerator.push(e);else if(0>o)for(t=0;-o>t;t++)this.denominator.push(e)}this.numerator.sort(),this.denominator.sort()},t.exports=r},{"../data/unit-conversions":13,"./node":68}],78:[function(e,t){var n=e("./node"),o=function(e,t,n,o){this.value=e,this.currentFileInfo=n,this.index=t,this.isEvald=o};(o.prototype=new n).type="Url",o.prototype.accept=function(e){this.value=e.visit(this.value)},o.prototype.genCSS=function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},o.prototype.eval=function(e){var t,n=this.value.eval(e);if(!this.isEvald&&((t=this.currentFileInfo&&this.currentFileInfo.rootpath)&&"string"==typeof n.value&&e.isPathRelative(n.value)&&(n.quote||(t=t.replace(/[\(\)'"\s]/g,(function(e){return"\\"+e}))),n.value=t+n.value),n.value=e.normalizePath(n.value),e.urlArgs&&!n.value.match(/^\s*data:/))){var r=(-1===n.value.indexOf("?")?"?":"&")+e.urlArgs;-1!==n.value.indexOf("#")?n.value=n.value.replace("#",r+"#"):n.value+=r}return new o(n,this.index,this.currentFileInfo,!0)},t.exports=o},{"./node":68}],79:[function(e,t){var n=e("./node"),o=function(e){if(this.value=e,!e)throw new Error("Value requires an array argument")};(o.prototype=new n).type="Value",o.prototype.accept=function(e){this.value&&(this.value=e.visitArray(this.value))},o.prototype.eval=function(e){return 1===this.value.length?this.value[0].eval(e):new o(this.value.map((function(t){return t.eval(e)})))},o.prototype.genCSS=function(e,t){var n;for(n=0;this.value.length>n;n++)this.value[n].genCSS(e,t),this.value.length>n+1&&t.add(e&&e.compress?",":", ")},t.exports=o},{"./node":68}],80:[function(e,t){var n=e("./node"),o=function(e,t,n){this.name=e,this.index=t,this.currentFileInfo=n||{}};(o.prototype=new n).type="Variable",o.prototype.eval=function(e){var t,n=this.name;if(0===n.indexOf("@@")&&(n="@"+new o(n.slice(1),this.index,this.currentFileInfo).eval(e).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+n,filename:this.currentFileInfo.filename,index:this.index};if(this.evaluating=!0,t=this.find(e.frames,(function(t){var o=t.variable(n);if(o)return o.important&&(e.importantScope[e.importantScope.length-1].important=o.important),o.value.eval(e)})))return this.evaluating=!1,t;throw{type:"Name",message:"variable "+n+" is undefined",filename:this.currentFileInfo.filename,index:this.index}},o.prototype.find=function(e,t){for(var n,o=0;e.length>o;o++)if(n=t.call(e,e[o]))return n;return null},t.exports=o},{"./node":68}],81:[function(e,t){t.exports={getLocation:function(e,t){for(var n=e+1,o=null,r=-1;--n>=0&&"\n"!==t.charAt(n);)r++;return"number"==typeof e&&(o=(t.slice(0,e).match(/\n/g)||"").length),{line:o,column:r}}}},{}],82:[function(e,t){var n=e("../tree"),o=e("./visitor"),r=e("../logger"),i=function(){this._visitor=new o(this),this.contexts=[],this.allExtendsStack=[[]]};i.prototype={run:function(e){return(e=this._visitor.visit(e)).allExtends=this.allExtendsStack[0],e},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){if(!e.root){var t,o,r,i,a=[],s=e.rules,l=s?s.length:0;for(t=0;l>t;t++)e.rules[t]instanceof n.Extend&&(a.push(s[t]),e.extendOnEveryPath=!0);var c=e.paths;for(t=0;c.length>t;t++){var u=c[t],d=u[u.length-1].extendList;for((i=d?d.slice(0).concat(a):a)&&(i=i.map((function(e){return e.clone()}))),o=0;i.length>o;o++)this.foundExtends=!0,(r=i[o]).findSelfSelectors(u),r.ruleset=e,0===o&&(r.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(r)}this.contexts.push(e.selectors)}},visitRulesetOut:function(e){e.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(e){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1}};var a=function(){this._visitor=new o(this)};a.prototype={run:function(e){var t=new i;if(this.extendIndicies={},t.run(e),!t.foundExtends)return e;e.allExtends=e.allExtends.concat(this.doExtendChaining(e.allExtends,e.allExtends)),this.allExtendsStack=[e.allExtends];var n=this._visitor.visit(e);return this.checkExtendsForNonMatched(e.allExtends),n},checkExtendsForNonMatched:function(e){var t=this.extendIndicies;e.filter((function(e){return!e.hasFoundMatches&&1==e.parent_ids.length})).forEach((function(e){var n="_unknown_";try{n=e.selector.toCSS({})}catch(e){}t[e.index+" "+n]||(t[e.index+" "+n]=!0,r.warn("extend '"+n+"' has no matches"))}))},doExtendChaining:function(e,t,o){var r,i,a,s,l,c,u,d,f=[],p=this;for(o=o||0,r=0;e.length>r;r++)for(i=0;t.length>i;i++)c=e[r],u=t[i],c.parent_ids.indexOf(u.object_id)>=0||(l=[u.selfSelectors[0]],(a=p.findMatch(c,l)).length&&(c.hasFoundMatches=!0,c.selfSelectors.forEach((function(e){s=p.extendSelector(a,l,e),(d=new n.Extend(u.selector,u.option,0)).selfSelectors=s,s[s.length-1].extendList=[d],f.push(d),d.ruleset=u.ruleset,d.parent_ids=d.parent_ids.concat(u.parent_ids,c.parent_ids),u.firstExtendOnThisSelectorPath&&(d.firstExtendOnThisSelectorPath=!0,u.ruleset.paths.push(s))}))));if(f.length){if(this.extendChainCount++,o>100){var h="{unable to calculate}",m="{unable to calculate}";try{h=f[0].selfSelectors[0].toCSS(),m=f[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+h+":extend("+m+")"}}return f.concat(p.doExtendChaining(f,t,o+1))}return f},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitSelector:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){if(!e.root){var t,n,o,r,i=this.allExtendsStack[this.allExtendsStack.length-1],a=[],s=this;for(o=0;i.length>o;o++)for(n=0;e.paths.length>n;n++)if(r=e.paths[n],!e.extendOnEveryPath){var l=r[r.length-1].extendList;l&&l.length||(t=this.findMatch(i[o],r)).length&&(i[o].hasFoundMatches=!0,i[o].selfSelectors.forEach((function(e){a.push(s.extendSelector(t,r,e))})))}e.paths=e.paths.concat(a)}},findMatch:function(e,t){var n,o,r,i,a,s,l,c=e.selector.elements,u=[],d=[];for(n=0;t.length>n;n++)for(o=t[n],r=0;o.elements.length>r;r++)for(i=o.elements[r],(e.allowBefore||0===n&&0===r)&&u.push({pathIndex:n,index:r,matched:0,initialCombinator:i.combinator}),s=0;u.length>s;s++)l=u[s],""===(a=i.combinator.value)&&0===r&&(a=" "),!this.isElementValuesEqual(c[l.matched].value,i.value)||l.matched>0&&c[l.matched].combinator.value!==a?l=null:l.matched++,l&&(l.finished=l.matched===c.length,l.finished&&!e.allowAfter&&(o.elements.length>r+1||t.length>n+1)&&(l=null)),l?l.finished&&(l.length=c.length,l.endPathIndex=n,l.endPathElementIndex=r+1,u.length=0,d.push(l)):(u.splice(s,1),s--);return d},isElementValuesEqual:function(e,t){if("string"==typeof e||"string"==typeof t)return e===t;if(e instanceof n.Attribute)return e.op===t.op&&e.key===t.key&&(e.value&&t.value?(e=e.value.value||e.value)===(t=t.value.value||t.value):!e.value&&!t.value);if(e=e.value,t=t.value,e instanceof n.Selector){if(!(t instanceof n.Selector)||e.elements.length!==t.elements.length)return!1;for(var o=0;e.elements.length>o;o++){if(e.elements[o].combinator.value!==t.elements[o].combinator.value&&(0!==o||(e.elements[o].combinator.value||" ")!==(t.elements[o].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(e.elements[o].value,t.elements[o].value))return!1}return!0}return!1},extendSelector:function(e,t,o){var r,i,a,s,l,c=0,u=0,d=[];for(r=0;e.length>r;r++)i=t[(s=e[r]).pathIndex],a=new n.Element(s.initialCombinator,o.elements[0].value,o.elements[0].index,o.elements[0].currentFileInfo),s.pathIndex>c&&u>0&&(d[d.length-1].elements=d[d.length-1].elements.concat(t[c].elements.slice(u)),u=0,c++),l=i.elements.slice(u,s.index).concat([a]).concat(o.elements.slice(1)),c===s.pathIndex&&r>0?d[d.length-1].elements=d[d.length-1].elements.concat(l):(d=d.concat(t.slice(c,s.pathIndex))).push(new n.Selector(l)),c=s.endPathIndex,(u=s.endPathElementIndex)>=t[c].elements.length&&(u=0,c++);return t.length>c&&u>0&&(d[d.length-1].elements=d[d.length-1].elements.concat(t[c].elements.slice(u)),c++),d.concat(t.slice(c,t.length))},visitRulesetOut:function(){},visitMedia:function(e){var t=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);t=t.concat(this.doExtendChaining(t,e.allExtends)),this.allExtendsStack.push(t)},visitMediaOut:function(){var e=this.allExtendsStack.length-1;this.allExtendsStack.length=e},visitDirective:function(e){var t=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);t=t.concat(this.doExtendChaining(t,e.allExtends)),this.allExtendsStack.push(t)},visitDirectiveOut:function(){var e=this.allExtendsStack.length-1;this.allExtendsStack.length=e}},t.exports=a},{"../logger":31,"../tree":60,"./visitor":88}],83:[function(e,t){function n(e){this.imports=[],this.variableImports=[],this._onSequencerEmpty=e,this._currentDepth=0}n.prototype.addImport=function(e){var t=this,n={callback:e,args:null,isReady:!1};return this.imports.push(n),function(){n.args=Array.prototype.slice.call(arguments,0),n.isReady=!0,t.tryRun()}},n.prototype.addVariableImport=function(e){this.variableImports.push(e)},n.prototype.tryRun=function(){this._currentDepth++;try{for(;;){for(;this.imports.length>0;){var e=this.imports[0];if(!e.isReady)return;this.imports=this.imports.slice(1),e.callback.apply(null,e.args)}if(0===this.variableImports.length)break;var t=this.variableImports[0];this.variableImports=this.variableImports.slice(1),t()}}finally{this._currentDepth--}0===this._currentDepth&&this._onSequencerEmpty&&this._onSequencerEmpty()},t.exports=n},{}],84:[function(e,t){var n=e("../contexts"),o=e("./visitor"),r=e("./import-sequencer"),i=function(e,t){this._visitor=new o(this),this._importer=e,this._finish=t,this.context=new n.Eval,this.importCount=0,this.onceFileDetectionMap={},this.recursionDetector={},this._sequencer=new r(this._onSequencerEmpty.bind(this))};i.prototype={isReplacing:!1,run:function(e){try{this._visitor.visit(e)}catch(e){this.error=e}this.isFinished=!0,this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(e,t){var o=e.options.inline;if(!e.css||o){var r=new n.Eval(this.context,this.context.frames.slice(0)),i=r.frames[0];this.importCount++,e.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,e,r,i)):this.processImportNode(e,r,i)}t.visitDeeper=!1},processImportNode:function(e,t,n){var o,r=e.options.inline;try{o=e.evalForImport(t)}catch(t){t.filename||(t.index=e.index,t.filename=e.currentFileInfo.filename),e.css=!0,e.error=t}if(!o||o.css&&!r)this.importCount--,this.isFinished&&this._sequencer.tryRun();else{o.options.multiple&&(t.importMultiple=!0);for(var i=void 0===o.css,a=0;n.rules.length>a;a++)if(n.rules[a]===e){n.rules[a]=o;break}var s=this.onImported.bind(this,o,t),l=this._sequencer.addImport(s);this._importer.push(o.getPath(),i,o.currentFileInfo,o.options,l)}},onImported:function(e,t,n,o,r,i){n&&(n.filename||(n.index=e.index,n.filename=e.currentFileInfo.filename),this.error=n);var a=this,s=e.options.inline,l=e.options.plugin,c=r||i in a.recursionDetector;if(t.importMultiple||(e.skip=!!c||function(){return i in a.onceFileDetectionMap||(a.onceFileDetectionMap[i]=!0,!1)}),o&&(e.root=o,e.importedFilename=i,!(s||l||!t.importMultiple&&c))){a.recursionDetector[i]=!0;var u=this.context;this.context=t;try{this._visitor.visit(o)}catch(n){this.error=n}this.context=u}a.importCount--,a.isFinished&&a._sequencer.tryRun()},visitRule:function(e,t){"DetachedRuleset"===e.value.type?this.context.frames.unshift(e):t.visitDeeper=!1},visitRuleOut:function(e){"DetachedRuleset"===e.value.type&&this.context.frames.shift()},visitDirective:function(e){this.context.frames.unshift(e)},visitDirectiveOut:function(){this.context.frames.shift()},visitMixinDefinition:function(e){this.context.frames.unshift(e)},visitMixinDefinitionOut:function(){this.context.frames.shift()},visitRuleset:function(e){this.context.frames.unshift(e)},visitRulesetOut:function(){this.context.frames.shift()},visitMedia:function(e){this.context.frames.unshift(e.rules[0])},visitMediaOut:function(){this.context.frames.shift()}},t.exports=i},{"../contexts":10,"./import-sequencer":83,"./visitor":88}],85:[function(e,t){var n={Visitor:e("./visitor"),ImportVisitor:e("./import-visitor"),ExtendVisitor:e("./extend-visitor"),JoinSelectorVisitor:e("./join-selector-visitor"),ToCSSVisitor:e("./to-css-visitor")};t.exports=n},{"./extend-visitor":82,"./import-visitor":84,"./join-selector-visitor":86,"./to-css-visitor":87,"./visitor":88}],86:[function(e,t){var n=e("./visitor"),o=function(){this.contexts=[[]],this._visitor=new n(this)};o.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e){var t,n=this.contexts[this.contexts.length-1],o=[];this.contexts.push(o),e.root||((t=e.selectors)&&(t=t.filter((function(e){return e.getIsOutput()})),e.selectors=t.length?t:t=null,t&&e.joinSelectors(o,n,t)),t||(e.rules=null),e.paths=o)},visitRulesetOut:function(){this.contexts.length=this.contexts.length-1},visitMedia:function(e){var t=this.contexts[this.contexts.length-1];e.rules[0].root=0===t.length||t[0].multiMedia},visitDirective:function(e){var t=this.contexts[this.contexts.length-1];e.rules&&e.rules.length&&(e.rules[0].root=e.isRooted||0===t.length||null)}},t.exports=o},{"./visitor":88}],87:[function(e,t){var n=e("../tree"),o=e("./visitor"),r=function(e){this._visitor=new o(this),this._context=e};r.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitRule:function(e){return e.variable?void 0:e},visitMixinDefinition:function(e){e.frames=[]},visitExtend:function(){},visitComment:function(e){return e.isSilent(this._context)?void 0:e},visitMedia:function(e,t){return e.accept(this._visitor),t.visitDeeper=!1,e.rules.length?e:void 0},visitImport:function(e){return void 0!==e.path.currentFileInfo.reference&&e.css?void 0:e},visitDirective:function(e,t){if("@charset"===e.name){if(!e.getIsReferenced())return;if(this.charset){if(e.debugInfo){var o=new n.Comment("/* "+e.toCSS(this._context).replace(/\n/g,"")+" */\n");return o.debugInfo=e.debugInfo,this._visitor.visit(o)}return}this.charset=!0}if(e.rules&&e.rules.length){if(this._mergeRules(e.rules[0].rules),e.accept(this._visitor),t.visitDeeper=!1,e.getIsReferenced())return e;if(!e.rules||!e.rules.length)return;if(function(e){var t,n=e.rules;1!==n.length||n[0].paths&&0!==n[0].paths.length||(n=n[0].rules);for(var o=0;n.length>o;o++)if((t=n[o]).getIsReferenced&&t.getIsReferenced())return!0;return!1}(e))return e.markReferenced(),e}else if(e.getIsReferenced())return e},checkPropertiesInRoot:function(e){for(var t,o=0;e.length>o;o++)if((t=e[o])instanceof n.Rule&&!t.variable)throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:t.index,filename:t.currentFileInfo?t.currentFileInfo.filename:null}},visitRuleset:function(e,t){var o,r=[];if(e.firstRoot&&this.checkPropertiesInRoot(e.rules),e.root)e.accept(this._visitor),t.visitDeeper=!1,(e.firstRoot||e.rules&&e.rules.length>0)&&r.splice(0,0,e);else{e.paths&&(e.paths=e.paths.filter((function(e){var t;for(" "===e[0].elements[0].combinator.value&&(e[0].elements[0].combinator=new n.Combinator("")),t=0;e.length>t;t++)if(e[t].getIsReferenced()&&e[t].getIsOutput())return!0;return!1})));for(var i=e.rules,a=i?i.length:0,s=0;a>s;)(o=i[s])&&o.rules?(r.push(this._visitor.visit(o)),i.splice(s,1),a--):s++;a>0?e.accept(this._visitor):e.rules=null,t.visitDeeper=!1,(i=e.rules)&&(this._mergeRules(i),i=e.rules),i&&(this._removeDuplicateRules(i),i=e.rules),i&&i.length>0&&e.paths.length>0&&r.splice(0,0,e)}return 1===r.length?r[0]:r},_removeDuplicateRules:function(e){if(e){var t,o,r,i={};for(r=e.length-1;r>=0;r--)if((o=e[r])instanceof n.Rule)if(i[o.name]){(t=i[o.name])instanceof n.Rule&&(t=i[o.name]=[i[o.name].toCSS(this._context)]);var a=o.toCSS(this._context);-1!==t.indexOf(a)?e.splice(r,1):t.push(a)}else i[o.name]=o}},_mergeRules:function(e){if(e){for(var t,o,r,i={},a=0;e.length>a;a++)(o=e[a])instanceof n.Rule&&o.merge&&(r=[o.name,o.important?"!":""].join(","),i[r]?e.splice(a--,1):i[r]=[],i[r].push(o));Object.keys(i).map((function(e){function r(e){return new n.Expression(e.map((function(e){return e.value})))}if((t=i[e]).length>1){o=t[0];var a=[],s=[];t.map((function(e){"+"===e.merge&&(s.length>0&&a.push(r(s)),s=[]),s.push(e)})),a.push(r(s)),o.value=function(e){return new n.Value(e.map((function(e){return e})))}(a)}}))}}},t.exports=r},{"../tree":60,"./visitor":88}],88:[function(e,t){function n(e){return e}var o=e("../tree"),r={visitDeeper:!0},i=!1,a=function(e){this._implementation=e,this._visitFnCache=[],i||(function e(t,n){var o,r;for(o in t)if(t.hasOwnProperty(o))switch(r=t[o],typeof r){case"function":r.prototype&&r.prototype.type&&(r.prototype.typeIndex=n++);break;case"object":n=e(r,n)}return n}(o,1),i=!0)};a.prototype={visit:function(e){if(!e)return e;var t=e.typeIndex;if(!t)return e;var o,i=this._visitFnCache,a=this._implementation,s=t<<1,l=1|s,c=i[s],u=i[l],d=r;if(d.visitDeeper=!0,c||(c=a[o="visit"+e.type]||n,u=a[o+"Out"]||n,i[s]=c,i[l]=u),c!==n){var f=c.call(a,e,d);a.isReplacing&&(e=f)}return d.visitDeeper&&e&&e.accept&&e.accept(this),u!=n&&u.call(a,e),e},visitArray:function(e,t){if(!e)return e;var n,o=e.length;if(t||!this._implementation.isReplacing){for(n=0;o>n;n++)this.visit(e[n]);return e}var r=[];for(n=0;o>n;n++){var i=this.visit(e[n]);void 0!==i&&(i.splice?i.length&&this.flatten(i,r):r.push(i))}return r},flatten:function(e,t){var n,o,r,i,a,s;for(t||(t=[]),o=0,n=e.length;n>o;o++)if(void 0!==(r=e[o]))if(r.splice)for(a=0,i=r.length;i>a;a++)void 0!==(s=r[a])&&(s.splice?s.length&&this.flatten(s,t):t.push(s));else t.push(r);return t}},t.exports=a},{"../tree":60}],89:[function(e,t){function n(){if(!a){a=!0;for(var e,t=i.length;t;){e=i,i=[];for(var n=-1;++n<t;)e[n]();t=i.length}a=!1}}function o(){}var r=t.exports={},i=[],a=!1;r.nextTick=function(e){i.push(e),a||setTimeout(n,0)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=o,r.addListener=o,r.once=o,r.off=o,r.removeListener=o,r.removeAllListeners=o,r.emit=o,r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],90:[function(e,t){"use strict";function n(e,t,n,o){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=o}function o(e,t,n){var o=!1;try{e((function(e){o||(o=!0,t(e))}),(function(e){o||(o=!0,n(e))}))}catch(e){if(o)return;o=!0,n(e)}}var r=e("asap");t.exports=function(e){function t(e){return null===s?void c.push(e):void r((function(){var t=s?e.onFulfilled:e.onRejected;if(null!==t){var n;try{n=t(l)}catch(t){return void e.reject(t)}e.resolve(n)}else(s?e.resolve:e.reject)(l)}))}function i(e){s=!1,l=e,a()}function a(){for(var e=0,n=c.length;n>e;e++)t(c[e]);c=null}if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");var s=null,l=null,c=[],u=this;this.then=function(e,o){return new u.constructor((function(r,i){t(new n(e,o,r,i))}))},o(e,(function e(t){try{if(t===u)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void o(n.bind(t),e,i)}s=!0,l=t,a()}catch(e){i(e)}}),i)}},{asap:92}],91:[function(e,t){"use strict";function n(e){this.then=function(t){return"function"!=typeof t?this:new o((function(n,o){r((function(){try{n(t(e))}catch(e){o(e)}}))}))}}var o=e("./core.js"),r=e("asap");t.exports=o,n.prototype=o.prototype;var i=new n(!0),a=new n(!1),s=new n(null),l=new n(void 0),c=new n(0),u=new n("");o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return l;if(!0===e)return i;if(!1===e)return a;if(0===e)return c;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o((function(t,n){n(e)}))}return new n(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o((function(e,n){function o(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){o(i,e)}),n)}t[i]=a,0==--r&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var r=t.length,i=0;t.length>i;i++)o(i,t[i])}))},o.reject=function(e){return new o((function(t,n){n(e)}))},o.race=function(e){return new o((function(t,n){e.forEach((function(e){o.resolve(e).then(t,n)}))}))},o.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":90,asap:92}],92:[function(e,n){(function(e){function o(){for(;r.next;){var e=(r=r.next).task;r.task=void 0;var t=r.domain;t&&(r.domain=void 0,t.enter());try{e()}catch(e){if(l)throw t&&t.exit(),setTimeout(o,0),t&&t.enter(),e;setTimeout((function(){throw e}),0)}t&&t.exit()}a=!1}var r={task:void 0,next:null},i=r,a=!1,s=void 0,l=!1;if(void 0!==e&&e.nextTick)l=!0,s=function(){e.nextTick(o)};else if("function"==typeof t)s="undefined"!=typeof window?t.bind(window,o):function(){t(o)};else if("undefined"!=typeof MessageChannel){var c=new MessageChannel;c.port1.onmessage=o,s=function(){c.port2.postMessage(0)}}else s=function(){setTimeout(o,0)};n.exports=function(t){i=i.next={task:t,domain:l&&e.domain,next:null},a||(a=!0,s())}}).call(this,e("_process"))},{_process:89}],93:[function(){"function"!=typeof Promise.prototype.done&&(Promise.prototype.done=function(){var e=arguments.length?this.then.apply(this,arguments):this;e.then(null,(function(e){setTimeout((function(){throw e}),0)}))})},{}],94:[function(e){e("asap"),"undefined"==typeof Promise&&(Promise=e("./lib/core.js"),e("./lib/es6-extensions.js")),e("./polyfill-done.js")},{"./lib/core.js":90,"./lib/es6-extensions.js":91,"./polyfill-done.js":93,asap:92}]},{},[2])(2)}).call(this,n(6).setImmediate)},function(e,t,n){(function(e){var o=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(r.call(setTimeout,o,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,o,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(o,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(7),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var o,r,i,a,s,l=1,c={},u=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},o=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):o=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),o=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[l]=r,o(l),l++},f.clearImmediate=p}function p(e){delete c[e]}function h(e){if(u)setTimeout(h,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(1),n(8))},function(e,t){var n,o,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(f);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||u||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){var o,r,i;!function(a){"use strict";r=[n(0)],void 0===(i="function"==typeof(o=function(e,t){var n={beforeShow:u,move:u,change:u,show:u,hide:u,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],r=!!/msie/i.exec(window.navigator.userAgent),i=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),a=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),s=function(){var e="";if(r)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(t,n,o,r){for(var a=[],s=0;s<t.length;s++){var l=t[s];if(l){var c=tinycolor(l),u=c.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(n,l)?" sp-thumb-active":"";var d=c.toString(r.preferredFormat||"rgb"),f=i?"background-color:"+c.toRgbString():"filter:"+c.toFilter();a.push('<span title="'+d+'" data-color="'+c.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+f+';"></span></span>')}else{a.push(e("<div />").append(e('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+o+"'>"+a.join("")+"</div>"}function c(c,u){var m,v,g,b,y=function(t,o){var r=e.extend({},n,t);return r.callbacks={move:f(r.move,o),change:f(r.change,o),show:f(r.show,o),hide:f(r.hide,o),beforeShow:f(r.beforeShow,o)},r}(u,c),w=y.flat,x=y.showSelectionPalette,C=y.localStorageKey,S=y.theme,k=y.callbacks,P=(m=Ue,v=10,function(){var e=this,t=arguments,n=function(){b=null,m.apply(e,t)};g&&clearTimeout(b),!g&&b||(b=setTimeout(n,v))}),A=!1,F=!1,_=0,I=0,M=0,T=0,E=0,N=0,R=0,O=0,L=0,B=0,D=1,$=[],H=[],j={},U=y.selectionPalette.slice(0),z=y.maxSelectionSize,q=null,V=c.ownerDocument,K=(V.body,e(c)),J=!1,W=e(s,V).addClass(S),G=W.find(".sp-picker-container"),Q=W.find(".sp-color"),X=W.find(".sp-dragger"),Z=W.find(".sp-hue"),Y=W.find(".sp-slider"),ee=W.find(".sp-alpha-inner"),te=W.find(".sp-alpha"),ne=W.find(".sp-alpha-handle"),oe=W.find(".sp-input"),re=W.find(".sp-palette"),ie=W.find(".sp-initial"),ae=W.find(".sp-cancel"),se=W.find(".sp-clear"),le=W.find(".sp-choose"),ce=W.find(".sp-palette-toggle"),ue=K.is("input"),de=ue&&"color"===K.attr("type")&&h(),fe=ue&&!w,pe=fe?e(a).addClass(S).addClass(y.className).addClass(y.replacerClassName):e([]),he=fe?pe:K,me=pe.find(".sp-preview-inner"),ve=y.color||ue&&K.val(),ge=!1,be=y.preferredFormat,ye=!y.showButtons||y.clickoutFiresChange,we=!ve,xe=y.allowEmpty&&!de;function Ce(){if(y.showPaletteOnly&&(y.showPalette=!0),ce.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),y.palette){$=y.palette.slice(0),H=e.isArray($[0])?$:[$],j={};for(var t=0;t<H.length;t++)for(var n=0;n<H[t].length;n++){var o=tinycolor(H[t][n]).toRgbString();j[o]=!0}}W.toggleClass("sp-flat",w),W.toggleClass("sp-input-disabled",!y.showInput),W.toggleClass("sp-alpha-enabled",y.showAlpha),W.toggleClass("sp-clear-enabled",xe),W.toggleClass("sp-buttons-disabled",!y.showButtons),W.toggleClass("sp-palette-buttons-disabled",!y.togglePaletteOnly),W.toggleClass("sp-palette-disabled",!y.showPalette),W.toggleClass("sp-palette-only",y.showPaletteOnly),W.toggleClass("sp-initial-disabled",!y.showInitial),W.addClass(y.className).addClass(y.containerClassName),Ue()}function Se(){if(C&&window.localStorage){try{var t=window.localStorage[C].split(",#");t.length>1&&(delete window.localStorage[C],e.each(t,(function(e,t){ke(t)})))}catch(e){}try{U=window.localStorage[C].split(";")}catch(e){}}}function ke(t){if(x){var n=tinycolor(t).toRgbString();if(!j[n]&&-1===e.inArray(n,U))for(U.push(n);U.length>z;)U.shift();if(C&&window.localStorage)try{window.localStorage[C]=U.join(";")}catch(e){}}}function Pe(){var t=Be(),n=e.map(H,(function(e,n){return l(e,t,"sp-palette-row sp-palette-row-"+n,y)}));Se(),U&&n.push(l(function(){var e=[];if(y.showPalette)for(var t=0;t<U.length;t++){var n=tinycolor(U[t]).toRgbString();j[n]||e.push(U[t])}return e.reverse().slice(0,y.maxSelectionSize)}(),t,"sp-palette-row sp-palette-row-selection",y)),re.html(n.join(""))}function Ae(){if(y.showInitial){var e=ge,t=Be();ie.html(l([e,t],t,"sp-palette-row-initial",y))}}function Fe(){(I<=0||_<=0||T<=0)&&Ue(),F=!0,W.addClass("sp-dragging"),q=null,K.trigger("dragstart.spectrum",[Be()])}function _e(){F=!1,W.removeClass("sp-dragging"),K.trigger("dragstop.spectrum",[Be()])}function Ie(){var e=oe.val();if(null!==e&&""!==e||!xe){var t=tinycolor(e);t.isValid()?(Le(t),De(),je()):oe.addClass("sp-validation-error")}else Le(null),De(),je()}function Me(){A?Re():Te()}function Te(){var t=e.Event("beforeShow.spectrum");A?Ue():(K.trigger(t,[Be()]),!1===k.beforeShow(Be())||t.isDefaultPrevented()||(!function(){for(var e=0;e<o.length;e++)o[e]&&o[e].hide()}(),A=!0,e(V).on("keydown.spectrum",Ee),e(V).on("click.spectrum",Ne),e(window).on("resize.spectrum",P),pe.addClass("sp-active"),W.removeClass("sp-hidden"),Ue(),$e(),ge=Be(),Ae(),k.show(ge),K.trigger("show.spectrum",[ge])))}function Ee(e){27===e.keyCode&&Re()}function Ne(e){2!=e.button&&(F||(ye?je(!0):Oe(),Re()))}function Re(){A&&!w&&(A=!1,e(V).off("keydown.spectrum",Ee),e(V).off("click.spectrum",Ne),e(window).off("resize.spectrum",P),pe.removeClass("sp-active"),W.addClass("sp-hidden"),k.hide(Be()),K.trigger("hide.spectrum",[Be()]))}function Oe(){Le(ge,!0),je(!0)}function Le(e,t){var n,o;tinycolor.equals(e,Be())?$e():(!e&&xe?we=!0:(we=!1,o=(n=tinycolor(e)).toHsv(),O=o.h%360/360,L=o.s,B=o.v,D=o.a),$e(),n&&n.isValid()&&!t&&(be=y.preferredFormat||n.getFormat()))}function Be(e){return e=e||{},xe&&we?null:tinycolor.fromRatio({h:O,s:L,v:B,a:Math.round(1e3*D)/1e3},{format:e.format||be})}function De(){$e(),k.move(Be()),K.trigger("move.spectrum",[Be()])}function $e(){oe.removeClass("sp-validation-error"),He();var e=tinycolor.fromRatio({h:O,s:1,v:1});Q.css("background-color",e.toHexString());var t=be;D<1&&(0!==D||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=Be({format:t}),o="";if(me.removeClass("sp-clear-display"),me.css("background-color","transparent"),!n&&xe)me.addClass("sp-clear-display");else{var a=n.toHexString(),s=n.toRgbString();if(i||1===n.alpha?me.css("background-color",s):(me.css("background-color","transparent"),me.css("filter",n.toFilter())),y.showAlpha){var l=n.toRgb();l.a=0;var c=tinycolor(l).toRgbString(),u="linear-gradient(left, "+c+", "+a+")";r?ee.css("filter",tinycolor(c).toFilter({gradientType:1},a)):(ee.css("background","-webkit-"+u),ee.css("background","-moz-"+u),ee.css("background","-ms-"+u),ee.css("background","linear-gradient(to right, "+c+", "+a+")"))}o=n.toString(t)}y.showInput&&oe.val(o),y.showPalette&&Pe(),Ae()}function He(){var e=L,t=B;if(xe&&we)ne.hide(),Y.hide(),X.hide();else{ne.show(),Y.show(),X.show();var n=e*_,o=I-t*I;n=Math.max(-M,Math.min(_-M,n-M)),o=Math.max(-M,Math.min(I-M,o-M)),X.css({top:o+"px",left:n+"px"});var r=D*E;ne.css({left:r-N/2+"px"});var i=O*T;Y.css({top:i-R+"px"})}}function je(e){var t=Be(),n="",o=!tinycolor.equals(t,ge);t&&(n=t.toString(be),ke(t)),ue&&K.val(n),e&&o&&(k.change(t),K.trigger("change",[t]))}function Ue(){A&&(_=Q.width(),I=Q.height(),M=X.height(),Z.width(),T=Z.height(),R=Y.height(),E=te.width(),N=ne.width(),w||(W.css("position","absolute"),y.offset?W.offset(y.offset):W.offset(function(t,n){var o=t.outerWidth(),r=t.outerHeight(),i=n.outerHeight(),a=t[0].ownerDocument,s=a.documentElement,l=s.clientWidth+e(a).scrollLeft(),c=s.clientHeight+e(a).scrollTop(),u=n.offset(),d=u.left,f=u.top;return f+=i,d-=Math.min(d,d+o>l&&l>o?Math.abs(d+o-l):0),{top:f-=Math.min(f,f+r>c&&c>r?Math.abs(r+i-0):0),bottom:u.bottom,left:d,right:u.right,width:u.width,height:u.height}}(W,he))),He(),y.showPalette&&Pe(),K.trigger("reflow.spectrum"))}function ze(){Re(),J=!0,K.attr("disabled",!0),he.addClass("sp-disabled")}!function(){if(r&&W.find("*:not(input)").attr("unselectable","on"),Ce(),fe&&K.after(pe).hide(),xe||se.hide(),w)K.after(W).hide();else{var t="parent"===y.appendTo?K.parent():e(y.appendTo);1!==t.length&&(t=e("body")),t.append(W)}function n(t){return t.data&&t.data.ignore?(Le(e(t.target).closest(".sp-thumb-el").data("color")),De()):(Le(e(t.target).closest(".sp-thumb-el").data("color")),De(),y.hideAfterPaletteSelect?(je(!0),Re()):je()),!1}Se(),he.on("click.spectrum touchstart.spectrum",(function(t){J||Me(),t.stopPropagation(),e(t.target).is("input")||t.preventDefault()})),(K.is(":disabled")||!0===y.disabled)&&ze(),W.click(d),oe.change(Ie),oe.on("paste",(function(){setTimeout(Ie,1)})),oe.keydown((function(e){13==e.keyCode&&Ie()})),ae.text(y.cancelText),ae.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),Oe(),Re()})),se.attr("title",y.clearText),se.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),we=!0,De(),w&&je(!0)})),le.text(y.chooseText),le.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),r&&oe.is(":focus")&&oe.trigger("change"),oe.hasClass("sp-validation-error")||(je(!0),Re())})),ce.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),ce.on("click.spectrum",(function(e){e.stopPropagation(),e.preventDefault(),y.showPaletteOnly=!y.showPaletteOnly,y.showPaletteOnly||w||W.css("left","-="+(G.outerWidth(!0)+5)),Ce()})),p(te,(function(e,t,n){D=e/E,we=!1,n.shiftKey&&(D=Math.round(10*D)/10),De()}),Fe,_e),p(Z,(function(e,t){O=parseFloat(t/T),we=!1,y.showAlpha||(D=1),De()}),Fe,_e),p(Q,(function(e,t,n){if(n.shiftKey){if(!q){var o=L*_,r=I-B*I,i=Math.abs(e-o)>Math.abs(t-r);q=i?"x":"y"}}else q=null;var a=!q||"y"===q;(!q||"x"===q)&&(L=parseFloat(e/_)),a&&(B=parseFloat((I-t)/I)),we=!1,y.showAlpha||(D=1),De()}),Fe,_e),ve?(Le(ve),$e(),be=y.preferredFormat||tinycolor(ve).format,ke(ve)):$e(),w&&Te();var o=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";re.on(o,".sp-thumb-el",n),ie.on(o,".sp-thumb-el:nth-child(1)",{ignore:!0},n)}();var qe={show:Te,hide:Re,toggle:Me,reflow:Ue,option:function(n,o){return n===t?e.extend({},y):o===t?y[n]:(y[n]=o,"preferredFormat"===n&&(be=y.preferredFormat),void Ce())},enable:function(){J=!1,K.attr("disabled",!1),he.removeClass("sp-disabled")},disable:ze,offset:function(e){y.offset=e,Ue()},set:function(e){Le(e),je()},get:Be,destroy:function(){K.show(),he.off("click.spectrum touchstart.spectrum"),W.remove(),pe.remove(),o[qe.id]=null},container:W};return qe.id=o.push(qe)-1,qe}function u(){}function d(e){e.stopPropagation()}function f(e,t){var n=Array.prototype.slice,o=n.call(arguments,2);return function(){return e.apply(t,o.concat(n.call(arguments)))}}function p(t,n,o,i){n=n||function(){},o=o||function(){},i=i||function(){};var a=document,s=!1,l={},c=0,u=0,d="ontouchstart"in window,f={};function p(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function h(e){if(s){if(r&&a.documentMode<9&&!e.button)return m();var o=e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches[0],i=o&&o.pageX||e.pageX,f=o&&o.pageY||e.pageY,h=Math.max(0,Math.min(i-l.left,u)),v=Math.max(0,Math.min(f-l.top,c));d&&p(e),n.apply(t,[h,v,e])}}function m(){s&&(e(a).off(f),e(a.body).removeClass("sp-dragging"),setTimeout((function(){i.apply(t,arguments)}),0)),s=!1}f.selectstart=p,f.dragstart=p,f["touchmove mousemove"]=h,f["touchend mouseup"]=m,e(t).on("touchstart mousedown",(function(n){var r=n.which?3==n.which:2==n.button;r||s||!1!==o.apply(t,arguments)&&(s=!0,c=e(t).height(),u=e(t).width(),l=e(t).offset(),e(a).on(f),e(a.body).addClass("sp-dragging"),h(n),p(n))}))}function h(){return e.fn.spectrum.inputTypeColorSupport()}var m="spectrum.id";e.fn.spectrum=function(t,n){if("string"==typeof t){var r=this,i=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=o[e(this).data(m)];if(n){var a=n[t];if(!a)throw new Error("Spectrum: no such method: '"+t+"'");"get"==t?r=n.get():"container"==t?r=n.container:"option"==t?r=n.option.apply(n,i):"destroy"==t?(n.destroy(),e(this).removeData(m)):a.apply(n,i)}})),r}return this.spectrum("destroy").each((function(){var n=c(this,e.extend({},e(this).data(),t));e(this).data(m,n.id)}))},e.fn.spectrum.load=!0,e.fn.spectrum.loadOpts={},e.fn.spectrum.draggable=p,e.fn.spectrum.defaults=n,e.fn.spectrum.inputTypeColorSupport=function t(){if(void 0===t._cachedResult){var n=e("<input type='color'/>")[0];t._cachedResult="color"===n.type&&""!==n.value}return t._cachedResult},e.spectrum={},e.spectrum.localization={},e.spectrum.palettes={},e.fn.spectrum.processNativeColorInputs=function(){var t=e("input[type=color]");t.length&&!h()&&t.spectrum({preferredFormat:"hex6"})},function(){var e=/^[\s,#]+/,t=/\s+$/,n=0,o=Math,r=o.round,i=o.min,a=o.max,s=o.random,l=function(s,c){if(c=c||{},(s=s||"")instanceof l)return s;if(!(this instanceof l))return new l(s,c);var u=function(n){var r={r:0,g:0,b:0},s=1,l=!1,c=!1;"string"==typeof n&&(n=function(n){n=n.replace(e,"").replace(t,"").toLowerCase();var o,r=!1;if(A[n])n=A[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(o=B.rgb.exec(n))return{r:o[1],g:o[2],b:o[3]};if(o=B.rgba.exec(n))return{r:o[1],g:o[2],b:o[3],a:o[4]};if(o=B.hsl.exec(n))return{h:o[1],s:o[2],l:o[3]};if(o=B.hsla.exec(n))return{h:o[1],s:o[2],l:o[3],a:o[4]};if(o=B.hsv.exec(n))return{h:o[1],s:o[2],v:o[3]};if(o=B.hsva.exec(n))return{h:o[1],s:o[2],v:o[3],a:o[4]};if(o=B.hex8.exec(n))return{a:(i=o[1],T(i)/255),r:T(o[2]),g:T(o[3]),b:T(o[4]),format:r?"name":"hex8"};var i;if(o=B.hex6.exec(n))return{r:T(o[1]),g:T(o[2]),b:T(o[3]),format:r?"name":"hex"};if(o=B.hex3.exec(n))return{r:T(o[1]+""+o[1]),g:T(o[2]+""+o[2]),b:T(o[3]+""+o[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(u=n.r,d=n.g,f=n.b,r={r:255*I(u,255),g:255*I(d,255),b:255*I(f,255)},l=!0,c="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=N(n.s),n.v=N(n.v),r=function(e,t,n){e=6*I(e,360),t=I(t,100),n=I(n,100);var r=o.floor(e),i=e-r,a=n*(1-t),s=n*(1-i*t),l=n*(1-(1-i)*t),c=r%6;return{r:255*[n,s,a,a,l,n][c],g:255*[l,n,n,s,a,a][c],b:255*[a,a,l,n,n,s][c]}}(n.h,n.s,n.v),l=!0,c="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=N(n.s),n.l=N(n.l),r=function(e,t,n){var o,r,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=I(e,360),t=I(t,100),n=I(n,100),0===t)o=r=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;o=a(l,s,e+1/3),r=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*o,g:255*r,b:255*i}}(n.h,n.s,n.l),l=!0,c="hsl"),n.hasOwnProperty("a")&&(s=n.a));var u,d,f;return s=_(s),{ok:l,format:n.format||c,r:i(255,a(r.r,0)),g:i(255,a(r.g,0)),b:i(255,a(r.b,0)),a:s}}(s);this._originalInput=s,this._r=u.r,this._g=u.g,this._b=u.b,this._a=u.a,this._roundA=r(1e3*this._a)/1e3,this._format=c.format||u.format,this._gradientType=c.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=u.ok,this._tc_id=n++};function c(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var o,r,s=a(e,t,n),l=i(e,t,n),c=(s+l)/2;if(s==l)o=r=0;else{var u=s-l;switch(r=c>.5?u/(2-s-l):u/(s+l),s){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:r,l:c}}function u(e,t,n){e=I(e,255),t=I(t,255),n=I(n,255);var o,r,s=a(e,t,n),l=i(e,t,n),c=s,u=s-l;if(r=0===s?0:u/s,s==l)o=0;else{switch(s){case e:o=(t-n)/u+(t<n?6:0);break;case t:o=(n-e)/u+2;break;case n:o=(e-t)/u+4}o/=6}return{h:o,s:r,v:c}}function d(e,t,n,o){var i=[E(r(e).toString(16)),E(r(t).toString(16)),E(r(n).toString(16))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f(e,t,n,o){var i;return[E((i=o,Math.round(255*parseFloat(i)).toString(16))),E(r(e).toString(16)),E(r(t).toString(16)),E(r(n).toString(16))].join("")}function p(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s-=t/100,n.s=M(n.s),l(n)}function h(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.s+=t/100,n.s=M(n.s),l(n)}function m(e){return l(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l+=t/100,n.l=M(n.l),l(n)}function g(e,t){t=0===t?0:t||10;var n=l(e).toRgb();return n.r=a(0,i(255,n.r-r(-t/100*255))),n.g=a(0,i(255,n.g-r(-t/100*255))),n.b=a(0,i(255,n.b-r(-t/100*255))),l(n)}function b(e,t){t=0===t?0:t||10;var n=l(e).toHsl();return n.l-=t/100,n.l=M(n.l),l(n)}function y(e,t){var n=l(e).toHsl(),o=(r(n.h)+t)%360;return n.h=o<0?360+o:o,l(n)}function w(e){var t=l(e).toHsl();return t.h=(t.h+180)%360,l(t)}function x(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+120)%360,s:t.s,l:t.l}),l({h:(n+240)%360,s:t.s,l:t.l})]}function C(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+90)%360,s:t.s,l:t.l}),l({h:(n+180)%360,s:t.s,l:t.l}),l({h:(n+270)%360,s:t.s,l:t.l})]}function S(e){var t=l(e).toHsl(),n=t.h;return[l(e),l({h:(n+72)%360,s:t.s,l:t.l}),l({h:(n+216)%360,s:t.s,l:t.l})]}function k(e,t,n){t=t||6,n=n||30;var o=l(e).toHsl(),r=360/n,i=[l(e)];for(o.h=(o.h-(r*t>>1)+720)%360;--t;)o.h=(o.h+r)%360,i.push(l(o));return i}function P(e,t){t=t||6;for(var n=l(e).toHsv(),o=n.h,r=n.s,i=n.v,a=[],s=1/t;t--;)a.push(l({h:o,s:r,v:i})),i=(i+s)%1;return a}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=_(e),this._roundA=r(1e3*this._a)/1e3,this},toHsv:function(){var e=u(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=u(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),o=r(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+o+"%)":"hsva("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var e=c(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=c(this._r,this._g,this._b),t=r(360*e.h),n=r(100*e.s),o=r(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+o+"%)":"hsla("+t+", "+n+"%, "+o+"%, "+this._roundA+")"},toHex:function(e){return d(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*I(this._r,255))+"%",g:r(100*I(this._g,255))+"%",b:r(100*I(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*I(this._r,255))+"%, "+r(100*I(this._g,255))+"%, "+r(100*I(this._b,255))+"%)":"rgba("+r(100*I(this._r,255))+"%, "+r(100*I(this._g,255))+"%, "+r(100*I(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(F[d(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+f(this._r,this._g,this._b,this._a),n=t,o=this._gradientType?"GradientType = 1, ":"";e&&(n=l(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,o=this._a<1&&this._a>=0;return t||!o||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(g,arguments)},darken:function(){return this._applyModification(b,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(w,arguments)},monochromatic:function(){return this._applyCombination(P,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(C,arguments)}},l.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]="a"===o?e[o]:N(e[o]));e=n}return l(e,t)},l.equals=function(e,t){return!(!e||!t)&&l(e).toRgbString()==l(t).toRgbString()},l.random=function(){return l.fromRatio({r:s(),g:s(),b:s()})},l.mix=function(e,t,n){n=0===n?0:n||50;var o,r=l(e).toRgb(),i=l(t).toRgb(),a=n/100,s=2*a-1,c=i.a-r.a,u=1-(o=((o=s*c==-1?s:(s+c)/(1+s*c))+1)/2),d={r:i.r*o+r.r*u,g:i.g*o+r.g*u,b:i.b*o+r.b*u,a:i.a*a+r.a*(1-a)};return l(d)},l.readability=function(e,t){var n=l(e),o=l(t),r=n.toRgb(),i=o.toRgb(),a=n.getBrightness(),s=o.getBrightness(),c=Math.max(r.r,i.r)-Math.min(r.r,i.r)+Math.max(r.g,i.g)-Math.min(r.g,i.g)+Math.max(r.b,i.b)-Math.min(r.b,i.b);return{brightness:Math.abs(a-s),color:c}},l.isReadable=function(e,t){var n=l.readability(e,t);return n.brightness>125&&n.color>500},l.mostReadable=function(e,t){for(var n=null,o=0,r=!1,i=0;i<t.length;i++){var a=l.readability(e,t[i]),s=a.brightness>125&&a.color>500,c=a.brightness/125*3+a.color/500;(s&&!r||s&&r&&c>o||!s&&!r&&c>o)&&(r=s,o=c,n=l(t[i]))}return n};var A=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},F=l.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(A);function _(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function I(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=i(t,a(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),o.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function M(e){return i(1,a(0,e))}function T(e){return parseInt(e,16)}function E(e){return 1==e.length?"0"+e:""+e}function N(e){return e<=1&&(e=100*e+"%"),e}var R,O,L,B=(O="[\\s|\\(]+("+(R="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",L="[\\s|\\(]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")[,|\\s]+("+R+")\\s*\\)?",{rgb:new RegExp("rgb"+O),rgba:new RegExp("rgba"+L),hsl:new RegExp("hsl"+O),hsla:new RegExp("hsla"+L),hsv:new RegExp("hsv"+O),hsva:new RegExp("hsva"+L),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),e((function(){e.fn.spectrum.load&&e.fn.spectrum.processNativeColorInputs()}))})?o.apply(t,r):o)||(e.exports=i)}()},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){Array.prototype.reduce||(Array.prototype.reduce=function(e){var t,n=Object(this),o=n.length>>>0,r=0;if(2===arguments.length)t=arguments[1];else{for(;r<o&&!(r in n);)r++;if(r>=o)throw new TypeError("Reduce of empty array with no initial value");t=n[r++]}for(;r<o;r++)r in n&&(t=e(t,n[r],r,n));return t}),"function"!=typeof Array.prototype.filter&&(Array.prototype.filter=function(e){for(var t=Object(this),n=t.length>>>0,o=[],r=arguments.length>=2?arguments[1]:void 0,i=0;i<n;i++)if(i in t){var a=t[i];e.call(r,a,i,t)&&o.push(a)}return o}),Array.prototype.map||(Array.prototype.map=function(e,t){var n,o,r;if(null===this)throw new TypeError(" this is null or not defined");var i=Object(this),a=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),o=new Array(a),r=0;r<a;){var s,l;r in i&&(s=i[r],l=e.call(n,s,r,i),o[r]=l),r++}return o});var t,o=navigator.userAgent,r=/MSIE|Trident/i.test(o);if(r){var i=/MSIE (\d+[.]\d+)/.exec(o);i&&(t=parseFloat(i[1])),(i=/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(o))&&(t=parseFloat(i[1]))}var a,s,l,c,u,d,f,p,h,m,v,g,b,y,w,x,C,S,k,P,A,F,_,I,M,T,E,N,R,O,L,B,D,$,H,j,U,z,q,V,K,J,W,G,Q,X,Z,Y,ee,te,ne,oe,re={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:r,isFF:/firefox/i.test(o),isWebkit:/webkit/i.test(o),isSafari:/safari/i.test(o),browserVersion:t,jqueryVersion:parseFloat(e.fn.jquery),isSupportAmd:!1,hasCodeMirror:!!window.CodeMirror,isFontInstalled:function(t){var n="Comic Sans MS"===t?"Courier New":"Comic Sans MS",o=e("<div>").css({position:"absolute",left:"-9999px",top:"-9999px",fontSize:"200px"}).text("mmmmmmmmmwwwwwww").appendTo(document.body),r=o.css("fontFamily",n).width(),i=o.css("fontFamily",t+","+n).width();return o.remove(),r!==i},isW3CRangeSupport:!!document.createRange},ie=(oe=0,{eq:function(e){return function(t){return e===t}},eq2:function(e,t){return e===t},peq2:function(e){return function(t,n){return t[e]===n[e]}},ok:function(){return!0},fail:function(){return!1},self:function(e){return e},not:function(e){return function(){return!e.apply(e,arguments)}},and:function(e,t){return function(n){return e(n)&&t(n)}},uniqueId:function(e){var t=++oe+"";return e?e+t:t},rect2bnd:function(t){var n=e(document);return{top:t.top+n.scrollTop(),left:t.left+n.scrollLeft(),width:t.right-t.left,height:t.bottom-t.top}},invertObject:function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t},namespaceToCamel:function(e,t){return(t=t||"")+e.split(".").map((function(e){return e.substring(0,1).toUpperCase()+e.substring(1)})).join("")}}),ae=(te=function(t,n){return e.inArray(n,t)},{head:Z=function(e){return e[0]},last:Y=function(e){return e[e.length-1]},initial:function(e){return e.slice(0,e.length-1)},tail:ee=function(e){return e.slice(1)},prev:function(e,t){var n=te(e,t);return-1===n?null:e[n-1]},next:function(e,t){var n=te(e,t);return-1===n?null:e[n+1]},find:function(e,t){for(var n=0,o=e.length;n<o;n++){var r=e[n];if(t(r))return r}},contains:ne=function(e,t){return-1!==te(e,t)},all:function(e,t){for(var n=0,o=e.length;n<o;n++)if(!t(e[n]))return!1;return!0},sum:function(e,t){return t=t||ie.self,e.reduce((function(e,n){return e+t(n)}),0)},from:function(e){for(var t=[],n=-1,o=e.length;++n<o;)t[n]=e[n];return t},clusterBy:function(e,t){return e.length?ee(e).reduce((function(e,n){var o=Y(e);return t(Y(o),n)?o[o.length]=n:e[e.length]=[n],e}),[[Z(e)]]):[]},compact:function(e){for(var t=[],n=0,o=e.length;n<o;n++)e[n]&&t.push(e[n]);return t},unique:function(e){for(var t=[],n=0,o=e.length;n<o;n++)ne(t,e[n])||t.push(e[n]);return t}}),se=String.fromCharCode(160),le=(d=function(t){return t&&e(t).hasClass("note-editable")},f=function(t){var n;if(t.hasClass("note-air-editor")){var o=ae.last(t.attr("id").split("-"));return{editor:function(){return t},holder:function(){return t.data("holder")},editable:function(){return t},popover:(n=function(t){return function(){return e(t+o)}})("#note-popover-"),handle:n("#note-handle-"),dialog:n("#note-dialog-")}}n=function(e,n){return n=n||t,function(){return n.find(e)}};var r=t.data("options"),i=r&&r.dialogsInBody?e(document.body):null;return{editor:function(){return t},holder:function(){return t.data("holder")},dropzone:n(".note-dropzone"),toolbar:n(".note-toolbar"),editable:n(".note-editable"),codable:n(".note-codable"),statusbar:n(".note-statusbar"),popover:n(".note-popover"),handle:n(".note-handle"),dialog:n(".note-dialog",i)}},h=function(e){return e&&3===e.nodeType},m=function(e){return e&&/^BR|^IMG|^HR|^IFRAME|^BUTTON/.test(e.nodeName.toUpperCase())},v=function(e){return!d(e)&&e&&/^DIV|^P|^LI|^H[1-7]/.test(e.nodeName.toUpperCase())},g=(p=function(e){return e=e.toUpperCase(),function(t){return t&&t.nodeName&&t.nodeName.toUpperCase()===e}})("LI"),b=p("TABLE"),y=function(e){return!(k(e)||w(e)||x(e)||v(e)||b(e)||S(e))},w=function(e){return e&&/^UL|^OL/.test(e.nodeName.toUpperCase())},x=p("HR"),C=function(e){return e&&/^TD|^TH/.test(e.nodeName.toUpperCase())},S=p("BLOCKQUOTE"),k=function(e){return C(e)||S(e)||d(e)},P=p("A"),A=p("BODY"),F=re.isMSIE&&re.browserVersion<11?"&nbsp;":"<br>",_=function(e){return h(e)?e.nodeValue.length:e.childNodes.length},I=function(e){var t=_(e);return 0===t||!h(e)&&1===t&&e.innerHTML===F||!(!ae.all(e.childNodes,h)||""!==e.innerHTML)},M=function(e){m(e)||_(e)||(e.innerHTML=F)},T=function(e,t){for(;e;){if(t(e))return e;if(d(e))break;e=e.parentNode}return null},E=function(e,t){t=t||ie.fail;var n=[];return T(e,(function(e){return d(e)||n.push(e),t(e)})),n},N=function(e,t){t=t||ie.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.nextSibling;return n},R=function(e,t){var n=t.nextSibling,o=t.parentNode;return n?o.insertBefore(e,n):o.appendChild(e),e},O=function(t,n){return e.each(n,(function(e,n){t.appendChild(n)})),t},L=function(e){return 0===e.offset},B=function(e){return e.offset===_(e.node)},D=function(e){return L(e)||B(e)},$=function(e,t){for(;e&&e!==t;){if(0!==j(e))return!1;e=e.parentNode}return!0},H=function(e,t){for(;e&&e!==t;){if(j(e)!==_(e.parentNode)-1)return!1;e=e.parentNode}return!0},j=function(e){for(var t=0;e=e.previousSibling;)t+=1;return t},U=function(e){return!!(e&&e.childNodes&&e.childNodes.length)},z=function(e,t){var n,o;if(0===e.offset){if(d(e.node))return null;n=e.node.parentNode,o=j(e.node)}else U(e.node)?(n=e.node.childNodes[e.offset-1],o=_(n)):(n=e.node,o=t?0:e.offset-1);return{node:n,offset:o}},q=function(e,t){var n,o;if(_(e.node)===e.offset){if(d(e.node))return null;n=e.node.parentNode,o=j(e.node)+1}else U(e.node)?(n=e.node.childNodes[e.offset],o=0):(n=e.node,o=t?_(e.node):e.offset+1);return{node:n,offset:o}},V=function(e,t){return e.node===t.node&&e.offset===t.offset},K=function(e,t){var n=t&&t.isSkipPaddingBlankHTML,o=t&&t.isNotSplitEdgePoint;if(D(e)&&(h(e.node)||o)){if(L(e))return e.node;if(B(e))return e.node.nextSibling}if(h(e.node))return e.node.splitText(e.offset);var r=e.node.childNodes[e.offset],i=R(e.node.cloneNode(!1),e.node);return O(i,N(r)),n||(M(e.node),M(i)),i},J=function(e,t,n){var o=E(t.node,ie.eq(e));return o.length?1===o.length?K(t,n):o.reduce((function(e,o){return e===t.node&&(e=K(t,n)),K({node:o,offset:e?le.position(e):_(o)},n)})):null},W=function(e){return document.createElement(e)},G=function(e,t){if(e&&e.parentNode){if(e.removeNode)return e.removeNode(t);var n=e.parentNode;if(!t){var o,r,i=[];for(o=0,r=e.childNodes.length;o<r;o++)i.push(e.childNodes[o]);for(o=0,r=i.length;o<r;o++)n.insertBefore(i[o],e)}n.removeChild(e)}},Q=p("TEXTAREA"),X=function(e,t){var n=Q(e[0])?e.val():e.html();return t?n.replace(/[\n\r]/g,""):n},{NBSP_CHAR:se,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:F,emptyPara:"<p>"+F+"</p>",makePredByNodeName:p,isEditable:d,isControlSizing:function(t){return t&&e(t).hasClass("note-control-sizing")},buildLayoutInfo:f,makeLayoutInfo:function(t){var n,o=e(t).closest(".note-editor, .note-air-editor, .note-air-layout");return o.length?(n=o.is(".note-editor, .note-air-editor")?o:e("#note-editor-"+ae.last(o.attr("id").split("-"))),f(n)):null},isText:h,isVoid:m,isPara:v,isPurePara:function(e){return v(e)&&!g(e)},isInline:y,isBlock:ie.not(y),isBodyInline:function(e){return y(e)&&!T(e,v)},isBody:A,isParaInline:function(e){return y(e)&&!!T(e,v)},isList:w,isTable:b,isCell:C,isBlockquote:S,isBodyContainer:k,isAnchor:P,isDiv:p("DIV"),isLi:g,isBR:p("BR"),isSpan:p("SPAN"),isB:p("B"),isU:p("U"),isS:p("S"),isI:p("I"),isImg:p("IMG"),isTextarea:Q,isEmpty:I,isEmptyAnchor:ie.and(P,I),isClosestSibling:function(e,t){return e.nextSibling===t||e.previousSibling===t},withClosestSiblings:function(e,t){t=t||ie.ok;var n=[];return e.previousSibling&&t(e.previousSibling)&&n.push(e.previousSibling),n.push(e),e.nextSibling&&t(e.nextSibling)&&n.push(e.nextSibling),n},nodeLength:_,isLeftEdgePoint:L,isRightEdgePoint:B,isEdgePoint:D,isLeftEdgeOf:$,isRightEdgeOf:H,isLeftEdgePointOf:function(e,t){return L(e)&&$(e.node,t)},isRightEdgePointOf:function(e,t){return B(e)&&H(e.node,t)},prevPoint:z,nextPoint:q,isSamePoint:V,isVisiblePoint:function(e){if(h(e.node)||!U(e.node)||I(e.node))return!0;var t=e.node.childNodes[e.offset-1],n=e.node.childNodes[e.offset];return!(t&&!m(t)||n&&!m(n))},prevPointUntil:function(e,t){for(;e;){if(t(e))return e;e=z(e)}return null},nextPointUntil:function(e,t){for(;e;){if(t(e))return e;e=q(e)}return null},isCharPoint:function(e){if(!h(e.node))return!1;var t=e.node.nodeValue.charAt(e.offset-1);return t&&" "!==t&&t!==se},walkPoint:function(e,t,n,o){for(var r=e;r&&(n(r),!V(r,t));){var i=o&&e.node!==r.node&&t.node!==r.node;r=q(r,i)}},ancestor:T,singleChildAncestor:function(e,t){for(e=e.parentNode;e&&1===_(e);){if(t(e))return e;if(d(e))break;e=e.parentNode}return null},listAncestor:E,lastAncestor:function(e,t){var n=E(e);return ae.last(n.filter(t))},listNext:N,listPrev:function(e,t){t=t||ie.fail;for(var n=[];e&&!t(e);)n.push(e),e=e.previousSibling;return n},listDescendant:function(e,t){var n=[];return t=t||ie.ok,function o(r){e!==r&&t(r)&&n.push(r);for(var i=0,a=r.childNodes.length;i<a;i++)o(r.childNodes[i])}(e),n},commonAncestor:function(t,n){for(var o=E(t),r=n;r;r=r.parentNode)if(e.inArray(r,o)>-1)return r;return null},wrap:function(t,n){var o=t.parentNode,r=e("<"+n+">")[0];return o.insertBefore(r,t),r.appendChild(t),r},insertAfter:R,appendChildNodes:O,position:j,hasChildren:U,makeOffsetPath:function(e,t){return E(t,ie.eq(e)).map(j).reverse()},fromOffsetPath:function(e,t){for(var n=e,o=0,r=t.length;o<r;o++)n=n.childNodes.length<=t[o]?n.childNodes[n.childNodes.length-1]:n.childNodes[t[o]];return n},splitTree:J,splitPoint:function(e,t){var n,o,r=t?v:k,i=E(e.node,r),a=ae.last(i)||e.node;r(a)?(n=i[i.length-2],o=a):o=(n=a).parentNode;var s=n&&J(n,e,{isSkipPaddingBlankHTML:t,isNotSplitEdgePoint:t});return s||o!==e.node||(s=e.node.childNodes[e.offset]),{rightNode:s,container:o}},create:W,createText:function(e){return document.createTextNode(e)},remove:G,removeWhile:function(e,t){for(;e&&!d(e)&&t(e);){var n=e.parentNode;G(e),e=n}},replace:function(e,t){if(e.nodeName.toUpperCase()===t.toUpperCase())return e;var n=W(t);return e.style.cssText&&(n.style.cssText=e.style.cssText),O(n,ae.from(e.childNodes)),R(n,e),G(e),n},html:function(t,n){var o=X(t);return n&&(o=o.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,(function(e,t,n){n=n.toUpperCase();var o=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n)&&!!t,r=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n);return e+(o||r?"\n":"")})),o=e.trim(o)),o},value:X}),ce=(l=function(e,t){var n,o,r=e.parentElement(),i=document.body.createTextRange(),a=ae.from(r.childNodes);for(n=0;n<a.length;n++)if(!le.isText(a[n])){if(i.moveToElementText(a[n]),i.compareEndPoints("StartToStart",e)>=0)break;o=a[n]}if(0!==n&&le.isText(a[n-1])){var s=document.body.createTextRange(),l=null;s.moveToElementText(o||r),s.collapse(!o),l=o?o.nextSibling:r.firstChild;var c=e.duplicate();c.setEndPoint("StartToStart",s);for(var u=c.text.replace(/[\r\n]/g,"").length;u>l.nodeValue.length&&l.nextSibling;)u-=l.nodeValue.length,l=l.nextSibling;l.nodeValue,t&&l.nextSibling&&le.isText(l.nextSibling)&&u===l.nodeValue.length&&(u-=l.nodeValue.length,l=l.nextSibling),r=l,n=u}return{cont:r,offset:n}},c=function(e){var t=function(e,n){var o,r;if(le.isText(e)){var i=le.listPrev(e,ie.not(le.isText)),a=ae.last(i).previousSibling;o=a||e.parentNode,n+=ae.sum(ae.tail(i),le.nodeLength),r=!a}else{if(o=e.childNodes[n]||e,le.isText(o))return t(o,0);n=0,r=!1}return{node:o,collapseToStart:r,offset:n}},n=document.body.createTextRange(),o=t(e.node,e.offset);return n.moveToElementText(o.node),n.collapse(o.collapseToStart),n.moveStart("character",o.offset),n},u=function(t,n,o,r){this.sc=t,this.so=n,this.ec=o,this.eo=r;var i=function(){if(re.isW3CRangeSupport){var e=document.createRange();return e.setStart(t,n),e.setEnd(o,r),e}var i=c({node:t,offset:n});return i.setEndPoint("EndToEnd",c({node:o,offset:r})),i};this.getPoints=function(){return{sc:t,so:n,ec:o,eo:r}},this.getStartPoint=function(){return{node:t,offset:n}},this.getEndPoint=function(){return{node:o,offset:r}},this.select=function(){var e=i();if(re.isW3CRangeSupport){var t=document.getSelection();t.rangeCount>0&&t.removeAllRanges(),t.addRange(e)}else e.select();return this},this.normalize=function(){var e=function(e,t){if(le.isVisiblePoint(e)&&!le.isEdgePoint(e)||le.isVisiblePoint(e)&&le.isRightEdgePoint(e)&&!t||le.isVisiblePoint(e)&&le.isLeftEdgePoint(e)&&t||le.isVisiblePoint(e)&&le.isBlock(e.node)&&le.isEmpty(e.node))return e;var n=le.ancestor(e.node,le.isBlock);if((le.isLeftEdgePointOf(e,n)||le.isVoid(le.prevPoint(e).node))&&!t||(le.isRightEdgePointOf(e,n)||le.isVoid(le.nextPoint(e).node))&&t){if(le.isVisiblePoint(e))return e;t=!t}return(t?le.nextPointUntil(le.nextPoint(e),le.isVisiblePoint):le.prevPointUntil(le.prevPoint(e),le.isVisiblePoint))||e},t=e(this.getEndPoint(),!1),n=this.isCollapsed()?t:e(this.getStartPoint(),!0);return new u(n.node,n.offset,t.node,t.offset)},this.nodes=function(e,t){e=e||ie.ok;var n=t&&t.includeAncestor,o=t&&t.fullyContains,r=this.getStartPoint(),i=this.getEndPoint(),a=[],s=[];return le.walkPoint(r,i,(function(t){var r;le.isEditable(t.node)||(o?(le.isLeftEdgePoint(t)&&s.push(t.node),le.isRightEdgePoint(t)&&ae.contains(s,t.node)&&(r=t.node)):r=n?le.ancestor(t.node,e):t.node,r&&e(r)&&a.push(r))}),!0),ae.unique(a)},this.commonAncestor=function(){return le.commonAncestor(t,o)},this.expand=function(e){var i=le.ancestor(t,e),a=le.ancestor(o,e);if(!i&&!a)return new u(t,n,o,r);var s=this.getPoints();return i&&(s.sc=i,s.so=0),a&&(s.ec=a,s.eo=le.nodeLength(a)),new u(s.sc,s.so,s.ec,s.eo)},this.collapse=function(e){return e?new u(t,n,t,n):new u(o,r,o,r)},this.splitText=function(){var e=t===o,i=this.getPoints();return le.isText(o)&&!le.isEdgePoint(this.getEndPoint())&&o.splitText(r),le.isText(t)&&!le.isEdgePoint(this.getStartPoint())&&(i.sc=t.splitText(n),i.so=0,e&&(i.ec=i.sc,i.eo=r-n)),new u(i.sc,i.so,i.ec,i.eo)},this.deleteContents=function(){if(this.isCollapsed())return this;var t=this.splitText(),n=t.nodes(null,{fullyContains:!0}),o=le.prevPointUntil(t.getStartPoint(),(function(e){return!ae.contains(n,e.node)})),r=[];return e.each(n,(function(e,t){var n=t.parentNode;o.node!==n&&1===le.nodeLength(n)&&r.push(n),le.remove(t,!1)})),e.each(r,(function(e,t){le.remove(t,!1)})),new u(o.node,o.offset,o.node,o.offset).normalize()};var a=function(e){return function(){var n=le.ancestor(t,e);return!!n&&n===le.ancestor(o,e)}};this.isOnEditable=a(le.isEditable),this.isOnList=a(le.isList),this.isOnAnchor=a(le.isAnchor),this.isOnCell=a(le.isCell),this.isLeftEdgeOf=function(e){if(!le.isLeftEdgePoint(this.getStartPoint()))return!1;var t=le.ancestor(this.sc,e);return t&&le.isLeftEdgeOf(this.sc,t)},this.isCollapsed=function(){return t===o&&n===r},this.wrapBodyInlineWithPara=function(){if(le.isBodyContainer(t)&&le.isEmpty(t))return t.innerHTML=le.emptyPara,new u(t.firstChild,0,t.firstChild,0);var e,n=this.normalize();if(le.isParaInline(t)||le.isPara(t))return n;if(le.isInline(n.sc)){var o=le.listAncestor(n.sc,ie.not(le.isInline));e=ae.last(o),le.isInline(e)||(e=o[o.length-2]||n.sc.childNodes[n.so])}else e=n.sc.childNodes[n.so>0?n.so-1:0];var r=le.listPrev(e,le.isParaInline).reverse();if((r=r.concat(le.listNext(e.nextSibling,le.isParaInline))).length){var i=le.wrap(ae.head(r),"p");le.appendChildNodes(i,ae.tail(r))}return this.normalize()},this.insertNode=function(e){var t=this.wrapBodyInlineWithPara().deleteContents(),n=le.splitPoint(t.getStartPoint(),le.isInline(e));return n.rightNode?n.rightNode.parentNode.insertBefore(e,n.rightNode):n.container.appendChild(e),e},this.pasteHTML=function(t){var n=e("<div></div>").html(t)[0],o=ae.from(n.childNodes),r=this.wrapBodyInlineWithPara().deleteContents();return o.reverse().map((function(e){return r.insertNode(e)})).reverse()},this.toString=function(){var e=i();return re.isW3CRangeSupport?e.toString():e.text},this.getWordRange=function(e){var t=this.getEndPoint();if(!le.isCharPoint(t))return this;var n=le.prevPointUntil(t,(function(e){return!le.isCharPoint(e)}));return e&&(t=le.nextPointUntil(t,(function(e){return!le.isCharPoint(e)}))),new u(n.node,n.offset,t.node,t.offset)},this.bookmark=function(e){return{s:{path:le.makeOffsetPath(e,t),offset:n},e:{path:le.makeOffsetPath(e,o),offset:r}}},this.paraBookmark=function(e){return{s:{path:ae.tail(le.makeOffsetPath(ae.head(e),t)),offset:n},e:{path:ae.tail(le.makeOffsetPath(ae.last(e),o)),offset:r}}},this.getClientRects=function(){return i().getClientRects()}},{create:function(e,t,n,o){if(arguments.length)2===arguments.length&&(n=e,o=t);else if(re.isW3CRangeSupport){var r=document.getSelection();if(!r||0===r.rangeCount)return null;if(le.isBody(r.anchorNode))return null;var i=r.getRangeAt(0);e=i.startContainer,t=i.startOffset,n=i.endContainer,o=i.endOffset}else{var a=document.selection.createRange(),s=a.duplicate();s.collapse(!1);var c=a;c.collapse(!0);var d=l(c,!0),f=l(s,!1);le.isText(d.node)&&le.isLeftEdgePoint(d)&&le.isTextNode(f.node)&&le.isRightEdgePoint(f)&&f.node.nextSibling===d.node&&(d=f),e=d.cont,t=d.offset,n=f.cont,o=f.offset}return new u(e,t,n,o)},createFromNode:function(e){var t=e,n=0,o=e,r=le.nodeLength(o);return le.isVoid(t)&&(n=le.listPrev(t).length-1,t=t.parentNode),le.isBR(o)?(r=le.listPrev(o).length-1,o=o.parentNode):le.isVoid(o)&&(r=le.listPrev(o).length,o=o.parentNode),this.create(t,n,o,r)},createFromNodeBefore:function(e){return this.createFromNode(e).collapse(!0)},createFromNodeAfter:function(e){return this.createFromNode(e).collapse()},createFromBookmark:function(e,t){var n=le.fromOffsetPath(e,t.s.path),o=t.s.offset,r=le.fromOffsetPath(e,t.e.path),i=t.e.offset;return new u(n,o,r,i)},createFromParaBookmark:function(e,t){var n=e.s.offset,o=e.e.offset,r=le.fromOffsetPath(ae.head(t),e.s.path),i=le.fromOffsetPath(ae.last(t),e.e.path);return new u(r,n,i,o)}}),ue={readFileAsDataURL:function(t){return e.Deferred((function(n){e.extend(new FileReader,{onload:function(e){var t=e.target.result;n.resolve(t)},onerror:function(){n.reject(this)}}).readAsDataURL(t)})).promise()},createImage:function(t,n){return e.Deferred((function(o){var r=e("<img>");r.one("load",(function(){r.off("error abort"),o.resolve(r)})).one("error abort",(function(){r.off("load").detach(),o.reject(r)})).css({display:"none"}).appendTo(document.body).attr({src:t,"data-filename":n})})).promise()}},de=(s={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},{isEdit:function(e){return ae.contains([s.BACKSPACE,s.TAB,s.ENTER,s.SPACe],e)},isMove:function(e){return ae.contains([s.LEFT,s.UP,s.RIGHT,s.DOWN],e)},nameFromCode:ie.invertObject(s),code:s}),fe=function(e){var t=[],n=-1,o=e[0],r=function(t){null!==t.contents&&e.html(t.contents),null!==t.bookmark&&ce.createFromBookmark(o,t.bookmark).select()};this.undo=function(){e.html()!==t[n].contents&&this.recordUndo(),0<n&&(n--,r(t[n]))},this.redo=function(){t.length-1>n&&(n++,r(t[n]))},this.recordUndo=function(){var r;n++,t.length>n&&(t=t.slice(0,n)),t.push((r=ce.create(),{contents:e.html(),bookmark:r?r.bookmark(o):{s:{path:[],offset:0},e:{path:[],offset:0}}}))},this.recordUndo()},pe=function(){this.fromNode=function(t){var n=function(t,n){if(re.jqueryVersion<1.9){var o={};return e.each(n,(function(e,n){o[n]=t.css(n)})),o}return t.css.call(t,n)}(t,["font-family","font-size","text-align","list-style-type","line-height"])||{};return n["font-size"]=parseInt(n["font-size"],10),n},this.stylePara=function(t,n){e.each(t.nodes(le.isPara,{includeAncestor:!0}),(function(t,o){e(o).css(n)}))},this.styleNodes=function(t,n){t=t.splitText();var o=n&&n.nodeName||"SPAN",r=!(!n||!n.expandClosestSibling),i=!(!n||!n.onlyPartialContains);if(t.isCollapsed())return[t.insertNode(le.create(o))];var a=le.makePredByNodeName(o),s=t.nodes(le.isText,{fullyContains:!0}).map((function(e){return le.singleChildAncestor(e,a)||le.wrap(e,o)}));if(r){if(i){var l=t.nodes();a=ie.and(a,(function(e){return ae.contains(l,e)}))}return s.map((function(t){var n=le.withClosestSiblings(t,a),o=ae.head(n),r=ae.tail(n);return e.each(r,(function(e,t){le.appendChildNodes(o,t.childNodes),le.remove(t)})),ae.head(n)}))}return s},this.current=function(t){var n=e(le.isText(t.sc)?t.sc.parentNode:t.sc),o=this.fromNode(n);if(o["font-bold"]=document.queryCommandState("bold")?"bold":"normal",o["font-italic"]=document.queryCommandState("italic")?"italic":"normal",o["font-underline"]=document.queryCommandState("underline")?"underline":"normal",o["font-strikethrough"]=document.queryCommandState("strikeThrough")?"strikethrough":"normal",o["font-superscript"]=document.queryCommandState("superscript")?"superscript":"normal",o["font-subscript"]=document.queryCommandState("subscript")?"subscript":"normal",t.isOnList()){var r=e.inArray(o["list-style-type"],["circle","disc","disc-leading-zero","square"])>-1;o["list-style"]=r?"unordered":"ordered"}else o["list-style"]="none";var i=le.ancestor(t.sc,le.isPara);if(i&&i.style["line-height"])o["line-height"]=i.style.lineHeight;else{var a=parseInt(o["line-height"],10)/parseInt(o["font-size"],10);o["line-height"]=a.toFixed(1)}return o.anchor=t.isOnAnchor()&&le.ancestor(t.sc,le.isAnchor),o.ancestors=le.listAncestor(t.sc,le.isEditable),o.range=t,o}},he=function(){this.insertOrderedList=function(){this.toggleList("OL")},this.insertUnorderedList=function(){this.toggleList("UL")},this.indent=function(){var t=this,n=ce.create().wrapBodyInlineWithPara(),o=n.nodes(le.isPara,{includeAncestor:!0}),r=ae.clusterBy(o,ie.peq2("parentNode"));e.each(r,(function(n,o){var r=ae.head(o);le.isLi(r)?t.wrapList(o,r.parentNode.nodeName):e.each(o,(function(t,n){e(n).css("marginLeft",(function(e,t){return(parseInt(t,10)||0)+25}))}))})),n.select()},this.outdent=function(){var t=this,n=ce.create().wrapBodyInlineWithPara(),o=n.nodes(le.isPara,{includeAncestor:!0}),r=ae.clusterBy(o,ie.peq2("parentNode"));e.each(r,(function(n,o){var r=ae.head(o);le.isLi(r)?t.releaseList([o]):e.each(o,(function(t,n){e(n).css("marginLeft",(function(e,t){return(t=parseInt(t,10)||0)>25?t-25:""}))}))})),n.select()},this.toggleList=function(t){var n=this,o=ce.create().wrapBodyInlineWithPara(),r=o.nodes(le.isPara,{includeAncestor:!0}),i=o.paraBookmark(r),a=ae.clusterBy(r,ie.peq2("parentNode"));if(ae.find(r,le.isPurePara)){var s=[];e.each(a,(function(e,o){s=s.concat(n.wrapList(o,t))})),r=s}else{var l=o.nodes(le.isList,{includeAncestor:!0}).filter((function(n){return!e.nodeName(n,t)}));l.length?e.each(l,(function(e,n){le.replace(n,t)})):r=this.releaseList(a,!0)}ce.createFromParaBookmark(i,r).select()},this.wrapList=function(e,t){var n=ae.head(e),o=ae.last(e),r=le.isList(n.previousSibling)&&n.previousSibling,i=le.isList(o.nextSibling)&&o.nextSibling,a=r||le.insertAfter(le.create(t||"UL"),o);return e=e.map((function(e){return le.isPurePara(e)?le.replace(e,"LI"):e})),le.appendChildNodes(a,e),i&&(le.appendChildNodes(a,ae.from(i.childNodes)),le.remove(i)),e},this.releaseList=function(t,n){var o=[];return e.each(t,(function(t,r){var i=ae.head(r),a=ae.last(r),s=n?le.lastAncestor(i,le.isList):i.parentNode,l=s.childNodes.length>1?le.splitTree(s,{node:a.parentNode,offset:le.position(a)+1},{isSkipPaddingBlankHTML:!0}):null,c=le.splitTree(s,{node:i.parentNode,offset:le.position(i)},{isSkipPaddingBlankHTML:!0});r=n?le.listDescendant(c,le.isLi):ae.from(c.childNodes).filter(le.isLi),!n&&le.isList(s.parentNode)||(r=r.map((function(e){return le.replace(e,"P")}))),e.each(ae.from(r).reverse(),(function(e,t){le.insertAfter(t,s)}));var u=ae.compact([s,c,l]);e.each(u,(function(t,n){var o=[n].concat(le.listDescendant(n,le.isList));e.each(o.reverse(),(function(e,t){le.nodeLength(t)||le.remove(t,!0)}))})),o=o.concat(r)})),o}},me=function(){var t=new he;this.insertTab=function(e,t,n){var o=le.createText(new Array(n+1).join(le.NBSP_CHAR));(t=t.deleteContents()).insertNode(o,!0),(t=ce.create(o,n)).select()},this.insertParagraph=function(){var n=ce.create();n=(n=n.deleteContents()).wrapBodyInlineWithPara();var o,r=le.ancestor(n.sc,le.isPara);if(r){if(le.isEmpty(r)&&le.isLi(r))return void t.toggleList(r.parentNode.nodeName);o=le.splitTree(r,n.getStartPoint());var i=le.listDescendant(r,le.isEmptyAnchor);i=i.concat(le.listDescendant(o,le.isEmptyAnchor)),e.each(i,(function(e,t){le.remove(t)}))}else{var a=n.sc.childNodes[n.so];o=e(le.emptyPara)[0],a?n.sc.insertBefore(o,a):n.sc.appendChild(o)}ce.create(o,0).normalize().select()}},ve=function(){this.tab=function(e,t){var n=le.ancestor(e.commonAncestor(),le.isCell),o=le.ancestor(n,le.isTable),r=le.listDescendant(o,le.isCell),i=ae[t?"prev":"next"](r,n);i&&ce.create(i,0).select()},this.createTable=function(t,n){for(var o,r=[],i=0;i<t;i++)r.push("<td>"+le.blank+"</td>");o=r.join("");for(var a,s=[],l=0;l<n;l++)s.push("<tr>"+o+"</tr>");return a=s.join(""),e('<table class="table table-bordered">'+a+"</table>")[0]}},ge=function(t){var n=this,o=new pe,r=new ve,i=new me,a=new he;this.createRange=function(e){return this.focus(e),ce.create()},this.saveRange=function(e,t){this.focus(e),e.data("range",ce.create()),t&&ce.create().collapse().select()},this.saveNode=function(e){for(var t=[],n=0,o=e[0].childNodes.length;n<o;n++)t.push(e[0].childNodes[n]);e.data("childNodes",t)},this.restoreRange=function(e){var t=e.data("range");t&&(t.select(),this.focus(e))},this.restoreNode=function(e){e.html("");for(var t=e.data("childNodes"),n=0,o=t.length;n<o;n++)e[0].appendChild(t[n])},this.currentStyle=function(t){var n=ce.create();if(!n||!n.isOnEditable()){var r=e(t).get(0);n=ce.create(r,0,r,0)}var i=n&&n.isOnEditable()?o.current(n.normalize()):{};return le.isImg(t)&&(i.image=t),i},this.styleFromNode=function(e){return o.fromNode(e)};var s=function(e){var n=le.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"before.command")(e.html(),e)},l=function(e){var n=le.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"change")(e.html(),e)};this.undo=function(e){s(e),e.data("NoteHistory").undo(),l(e)},this.redo=function(e){s(e),e.data("NoteHistory").redo(),l(e)};for(var c=this.beforeCommand=function(e){s(e),n.focus(e)},u=this.afterCommand=function(e,t){e.data("NoteHistory").recordUndo(),t||l(e)},d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor","foreColor","fontName"],f=0,p=d.length;f<p;f++)this[d[f]]=function(e){return function(t,n){c(t),document.execCommand(e,!1,n),u(t,!0)}}(d[f]);for(this.tab=function(e,t){var n=this.createRange(e);n.isCollapsed()&&n.isOnCell()?r.tab(n):(c(e),i.insertTab(e,n,t.tabsize),u(e))},this.untab=function(e){var t=this.createRange(e);t.isCollapsed()&&t.isOnCell()&&r.tab(t,!0)},this.insertParagraph=function(e){c(e),i.insertParagraph(e),u(e)},this.insertOrderedList=function(e){c(e),a.insertOrderedList(e),u(e)},this.insertUnorderedList=function(e){c(e),a.insertUnorderedList(e),u(e)},this.indent=function(e){c(e),a.indent(e),u(e)},this.outdent=function(e){c(e),a.outdent(e),u(e)},this.insertImage=function(e,n,o){ue.createImage(n,o).then((function(t){c(e),t.css({display:"",width:Math.min(e.width(),t.width())}),ce.create().insertNode(t[0]),ce.createFromNodeAfter(t[0]).select(),u(e)})).fail((function(){var n=le.makeLayoutInfo(e).holder();t.bindCustomEvent(n,e.data("callbacks"),"image.upload.error")()}))},this.insertNode=function(e,t){c(e),ce.create().insertNode(t),ce.createFromNodeAfter(t).select(),u(e)},this.prependNode=function(e,t){c(e),e.prepend(t),ce.createFromNodeAfter(t).select(),u(e)},this.insertAfter=function(t,n,o){c(t),e(o).after(n),ce.createFromNodeAfter(n).select(),u(t)},this.insertAtCursor=function(e,t){c(e),function(e){var t,n;window.getSelection?(t=window.getSelection()).getRangeAt&&t.rangeCount&&((n=t.getRangeAt(0)).deleteContents(),n.insertNode(e)):document.selection&&document.selection.createRange&&(document.selection.createRange().text=e.outerHTML)}(t),ce.createFromNodeAfter(t).select(),u(e)},this.insertText=function(e,t){c(e);var n=ce.create().insertNode(le.createText(t));ce.create(n,le.nodeLength(n)).select(),u(e)},this.pasteHTML=function(e,t){c(e);var n=ce.create().pasteHTML(t);ce.createFromNodeAfter(ae.last(n)).select(),u(e)},this.formatBlock=function(e,t){c(e),t=re.isMSIE?"<"+t+">":t,document.execCommand("FormatBlock",!1,t),u(e)},this.formatPara=function(e){c(e),this.formatBlock(e,"P"),u(e)},f=1;f<=6;f++)this["formatH"+f]=function(e){return function(t){this.formatBlock(t,"H"+e)}}(f);this.fontSize=function(t,n){var r=ce.create();if(r.isCollapsed()){var i=o.styleNodes(r),a=ae.head(i);e(i).css({"font-size":n+"px"}),a&&!le.nodeLength(a)&&(a.innerHTML=le.ZERO_WIDTH_NBSP_CHAR,ce.createFromNodeAfter(a.firstChild).select(),t.data("bogus",a))}else c(t),e(o.styleNodes(r)).css({"font-size":n+"px"}),u(t)},this.insertHorizontalRule=function(t){c(t);var n=ce.create().insertNode(e("<HR/>")[0]);n.nextSibling&&ce.create(n.nextSibling,0).normalize().select(),u(t)},this.removeBogus=function(e){var t=e.data("bogus");if(t){var n=ae.find(ae.from(t.childNodes),le.isText),o=n.nodeValue.indexOf(le.ZERO_WIDTH_NBSP_CHAR);-1!==o&&n.deleteData(o,1),le.isEmpty(t)&&le.remove(t),e.removeData("bogus")}},this.lineHeight=function(e,t){c(e),o.stylePara(ce.create(),{lineHeight:t}),u(e)},this.unlink=function(e){var t=this.createRange(e);if(t.isOnAnchor()){var n=le.ancestor(t.sc,le.isAnchor);(t=ce.createFromNode(n)).select(),c(e),document.execCommand("unlink"),u(e)}},this.createLink=function(t,n,r){var i=n.url,a=n.text,s=n.isNewWindow,l=n.range||this.createRange(t),d=l.toString()!==a;r=r||le.makeLayoutInfo(t).editor().data("options"),c(t),r.onCreateLink&&(i=r.onCreateLink(i));var f=[];if(d){var p=l.insertNode(e("<A>"+a+"</A>")[0]);f.push(p)}else f=o.styleNodes(l,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});e.each(f,(function(t,n){e(n).attr("href",i),s?e(n).attr("target","_blank"):e(n).removeAttr("target")}));var h=ce.createFromNodeBefore(ae.head(f)).getStartPoint(),m=ce.createFromNodeAfter(ae.last(f)).getEndPoint();ce.create(h.node,h.offset,m.node,m.offset).select(),u(t)},this.getLinkInfo=function(t){this.focus(t);var n=ce.create().expand(le.isAnchor),o=t.is("a")?t:e(ae.head(n.nodes(le.isAnchor))),r=o.is("a")?o.html():n.toString();return{range:n,text:r,isNewWindow:!!o.length&&"_blank"===o.attr("target"),url:o.length?o.attr("href"):""}},this.color=function(e,t){var n=JSON.parse(t),o=n.foreColor,r=n.backColor;c(e),o&&document.execCommand("foreColor",!1,o),r&&document.execCommand("backColor",!1,r),u(e)},this.insertTable=function(e,t){var n=t.split("x");c(e),ce.create().deleteContents().insertNode(r.createTable(n[0],n[1])),u(e)},this.floatMe=function(e,t,n){c(e),n.css("float",t),u(e)},this.imageShape=function(e,t,n){c(e),n.removeClass("img-rounded img-circle img-thumbnail"),t&&n.addClass(t),u(e)},this.resize=function(e,t,n){c(e),n.css({width:100*t+"%",height:""}),u(e)},this.resizeTo=function(e,t,n){var o;if(n){var r=e.y/e.x,i=t.data("ratio");o={width:i>r?e.x:e.y/i,height:i>r?e.x*i:e.y}}else o={width:e.x,height:e.y};t.css(o)},this.removeMedia=function(n,o,r){c(n),r.detach(),t.bindCustomEvent(e(),n.data("callbacks"),"media.delete")(r,n),u(n)},this.focus=function(e){if(e.focus(),re.isFF){var t=ce.create();if(!t||t.isOnEditable())return;ce.createFromNode(e[0]).normalize().collapse().select()}},this.isEmpty=function(e){return le.isEmpty(e[0])||le.emptyPara===e.html()}},be=function(){this.update=function(t,n){var o=function(t,n){t.find(".dropdown-menu li a").each((function(){var t;t="function"==typeof n?n(e(this)):e(this).data("value")+""==n+"",this.className=t?"checked":""}))},r=function(e,n){t.find(e).toggleClass("active",n())};if(n.image){var i=e(n.image);r('button[data-event="imageShape"][data-value="img-rounded"]',(function(){return i.hasClass("img-rounded")})),r('button[data-event="imageShape"][data-value="img-circle"]',(function(){return i.hasClass("img-circle")})),r('button[data-event="imageShape"][data-value="img-thumbnail"]',(function(){return i.hasClass("img-thumbnail")})),r('button[data-event="imageShape"]:not([data-value])',(function(){return!i.is(".img-rounded, .img-circle, .img-thumbnail")}));var a=i.css("float");r('button[data-event="floatMe"][data-value="left"]',(function(){return"left"===a})),r('button[data-event="floatMe"][data-value="right"]',(function(){return"right"===a})),r('button[data-event="floatMe"][data-value="none"]',(function(){return"left"!==a&&"right"!==a}));var s=i.attr("style");return r('button[data-event="resize"][data-value="1"]',(function(){return!!/(^|\s)(max-)?width\s*:\s*100%/.test(s)})),r('button[data-event="resize"][data-value="0.5"]',(function(){return!!/(^|\s)(max-)?width\s*:\s*50%/.test(s)})),void r('button[data-event="resize"][data-value="0.25"]',(function(){return!!/(^|\s)(max-)?width\s*:\s*25%/.test(s)}))}var l=t.find(".note-fontname");if(l.length){var c=n["font-family"];if(c){for(var u=c.split(","),d=0,f=u.length;d<f&&(c=u[d].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!re.isFontInstalled(c));d++);l.find(".note-current-fontname").text(c),o(l,c)}}var p=t.find(".note-fontsize");p.find(".note-current-fontsize").text(n["font-size"]),o(p,parseFloat(n["font-size"])),o(t.find(".note-height"),parseFloat(n["line-height"])),r('button[data-event="bold"]',(function(){return"bold"===n["font-bold"]})),r('button[data-event="italic"]',(function(){return"italic"===n["font-italic"]})),r('button[data-event="underline"]',(function(){return"underline"===n["font-underline"]})),r('button[data-event="strikethrough"]',(function(){return"strikethrough"===n["font-strikethrough"]})),r('button[data-event="superscript"]',(function(){return"superscript"===n["font-superscript"]})),r('button[data-event="subscript"]',(function(){return"subscript"===n["font-subscript"]})),r('button[data-event="justifyLeft"]',(function(){return"left"===n["text-align"]||"start"===n["text-align"]})),r('button[data-event="justifyCenter"]',(function(){return"center"===n["text-align"]})),r('button[data-event="justifyRight"]',(function(){return"right"===n["text-align"]})),r('button[data-event="justifyFull"]',(function(){return"justify"===n["text-align"]})),r('button[data-event="insertUnorderedList"]',(function(){return"unordered"===n["list-style"]})),r('button[data-event="insertOrderedList"]',(function(){return"ordered"===n["list-style"]}));var h=!!e(n.anchor).closest("[data-app-modern-menu]").length,m=t.find(".note-mbrBtnColor"),v=t.find(".note-mbrLinkColor");e(n.anchor).is(".btn:not(.mbr-menu-item, .mbr-editable-menu-item)")?(v.hide(),m.parent().css("display",""),o(m,(function(t){var o=e(n.anchor).hasClass(t.data("value"));if(o){var r=t.find("> span").clone().css("margin-left",0);m.find("button > .note-current-mbrBtnColor").html(r)}return o}))):e(n.anchor).is(".nav-link[data-app-btn], .dropdown-item[data-app-btn]")&&!h?(m.parent().hide(),v.hide()):(m.parent().hide(),v.show(),e(n.anchor).is("a")&&o(v,(function(t){var o=e(n.anchor).hasClass(t.data("value"));if("text-primary"!==t.data("value")||e(n.anchor).is(".text-primary,.text-success,.text-info,.text-warning,.text-danger,.text-white,.text-black,.text-gray")||(o=!0),o){var r=t.find("> span").clone().css("margin-left",0);v.find("button > .note-current-mbrLinkColor").html(r)}return o})));var g=t.find('.btn[data-name="mbrBtnRemove"]');if(g.length){var b=e(n.anchor).hasClass("mbr-menu-item")||e(n.anchor).hasClass("mbr-editable-menu-item"),y=b||"parent"===e(n.anchor).attr("data-app-btn")?e(n.anchor).parent().siblings("li").find("> a"):e(n.anchor).siblings("btn, [data-app-btn]");b&&(y.length?g.removeAttr("disabled"):g.attr("disabled","disabled"))}var w=t.find(".note-mbrFonts > [data-name=mbrFontSize]");w.find(".note-current-mbrFontSize").text(n["font-size"]),o(w,parseFloat(n["font-size"]));var x=t.find(".note-mbrFonts > [data-name=mbrFonts]");if(x.length){var C=n["font-family"];if(C){for(var S=C.split(","),k=0,P=S.length;k<P&&(C=S[k].replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,""),!re.isFontInstalled(C));k++);x.find(".note-current-mbrFonts").css("font-family","'"+C+"'").text(C),o(x,C)}}var A=t.find("[data-name=mbrColor] .curTextColor");if(n.ancestors){var F=e(n.ancestors[0]).parent().data("options"),_=e(n.anchor).hasClass("btn")||e(n.anchor).is("[data-app-btn]:not(.mbr-menu-item, .mbr-editable-menu-item, .nav-link, .dropdown-item)");if(F&&F.customToolbar&&"on"===F.customToolbar.mbrColor&&(_=!1),_)A.parent().remove();else{var I;for(var M in n.ancestors)/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(n.ancestors[M].tagName)&&(I=e(n.ancestors[M]).css("color"));I||(I=e(n.ancestors[0]).parent().css("color")),A.css({background:e.summernote.adaptColorForBg(I||"#000")})}}var T=t.find("[data-name=mbrAlign]").find("> i");switch(n["text-align"]){case"left":case"start":T.attr("class","mbr-icon-align-left");break;case"right":T.attr("class","mbr-icon-align-right");break;case"center":T.attr("class","mbr-icon-align-center");break;case"justify":T.attr("class","mbr-icon-align-justify")}},this.updateRecentColor=function(t,n,o){var r=e(t).closest(".note-color").find(".note-recent-color"),i=JSON.parse(r.attr("data-value"));i[n]=o,r.attr("data-value",JSON.stringify(i));var a="backColor"===n?"background-color":"color";r.find("i").css(a,o)}},ye=function(){var e=new be;this.update=function(t,n){e.update(t,n)},this.updateRecentColor=function(t,n,o){e.updateRecentColor(t,n,o)},this.activate=function(e){e.find("button").not('button[data-event="codeview"]').removeClass("disabled")},this.deactivate=function(e){e.find("button").not('button[data-event="codeview"]').addClass("disabled")},this.updateFullscreen=function(e,t){e.find('button[data-event="fullscreen"]').toggleClass("active",t)},this.updateCodeview=function(e,t){e.find('button[data-event="codeview"]').toggleClass("active",t),t?this.deactivate(e):this.activate(e)},this.get=function(e,t){return le.makeLayoutInfo(e).toolbar().find("[data-name="+t+"]")},this.setButtonState=function(e,t,n){n=!1!==n,this.get(e,t).toggleClass("active",n)}},we=function(){var t=e(document);this.attach=function(e,t){t.disableResizeEditor||e.statusbar().on("mousedown",n)};var n=function(e){e.preventDefault(),e.stopPropagation();var n=le.makeLayoutInfo(e.target).editable(),o=n.offset().top-t.scrollTop(),r=le.makeLayoutInfo(e.currentTarget||e.target).editor().data("options");t.on("mousemove.summernote",(function(e){var t=e.clientY-(o+24);t=r.minHeight>0?Math.max(t,r.minHeight):t,t=r.maxHeight>0?Math.min(t,r.maxHeight):t,n.height(t)})).one("mouseup.summernote",(function(){t.off("mousemove.summernote")}))}},xe=function(){var t=new be,n=function(t,n,o){var r=e(t),i=n?r.offset():r.position(),a=r.outerWidth(!0);return{left:i.left+a/2,top:i.top,lineHeight:o.ancestors[0]?e(o.ancestors[0].parentNode).outerHeight():""}},o=function(t,n){n=function(t,n){var o=e(window).width();t.css({display:"block",left:5,top:20});var r=t.outerWidth(),i=t.outerHeight();t.css("display","none"),n.left=n.left-r/2,n.top-i<20?(t.removeClass("top").addClass("bottom"),n.top=n.top+parseFloat(n.lineHeight)):(t.removeClass("bottom").addClass("top"),n.top=n.top-i);var a=n.left;n.left<5?n.left=5:n.left+r>o-10&&(n.left=o-10-r);var s=t.find(".dropdown-menu").parent(".btn-group");n.top<200?s.removeClass("dropup"):s.addClass("dropup");var l=-11+a-n.left;return t.find("> .arrow").css("margin-left",l),n}(t,n),t.css({display:"block",left:n.left,top:n.top})};this.addGroup=Me.addGroup,this.update=function(r,i,a){t.update(r,i);var s=i.anchor&&/btn|mbr-menu-item|mbr-editable-menu-item/g.test(i.anchor.className);!s&&i.anchor&&(s=!!e(i.anchor).attr("data-app-btn"));var l=i.range&&i.range.isCollapsed(),c=l&&i.anchor&&!s,u=r.find(".note-link-popover");if(c){var d=u.find("a:eq(0)"),f=e(i.anchor).attr("href"),p=e(i.anchor).attr("target");d.html(f),p?d.attr("target","_blank"):d.removeAttr("target"),setTimeout((function(){o(u,n(i.anchor,a,i))}),0)}else u.hide();var h=r.find(".note-button-popover");if(s){var m=n(i.anchor,a,i);setTimeout((function(){o(h,m)}),0)}else h.hide();var v=r.find(".note-image-popover");i.image?o(v,n(i.image,a,i)):v.hide();var g=r.find(".note-air-popover");if(a&&i.range&&!s&&!c){var b=i.range.getClientRects();if(b[0]){var y=0,w=0;for(var x in b)if("object"==typeof b[x]){if(b[x].top!==b[0].top)continue;y+=b[x].width,w=b[x].right}b={bottom:b[0].bottom,height:b[0].height,left:b[0].left,top:b[0].top,right:w,width:y};var C,S=g.find(".note-font"),k=g.find(".note-para"),P=g.find(".note-style"),A=g.find(".note-mbrLink"),F=g.find(".note-mbrFonts"),_=g.find("button[data-name=mbrAlign]");if(l){var I;for(var M in S.hide(),A.hide(),k.show(),P.show(),F.show(),_.show(),i.ancestors)/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(i.ancestors[M].tagName)&&(I=i.ancestors[M]);if(I||(I=e(i.ancestors[0]).parent()[0]),!I)return;C=n(I,a,i)}else{S.show(),A.show(),k.hide(),P.hide(),F.hide(),_.hide();var T=ie.rect2bnd(b);C={left:Math.max(T.left+T.width/2,0),top:T.top,lineHeight:i.ancestors[0]?e(i.ancestors[0].parentNode).outerHeight():""}}setTimeout((function(){o(g,C)}),0)}}else g.hide()},this.updateRecentColor=function(e,t,n){e.updateRecentColor(e,t,n)},this.hide=function(e){e.children().hide()}},Ce=function(t){var n=e(document),o=function(o){if(le.isControlSizing(o.target)){o.preventDefault(),o.stopPropagation();var r=le.makeLayoutInfo(o.target),i=r.handle(),a=r.popover(),s=r.editable(),l=r.editor(),c=i.find(".note-control-selection").data("target"),u=e(c),d=u.offset(),f=n.scrollTop(),p=l.data("options").airMode;n.on("mousemove.summernote",(function(e){t.invoke("editor.resizeTo",{x:e.clientX-d.left,y:e.clientY-(d.top-f)},u,!e.shiftKey),t.invoke("handle.update",i,{image:c},p),t.invoke("popover.update",a,{image:c},p)})).one("mouseup",(function(){n.off("mousemove.summernote"),t.invoke("editor.afterCommand",s)})),u.data("ratio")||u.data("ratio",u.height()/u.width())}};this.attach=function(e){e.handle().on("mousedown.summernote",o)},this.update=function(t,n,o){var r=t.find(".note-control-selection");if(n.image){var i=e(n.image),a=o?i.offset():i.position(),s={w:i.outerWidth(!0),h:i.outerHeight(!0)};r.css({display:"block",left:a.left,top:a.top,width:s.w,height:s.h}).data("target",n.image);var l=s.w+"x"+s.h;r.find(".note-control-selection-info").text(l)}else r.hide()},this.hide=function(e){e.children().hide()}},Se=function(t){var n=e(window),o=e("html, body");this.toggle=function(e){var r=e.editor(),i=e.toolbar(),a=e.editable(),s=e.codable(),l=function(e){a.css("height",e.h),s.css("height",e.h),s.data("cmeditor")&&s.data("cmeditor").setsize(null,e.h)};r.toggleClass("fullscreen");var c=r.hasClass("fullscreen");c?(a.data("orgheight",a.css("height")),n.on("resize.summernote",(function(){l({h:n.height()-i.outerHeight()})})).trigger("resize"),o.css("overflow","hidden")):(n.off("resize.summernote"),l({h:a.data("orgheight")}),o.css("overflow","visible")),t.invoke("toolbar.updateFullscreen",i,c)}};re.hasCodeMirror&&(re.isSupportAmd?Promise.resolve().then((function(){var e=[n(34)];(function(e){a=e}).apply(null,e)})).catch(n.oe):a=window.CodeMirror);var ke=function(e){this.sync=function(t){e.invoke("codeview.isActivated",t)&&re.hasCodeMirror&&t.codable().data("cmEditor").save()},this.isActivated=function(e){return e.editor().hasClass("codeview")},this.toggle=function(e){this.isActivated(e)?this.deactivate(e):this.activate(e)},this.activate=function(t){var n=t.editor(),o=t.toolbar(),r=t.editable(),i=t.codable(),s=t.popover(),l=t.handle(),c=n.data("options");if(i.val(le.html(r,c.prettifyHtml)),i.height(r.height()),e.invoke("toolbar.updateCodeview",o,!0),e.invoke("popover.hide",s),e.invoke("handle.hide",l),n.addClass("codeview"),i.focus(),re.hasCodeMirror){var u=a.fromTextArea(i[0],c.codemirror);if(c.codemirror.tern){var d=new a.TernServer(c.codemirror.tern);u.ternServer=d,u.on("cursorActivity.summernote",(function(e){d.updateArgHints(e)}))}u.setSize(null,r.outerHeight()),i.data("cmEditor",u)}},this.deactivate=function(t){var n=t.holder(),o=t.editor(),r=t.toolbar(),i=t.editable(),a=t.codable(),s=o.data("options");if(re.hasCodeMirror){var l=a.data("cmEditor");a.val(l.getValue()),l.toTextArea()}var c=le.value(a,s.prettifyHtml)||le.emptyPara,u=i.html()!==c;i.html(c),i.height(s.height?a.height():"auto"),o.removeClass("codeview"),u&&e.bindCustomEvent(n,i.data("callbacks"),"change")(i.html(),i),i.focus(),e.invoke("toolbar.updateCodeview",r,!1)}},Pe=function(t){var n=e(document);this.attach=function(e,t){t.airMode||t.disableDragAndDrop?n.on("drop.summernote",(function(e){e.preventDefault()})):this.attachDragAndDropEvent(e,t)},this.attachDragAndDropEvent=function(o,r){var i=e(),a=o.editor(),s=o.dropzone(),l=s.find(".note-dropzone-message");n.on("dragenter.summernote",(function(e){var n=t.invoke("codeview.isActivated",o),c=a.width()>0&&a.height()>0;n||i.length||!c||(a.addClass("dragover"),s.width(a.width()),s.height(a.height()),l.text(r.langInfo.image.dragImageHere)),i=i.add(e.target)})).on("dragleave",(function(e){(i=i.not(e.target)).length||a.removeClass("dragover")})).on("drop",(function(){i=e(),a.removeClass("dragover")})),s.on("dragenter.summernote",(function(){s.addClass("hover"),l.text(r.langInfo.image.dropImage)})).on("dragleave",(function(){s.removeClass("hover"),l.text(r.langInfo.image.dragImageHere)})),s.on("drop.summernote",(function(n){var o=n.originalEvent.dataTransfer,r=le.makeLayoutInfo(n.currentTarget||n.target);if(o&&o.files&&o.files.length)n.preventDefault(),r.editable().focus(),t.insertImages(r,o.files);else for(var i=function(){r.holder().summernote("insertNode",this)},a=0,s=o.types.length;a<s;a++){var l=o.types[a],c=o.getData(l);l.toLowerCase().indexOf("text")>-1?r.holder().summernote("pasteHTML",c):e(c).each(i)}})).on("dragover",!1)}},Ae=function(t){var n;this.attach=function(i){re.isMSIE&&re.browserVersion>10||re.isFF?(n=e("<div />").attr("contenteditable",!0).css({position:"absolute",left:-1e5,opacity:0}),i.editable().on("keydown.summernote",(function(e){e.ctrlKey&&e.keyCode===de.code.V&&(t.invoke("saveRange",i.editable()),n.focus(),setTimeout((function(){o(i)}),0))})),i.editable().before(n)):i.editable().on("paste.summernote",r)};var o=function(o){var r=o.editable(),i=n[0].firstChild;if(le.isImg(i)){for(var a=i.src,s=atob(a.split(",")[1]),l=new Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);var u=new Blob([l],{type:"image/png"});u.name="clipboard.png",t.invoke("restoreRange",r),t.invoke("focus",r),t.insertImages(o,[u])}else{var d=e("<div />").html(n.html()).html();t.invoke("restoreRange",r),t.invoke("focus",r),d&&t.invoke("pasteHTML",r,d)}n.empty()},r=function(e){var n=e.originalEvent.clipboardData,o=le.makeLayoutInfo(e.currentTarget||e.target),r=o.editable();if(n&&n.items&&n.items.length){var i=ae.head(n.items);"file"===i.kind&&-1!==i.type.indexOf("image/")&&t.insertImages(o,[i.getAsFile()]),t.invoke("editor.afterCommand",r)}}},Fe=function(t){var n=function(e,t){e.toggleClass("disabled",!t),e.attr("disabled",!t)},o=function(e,t){e.on("keypress.summernote",(function(e){e.keyCode===de.code.ENTER&&t.trigger("click")}))};this.showLinkDialog=function(t,r,i){return e.Deferred((function(e){var t=r.find(".note-link-dialog"),a=t.find(".note-link-text"),s=t.find(".note-link-url"),l=t.find(".note-link-btn"),c=t.find("input[type=checkbox]");t.one("shown.bs.modal",(function(){a.val(i.text),a.on("input",(function(){n(l,a.val()&&s.val()),i.text=a.val()})),i.url||(i.url=i.text||"http://",n(l,i.text)),s.on("input",(function(){n(l,a.val()&&s.val()),i.text||a.val(s.val())})).val(i.url).trigger("focus").trigger("select"),o(s,l),o(a,l),c.prop("checked",i.isNewWindow),l.one("click",(function(n){n.preventDefault(),e.resolve({range:i.range,url:s.val(),text:a.val(),isNewWindow:c.is(":checked")}),t.modal("hide")}))})).one("hidden.bs.modal",(function(){a.off("input keypress"),s.off("input keypress"),l.off("click"),"pending"===e.state()&&e.reject()})).modal("show")})).promise()},this.show=function(e){var n=e.editor(),o=e.dialog(),r=e.editable(),i=e.popover(),a=t.invoke("editor.getLinkInfo",r),s=n.data("options");t.invoke("editor.saveRange",r),this.showLinkDialog(r,o,a).then((function(e){t.invoke("editor.restoreRange",r),t.invoke("editor.createLink",r,e,s),t.invoke("popover.hide",i)})).fail((function(){t.invoke("editor.restoreRange",r)}))}},_e=function(t){this.show=function(e){var n=e.dialog(),o=e.editable();t.invoke("editor.saveRange",o),this.showImageDialog(o,n).then((function(n){t.invoke("editor.restoreRange",o),"string"==typeof n?t.invoke("editor.insertImage",o,n):t.insertImages(e,n)})).fail((function(){t.invoke("editor.restoreRange",o)}))},this.showImageDialog=function(t,n){return e.Deferred((function(e){var t=n.find(".note-image-dialog"),o=n.find(".note-image-input"),r=n.find(".note-image-url"),i=n.find(".note-image-btn");t.one("shown.bs.modal",(function(){var n;o.replaceWith(o.clone().on("change",(function(){e.resolve(this.files||this.value),t.modal("hide")})).val("")),i.click((function(n){n.preventDefault(),e.resolve(r.val()),t.modal("hide")})),r.on("keyup paste",(function(e){var t,n,o;t="paste"===e.type?e.originalEvent.clipboardData.getData("text"):r.val(),o=t,(n=i).toggleClass("disabled",!o),n.attr("disabled",!o)})).val("").trigger("focus"),n=i,r.on("keypress.summernote",(function(e){e.keyCode===de.code.ENTER&&n.trigger("click")}))})).one("hidden.bs.modal",(function(){o.off("change"),r.off("keyup paste keypress"),i.off("click"),"pending"===e.state()&&e.reject()})).modal("show")}))}},Ie=function(t){this.showHelpDialog=function(t,n){return e.Deferred((function(e){n.find(".note-help-dialog").one("hidden.bs.modal",(function(){e.resolve()})).modal("show")})).promise()},this.show=function(e){var n=e.dialog(),o=e.editable();t.invoke("editor.saveRange",o,!0),this.showHelpDialog(o,n).then((function(){t.invoke("editor.restoreRange",o)}))}};e.summernote=e.summernote||{},e.extend(e.summernote,{version:"0.6.17",options:{width:null,height:null,minHeight:null,maxHeight:null,focus:!1,tabsize:4,styleWithSpan:!0,disableLinkTarget:!1,disableDragAndDrop:!1,disableResizeEditor:!1,disableResizeImage:!1,shortcuts:!0,placeholder:!1,prettifyHtml:!0,iconPrefix:"mbr-icon-",icons:{font:{bold:"bold",italic:"italic",underline:"underline",clear:"eraser",height:"text-height",strikethrough:"strikethrough",superscript:"superscript",subscript:"subscript"},image:{image:"picture-o",floatLeft:"align-left",floatRight:"align-right",floatNone:"align-justify",shapeRounded:"square",shapeCircle:"circle-o",shapeThumbnail:"picture-o",shapeNone:"times",remove:"trash-o"},link:{link:"link",unlink:"unlink",edit:"edit2"},table:{table:"table"},hr:{insert:"minus"},style:{style:"magic-stick"},lists:{unordered:"bulleted-list",ordered:"numbered-list"},options:{help:"question",fullscreen:"arrows-alt",codeview:"code"},paragraph:{paragraph:"align-left",outdent:"outdent",indent:"indent",left:"align-left",center:"align-center",right:"align-right",justify:"align-justify"},color:{recent:"font"},history:{undo:"undo",redo:"repeat"},misc:{check:"check"}},dialogsInBody:!1,codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},lang:"en-US",direction:null,toolbar:[["style",["style"]],["font",["bold","italic","underline","clear"]],["fontname",["fontname"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]],["insert",["link","picture","hr"]],["view",["fullscreen","codeview"]],["help",["help"]]],plugin:{},airMode:!1,airPopover:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]],styleTags:["p","blockquote","pre","h1","h2","h3","h4"],defaultFontName:"Helvetica Neue",fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],insertTableMaxSize:{col:10,row:10},maximumImageFileSize:null,oninit:null,onfocus:null,onblur:null,onenter:null,onkeyup:null,onkeydown:null,onImageUpload:null,onImageUploadError:null,onMediaDelete:null,onToolbarClick:null,onsubmit:null,onCreateLink:function(e){return-1!==e.indexOf("@")&&-1===e.indexOf(":")&&(e="mailto:"+e),e},keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+ENTER":"insertHorizontalRule"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+ENTER":"insertHorizontalRule","CMD+V":"paste"}}},lang:{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}}});var Me=new function(){var t=function(e,t){var n=t.event,o=t.value,r=t.title,i=t.name,a=t.className,s=t.dropdown,l=t.nocaret,c=t.hide;return(s?'<div class="btn-group dropup'+(a?" "+a:"")+'"'+(i?' data-name="'+i+'"':"")+">":"")+'<button type="button" class="btn btn-default btn-sm'+(!s&&a?" "+a:"")+(s?" dropdown-toggle":"")+'"'+(s?' data-toggle="dropdown"':"")+(r?' title="'+r+'"':"")+(n?' data-event="'+n+'"':"")+(i&&!s?' data-name="'+i+'"':"")+(o?" data-value='"+o+"'":"")+(c?" data-hide='"+c+"'":"")+(s?' style="z-index: 1001;"':"")+' tabindex="-1">'+e+(s&&!l?' <span class="caret"></span>':"")+"</button>"+(s||"")+(s?"</div>":"")},n=function(e,n){return t('<i class="'+e+'"></i>',n)},o=function(t,n){var o=e('<div class="'+t+' popover top in" style="display: none;"><div class="arrow"></div><div class="popover-content"></div></div>');return o.find(".popover-content").append(n),o},r=function(e,t,n,o){return'<div class="'+e+' modal" aria-hidden="false"><div class="modal-dialog"><div class="modal-content">'+(t?'<div class="modal-header"><button type="button" class="close" aria-hidden="true" tabindex="-1">&times;</button><h4 class="modal-title">'+t+"</h4></div>":"")+'<div class="modal-body">'+n+"</div>"+(o?'<div class="modal-footer">'+o+"</div>":"")+"</div></div></div>"},i=function(e,t,n){var o="dropdown-menu"+(t?" "+t:"");return n=n||"ul",e instanceof Array&&(e=e.join("")),"<"+n+' class="'+o+'">'+e+"</"+n+">"},a={picture:function(e,t){return n(t.iconPrefix+t.icons.image.image,{event:"showImageDialog",title:e.image.image,hide:!0})},link:function(e,t){return n(t.iconPrefix+t.icons.link.link,{event:"showLinkDialog",title:e.link.link,hide:!0})},table:function(e,t){return n(t.iconPrefix+t.icons.table.table,{title:e.table.table,dropdown:i(['<div class="note-dimension-picker">','<div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"></div>','<div class="note-dimension-picker-highlighted"></div>','<div class="note-dimension-picker-unhighlighted"></div>',"</div>",'<div class="note-dimension-display"> 1 x 1 </div>'],"note-table")})},style:function(e,t){var o=t.styleTags.reduce((function(t,n){return t+'<li><a data-event="formatBlock" href="#" data-value="'+n+'">'+e.style["p"===n?"normal":n]+"</a></li>"}),"");return n(t.iconPrefix+t.icons.style.style,{title:e.style.style,dropdown:i(o)})},fontname:function(e,n){var o=[],r=n.fontNames.reduce((function(e,t){return re.isFontInstalled(t)||ae.contains(n.fontNamesIgnoreCheck,t)?(o.push(t),console.log(t),e+'<li><a data-event="fontName" href="#" data-value="'+t+'"><i class="'+n.iconPrefix+'check"></i> <span style="font-family:\''+t+"'\">"+t+"</span></a></li>"):e}),""),a=re.isFontInstalled(n.defaultFontName)?n.defaultFontName:o[0];return t('<span class="note-current-fontname">'+a+"</span>",{title:e.font.name,className:"note-fontname",dropdown:i(r,"note-check")})},fontsize:function(e,n){var o=n.fontSizes.reduce((function(e,t){return e+'<li><a data-event="fontSize" href="#" data-value="'+t+'"><i class="'+n.iconPrefix+n.icons.misc.check+'"></i> '+t+"</a></li>"}),"");return t('<span class="note-current-fontsize">11</span>',{title:e.font.size,className:"note-fontsize",dropdown:i(o,"note-check")})},color:function(e,n){var o='<i class="'+n.iconPrefix+n.icons.color.recent+'" style="color:black;background-color:yellow;"></i>',r=t(o,{className:"note-recent-color",title:e.color.recent,event:"color",value:'{"backColor":"yellow"}'}),a=['<li><div class="btn-group">','<div class="note-palette-title">'+e.color.background+"</div>",'<div class="note-color-reset" data-event="backColor"',' data-value="inherit" title="'+e.color.transparent+'">'+e.color.setTransparent+"</div>",'<div class="note-color-palette" data-target-event="backColor"></div>','</div><div class="btn-group">','<div class="note-palette-title">'+e.color.foreground+"</div>",'<div class="note-color-reset" data-event="foreColor" data-value="inherit" title="'+e.color.reset+'">',e.color.resetToDefault,"</div>",'<div class="note-color-palette" data-target-event="foreColor"></div>',"</div></li>"];return r+t("",{title:e.color.more,dropdown:i(a)})},bold:function(e,t){return n(t.iconPrefix+t.icons.font.bold,{event:"bold",title:e.font.bold})},italic:function(e,t){return n(t.iconPrefix+t.icons.font.italic,{event:"italic",title:e.font.italic})},underline:function(e,t){return n(t.iconPrefix+t.icons.font.underline,{event:"underline",title:e.font.underline})},strikethrough:function(e,t){return n(t.iconPrefix+t.icons.font.strikethrough,{event:"strikethrough",title:e.font.strikethrough})},superscript:function(e,t){return n(t.iconPrefix+t.icons.font.superscript,{event:"superscript",title:e.font.superscript})},subscript:function(e,t){return n(t.iconPrefix+t.icons.font.subscript,{event:"subscript",title:e.font.subscript})},clear:function(e,t){return n(t.iconPrefix+t.icons.font.clear,{event:"removeFormat",title:e.font.clear})},ul:function(e,t){return n(t.iconPrefix+t.icons.lists.unordered,{event:"insertUnorderedList",title:e.lists.unordered})},ol:function(e,t){return n(t.iconPrefix+t.icons.lists.ordered,{event:"insertOrderedList",title:e.lists.ordered})},paragraph:function(e,t){var o=n(t.iconPrefix+t.icons.paragraph.left,{title:e.paragraph.left,event:"justifyLeft"}),r=n(t.iconPrefix+t.icons.paragraph.center,{title:e.paragraph.center,event:"justifyCenter"}),a=n(t.iconPrefix+t.icons.paragraph.right,{title:e.paragraph.right,event:"justifyRight"}),s=n(t.iconPrefix+t.icons.paragraph.justify,{title:e.paragraph.justify,event:"justifyFull"}),l=n(t.iconPrefix+t.icons.paragraph.outdent,{title:e.paragraph.outdent,event:"outdent"}),c=['<div class="note-align btn-group">',o+r+a+s,'</div><div class="note-list btn-group">',n(t.iconPrefix+t.icons.paragraph.indent,{title:e.paragraph.indent,event:"indent"})+l,"</div>"];return n(t.iconPrefix+t.icons.paragraph.paragraph,{title:e.paragraph.paragraph,dropdown:i(c,"","div")})},height:function(e,t){var o=t.lineHeights.reduce((function(e,n){return e+'<li><a data-event="lineHeight" href="#" data-value="'+parseFloat(n)+'"><i class="'+t.iconPrefix+t.icons.misc.check+'"></i> '+n+"</a></li>"}),"");return n(t.iconPrefix+t.icons.font.height,{title:e.font.height,dropdown:i(o,"note-check")})},help:function(e,t){return n(t.iconPrefix+t.icons.options.help,{event:"showHelpDialog",title:e.options.help,hide:!0})},fullscreen:function(e,t){return n(t.iconPrefix+t.icons.options.fullscreen,{event:"fullscreen",title:e.options.fullscreen})},codeview:function(e,t){return n(t.iconPrefix+t.icons.options.codeview,{event:"codeview",title:e.options.codeview})},undo:function(e,t){return n(t.iconPrefix+t.icons.history.undo,{event:"undo",title:e.history.undo})},redo:function(e,t){return n(t.iconPrefix+t.icons.history.redo,{event:"redo",title:e.history.redo})},hr:function(e,t){return n(t.iconPrefix+t.icons.hr.insert,{event:"insertHorizontalRule",title:e.hr.insert})}},s=function(r,i){var s,c,u,d,f,p,h,m,v,g,b,y,w,x,C=e('<div class="note-popover" />');return C.append((s=n(i.iconPrefix+i.icons.link.link,{title:r.link.link,event:"showMbrLinkDialog",hide:!0}),c=a.mbrLinkColor(r,i),o("note-link-popover",'<a href="javascript:void(0)" style="display:none !important" target="_blank">www.google.com</a><div class="note-insert btn-group">'+s+c+"</div>"))),C.append((u=t('<span class="note-fontsize-10">100%</span>',{title:r.image.resizeFull,event:"resize",value:"1"}),d=t('<span class="note-fontsize-10">50%</span>',{title:r.image.resizeHalf,event:"resize",value:"0.5"}),f=t('<span class="note-fontsize-10">25%</span>',{title:r.image.resizeQuarter,event:"resize",value:"0.25"}),p=n(i.iconPrefix+i.icons.image.floatLeft,{title:r.image.floatLeft,event:"floatMe",value:"left"}),h=n(i.iconPrefix+i.icons.image.floatRight,{title:r.image.floatRight,event:"floatMe",value:"right"}),m=n(i.iconPrefix+i.icons.image.floatNone,{title:r.image.floatNone,event:"floatMe",value:"none"}),v=n(i.iconPrefix+i.icons.image.shapeRounded,{title:r.image.shapeRounded,event:"imageShape",value:"img-rounded"}),g=n(i.iconPrefix+i.icons.image.shapeCircle,{title:r.image.shapeCircle,event:"imageShape",value:"img-circle"}),b=n(i.iconPrefix+i.icons.image.shapeThumbnail,{title:r.image.shapeThumbnail,event:"imageShape",value:"img-thumbnail"}),y=n(i.iconPrefix+i.icons.image.shapeNone,{title:r.image.shapeNone,event:"imageShape",value:""}),w=n(i.iconPrefix+i.icons.image.remove,{title:r.image.remove,event:"removeMedia",value:"none"}),x=(i.disableResizeImage?"":'<div class="btn-group">'+u+d+f+"</div>")+'<div class="btn-group">'+p+h+m+'</div><br><div class="btn-group">'+v+g+b+y+'</div><div class="btn-group">'+w+"</div>",o("note-image-popover",x))),C.append(function(){var e=a.mbrLink(r,i),t=a.mbrFonts(r,i),n=a.mbrLinkColor(r,i),s=a.mbrFontSize(r,i),l=i.customToolbar;return l&&("off"===l.mbrLink&&(e=""),"off"===l.mbrFonts&&(t=""),"off"===l.mbrLinkColor&&(n=""),"off"===l.mbrFontSize&&(s="")),o("note-button-popover",'<div class="note-insert btn-group">'+e+'</div><div class="note-mbrFonts btn-group">'+t+s+n+"</div>")}()),i.airMode&&C.append(function(){for(var t=e("<div />"),n=0,a=i.airPopover.length;n<a;n++){var s=i.airPopover[n];t.append(l(s,r,i))}return o("note-air-popover",t.children())}()),C},l=function(t,n,o){var r=e('<div class="btn-group">');r.addClass("note-"+t[0]);for(var i=0,s=t[1].length;i<s;i++){var l=e(a[t[1][i]](n,o));l.attr("data-name",t[1][i]),r.append(l)}return r},c=function(e){return'<div class="note-handle"><div class="note-control-selection"><div class="note-control-selection-bg"></div><div class="note-control-holder note-control-nw"></div><div class="note-control-holder note-control-ne"></div><div class="note-control-holder note-control-sw"></div><div class="'+(e.disableResizeImage?"note-control-holder":"note-control-sizing")+' note-control-se"></div>'+(e.disableResizeImage?"":'<div class="note-control-selection-info"></div>')+"</div></div>"},u=function(e,t){var n="note-shortcut-col col-xs-6 note-shortcut-",o=[];for(var r in t)t.hasOwnProperty(r)&&o.push('<div class="'+n+'key">'+t[r].kbd+'</div><div class="'+n+'name">'+t[r].text+"</div>");return'<div class="note-shortcut-row row"><div class="'+n+'title col-xs-offset-6">'+e+'</div></div><div class="note-shortcut-row row">'+o.join('</div><div class="note-shortcut-row row">')+"</div>"},d=function(e){var t=[{kbd:" + B",text:e.font.bold},{kbd:" + I",text:e.font.italic},{kbd:" + U",text:e.font.underline},{kbd:" + \\",text:e.font.clear}];return u(e.shortcut.textFormatting,t)},f=function(e){var t=[{kbd:" + Z",text:e.history.undo},{kbd:" +  + Z",text:e.history.redo},{kbd:" + ]",text:e.paragraph.indent},{kbd:" + [",text:e.paragraph.outdent},{kbd:" + ENTER",text:e.hr.insert}];return u(e.shortcut.action,t)},p=function(e){var t=[{kbd:" +  + L",text:e.paragraph.left},{kbd:" +  + E",text:e.paragraph.center},{kbd:" +  + R",text:e.paragraph.right},{kbd:" +  + J",text:e.paragraph.justify},{kbd:" +  + NUM7",text:e.lists.ordered},{kbd:" +  + NUM8",text:e.lists.unordered}];return u(e.shortcut.paragraphFormatting,t)},h=function(e){var t=[{kbd:" + NUM0",text:e.style.normal},{kbd:" + NUM1",text:e.style.h1},{kbd:" + NUM2",text:e.style.h2},{kbd:" + NUM3",text:e.style.h3},{kbd:" + NUM4",text:e.style.h4},{kbd:" + NUM5",text:e.style.h5},{kbd:" + NUM6",text:e.style.h6}];return u(e.shortcut.documentStyle,t)},m=function(e,t){var n='class="note-shortcut note-shortcut-col col-sm-6 col-xs-12"',o=["<div "+n+">"+f(e)+"</div><div "+n+">"+d(e)+"</div>","<div "+n+">"+h(e)+"</div><div "+n+">"+p(e)+"</div>"];return t.extraKeys&&o.push("<div "+n+">"+function(e,t){var n=t.extraKeys,o=[];for(var r in n)n.hasOwnProperty(r)&&o.push({kbd:r,text:n[r]});return u(e.shortcut.extraKeys,o)}(e,t)+"</div>"),'<div class="note-shortcut-row row">'+o.join('</div><div class="note-shortcut-row row">')+"</div>"},v={image:function(e,t){var n="";if(t.maximumImageFileSize){var o=Math.floor(Math.log(t.maximumImageFileSize)/Math.log(1024)),i=1*(t.maximumImageFileSize/Math.pow(1024,o)).toFixed(2)+" "+" KMGTP"[o]+"B";n="<small>"+e.image.maximumFileSize+" : "+i+"</small>"}var a='<div class="form-group row note-group-select-from-files"><label>'+e.image.selectFromFiles+'</label><input class="note-image-input" type="file" name="files" accept="image/*" multiple="multiple" />'+n+'</div><div class="form-group row"><label>'+e.image.url+'</label><input class="note-image-url form-control col-md-12" type="text" /></div>',s='<button href="#" class="btn btn-primary note-image-btn disabled" disabled>'+e.image.insert+"</button>";return r("note-image-dialog",e.image.insert,a,s)},link:function(e,t){var n='<div class="form-group row"><label>'+e.link.textToDisplay+'</label><input class="note-link-text form-control col-md-12" type="text" /></div><div class="form-group row"><label>'+e.link.url+'</label><input class="note-link-url form-control col-md-12" type="text" value="http://" /></div>'+(t.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+e.link.openInNewWindow+"</label></div>"),o='<button href="#" class="btn btn-primary note-link-btn disabled" disabled>'+e.link.insert+"</button>";return r("note-link-dialog",e.link.insert,n,o)},help:function(e,t){var n='<a class="modal-close pull-right" aria-hidden="true" tabindex="-1">'+e.shortcut.close+'</a><div class="title">'+e.shortcut.shortcuts+"</div>"+(re.isMac?m(e,t):m(e,t).replace(//g,"Ctrl").replace(//g,"Shift"))+'<p class="text-center"><a href="//summernote.org/" target="_blank">Summernote 0.6.17</a>  <a href="//github.com/summernote/summernote" target="_blank">Project</a>  <a href="//github.com/summernote/summernote/issues" target="_blank">Issues</a></p>';return r("note-help-dialog","",n,"")}},g=function(t,n){var o="";return e.each(v,(function(e,r){o+=r(t,n)})),'<div class="note-dialog">'+o+"</div>"},b=function(){if(!b.isExecuted){b.isExecuted=!0;var t=e.fn.tooltip;e.fn.tooltip=function(e){return"object"==typeof e&&(e.animation=!1),t.apply(this,arguments)},e.fn.tooltip.__proto__=t}},y=function(t,n,o){ie.invertObject(n);var r=t.find("button");b(),r.each((function(e,t){})).tooltip({container:"body",trigger:"hover",placement:o||"top"}).on("click",(function(){e(this).tooltip("hide")}))},w=function(t,n){var o=n.colors;t.find(".note-color-palette").each((function(){for(var t=e(this),n=t.attr("data-target-event"),r=[],i=0,a=o.length;i<a;i++){for(var s=o[i],l=[],c=0,u=s.length;c<u;c++){var d=s[c];l.push(['<button type="button" class="note-color-btn" style="background-color:',d,';" data-event="',n,'" data-value="',d,'" title="',d,'" data-toggle="button" tabindex="-1"></button>'].join(""))}r.push('<div class="note-color-row">'+l.join("")+"</div>")}t.html(r.join(""))}))};this.createLayoutByAirMode=function(t,n){var o=n.langInfo,r=n.keyMap[re.isMac?"mac":"pc"],i=ie.uniqueId();t.addClass("note-air-editor note-editable"),t.attr({id:"note-editor-"+i,contentEditable:!0});var a=document.body,l=e(s(o,n));l.addClass("note-air-layout"),l.attr("id","note-popover-"+i),l.appendTo(a),y(l,r),w(l,n);var u=e(c(n));u.addClass("note-air-layout"),u.attr("id","note-handle-"+i),u.appendTo(a);var d=e(g(o,n));d.addClass("note-air-layout"),d.attr("id","note-dialog-"+i),d.find("button.close, a.modal-close").click((function(){e(this).closest(".modal").modal("hide")})),d.appendTo(a)},this.addGroup=function(t,n,o,r){o=o||"link,image,button,air";var i=t.data("options"),a=i.langInfo;n=l(n,a,i),o=o.split(",");for(var s="",c=0;c<o.length;c++)s+=(s?",":"")+".note-"+o[c]+"-popover";var u=t.attr("id").replace("note-editor-",""),d=e("#note-popover-"+u).find(s).find(".popover-content");0===r?d.prepend(n):r>0?d.children().eq(r-1).after(n):n.appendTo(d)},this.createLayoutByFrame=function(t,n){var o=n.langInfo,r=e('<div class="note-editor panel panel-default" />');n.width&&r.width(n.width),n.height>0&&e('<div class="note-statusbar">'+(n.disableResizeEditor?"":'<div class="note-resizebar"><div class="note-icon-bar"></div><div class="note-icon-bar"></div><div class="note-icon-bar"></div></div>')+"</div>").prependTo(r);var i=e('<div class="note-editing-area" />'),l=!t.is(":disabled"),u=e('<div class="note-editable panel-body" contentEditable="'+l+'"></div>').prependTo(i);n.height&&u.height(n.height),n.direction&&u.attr("dir",n.direction);var d=t.attr("placeholder")||n.placeholder;d&&u.attr("data-placeholder",d),u.html(le.html(t)||le.emptyPara),e('<textarea class="note-codable"></textarea>').prependTo(i);var f=e(s(o,n)).prependTo(i);w(f,n),y(f,A),e(c(n)).prependTo(i),i.prependTo(r);for(var p=e('<div class="note-toolbar panel-heading" />'),h=0,m=n.toolbar.length;h<m;h++){for(var v=n.toolbar[h][0],b=n.toolbar[h][1],x=e('<div class="note-'+v+' btn-group" />'),C=0,S=b.length;C<S;C++){var k=a[b[C]];if(e.isFunction(k)){var P=e(k(o,n));P.attr("data-name",b[C]),x.append(P)}}p.append(x)}var A=n.keyMap[re.isMac?"mac":"pc"];w(p,n),y(p,A,"bottom"),p.prependTo(r),e('<div class="note-dropzone"><div class="note-dropzone-message"></div></div>').prependTo(r);var F=n.dialogsInBody?e(document.body):r;e(g(o,n)).prependTo(F).find("button.close, a.modal-close").click((function(){e(this).closest(".modal").modal("hide")})),r.insertAfter(t),t.hide()},this.hasNoteEditor=function(e){return this.noteEditorFromHolder(e).length>0},this.noteEditorFromHolder=function(t){return t.hasClass("note-air-editor")?t:t.next().hasClass("note-editor")?t.next():e()},this.createLayout=function(e,t){t.airMode?this.createLayoutByAirMode(e,t):this.createLayoutByFrame(e,t)},this.layoutInfoFromHolder=function(e){var t=this.noteEditorFromHolder(e);if(t.length)return t.data("holder",e),le.buildLayoutInfo(t)},this.removeLayout=function(t,n,o){n.popover().find("[data-original-title]").tooltip(parseInt(e.fn.tooltip.Constructor.VERSION)>3?"dispose":"destroy"),o.airMode?(t.removeClass("note-air-editor note-editable").removeAttr("id contentEditable"),n.popover().remove(),n.handle().remove(),n.dialog().remove()):(t.html(n.editable().html()),o.dialogsInBody&&n.dialog().remove(),n.editor().remove(),t.show())},this.getTemplate=function(){return{button:t,iconButton:n,dialog:r}},this.addButtonInfo=function(e,t){a[e]=t},this.addDialogInfo=function(e,t){v[e]=t}},Te=new function(){var t=this,n=this.modules={editor:new ge(this),toolbar:new ye(this),statusbar:new we(this),popover:new xe(this),handle:new Ce(this),fullscreen:new Se(this),codeview:new ke(this),dragAndDrop:new Pe(this),clipboard:new Ae(this),linkDialog:new Fe(this),imageDialog:new _e(this),helpDialog:new Ie(this)};this.invoke=function(){var e=ae.head(ae.from(arguments)),t=ae.tail(ae.from(arguments)),n=e.split("."),o=n.length>1,r=o&&ae.head(n),i=o?ae.last(n):ae.head(n),a=this.getModule(r),s=a[i];return s&&s.apply(a,t)},this.getModule=function(e){return this.modules[e]||this.modules.editor};var o=this.bindCustomEvent=function(e,t,n){return function(){var o=t[ie.namespaceToCamel(n,"on")];return o&&o.apply(e[0],arguments),e.trigger("summernote."+n,arguments)}};this.insertImages=function(t,r){var i=t.editor(),a=t.editable(),s=t.holder(),l=a.data("callbacks"),c=i.data("options");l.onImageUpload?o(s,l,"image.upload")(r):e.each(r,(function(e,t){var r=t.name;c.maximumImageFileSize&&c.maximumImageFileSize<t.size?o(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError):ue.readFileAsDataURL(t).then((function(e){n.editor.insertImage(a,e,r)})).fail((function(){o(s,l,"image.upload.error")(c.langInfo.image.maximumFileSizeError)}))}))};var r={showLinkDialog:function(e){n.linkDialog.show(e)},showImageDialog:function(e){n.imageDialog.show(e)},showHelpDialog:function(e){n.helpDialog.show(e)},fullscreen:function(e){n.fullscreen.toggle(e)},codeview:function(e){n.codeview.toggle(e)}},i=function(e){le.isImg(e.target)&&e.preventDefault()},a=function(e){var t=le.makeLayoutInfo(e.currentTarget||e.target);n.editor.removeBogus(t.editable()),s(e)};this.updateStyleInfo=function(e,t){if(e&&t.popover().length){var o=t.editor().data("options").airMode;o||n.toolbar.update(t.toolbar(),e),n.popover.update(t.popover(),e,o),n.handle.update(t.handle(),e,o)}};var s=function(e){var o=e.target;setTimeout((function(){var e=le.makeLayoutInfo(o),r=n.editor.currentStyle(o);t.updateStyleInfo(r,e)}),0)},l=function(e){var t=le.makeLayoutInfo(e.currentTarget||e.target);n.popover.hide(t.popover()),n.handle.hide(t.handle())},c=function(t){e(t.target).closest("[data-event]").length&&t.preventDefault()},u=function(t){var o=e(t.target).closest("[data-event]");if(o.length){var i,a=o.attr("data-event"),l=o.attr("data-value"),c=o.attr("data-hide"),u=le.makeLayoutInfo(t.target);if(-1!==e.inArray(a,["resize","floatMe","removeMedia","imageShape"])){var d=u.handle().find(".note-control-selection");i=e(d.data("target"))}if(c&&o.parents(".popover").hide(),e.isFunction(e.summernote.pluginEvents[a]))e.summernote.pluginEvents[a](t,n.editor,u,l);else if(n.editor[a]){var f=u.editable();f.focus(),n.editor[a](f,l,i),t.preventDefault()}else r[a]&&(r[a].call(this,u),t.preventDefault());if(-1!==e.inArray(a,["backColor","foreColor"])){var p=u.editor().data("options",p);(p.airMode?n.popover:n.toolbar).updateRecentColor(ae.head(o),a,l)}if(o.attr("data-bs-original-title")){var h=o.siblings("ul.dropdown-menu");o.toggleClass("show"),h.length&&(h.toggleClass("show"),h.css("z-index",1002),h.css("transform","translateY(40px)"))}s(t)}};this.bindKeyMap=function(t,o){var i=t.editor(),a=t.editable();a.on("keydown.summernote",(function(s){var l=[];s.metaKey&&l.push("CMD"),s.ctrlKey&&!s.altKey&&l.push("CTRL"),s.shiftKey&&l.push("SHIFT");var c,u=de.nameFromCode[s.keyCode];u&&l.push(u);var d=l.join("+"),f=o[d];if(f){if(c=e.summernote.pluginEvents[d],e.isFunction(c)&&c(s,n.editor,t))return!1;c=e.summernote.pluginEvents[f],e.isFunction(c)?c(s,n.editor,t):n.editor[f]?(n.editor[f](a,i.data("options")),s.preventDefault()):r[f]&&(r[f].call(this,t),s.preventDefault())}else de.isEdit(s.keyCode)&&n.editor.afterCommand(a)}))},this.attach=function(t,o){var r;o.shortcuts&&this.bindKeyMap(t,o.keyMap[re.isMac?"mac":"pc"]),t.editable().on("mousedown.summernote",i),t.editable().on("keyup.summernote",a),t.editable().on("mouseup.summernote",(function(e){1===e.which&&a(e)})),t.editable().on("scroll.summernote",l),n.clipboard.attach(t,o),n.handle.attach(t,o),t.popover().on("click",u),t.popover().on("mousedown",c),e(window).on("resize",(function(){clearTimeout(r),r=setTimeout((function(){n.popover.hide(t.popover())}),50)})),n.dragAndDrop.attach(t,o),o.airMode||(t.toolbar().on("click",u),t.toolbar().on("mousedown",c),n.statusbar.attach(t,o)),(o.airMode?t.popover():t.toolbar()).find(".note-dimension-picker-mousecatcher").css({width:o.insertTableMaxSize.col+"em",height:o.insertTableMaxSize.row+"em"}).on("mousemove",(function(t){!function(t,n){var o,r=e(t.target.parentNode),i=r.next(),a=r.find(".note-dimension-picker-mousecatcher"),s=r.find(".note-dimension-picker-highlighted"),l=r.find(".note-dimension-picker-unhighlighted");if(void 0===t.offsetX){var c=e(t.target).offset();o={x:t.pageX-c.left,y:t.pageY-c.top}}else o={x:t.offsetX,y:t.offsetY};var u=Math.ceil(o.x/18)||1,d=Math.ceil(o.y/18)||1;s.css({width:u+"em",height:d+"em"}),a.attr("data-value",u+"x"+d),3<u&&u<n.insertTableMaxSize.col&&l.css({width:u+1+"em"}),3<d&&d<n.insertTableMaxSize.row&&l.css({height:d+1+"em"}),i.html(u+" x "+d)}(t,o)})),t.editor().data("options",o),re.isMSIE||setTimeout((function(){document.execCommand("styleWithCSS",0,o.styleWithSpan)}),0);var s=new fe(t.editable());t.editable().data("NoteHistory",s),t.editable().data("callbacks",{onInit:o.onInit,onFocus:o.onFocus,onBlur:o.onBlur,onKeydown:o.onKeydown,onKeyup:o.onKeyup,onMousedown:o.onMousedown,onEnter:o.onEnter,onPaste:o.onPaste,onBeforeCommand:o.onBeforeCommand,onChange:o.onChange,onImageUpload:o.onImageUpload,onImageUploadError:o.onImageUploadError,onMediaDelete:o.onMediaDelete,onToolbarClick:o.onToolbarClick});var d=n.editor.currentStyle(t.editable());this.updateStyleInfo(d,t)},this.attachCustomEvent=function(t,n){var r=t.holder(),i=t.editable(),a=i.data("callbacks");i.on("focus.summernote",o(r,a,"focus")),i.on("blur.summernote",o(r,a,"blur")),i.keydown((function(e){e.keyCode===de.code.ENTER&&o(r,a,"enter").call(this,e),o(r,a,"keydown").call(this,e)})),i.keyup(o(r,a,"keyup")),i.on("mousedown.summernote",o(r,a,"mousedown")),i.on("mouseup.summernote",o(r,a,"mouseup")),i.on("scroll.summernote",o(r,a,"scroll")),i.on("paste.summernote",o(r,a,"paste"));var s=re.isMSIE?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input";i.on(s+".summernote",(function(){o(r,a,"change")(i.html(),i)})),n.airMode||(t.toolbar().click(o(r,a,"toolbar.click")),t.popover().click(o(r,a,"popover.click"))),le.isTextarea(ae.head(r))&&r.closest("form").submit((function(e){t.holder().val(t.holder().code()),o(r,a,"submit").call(this,e,r.code())})),o(r,a,"init")(t);for(var l=0,c=e.summernote.plugins.length;l<c;l++)e.isFunction(e.summernote.plugins[l].init)&&e.summernote.plugins[l].init(t)},this.detach=function(e,t){e.holder().off(".summernote"),e.editable().off(".summernote"),e.popover().off(".summernote"),e.handle().off(".summernote"),e.dialog().off(),t.airMode||(e.dropzone().off(),e.toolbar().off(),e.statusbar().off())}};e.extend(e.summernote,{renderer:Me,eventHandler:Te,core:{agent:re,list:ae,dom:le,range:ce},pluginEvents:{},plugins:[]}),e.summernote.addPlugin=function(t){e.summernote.plugins.push(t),t.buttons&&e.each(t.buttons,(function(e,t){Me.addButtonInfo(e,t)})),t.dialogs&&e.each(t.dialogs,(function(e,t){Me.addDialogInfo(e,t)})),t.events&&e.each(t.events,(function(t,n){e.summernote.pluginEvents[t]=n})),t.langs&&e.each(t.langs,(function(t,n){e.summernote.lang[t]&&e.extend(e.summernote.lang[t],n)})),t.options&&e.extend(e.summernote.options,t.options)},e.summernote.adaptColorForBg=function(e){return"ffffff"==tinycolor(e).toHex()?"#efefef":e},e.fn.extend({summernote:function(){var t=e.type(ae.head(arguments)),n="string"===t,o="object"===t,r=o?ae.head(arguments):{};if((r=e.extend({},e.summernote.options,r)).icons=e.extend({},e.summernote.options.icons,r.icons),r.langInfo=e.extend(!0,{},e.summernote.lang["en-US"],e.summernote.lang[r.lang]),!n&&o)for(var i=0,a=e.summernote.plugins.length;i<a;i++){var s=e.summernote.plugins[i];r.plugin[s.name]&&(e.summernote.plugins[i]=e.extend(!0,s,r.plugin[s.name]))}this.each((function(t,n){var o=e(n),i=e.extend(!0,{},r),a=o.attr("data-toolbar");if(a){i.customToolbar||(i.customToolbar={});var s=a.split(/,\s|,/g);for(var l in s)/^-/g.test(s[l])?i.customToolbar[s[l].replace(/^-/g,"")]="off":i.customToolbar[s[l]]="on";for(var c in i.airPopover){for(var u in i.airPopover[c])if(!(u>1)){var d=i.airPopover[c][u];if("object"==typeof d){for(var f in d){var p=d[f];"off"===i.customToolbar[p]&&i.airPopover[c][u].splice(f,1)}d.length||i.airPopover[c].splice(u,1)}}1===i.airPopover[c].length&&i.airPopover.splice(c,1)}}if(!Me.hasNoteEditor(o)){Me.createLayout(o,i);var h=Me.layoutInfoFromHolder(o);o.data("layoutInfo",h),Te.attach(h,i),Te.attachCustomEvent(h,i)}}));var l=this.first();if(l.length){var c=Me.layoutInfoFromHolder(l);if(n){var u=ae.head(ae.from(arguments)),d=ae.tail(ae.from(arguments)),f=[u,c.editable()].concat(d);return Te.invoke.apply(Te,f)}r.focus&&c.editable().focus()}return this},code:function(t){if(void 0===t){var n=this.first();if(!n.length)return;var o=Me.layoutInfoFromHolder(n),r=o&&o.editable();if(r&&r.length){var i=Te.invoke("codeview.isActivated",o);return Te.invoke("codeview.sync",o),i?o.codable().val():o.editable().html()}return le.value(n)}return this.each((function(n,o){var r=Me.layoutInfoFromHolder(e(o)),i=r&&r.editable();i&&i.html(t)})),this},destroy:function(){return this.each((function(t,n){var o=e(n);if(Me.hasNoteEditor(o)){var r=Me.layoutInfoFromHolder(o),i=r.editor().data("options");Te.detach(r,i),Me.removeLayout(o,r,i)}})),this}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t){$.extend($.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize Full",resizeHalf:"Resize Half",resizeQuarter:"Resize Quarter",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Float None",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",normal:"Normal",blockquote:"Quote",pre:"Code",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},history:{undo:"Undo",redo:"Redo"}}})},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){var t=e.summernote.renderer.getTemplate(),n={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"},o={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"},r=function(){return mbrAppCore&&mbrAppCore.APP},i=function(){var e=r();return e&&e.getThemeButtonColors&&e.getThemeButtonColors()?e.getThemeButtonColors():n},a=function(){var e=r();return e&&e.hasButtonOutlineColors&&e.hasButtonOutlineColors()},s=function(){var e=r();return e&&e.getThemeLinkColors&&e.getThemeLinkColors()?e.getThemeLinkColors():o},l=function(){var e=r();return e&&e.getThemeButtonColors?'<li class="link-change-style">'+e.applyFilter("buttonColorSiteStyleIcon","")+"</li>":""};e.summernote.addPlugin({name:"mbrBtn",langs:{"en-US":{mbrBtn:{mbrBtnAdd:"Add",mbrBtnMove:"Move Left",mbrBtnRemove:"Remove",mbrBtnColor:"Color",mbrBtnExtendedColor:"Color"}}},buttons:{mbrBtnRemove:function(e,n){return t.iconButton("mbr-icon-trash",{event:"mbrBtnRemove",name:"mbrBtnRemove",title:e.mbrBtn.mbrBtnRemove,hide:!0})},mbrBtnAdd:function(e,n){return t.iconButton("mbr-icon-plus",{event:"mbrBtnAdd",name:"mbrBtnAdd",title:e.mbrBtn.mbrBtnAdd,hide:!1})},mbrBtnMove:function(e,n){return t.iconButton("mbr-icon-arrow-left",{event:"mbrBtnMove",name:"mbrBtnMove",title:e.mbrBtn.mbrBtnMove,hide:!1})},mbrBtnColor:function(n,o){var r="",a=i();for(var s in a)r+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+s+'"><i class="mbr-icon-check"></i><span style="width:25px;height:25px;border-radius:100px;vertical-align: bottom;margin-left: 5px;display: inline-block;background:'+e.summernote.adaptColorForBg(a[s])+';"></span></a></li>';var l='<ul class="dropdown-menu note-check">'+r+"</ul>";return t.button('<span class="note-current-mbrBtnColor"></span>',{title:n.mbrBtn.mbrBtnColor,name:"mbrBtnColor",event:"mbrBtnColorPrevent",hide:!0,className:"note-mbrBtnColor",dropdown:l,nocaret:!0})},mbrBtnExtendedColor:function(n,o){var r="",s=i();for(var c in s)r+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+c+'"><i class="mbr-icon-check"></i><span style="width:25px;height:25px;border-radius:100px;vertical-align: bottom;margin-left: 5px;display: inline-block;background:'+e.summernote.adaptColorForBg(s[c])+';"></span></a></li>';if(a())for(var c in s)r+='<li><a data-event="mbrBtnColor" href="javascript:void(0);" data-value="'+c+'-outline"><i class="mbr-icon-check"></i><span style="width:25px;height:25px;border-radius:100px;vertical-align: bottom;margin-left: 5px;display: inline-block;background: none;border: 3px solid '+e.summernote.adaptColorForBg(s[c])+';"></span></a></li>';var u='<ul class="dropdown-menu note-check">'+r+l()+"</ul>";return t.button('<span class="note-current-mbrBtnColor"></span>',{title:n.mbrBtn.mbrBtnExtendedColor,name:"mbrBtnColor",event:"mbrBtnColorPrevent",hide:!o.isSecondaryComponent,className:"note-mbrBtnColor",dropdown:u,nocaret:!0})},mbrLinkColor:function(n,o){var r="",i=s();for(var a in i)r+='<li><a data-event="mbrLinkColor" href="javascript:void(0);" data-value="'+a+'"><i class="mbr-icon-check"></i><span style="width:25px;height:25px;border-radius:100px;vertical-align: bottom;margin-left: 5px;display: inline-block;background:'+e.summernote.adaptColorForBg(i[a])+';"></span></a></li>';var c='<ul class="dropdown-menu note-check">'+r+l()+"</ul>";return t.button('<span class="note-current-mbrLinkColor"></span>',{title:"Color",name:"mbrLinkColor",event:"mbrBtnColorPrevent",hide:!o.isSecondaryComponent,className:"note-mbrLinkColor",dropdown:c,nocaret:!0})}},init:function(t){var n=[["insert2",["mbrBtnExtendedColor"]],["insert3",["mbrBtnAdd","mbrBtnMove","mbrBtnRemove"]]];"undefined"!=typeof mbrAppCore&&(n=mbrAppCore.applyFilter("summernoteMakePopover",n,t.editable()));var o=t.editor().data("options");for(var r in n){var i=n[r];if(o.customToolbar)for(var a in o.customToolbar)if("off"==o.customToolbar[a]){var s=i[1].indexOf(a);s<0||i[1].splice(s,1)}if(i[1].length){var l=i[1].concat("mbrShowSiteColors").map((function(e){return"mbrBtnExtendedColor"==e?e="mbrBtnColorPrevent":"mbrBtnColor"==e&&(e+="Prevent"),'[data-event="'+e+'"]'})).join(",");t.editable().summernote("popover.addGroup",i,"button"),t.popover().find(l).tooltip({container:"body",trigger:"hover",placement:"top"}).on("click",(function(){e(this).tooltip("hide")}))}}},events:{mbrShowSiteColors:function(e,t,n){setTimeout((function(){var e=r();e.openThemeSettings(),e.ToogleThemeSettings.target.$elm.find('[data-group-name="colors"]').addClass("selected")}),100)},mbrBtnRemove:function(e,t,n){var o=n.editable(),i=o.hasClass("mbr-menu-item")||o.hasClass("mbr-editable-menu-item"),a=i||"parent"===o.attr("data-app-btn"),s=(a?o.parent().siblings("li:eq(0)").find("> a"):o.siblings("[data-app-btn]:eq(0)"),a?o.parents("[data-app-edit]:eq(0)"):o.parent()),l=a?o.parent().siblings("li").find("> a"):o.siblings("btn, [data-app-btn]");if(!i&&!l.length)return o.blur(),void function(){var e=r();e&&e.fire&&e.fire.apply(e,arguments)}("removeLastButton");a?o.destroy().parent().remove():o.destroy().remove(),s.is("[data-app-edit]")&&s.trigger("delete.rivets")},mbrBtnAdd:function(e,t,n){var o=n.editable(),r=o,i=o.hasClass("mbr-menu-item")||o.hasClass("mbr-editable-menu-item")||"parent"===o.attr("data-app-btn");i&&(r=o.parent());var a=r.clone();r.after(a),r.after(" "),i&&(a=a.find("> a"),r=r.find("> a")),a.removeClass("summernote-air note-air-editor note-editable").removeAttr("id contenteditable"),a.trigger("mousedown")},mbrBtnMove:function(e,t,n){var o=n.editable(),r=o,i=o.hasClass("mbr-menu-item")||o.hasClass("mbr-editable-menu-item")||"parent"===o.attr("data-app-btn");i&&(r=o.parent());var a=r.prev(i?void 0:".btn");a[0]||(a=r.prev("[data-app-btn]")),a[0]&&(a.before(r),a.before(" "),t.afterCommand(o),o.focus())},mbrBtnColor:function(t,n,o,s){var l=o.editable(),c="",u=a();for(var d in i())c+=" "+d,u&&(c+=" "+d+"-outline");l.removeClass(c).addClass(s),r()&&l.trigger(e.Event("change-button-color",{removedClasses:c,addedClass:s})).closest(".app-component-content").find("> *").trigger("changeButtonColor.cards",l[0],s,c),n.afterCommand(l),o.editable().trigger("blur")},mbrLinkColor:function(t,n,o,r){var i=o.editable(),a=e(n.createRange(i).commonAncestor().parentNode);if(a.is("a")){var l="";for(var c in s())l+=" "+c;a.add(a.closest("[data-app-modern-menu]").find("a")).removeClass(l).addClass(r),n.afterCommand(i)}},mbrBtnColorPrevent:function(e){e.preventDefault()}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){var t=e.summernote.renderer.getTemplate(),n=[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,30,32,36,46,48,60,72,80,84,100];function o(t){var n;for(var o in t)/P|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(t[o].tagName)&&(n=t[o]);if(!n)for(var r in t)"A"!==t[r].tagName||(n=t[r]);return n||e(t[0]).parent()[0]}function r(t,n,o,r){window.mbrAppCore?window.mbrAppCore.addComponentStyles(e(t),n,o,r):e(t).css(n,o)}e.summernote.addPlugin({name:"mbrFonts",buttons:{mbrFonts:function(){for(var e="",n=(mbrAppCore||mbrAppCore.APP||mbrAppCore.APP.getAccesibleFonts)&&mbrAppCore.APP.getAccesibleFonts()||[],o=0;o<n.length;o++)e+='<li><a data-event="mbrFonts" href="javascript:void(0);"data-value="'+n[o].name+'" data-css="'+n[o].css+'" data-url="'+n[o].url+'" data-slug="'+o+'" style="font-family: '+n[o].css+';"><i class="mbr-icon-check"></i> '+n[o].name+"</a></li>";var r='<ul class="dropdown-menu note-check">'+e+"</ul>";return t.button('<span class="note-current-mbrFonts">Roboto</span>',{title:"Fonts",hide:!0,dropdown:r,event:"mbrFontsPrevent",name:"mbrFonts"})},mbrFontSize:function(){var e="";for(var o in n)e+='<li><a data-event="mbrFontSize" href="javascript:void(0);"data-value="'+n[o]+'"><i class="mbr-icon-check"></i> '+n[o]+"</a></li>";var r='<ul class="dropdown-menu note-check" style="min-width: 105px;"> '+e+" </ul>";return t.button('<span class="note-current-mbrFontSize">11</span>',{title:"Font Size",hide:!0,dropdown:r,event:"mbrFontsPrevent",name:"mbrFontSize"})}},events:{mbrFonts:function(t,n,i){i.editable().focus();var a=n.currentStyle(),s=e(t.target).attr("data-css"),l=e(t.target).attr("data-url"),c=o(a.ancestors);c&&r(c,"font-family",s,l)},mbrFontSize:function(t,n,i){i.editable().focus();var a=n.currentStyle(),s=e(t.target).attr("data-value"),l=o(a.ancestors);l&&r(l,"font-size",s+"px")},mbrFontsPrevent:function(e){e.preventDefault()}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){if(void 0===e.fn.spectrum)return!1;var t,n,o,r,i,a=e.summernote.renderer.getTemplate(),s=e('<input type="text" />').css({display:"none"}).appendTo("body");function l(){var a,l,c=!1;mbrAppCore&&mbrAppCore.APP&&(c=mbrAppCore.APP.getThemeColorsSet(7));var u=function(e,t){if(-1==(t=t.map((function(e){return e.toUpperCase()}))).indexOf(e.toUpperCase()))return!0};mbrAppCore&&mbrAppCore.APP&&(a=mbrAppCore.APP),a&&(s.spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:"More >",togglePaletteLessText:"Less <",maxSelectionSize:1,palette:c,move:function(i){!function(i){clearTimeout(l),l=setTimeout((function(){!function(i){o.beforeCommand(n),t&&t.css&&(window.mbrAppCore?window.mbrAppCore.addComponentStyles(t,"color",i):t.css("color",i),o.restoreRange(n)),r&&r.length&&r.find("[data-name=mbrColor] .curTextColor").css("background",e.summernote.adaptColorForBg(i)),o.afterCommand(n)}(i)}),150)}(i.toHexString())},hide:function(e){var t;e&&((t=a.projectSettings.theme.additionalSetColors)?u(e.toHexString(),t)&&u(e.toHexString(),a.getThemeColorsSet(7)[0])&&(t.length<7?t.push(e.toHexString()):(t.unshift(e.toHexString()),t.pop())):u(e.toHexString(),a.getThemeColorsSet(7)[0])?a.projectSettings.theme.additionalSetColors=[e.toHexString()]:a.projectSettings.theme.additionalSetColors=[])}}),(i=s.next(".sp-replacer")).css({position:"absolute",visibility:"hidden",opacity:0,width:0,height:0,overflow:"hidden",zIndex:-1e6}))}e.summernote.addPlugin({name:"mbrColor",langs:{"en-US":{mbrColor:{mbrColor:"Color"}}},buttons:{mbrColor:function(e,t){return a.button('<span class="curTextColor"style="border-radius: 100px;background: #000;width: 25px;height: 25px;float: left;"><span>',{event:"mbrColor",name:"mbrColor",title:e.mbrColor.mbrColor,hide:!1})}},events:{mbrColor:function(a,c,u){l(),a.stopPropagation(),a.preventDefault(),o=c,n=u.editable();let d=e(a.target);c.saveRange(n);let f=c.currentStyle();for(let n in f.ancestors)f.ancestors.hasOwnProperty(n)&&/P|DIV|UL|H1|H2|H3|H4|H5|H6|LABEL|TH|TD/g.test(f.ancestors[n].parentNode.tagName)&&(t=e(f.ancestors[n].parentNode));if(!t)for(let n in f.ancestors)f.ancestors.hasOwnProperty(n)&&"A"===f.ancestors[n].parentNode.tagName&&(t=e(f.ancestors[n].parentNode));if(t||(t=e(f.ancestors[0]).parent()),!t)return;r=u.popover();let p=d.offset(),h=d.outerHeight(!0),m=d.outerWidth(!0);i.css({top:p.top,left:p.left,height:h,width:m});let v=t.css("color");s.spectrum("set",v),s.spectrum("toggle")}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){var t=e.summernote.renderer.getTemplate(),n=e.summernote.core.range,o=e.summernote.core.list,r=e.summernote.core.dom;e.summernote.addPlugin({name:"mbrLink",langs:{"en-US":{mbrLink:{mbrLink:"Link"}}},buttons:{mbrLink:function(e,n){return t.iconButton("mbr-icon-link",{event:"showMbrLinkDialog",name:"mbrLink",title:e.mbrLink.mbrLink,hide:!0})}},events:{showMbrLinkDialog:function(e,t,i){var a={editor:t,layoutInfo:i,range:n,list:o,dom:r};window.mbrAppCore.APP.showMbrLinkDialog(a)}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){var t=e.summernote.renderer.getTemplate();function n(t,n,o){window.mbrAppCore?window.mbrAppCore.addComponentStyles(e(t),n,o):e(t).css(n,o)}e.summernote.addPlugin({name:"mbrAlign",langs:{"en-US":{mbrAlign:{mbrAlign:"Align"}}},buttons:{mbrAlign:function(e,n){return t.iconButton("fa fa-align-left",{event:"mbrAlign",name:"mbrAlign",title:e.mbrAlign.mbrAlign,className:"mbrAlign",hide:!1})}},events:{mbrAlign:function(t,o,r){t.stopPropagation();var i=r.editable(),a=o.currentStyle(),s=function(t){var n;for(var o in t)/\bP\b|DIV|UL|H1|H2|H3|H4|H5|H6/g.test(t[o].tagName)&&(n=t[o]);return n||e(t[t.length-1]).parent()[0]}(a.ancestors);switch(a["text-align"]){case"left":case"start":window.mbrAppCore?n(s,"text-align","center"):o.justifyCenter(i);break;case"right":window.mbrAppCore?n(s,"text-align","left"):o.justifyLeft(i);break;case"center":window.mbrAppCore?n(s,"text-align","right"):o.justifyRight(i)}}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){var t=e.summernote.core.range,n=e.summernote.core.dom;e.summernote.addPlugin({name:"mbrMultiline",events:{ENTER:function(e,o,r){var i=r.editor(),a=i.is("p, span, a, .btn, button, strong, b, em, i, small, code, label");if(!i.data("multiline")&&""!==i.data("multiline")||a){var s=r.editable();o.beforeCommand(s);var l=t.create().deleteContents(),c=n.splitPoint(l.getStartPoint(),!1),u=n.create("br");c.rightNode?c.rightNode.parentNode.insertBefore(u,c.rightNode):(c.container.appendChild(u),i[0]===c.container&&c.container.appendChild(n.create("br"))),l.normalize(),function(e){var o=e,r=n.nodeLength(o);return n.isVoid(o)&&(r=n.listPrev(o).length,o=o.parentNode),t.create(o,r,o,r)}(u).select(),o.afterCommand(s)}else r.holder().summernote("insertParagraph");return!0}},init:function(e){var t=e.holder();function n(e){if((8===e.keyCode||46===e.keyCode)&&0===t.text().length){var n=t.find("br");1===n.length&&n.remove();var o=t.find("p");1===o.length&&o.remove()}}t.on("keyup.summernote",n),n({keyCode:8})}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){"use strict";var t=e.summernote.renderer.getTemplate(),n=e.summernote.core.range;e.summernote.core.dom,e.summernote.eventHandler.modules,e.summernote.eventHandler,e.extend(e.summernote.options.icons,{iconFont:{iconFont:"sun"}}),e.summernote.addPlugin({name:"iconFont",langs:{"en-US":{iconFont:{iconFont:"Insert icon"}}},buttons:{iconFont:function(e,n){return t.iconButton(n.iconPrefix+n.icons.iconFont.iconFont,{event:"insertIconFontDialog",title:e.iconFont.iconFont,hide:!0}).replace("<button",'<button data-toggle="tooltip"')}},events:{insertIconFontDialog:function(t,o,r){r.popover().hide(),setTimeout((function(){var t=r.editor(),i=(r.dialog(),r.editable());if(o.getLinkInfo(i),t.data("options"),e("#"+i.attr("id")).length){i.focus(),o.saveRange(i);var a=n.create().ec;a.tagName||(a=a.parentNode);var s=i.attr("data-app-btn");s&&(a=i.children().get(0)),function(e,t,n){window.mbrAppCore&&window.mbrAppCore.summernoteIconRequest?window.mbrAppCore.summernoteIconRequest(e,t,n):(console.log("Error: no summernoteIconRequest handler"),n&&n())}(a,i.get(0),(function(t){o.restoreRange(i),r.popover().show(),arguments.length&&(t&&(s?o.prependNode(i,t):a?o.insertAfter(i,t,a):o.insertAtCursor(i,t)),a&&e(a).remove(),i.blur())}))}}),100)}}})})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;r=[n(0)],void 0===(i="function"==typeof(o=function(e){"use strict";var t,n=!0;function o(e,t,n){var o=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(o,arguments),n.apply(this,e)}}function r(e){for(var t=[],n=0;n<e.length;n++){var o=e[n];if(o[2]&&o[2].optional){var r=o[2].optional;if("boolean"==typeof r)t.push(".note-"+o[0]);else for(var i=0;i<r.length;i++)t.push('[data-name="'+r[i]+'"]')}}return t.join(",")}function i(t){var o=t.editor().data("options"),i=t.popover(),a=t.editable(),s=e.summernote.eventHandler.modules.editor.currentStyle(a);if(o.shortMode){var l=r(o.airPopover);if(!l)return;var c=i.find('[data-name="mbrShortModeMore"]');c.length||(a.summernote("popover.addGroup",["mbrShortModeMore",["mbrShortModeMore"]]),c=i.find('[data-name="mbrShortModeMore"]').tooltip({container:"body",trigger:"hover",placement:"top"})),n?(c.find("i").removeClass("mbr-icon-angle-left").addClass("mbr-icon-angle-right"),c.attr("data-original-title","More"),i.find(l).addClass("hidden")):(c.find("i").removeClass("mbr-icon-angle-right").addClass("mbr-icon-angle-left"),c.attr("data-original-title","Less"),i.find(l).removeClass("hidden"))}e.summernote.eventHandler.updateStyleInfo(s,t)}o(e.summernote.eventHandler.modules.popover,"addGroup",(function(t,o,i,a,s,l){var c=i.data("options");c.airPopover=c.airPopover||[],c.airPopover.push(a);var u=e("#note-popover-"+i.attr("id").replace("note-editor-",""));if("dropdownMenu"==a[0]){var d=r(c.airPopover);i.is("[data-button]")&&(u.find(".note-mbrShortModeMore").show(),d&&c.shortMode&&n&&u.find(d).addClass("hidden"))}(s||"link,image,button,air").split(",").forEach((function(e){var n=u.find(".note-"+e+"-popover .note-mbrShortModeMore").prevAll().length;t.call(this,i,a,e,n||-1)}),this),c.shortMode&&n&&a[2]&&a[2].optional&&(d=r([a]))&&u.find(d).addClass("hidden")})),o(e.summernote.eventHandler,"updateStyleInfo",(function(t,n,o,r){t.apply(this,n);var i=o.anchor&&/btn|mbr-menu-item|mbr-editable-menu-item/g.test(o.anchor.className);!i&&o.anchor&&(i=!!e(o.anchor).attr("data-app-btn"));var a=r.popover().find(".note-mbrShortModeMore");if(i)a.removeClass("hidden");else{var s=o.range&&o.range.isCollapsed(),l=s&&o.anchor;!s||l?a.addClass("hidden"):a.removeClass("hidden")}}));var a=e.summernote.renderer.getTemplate();e.summernote.addPlugin(function(n){if(!n.name)throw new Error("Plugin name not found.");t=n.name;var o=n.langs||{},r=e.summernote.options,i={};for(var s in o["en-US"]=o["en-US"]||{},r.icons[t]={},n.events=n.events||{},n.buttons=n.buttons||{},e.each(n.buttons,(function(e){var s=t+e.charAt(0).toUpperCase()+e.substr(1);i[s]=function(e,n){return function(o,r){return a.iconButton(r.iconPrefix+r.icons[t][e],{event:n,title:o[t][e],hide:!0}).replace("<button",'<button data-toggle="tooltip"')}}(e,s),n.events[s]=this.click,o["en-US"][e]=this.title||"",r.icons[t][e]=this.icon||""})),n.langs={},o)for(var l in n.langs[s]={},n.langs[s][t]={},o[s])n.langs[s][t][l]=o[s][l];return n.buttons=i,n}({name:"mbrShortMode",init:function(e){n=!0,i(e)},buttons:{more:{title:"More",icon:"angle-right",click:function(e,t,o){e.stopPropagation(),n=!n,i(o)}}}}))})?o.apply(t,r):o)||(e.exports=i)},function(e,t,n){var o,r,i;!function(a,s){"use strict";r=[n(0)],void 0===(i="function"==typeof(o=function e(t,n){function o(e){var t=h[f.locale];return t?t[e]:h.en[e]}function r(e,n,o){e.stopPropagation(),e.preventDefault(),t.isFunction(o)&&!1===o.call(n,e)||n.modal("hide")}function i(e,n){var o=0;t.each(e,(function(e,t){n(e,t,o++)}))}function a(e){var n,o;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return(e=t.extend({},f,e)).buttons||(e.buttons={}),n=e.buttons,o=function(e){var t,n=0;for(t in e)n++;return n}(n),i(n,(function(e,r,i){if(t.isFunction(r)&&(r=n[e]={callback:r}),"object"!==t.type(r))throw new Error("button with key "+e+" must be an object");r.label||(r.label=e),r.className||(r.className=2>=o&&i===o-1?"btn-primary":"btn-default")})),e}function s(e,n,o){return t.extend(!0,{},e,function(e,t){var n=e.length,o={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof e[0]?(o[t[0]]=e[0],o[t[1]]=e[1]):o=e[0],o}(n,o))}function l(e,t,n,o){return u(s({className:"bootbox-"+e,buttons:c.apply(null,t)},o,n),t)}function c(){for(var e={},t=0,n=arguments.length;n>t;t++){var r=arguments[t],i=r.toLowerCase(),a=r.toUpperCase();e[i]={label:o(a)}}return e}function u(e,t){var o={};return i(t,(function(e,t){o[t]=!0})),i(e.buttons,(function(e){if(o[e]===n)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")})),e}var d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},p={};p.alert=function(){var e;if((e=l("alert",["ok"],["message","callback"],arguments)).callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return!t.isFunction(e.callback)||e.callback.call(this)},p.dialog(e)},p.confirm=function(){var e;if((e=l("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,!1)},e.buttons.confirm.callback=function(){return e.callback.call(this,!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return p.dialog(e)},p.prompt=function(){var e,o,r,a,l,f,h;if(a=t(d.form),o={className:"bootbox-prompt",buttons:c("cancel","confirm"),value:"",inputType:"text"},f=(e=u(s(o,arguments,["title","callback"]),["cancel","confirm"])).show===n||e.show,e.message=a,e.buttons.cancel.callback=e.onEscape=function(){return e.callback.call(this,null)},e.buttons.confirm.callback=function(){var n;switch(e.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=l.val();break;case"checkbox":var o=l.find("input:checked");n=[],i(o,(function(e,o){n.push(t(o).val())}))}return e.callback.call(this,n)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!d.inputs[e.inputType])throw new Error("invalid prompt type");switch(l=t(d.inputs[e.inputType]),e.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":l.val(e.value);break;case"select":var m={};if(h=e.inputOptions||[],!t.isArray(h))throw new Error("Please pass an array of input options");if(!h.length)throw new Error("prompt with select requires options");i(h,(function(e,o){var r=l;if(o.value===n||o.text===n)throw new Error("given options in wrong format");o.group&&(m[o.group]||(m[o.group]=t("<optgroup/>").attr("label",o.group)),r=m[o.group]),r.append("<option value='"+o.value+"'>"+o.text+"</option>")})),i(m,(function(e,t){l.append(t)})),l.val(e.value);break;case"checkbox":var v=t.isArray(e.value)?e.value:[e.value];if(!(h=e.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!h[0].value||!h[0].text)throw new Error("given options in wrong format");l=t("<div/>"),i(h,(function(n,o){var r=t(d.inputs[e.inputType]);r.find("input").attr("value",o.value),r.find("label").append(o.text),i(v,(function(e,t){t===o.value&&r.find("input").prop("checked",!0)})),l.append(r)}))}return e.placeholder&&l.attr("placeholder",e.placeholder),e.pattern&&l.attr("pattern",e.pattern),e.maxlength&&l.attr("maxlength",e.maxlength),a.append(l),a.on("submit",(function(e){e.preventDefault(),e.stopPropagation(),r.find(".btn-primary").click()})),(r=p.dialog(e)).off("shown.bs.modal"),r.on("shown.bs.modal",(function(){l.focus()})),!0===f&&r.modal("show"),r},p.dialog=function(e){e=a(e);var o=t(d.dialog),s=o.find(".modal-dialog"),l=o.find(".modal-body"),c=e.buttons,u="",f={onEscape:e.onEscape};if(t.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(i(c,(function(e,t){u+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",f[e]=t.callback})),l.find(".bootbox-body").html(e.message),!0===e.animate&&o.addClass("fade"),e.className&&o.addClass(e.className),"large"===e.size?s.addClass("modal-lg"):"small"===e.size&&s.addClass("modal-sm"),e.title&&l.before(d.header),e.closeButton){var p=t(d.closeButton);e.title?o.find(".modal-header").prepend(p):p.css("margin-top","-10px").prependTo(l)}return e.title&&o.find(".modal-title").html(e.title),u.length&&(l.after(d.footer),o.find(".modal-footer").html(u)),o.on("hidden.bs.modal",(function(e){e.target===this&&o.remove()})),o.on("shown.bs.modal",(function(){o.find(".btn-primary:first").focus()})),"static"!==e.backdrop&&o.on("click.dismiss.bs.modal",(function(e){o.children(".modal-backdrop").length&&(e.currentTarget=o.children(".modal-backdrop").get(0)),e.target===e.currentTarget&&o.trigger("escape.close.bb")})),o.on("escape.close.bb",(function(e){f.onEscape&&r(e,o,f.onEscape)})),o.on("click",".modal-footer button",(function(e){var n=t(this).data("bb-handler");r(e,o,f[n])})),o.on("click",".bootbox-close-button",(function(e){r(e,o,f.onEscape)})),o.on("keyup",(function(e){27===e.which&&o.trigger("escape.close.bb")})),t(e.container).append(o),o.modal({backdrop:!!e.backdrop&&"static",keyboard:!1,show:!1}),e.show&&o.modal("show"),o},p.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(f,e)},p.hideAll=function(){return t(".bootbox").modal("hide"),p};var h={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return p.addLocale=function(e,n){return t.each(["OK","CANCEL","CONFIRM"],(function(e,t){if(!n[t])throw new Error("Please supply a translation for '"+t+"'")})),h[e]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},p},p.removeLocale=function(e){return delete h[e],p},p.setLocale=function(e){return p.setDefaults("locale",e)},p.init=function(n){return e(n||t)},p})?o.apply(t,r):o)||(e.exports=i)}()},function(e,t){!function(e,t,n){function o(t,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},s,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function r(t,n){var o=!0;return e.each(t,(function(e,r){if(void 0===n[e]||t[e]!==n[e])return o=!1,!1})),o}function i(){return!c&&l}function a(){var e=(n.body||n.documentElement).style,t="transition";if("string"==typeof e[t])return!0;v=["Moz","Webkit","Khtml","O","ms"],t=t.charAt(0).toUpperCase()+t.substr(1);for(var o=0;o<v.length;o++)if("string"==typeof e[v[o]+t])return!0;return!1}var s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(e,t){},functionBefore:function(e,t){t()},functionReady:function(e,t){},functionAfter:function(e){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(e){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};o.prototype={_init:function(){var t=this;if(n.querySelector){var o=null;void 0===t.$el.data("tooltipster-initialTitle")&&(void 0===(o=t.$el.attr("title"))&&(o=null),t.$el.data("tooltipster-initialTitle",o)),null!==t.options.content?t._content_set(t.options.content):t._content_set(o);var r=t.options.functionInit.call(t.$el,t.$el,t.Content);void 0!==r&&t._content_set(r),t.$el.removeAttr("title").addClass("tooltipstered"),!l&&t.options.iconDesktop||l&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.options.iconCloning?t.$elProxy=t.options.icon.clone(!0):t.$elProxy=t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,(function(){i()&&!t.options.touchDevices||(t.mouseIsOverProxy=!0,t._show())})).on("mouseleave."+t.namespace,(function(){i()&&!t.options.touchDevices||(t.mouseIsOverProxy=!1)})),l&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,(function(){t._showNow()}))):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,(function(){i()&&!t.options.touchDevices||t._show()}))}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout((function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()}),e.options.delay):e._showNow())},_showNow:function(n){var o=this;o.options.functionBefore.call(o.$el,o.$el,(function(){if(o.enabled&&null!==o.Content){n&&o.callbacks.show.push(n),o.callbacks.hide=[],clearTimeout(o.timerShow),o.timerShow=null,clearTimeout(o.timerHide),o.timerHide=null,o.options.onlyOne&&e(".tooltipstered").not(o.$el).each((function(t,n){var o=e(n),r=o.data("tooltipster-ns");e.each(r,(function(e,t){var n=o.data(t),r=n.status(),i=n.option("autoClose");"hidden"!==r&&"disappearing"!==r&&i&&n.hide()}))}));var r=function(){o.Status="shown",e.each(o.callbacks.show,(function(e,t){t.call(o.$el)})),o.callbacks.show=[]};if("hidden"!==o.Status){var i=0;"disappearing"===o.Status?(o.Status="appearing",a()?(o.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+o.options.animation+"-show"),o.options.speed>0&&o.$tooltip.delay(o.options.speed),o.$tooltip.queue(r)):o.$tooltip.stop().fadeIn(r)):"shown"===o.Status&&r()}else{o.Status="appearing";i=o.options.speed;o.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var s="tooltipster-"+o.options.animation,c="-webkit-transition-duration: "+o.options.speed+"ms; -webkit-animation-duration: "+o.options.speed+"ms; -moz-transition-duration: "+o.options.speed+"ms; -moz-animation-duration: "+o.options.speed+"ms; -o-transition-duration: "+o.options.speed+"ms; -o-animation-duration: "+o.options.speed+"ms; -ms-transition-duration: "+o.options.speed+"ms; -ms-animation-duration: "+o.options.speed+"ms; transition-duration: "+o.options.speed+"ms; animation-duration: "+o.options.speed+"ms;",u=o.options.minWidth?"min-width:"+Math.round(o.options.minWidth)+"px;":"",d=o.options.maxWidth?"max-width:"+Math.round(o.options.maxWidth)+"px;":"",f=o.options.interactive?"pointer-events: auto;":"";if(o.$tooltip=e('<div class="tooltipster-base '+o.options.theme+'" style="'+u+" "+d+" "+f+" "+c+'"><div class="tooltipster-content"></div></div>'),a()&&o.$tooltip.addClass(s),o._content_insert(),o.$tooltip.appendTo("body"),o.reposition(),o.options.functionReady.call(o.$el,o.$el,o.$tooltip),a()?(o.$tooltip.addClass(s+"-show"),o.options.speed>0&&o.$tooltip.delay(o.options.speed),o.$tooltip.queue(r)):o.$tooltip.css("display","none").fadeIn(o.options.speed,r),o._interval_set(),e(t).on("scroll."+o.namespace+" resize."+o.namespace,(function(){o.reposition()})),o.options.autoClose)if(e("body").off("."+o.namespace),"hover"==o.options.trigger){if(l&&setTimeout((function(){e("body").on("touchstart."+o.namespace,(function(){o.hide()}))}),0),o.options.interactive){l&&o.$tooltip.on("touchstart."+o.namespace,(function(e){e.stopPropagation()}));var p=null;o.$elProxy.add(o.$tooltip).on("mouseleave."+o.namespace+"-autoClose",(function(){clearTimeout(p),p=setTimeout((function(){o.hide()}),o.options.interactiveTolerance)})).on("mouseenter."+o.namespace+"-autoClose",(function(){clearTimeout(p)}))}else o.$elProxy.on("mouseleave."+o.namespace+"-autoClose",(function(){o.hide()}));o.options.hideOnClick&&o.$elProxy.on("click."+o.namespace+"-autoClose",(function(){o.hide()}))}else"click"==o.options.trigger&&(setTimeout((function(){e("body").on("click."+o.namespace+" touchstart."+o.namespace,(function(){o.hide()}))}),0),o.options.interactive&&o.$tooltip.on("click."+o.namespace+" touchstart."+o.namespace,(function(e){e.stopPropagation()})))}o.options.timer>0&&(o.timerHide=setTimeout((function(){o.timerHide=null,o.hide()}),o.options.timer+i))}}))},_interval_set:function(){var t=this;t.checkInterval=setInterval((function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)"shown"!=t.Status&&"appearing"!=t.Status||t.hide(),t._interval_cancel();else if(t.options.positionTracker){var n=t._repositionInfo(t.$elProxy),o=!1;r(n.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?r(n.position,t.elProxyPosition.position)&&(o=!0):r(n.offset,t.elProxyPosition.offset)&&(o=!0)),o||(t.reposition(),t.options.positionTrackerCallback.call(t,t.$el))}}),200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.Content||e.options.contentAsHTML?t.empty().append(e.Content):t.text(e.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(a()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout((function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})}),t.options.speed))}),t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,(function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)})))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(n){var o=this;n&&o.callbacks.hide.push(n),o.callbacks.show=[],clearTimeout(o.timerShow),o.timerShow=null,clearTimeout(o.timerHide),o.timerHide=null;var r=function(){e.each(o.callbacks.hide,(function(e,t){t.call(o.$el)})),o.callbacks.hide=[]};if("shown"==o.Status||"appearing"==o.Status){o.Status="disappearing";var i=function(){o.Status="hidden","object"==typeof o.Content&&null!==o.Content&&o.Content.detach(),o.$tooltip.remove(),o.$tooltip=null,e(t).off("."+o.namespace),e("body").off("."+o.namespace).css("overflow-x",o.bodyOverflowX),e("body").off("."+o.namespace),o.$elProxy.off("."+o.namespace+"-autoClose"),o.options.functionAfter.call(o.$el,o.$el),r()};a()?(o.$tooltip.clearQueue().removeClass("tooltipster-"+o.options.animation+"-show").addClass("tooltipster-dying"),o.options.speed>0&&o.$tooltip.delay(o.options.speed),o.$tooltip.queue(i)):o.$tooltip.stop().fadeOut(o.options.speed,i)}else"hidden"==o.Status&&r();return o},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return void 0===e?this.Content:(this._update(e),this)},reposition:function(){var n=this;if(0!==e("body").find(n.$tooltip).length){n.$tooltip.css("width",""),n.elProxyPosition=n._repositionInfo(n.$elProxy);var o=null,r=e(t).width(),i=n.elProxyPosition,a=n.$tooltip.outerWidth(!1),s=(n.$tooltip.innerWidth(),n.$tooltip.outerHeight(!1));if(n.$elProxy.is("area")){var l=n.$elProxy.attr("shape"),c=n.$elProxy.parent().attr("name"),u=e('img[usemap="#'+c+'"]'),d=u.offset().left,f=u.offset().top,p=void 0!==n.$elProxy.attr("coords")?n.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var h=parseInt(p[0]),m=parseInt(p[1]),v=parseInt(p[2]);i.dimension.height=2*v,i.dimension.width=2*v,i.offset.top=f+m-v,i.offset.left=d+h-v}else if("rect"==l){h=parseInt(p[0]),m=parseInt(p[1]);var g=parseInt(p[2]),b=parseInt(p[3]);i.dimension.height=b-m,i.dimension.width=g-h,i.offset.top=f+m,i.offset.left=d+h}else if("poly"==l){for(var y=0,w=0,x=0,C=0,S="even",k=0;k<p.length;k++){var P=parseInt(p[k]);"even"==S?(P>x&&(x=P,0===k&&(y=x)),P<y&&(y=P),S="odd"):(P>C&&(C=P,1==k&&(w=C)),P<w&&(w=P),S="even")}i.dimension.height=C-w,i.dimension.width=x-y,i.offset.top=f+w,i.offset.left=d+y}else i.dimension.height=u.outerHeight(!1),i.dimension.width=u.outerWidth(!1),i.offset.top=f,i.offset.left=d}var A=0,F=0,_=0,I=parseInt(n.options.offsetY),M=parseInt(n.options.offsetX),T=n.options.position;function E(){var n=e(t).scrollLeft();A-n<0&&(o=A-n,A=n),A+a-n>r&&(o=A-(r+n-a),A=r+n-a)}function N(n,o){i.offset.top-e(t).scrollTop()-s-I-12<0&&o.indexOf("top")>-1&&(T=n),i.offset.top+i.dimension.height+s+12+I>e(t).scrollTop()+e(t).height()&&o.indexOf("bottom")>-1&&(T=n,_=i.offset.top-s-I-12)}if("top"==T){var R=i.offset.left+a-(i.offset.left+i.dimension.width);A=i.offset.left+M-R/2,_=i.offset.top-s-I-12,E(),N("bottom","top")}if("top-left"==T&&(A=i.offset.left+M,_=i.offset.top-s-I-12,E(),N("bottom-left","top-left")),"top-right"==T&&(A=i.offset.left+i.dimension.width+M-a,_=i.offset.top-s-I-12,E(),N("bottom-right","top-right")),"bottom"==T){R=i.offset.left+a-(i.offset.left+i.dimension.width);A=i.offset.left-R/2+M,_=i.offset.top+i.dimension.height+I+12,E(),N("top","bottom")}if("bottom-left"==T&&(A=i.offset.left+M,_=i.offset.top+i.dimension.height+I+12,E(),N("top-left","bottom-left")),"bottom-right"==T&&(A=i.offset.left+i.dimension.width+M-a,_=i.offset.top+i.dimension.height+I+12,E(),N("top-right","bottom-right")),"left"==T){A=i.offset.left-M-a-12,F=i.offset.left+M+i.dimension.width+12;var O=i.offset.top+s-(i.offset.top+i.dimension.height);if(_=i.offset.top-O/2-I,A<0&&F+a>r){var L=2*parseFloat(n.$tooltip.css("border-width")),B=a+A-L;n.$tooltip.css("width",B+"px"),s=n.$tooltip.outerHeight(!1),A=i.offset.left-M-B-12-L,O=i.offset.top+s-(i.offset.top+i.dimension.height),_=i.offset.top-O/2-I}else A<0&&(A=i.offset.left+M+i.dimension.width+12,o="left")}if("right"==T){A=i.offset.left+M+i.dimension.width+12,F=i.offset.left-M-a-12;O=i.offset.top+s-(i.offset.top+i.dimension.height);if(_=i.offset.top-O/2-I,A+a>r&&F<0){L=2*parseFloat(n.$tooltip.css("border-width")),B=r-A-L;n.$tooltip.css("width",B+"px"),s=n.$tooltip.outerHeight(!1),O=i.offset.top+s-(i.offset.top+i.dimension.height),_=i.offset.top-O/2-I}else A+a>r&&(A=i.offset.left-M-a-12,o="right")}if(n.options.arrow){var D="tooltipster-arrow-"+T;if(n.options.arrowColor.length<1)var $=n.$tooltip.css("background-color");else $=n.options.arrowColor;if(o?"left"==o?(D="tooltipster-arrow-right",o=""):"right"==o?(D="tooltipster-arrow-left",o=""):o="left:"+Math.round(o)+"px;":o="","top"==T||"top-left"==T||"top-right"==T)var H=parseFloat(n.$tooltip.css("border-bottom-width")),j=n.$tooltip.css("border-bottom-color");else if("bottom"==T||"bottom-left"==T||"bottom-right"==T)H=parseFloat(n.$tooltip.css("border-top-width")),j=n.$tooltip.css("border-top-color");else if("left"==T)H=parseFloat(n.$tooltip.css("border-right-width")),j=n.$tooltip.css("border-right-color");else if("right"==T)H=parseFloat(n.$tooltip.css("border-left-width")),j=n.$tooltip.css("border-left-color");else H=parseFloat(n.$tooltip.css("border-bottom-width")),j=n.$tooltip.css("border-bottom-color");H>1&&H++;var U="";if(0!==H){var z="",q="border-color: "+j+";";-1!==D.indexOf("bottom")?z="margin-top: -"+Math.round(H)+"px;":-1!==D.indexOf("top")?z="margin-bottom: -"+Math.round(H)+"px;":-1!==D.indexOf("left")?z="margin-right: -"+Math.round(H)+"px;":-1!==D.indexOf("right")&&(z="margin-left: -"+Math.round(H)+"px;"),U='<span class="tooltipster-arrow-border" style="'+z+" "+q+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var V='<div class="'+D+' tooltipster-arrow" style="'+o+'">'+U+'<span style="border-color:'+$+';"></span></div>';n.$tooltip.append(V)}n.$tooltip.css({top:Math.round(_)+"px",left:Math.round(A)+"px"})}return n},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var n=t.$el.data("tooltipster-ns");if(1===n.length){var o=null;"previous"===t.options.restoration?o=t.$el.data("tooltipster-initialTitle"):"current"===t.options.restoration&&(o="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html()),o&&t.$el.attr("title",o),t.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")}else n=e.grep(n,(function(e,n){return e!==t.namespace})),t.$el.data("tooltipster-ns",n);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return void 0===t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn.tooltipster=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var n=!0;switch(t[0]){case"setDefaults":e.extend(s,t[1]);break;default:n=!1}return!!n||this}return this}if("string"==typeof t[0]){var r="#*$~&";return this.each((function(){var n=e(this).data("tooltipster-ns"),o=n?e(this).data(n[0]):null;if(!o)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof o[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var i=o[t[0]](t[1],t[2]);if(i!==o)return r=i,!1})),"#*$~&"!==r?r:this}var i=[],a=t[0]&&void 0!==t[0].multiple,l=a&&t[0].multiple||!a&&s.multiple,c=t[0]&&void 0!==t[0].debug,u=c&&t[0].debug||!c&&s.debug;return this.each((function(){var n=!1,r=e(this).data("tooltipster-ns"),a=null;r?l?n=!0:u&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(a=new o(this,t[0]),r||(r=[]),r.push(a.namespace),e(this).data("tooltipster-ns",r),e(this).data(a.namespace,a)),i.push(a)})),l?i:this};var l=!!("ontouchstart"in t),c=!1;e("body").one("mousemove",(function(){c=!0}))}(jQuery,window,document)},function(e,t){!function(e){var t=function(){this.$body=e("body"),this.$window=e(window),this.$document=e(document),this.$template=e(".template > div"),this.components={},this.currentPage="index.html",this.resultJSON={"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}},this.isMobile=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),this.isMobile&&e("html").addClass("device")},n=0;t.prototype.uniqNum=function(){return n++},t.prototype.resetUniqNum=function(){n=0},this.uniqCompNum=0,t.prototype.getUniqCompName=function(){return(this.uniqCompNum++).toString(36)};var o={},r={};t.prototype.on=function(t,n){if(e.isArray(t))for(var i in t)this.on(t[i],n);else r[t]?n&&n.apply(this,r[t]):(o[t]||(o[t]=[])).push(n)},t.prototype.off=function(e,t){if(!o[e])return!1;if(t)for(var n=0;n<o[e].length;n++)o[e][n]===t&&(o[e][n]=void 0);else delete o[e]},t.prototype.fire=function(e){var t=[].slice.call(arguments,1);if(void 0!==o[e])for(var n in o[e])if(o[e][n])try{o[e][n].apply(this,t)}catch(t){console.error("Error in event handler mbrAppCore::"+e),console.log(t)}},t.prototype.fireOnce=function(e){if(!(e in r)){var t=[].slice.call(arguments,1);for(var n in r[e]=t,o[e])if(o[e][n])try{o[e][n].apply(this,t),o[e][n]=void 0}catch(t){console.error("Error in event handler mbrAppCore::"+e,t)}}};var i={};t.prototype.addFilter=function(e,t){(i[e]||(i[e]=[])).push(t)},t.prototype.applyFilter=function(e){var t=[].slice.call(arguments,1);if(i[e])for(var n=i[e],o=0,r=n.length;o<r;o++)t[0]=n[o].apply(this,t),void 0===t[0]&&console.warn("handle of "+e+" filter return undefined: ",n[o]);return t[0]};var a={};t.prototype.regExtension=t.prototype.registerExtension=function(e){if(!e.name||void 0!==a[e.name])return!1;if(a[name]=e,e.global)for(var t in e.global)t in this?console.error("Error re-definition method mbrAppCore."+t+" by module "+e.name):this[t]=e.global[t];if(e.events)for(var n in e.events)this.on(n,e.events[n]);return!0},t.prototype.getResultProject=function(){var t=e.extend(!0,{},this.resultJSON);for(var n in t){var o=t[n],r=o.components;delete o.components,(o=this.cleanJSONPlease(o)).components=r;for(var i=0;i<r.length;i++)this.isSecondaryComponent(r[i])?r[i]=this.transformSecondaryComponentForProject(r[i]):r[i]=this.cleanJSONPlease(r[i])}return{settings:{currentPage:this.currentPage,uniqCompNum:this.uniqCompNum},pages:t}},t.prototype.getResultHTML=function(t,n){let o=this;if(!o.resultJSON[t]||!o.resultJSON[t].components)return!1;if(void 0!==n){let r=o.getComponent(n,t),i=o.prepareComponent(r),a=e("<div>").append(i);return o.loadEachComponent(r,a,o.resultJSON[t],t,!0),o.isSecondaryComponent(r)&&o.getSecondaryComponent(r),e.Deferred().resolve(a.find("[data-app-component-id="+n+"] .app-component-content"))}let r=o.resultJSON[t].components,i=o.prepareAllComponents(r),a=e("<div>").append(i);for(let e in r)o.loadEachComponent(r[e],a,o.resultJSON[t],t,!0),o.isSecondaryComponent(r[e])&&o.getSecondaryComponent(r[e]);return function(){let n=a.find("[data-app-component-id]"),r=e.Deferred(),i="";return function a(s){let l,c;s<n.length?(l=e(n[s]).attr("data-app-component-id"),c=o.getComponent(l,t),o.applyFilter("getResultComponent",e.Deferred().resolve(e(n[s]).find(".app-component-content"),c,t)).then((function(e,t,n){let r=o.cleanHTMLplease(e.html());r=o.applyFilter("getResultHTMLcomponent",r,t,n),i+=r+"\n\n",a(++s)}),(function(e){APP.showError(e)}))):r.resolve(i)}(0),r.promise()}()},t.prototype.loadProject=function(e){var t=this;return e&&e.pages&&"object"==typeof e.pages?(this.uniqCompNum=e.settings.uniqCompNum||0,this.loadPage(e.settings.currentPage,e).always((function(){t.resultJSON=e&&e.pages||{},t.currentPage=e&&e.settings&&e.settings.currentPage||""})).then((function(){t.fire("projectLoaded"),t.render()}))):(console.error("Error: project has no pages"),!1)},t.prototype.showDialog=function(e){return this.APP&&this.APP.showDialog?this.APP.showDialog(e):(console.warn("Error: mbrApp is not accessible"),e.buttons={success:{label:"Ok",className:"btn-primary",callback:e.success},cancel:{label:"Cancel",className:"btn-default",callback:e.cancel}},e.message=e.body,bootbox.dialog(e))},window.mbrAppCore=new t}(jQuery)},function(e,t){!function(e,t){"use strict";var n,o=e("#insertBefore");t.regExtension({name:"components-load",global:{clearBlocks:function(){this.fire("clearBlocks"),this.$template.html(""),this.fire("clearedBlocks")},prepareComponent:function(e){var n="";if("secondary"!=t.theme.type&&void 0===t.components[e._name]||void 0===e._id)return n;var o=!e._noDrag,r=e._alwaysBottom,i=e._alwaysTop,a=e._positionAbsolute,s=e._params;return n+=['<div class="app-component'+(o?"":" no-sortable")+(a?" pos-absolute":"")+'" data-app-component-id="'+e._id+'"'+(r?' data-app-always-bottom="true"':"")+(i?' data-app-always-top="true"':"")+">",'<div class="app-component-menu">','<div class="app-component-edit">',o?'<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>':"",s?'<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="Block Parameters"></span>':"",'<span class="mbr-btn component-remove mbr-icon-trash" data-tooltipster="bottom" title="Remove Block"></span>','<span class="mbr-btn component-show-more mbr-icon-horizontal-ellipsis" data-tooltipster="bottom" title="Show More"></span>',"</div>","</div>",'<div class="app-component-content"></div>',"</div>"].join(""),this.applyFilter("prepareComponent",n,e)},prepareAllComponents:function(e){var n="";for(var o in e=e.filter((function(e){return!Object.keys(t.APP.restrictedAddons).length||!t.APP.restrictedAddons[e.alias]})))e[o]._alwaysTop&&(n+=this.prepareComponent(e[o]));for(var o in e)e[o]._alwaysBottom||e[o]._alwaysTop||(n+=this.prepareComponent(e[o]));for(var o in e)e[o]._alwaysBottom&&(n+=this.prepareComponent(e[o]));return n},publishAssets:[],prepareComponentAssets:function(n){var r=t.components[n],i=(r.alias?t.APP.getAddonDir(r.alias):this.theme.pathExport+"/components")+"/"+n,a=r.alias?i:this.theme.pathCore+"/components/"+n;r._css&&(this.publishAssets.push({src:i+"/style.css",dest:"assets/mobirise/css/style.css"}),e("#CSS-"+n).length||o.before('<link id="CSS-'+n+'" rel="stylesheet" href="'+a+'/style.css">')),r._js&&(this.publishAssets.push({src:i+"/script.js",dest:"assets/mobirise/js/script.js"}),e("#JS-"+n).length||o.before('<script id="JS-'+n+'" src="'+a+'/script.js">'))},loadEachComponent:function(n,o,r,i,a){var s=n._name;if(t.isSecondaryComponent(n)&&n._cid&&!n._customHTML)console.log("Error: component '"+s+"' is broken");else if(a&&t.isSecondaryComponent(n)&&(n=e.extend(!0,{},n)),void 0!==n._id){var l=this.applyFilter("loadComponentTemplate",t.APP.cachedTemplates[s]||"",n,a,n._styles||{});if(l){if(void 0===n._anchor){var c=n._name.replace(/^pro\./i,"");c=c.replace(/\./g,"_")+"-",n._anchor=c+this.getUniqCompName()}this.fire("loadComponent",n,i,o);var u=e(document.createElement("DIV")).html(l).find("> *");if(u.find('[data-app-edit="content"], [data-app-edit="full"], [data-app-edit="buttons"], [data-app-edit="menu"]').each((function(){e(this).attr("mbr-content-edit",e(this).attr("mbr-html"))})),n._checkPublish=function(){return a},rivets.bind(u,n),o.find("[data-app-component-id="+n._id+"]").find("> .app-component-content").html(u),this.fire("loadedComponent",n,i,o,a),a&&n._publishFilter)try{n._publishFilter(o.find("[data-app-component-id="+n._id+"] > .app-component-content"),r)}catch(e){console.error("Error of _publishFilter of component("+n._id+") on the page("+i+"):",e)}}}else console.log("Error: component '"+s+"' is not initialized")},render:function(e,o){var r=this;clearTimeout(n),n=setTimeout((function(){r.fire("render",e);try{if(void 0!==e){var n=r.getComponent(e);if(r.loadEachComponent(n,r.$template,r.resultJSON[r.currentPage],r.currentPage,!1),void 0!==n._onParamsChange)try{n._onParamsChange(r.$template.find("[data-app-component-id="+e+"] > .app-component-content"))}catch(e){console.log("Error execution _onParamsChange of compoment(_name=",n&&n._name,", _id-",n&&n._id,"):",e)}}else{r.clearBlocks();var i=r.resultJSON[r.currentPage].components,a=r.prepareAllComponents(i),s=[],l=[];for(var c in r.$template.append(a),i){if(void 0!==(n=i[c])._id)if(t.isSecondaryComponent(n)&&n._cid&&!n._customHTML)console.log("Error: component '"+n._name+"' is broken"),s.push(n._id);else if(n.alias&&t.APP.restrictedAddons[n.alias])console.log("Error: component '"+n._name+"' is restricted"),l.push(n._id);else if(r.loadEachComponent(n,r.$template,r.resultJSON[r.currentPage],r.currentPage,!1),void 0!==n._onParamsChange)try{n._onParamsChange(r.$template.find("[data-app-component-id="+n._id+"] > .app-component-content"))}catch(e){console.log("Error execution _onParamsChange of compoment(_name=",n&&n._name,", _id-",n&&n._id,"):",e)}}s.length&&r.showDialog({title:t.APP.TR("Broken blocks were found. Remove them?"),cancelLabel:t.APP.TR("Skip"),successLabel:t.APP.TR("Remove"),success:()=>{r.resultJSON[r.currentPage].components=i.filter(e=>!s.includes(e._id)),t.APP.runSaveProject()},cancel:()=>{}}),l.length&&(r.resultJSON[r.currentPage].components=i.filter(e=>!l.includes(e._id)),t.APP.runSaveProject())}}catch(e){console.log(e)}r.fire("rendered",e),"function"==typeof o&&o()}),50)}},events:{}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";var n,o=e('<style name="theme-styles">').appendTo("body");function r(e){let n=t.getComponent(e);if(n._global&&Object.keys(this.resultJSON).length>1){let o=this.resultJSON,r=this.currentPage,i=[];if(n._once)for(let e in o)if(o.hasOwnProperty(e)&&e!==r){o[e].components.some((function(t,o,r){if(t._once===n._once)return i.push(e),!0}))}t.APP.confirmDlg(t.APP.TR("This block is global. Do you want to add it to all pages?"),(function(a){if(a)if(i.length){let o=t.APP.TR("Please remove $component$ on all pages").replace("$component$",n._once||n._name.replace(/[0-9]/g,""))+":<br/><br/>- "+i.join("<br/>- ");t.APP.alertDlg(o),t.removeComponent(e)}else for(let e in o)o.hasOwnProperty(e)&&e!==r&&o[e].components.push(n)}))}}t.regExtension({name:"components",global:{replaceSystemVariables:function(e,t){var n,o=this;if("string"==typeof e){if(/@USER_EMAIL@/g.test(e)){var r=(n=o.APP.getUserInfo())&&n.email?n.email:"";e=e.replace(/@USER_EMAIL@/g,r)}/@ADDON_DIR@/g.test(e)&&(e=e.replace(/@ADDON_DIR@/g,o.APP.path2core(o.APP.getAddonDir(t.alias||o.APP.theme.name))+(t.alias?"/":"/components/"))),e=o.applyFilter("replaceSystemVariables",e,t)}else if("object"==typeof e)for(var i in e)e[i]=o.replaceSystemVariables(e[i],t);return e},addComponent:function(n,o,r){var i=e.Deferred(),a=e.extend(!0,{},this.components[n]);o&&o.item&&o.where||(o=!1);var s=0;for(var l in this.APP.components)if(l===n){s=1;break}if(s||"secondary"!=!t.APP.theme.type){if((a=this.replaceSystemVariables(a,a))._once)for(var l in this.resultJSON[this.currentPage].components)if(this.resultJSON[this.currentPage].components[l]._name==n)return;var c;if(this.fire("addComponent",n),a._global)for(var l in this.resultJSON)for(var u in this.resultJSON[l].components)if(this.resultJSON[l].components[u]._global&&this.resultJSON[l].components[u]._name==n){for(var d in this.resultJSON[l].components[u])a[d]=this.resultJSON[l].components[u][d];c=!0}else;if(!c&&a._params)for(var l in a._params)a._params[l]=a._params[l].default;var f=this.resultJSON[this.currentPage].components.length;if(o)for(var l in this.resultJSON[this.currentPage].components)this.resultJSON[this.currentPage].components[l]._id==o.item&&(f="before"==o.where?l:parseFloat(l)+1);var p=this.uniqNum(),h=t.applyFilter("addComponent",e.extend(!0,a,{_name:n,_id:p}),c,r);return h&&"function"==typeof h.then?h.then((function(e){t.resultJSON[t.currentPage].components.splice(f,0,e),m()}),(function(e){t.render(void 0),i.reject()})):(t.resultJSON[t.currentPage].components.splice(f,0,h),m()),i.promise()}function m(){var n=t.resultJSON[t.currentPage].components[f],r=t.prepareComponent(n),a=0;if(!o||n._alwaysBottom||n._alwaysTop)if(n._alwaysTop)t.$template.prepend(r),a=0;else{var s=t.$template.find("[data-app-always-bottom]:eq(0)");s.length?s.before(r):t.$template.append(r),a=t.$template.height()}else{var l=t.$template.find("[data-app-component-id="+o.item+"]");"before"==o.where||l.attr("data-app-always-bottom")?(l.before(r),a=l.offset().top):(l.after(r),a=l.offset().top+l.height())}e("html").stop().animate({scrollTop:a},1e3),t.render(p),t.fire("addedComponent",p),i.resolve()}},getComponent:function(t,n,o){for(var r in n=n||this.currentPage,this.resultJSON[n].components)if(this.resultJSON[n].components[r]._id==t){var i="";return o?(delete(i=e.extend(!0,{},this.resultJSON[n].components[r]))._id,delete i._group):i=this.resultJSON[n].components[r],this.applyFilter("getComponent",i,t,n,o)}return this.applyFilter("getComponent",!1,t,n,o)},getNextComponent:function(e,t){var n;for(var o in t=t||this.currentPage,this.resultJSON[t].components){if(n)return this.applyFilter("getNextComponent",this.resultJSON[t].components[o],e,t);this.resultJSON[t].components[o]._id==e&&(n=!0)}return this.applyFilter("getNextComponent",!1,e,t)},getPrevComponent:function(e,t){t=t||this.currentPage;var n=!1;for(var o in this.resultJSON[t].components){if(this.resultJSON[t].components[o]._id==e)return this.applyFilter("getPrevComponent",n,e,t);n=this.resultJSON[t].components[o]}return this.applyFilter("getPrevComponent",!1,e,t)},removeComponent:function(e,t,n){for(var o in t=t||this.currentPage,this.resultJSON[t].components)if(this.resultJSON[t].components[o]._id==e){var r=this.getPrevComponent(e,t),i=this.getNextComponent(e,t),a=this.resultJSON[t].components[o]._name,s=this.$template.find("[data-app-component-id="+e+"]");if(this.fire("removeComponent",e,s,t),this.resultJSON[t].components.splice(o,1),t===this.currentPage&&(s.remove(),this.renderComponentsStyles()),this.fire("removedComponent",e,r,i,t),n)for(let e in this.resultJSON){this.resultJSON[e].components.forEach((function(e,t,n){e._name===a&&n.splice(t,1)}))}return!0}return!1},changeComponentPosition:function(e,t,n){!function(n){var o;for(var r in n)if(n[r]._id==e){o=n[r],n.splice(parseInt(r),1);break}if(void 0===t)n.splice(0,0,o);else for(var r in n)if(n[r]._id==t){n.splice(parseInt(r)+1,0,o);break}}(this.resultJSON[this.currentPage].components),this.fire("changedComponentPosition",e,n)},addComponentStyles:function(t,n,o,r){var i={},a=t.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),s=this.getComponent(a);if(i[n]=o,s&&!this.applyFilter("preventComponentStylesSave",!1,s,t,n,o,r)){var l=t.attr("data-app-selector")||(t.hasClass("btn")?".btn":"")||t.prop("tagName");("function"!=typeof s._onStylesChange||s._onStylesChange(t,n,o,l))&&(t.parents("[data-app-selector]").each((function(){l=e(this).attr("data-app-selector")+" "+l})),void 0===s._styles&&(s._styles={}),void 0===s._styles[l]&&(s._styles[l]={}),e.extend(s._styles[l],i),r&&(s._styles[l].googleLink=r),s._styles=this.applyFilter("addComponentStyles",s._styles,s,t,n,o,r),this.updateGlobalComponents(a,(function(e,t){t._styles=e._styles})),this.renderComponentsStyles())}},getComponentStyles:(n=function(){function e(e){this._rules="",this._googleLinks="",e&&this._compile(e,0)}return e.prototype._compile=function(e,t){for(var n="",o=0;o<t;o++)n+="  ";for(var r in e){var i=e[r];"object"==typeof i?(this._rules+=n+r+" {\n",this._compile(i,t+1),this._rules+=n+"}\n"):"googleLink"===r?this._googleLinks+="@import url("+i+");\n":this._rules+=n+r+": "+i+";\n"}},e.prototype.getRules=function(){return this._rules},e.prototype.getGoogleLinks=function(){return this._googleLinks},function(t){return new e(t)}}(),function(e,t){var o=e;"number"==typeof e&&(o=this.getComponent(e));var r=n(o._styles);return this.applyFilter("getComponentStyles",{css:r.getRules(),google:t?r.getGoogleLinks():""},o,t)}),renderComponentsStyles:function(t,n,r){var i="",a="";n=n||this.currentPage;var s=this.resultJSON[n].components;if(t=t||!1,r&&this.isSecondaryComponent(r)&&!t){var l=e.Deferred(),c=this.applyFilter("componentSelector","#"+r._anchor,r),u=this.getComponentStyles(r,t);return less.render(this.applyFilter("beforeRenderStylesForComponent",c+" {\n"+u.css+"}\n",r),(function(t,o){t?(l.reject(t),console.log("Error while page ("+n+") less render:",t)):(l.resolve(o),e('[data-app-component-id="'+r._id+'"] > style').html(o.css))})),l.promise()}for(var d in s)if(this.isSecondaryComponent(s[d])&&s[d]._cid&&!s[d]._customHTML)console.log((s[d]._name||"The Block")+" is broken. Skip style rendering");else{c=this.applyFilter("componentSelector","#"+s[d]._anchor,s[d]),u=this.getComponentStyles(s[d],t);if(!t&&this.isSecondaryComponent(s[d])){var f=e('[data-app-component-id="'+s[d]._id+'"]');f.find("> style").length||f.append("<style/>"),less.render(this.applyFilter("beforeRenderStylesForComponent",c+" {\n"+u.css+"}\n",s[d]),(function(e,t){e?(_this.APP.showError("The following error occured while creating the "+n+" page:<br>Less render in the "+s[d]._name+" block: "+e.message),f.find("> style").html("")):f.find("> style").html(t.css)}))}else i+="\n"+c+" {\n"+u.css+"}\n",a+=u.google}if(i=this.applyFilter("beforeRenderStyles",i,s,t,n,a),less.render(i,(function(e,t){e?console.log("Error while page ("+n+") less render:",e):i=t.css})),t)return i=a+i,this.applyFilter("afterRenderStyles",i,s,t,n,a);o.html(this.applyFilter("afterRenderStyles",i,s,t,n,a))},focusComponentBlock:function(n){var o=e('[data-app-component-id="'+n+'"]');if(!o.hasClass("focused")){var r=e("[data-app-component-id].focused");r.length&&t.fire("blurComponent",r.attr("data-app-component-id")),e("[data-app-component-id]").removeClass("focused"),"x"!==n?o.addClass("focused"):(t.$body.find(".note-popover > *").attr("style","display: none;"),t.$body.find(".sp-container").addClass("sp-hidden"),t.$body.find(".sp-replacer").css("visibility","hidden")),t.fire("focusedComponent","x"!=n&&n)}},getFocusedComponentBlockId:function(){return e("[data-app-component-id].focused").attr("data-app-component-id")},getComponentBlock:function(t){return e('[data-app-component-id="'+t+'"]').get(0)},convertComponentParams:function(t){t=e.extend(!0,{},t);var n={};for(var o in t)e.isArray(t[o])?(n[o]={},void 0!==t[o][0]&&(n[o].type=t[o][0]),void 0!==t[o][1]&&(n[o].title=t[o][1]),void 0!==t[o][2]&&(n[o].default=t[o][2]),void 0!==t[o][3]&&(n[o].values=t[o][3])):n[o]=t[o];return n},getComponentParams:function(e,n){var o=this.getComponent(e,!1,!n),r=this.convertComponentParams("secondary"==t.theme.type&&t.isSecondaryComponent(o)?o._params:this.components[o._name]._params);return this.applyFilter("getComponentParams",{current:o._params,default:r},e)},changeComponentParams:function(t,n,o){var r=this.getComponent(t),i=r._params,a=!1,s=this.$template.find("[data-app-component-id="+t+"] > .app-component-content");function l(t,n,o,r){if(a)if(e.isArray(t[n])&&"object"==typeof t[n][Object.keys(t[n])[0]])for(var i in o)e.extend(t[n][i],o[i]);else e.extend(t[n],o);else t[n]=o;r&&e.extend(t,r)}if(this.fire("changeComponentParams",t,n,o),n){if("bgImage"!==n&&"parallax"!==n&&"bgImageRadio"!==n||s.trigger("destroy.parallax"),"object"==typeof o){var c=0,u=0;for(var d in i[n])c++;for(var d in o)u++;a=u<=c}o=this.applyFilter("changeComponentParams",o,n,i,t),l(i,n,o),this.updateGlobalComponents(t,(function(e,t){l(t._params,n,o,e._params)}))}void 0!==r._onParamsChange&&r._onParamsChange(s,n,o),this.fire("changedComponentParams",t,n,o)},getComponentsAnchorList:function(e,n){var o="",r=1;for(var i in this.resultJSON[n||this.currentPage].components){var a=this.resultJSON[n||this.currentPage].components[i],s="";if(e=="#"+a._anchor&&(s='selected="selected"',r=1),void 0!==a._anchor&&!a._positionAbsolute&&!a._alwaysBottom){var l=(a.alias?t.APP.getAddonDir(a.alias):t.theme.path+"/components")+"/"+a._name+"/thumb.png",c=0===a._anchor.indexOf(a._name+"-")?a._anchor.charAt(0).toUpperCase()+a._anchor.slice(1).replace(/\d/," $&"):a._anchor;o+='<option data-tooltipster="right" data-tooltip-src="'+l+'" value="'+(n||this.currentPage)+"#"+a._anchor+'" '+s+">"+c+"</option>"}}return o='<option value="'+(n||"")+'#top" '+("top"==e?'selected="selected"':"")+">Top of Page</option>"+o+'<option value="'+(n||"")+'#bottom" '+("top"==e?'selected="selected"':"")+">Bottom of Page</option>",'<option value="" disabled="disabled" '+(r?'selected="selected"':"")+"></option>"+(o=this.applyFilter("getComponentsAnchorList",o,e))},updateGlobalComponents:function(e,n){var o=this.getComponent(e);if(o._global)for(var r in this.resultJSON)for(var i in this.resultJSON[r].components)this.resultJSON[r].components[i]._name==o._name&&this.resultJSON[r].components[i]._id!==o._id&&n&&n(o,this.resultJSON[r].components[i]);t.fire("updateGlobalComponents",e,n)}},events:{changeComponentPosition:function(e,t,n){this.changeComponentPosition(e,t,n)},rendered:function(e){this.renderComponentsStyles(),"number"==typeof e&&r.call(this,e)}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";let n=function(){let n=document.createElement("div");e(n).addClass("placeholderPage");let o=t.APP.TR('Click the "plus" $icon$ to add a new block.').replace("$icon$",'<br/><button class="placeholderPage__button mbr-btn btn-red"><i class="mbr-icon-plus"></i></button>');return e(n).append(t.APP.TR("This is a new empty page.")+"<br/>"+o),e(n).find("button").on("click",(function(n){setTimeout((function(){e(n.target).css({pointerEvents:"none"}),t.APP.$componentsToggleBtn.trigger("click")}),0)})),n};function o(o){let r=o||!1,i=t.currentPage,a=t.resultJSON[i].components.length;t.$body.find(".placeholderPage").length&&t.$body.find(".placeholderPage").remove(),r||a?r&&!a?e(document.body).append(n()):function(){let t=e(".placeholderPage");t.length&&t.remove()}():e(document.body).append(n())}t.regExtension({name:"pages",global:{getPages:function(){return this.applyFilter("getPages",e.extend(!0,{},this.resultJSON))},checkCurrentPage:function(e){return e===this.currentPage},getUniquePageName:function(e){if(!e){var t,n=0;for(t in this.resultJSON)this.resultJSON.hasOwnProperty(t)&&n++;e=n}return this.resultJSON["page"+e+".html"]?this.getUniquePageName(e+1):this.applyFilter("getUniquePageName","page"+e+".html",e)},getPageComponents:function(t){return t=t||this.currentPage,this.applyFilter("getPageComponents",!!this.resultJSON[t]&&e.extend(!0,{},this.resultJSON[t].components),t)},loadPage:function(n,o){var r=(o?o.pages:this.resultJSON)[n],i=[],a=[];if("object"!=typeof r||"object"!=typeof r.settings||"object"!=typeof r.components)return console.log("Error: error component list in page",n),e.Deferred().reject().promise();if(r.components.length&&"_id"in r.components[0])return e.when();for(var s=function(n){return(t.isSecondaryComponent(n)?e.Deferred().resolve(n).promise():t.APP.getRealComponent(n._name)).then((function(e){l.call(t,n,e)}))},l=function(n,o){if(o||(o={}),o._once){if(!(i.indexOf(o._once)<0))return console.log("Error: dublicate _once =",o._once,"at component",n._name),void r.components.splice(c,1);i.push(o._once)}if(n._id=this.uniqNum(),!this.isSecondaryComponent(o)){var a=e.extend({},n._params||{});for(var s in this.components[n._name])if(("function"==typeof this.components[n._name][s]||/_alwaysTop|_alwaysBottom|_positionAbsolute|_noDrag|_once|_group|_global|_autoPadding|_css|_js|_plugins|_afterNavbarItem/g.test(s)&&this.components[n._name][s])&&(n[s]=this.components[n._name][s]),"_params"===s){void 0===n[s]&&(n[s]={});var l=this.components[n._name][s],u={};for(var d in l)void 0===n[s][d]?u[d]=l[d].default:e.isArray(n[s][d])?u[d]=e.extend([],!0,n[s][d]):"object"==typeof n[s][d]?u[d]=e.extend({},!0,n[s][d]):u[d]=n[s][d];n[s]=u}"function"==typeof(n=t.replaceSystemVariables(n,n))._onLoadFromProject&&n._onLoadFromProject(this.components[n._name],a)}},c=0;c<r.components.length;){var u=r.components[c];function d(e,t){return"string"==typeof e&&("secondary"===t.theme.type||("pro.custom-html"===e||e in t.components))}u?d((u=this.applyFilter("loadingPageComponent",u,r))._name,this)?(a.push(s(u)),c++):(console.log('Error: component with name "'+u._name+'" is not registered, will be passed'),c++):(console.log("Warning: Empty component #",c,"in page",n,". Will be removed!"),r.components.splice(c,1))}return e.when.apply(e,a)},addPage:function(e){this.fire("addPage");var n=this.getUniquePageName(),o={settings:{},components:[]};if(t.APP&&/^(default|mobirise3|mobirise4)$/.test(t.APP.theme.name)){var r=t.APP.spinText("{Website|Website|Site|Web|Web Site|Web Page} {Builder|Builder|Creator|Maker|Generator}");o.settings.meta_descr=r+" Description"}e&&delete(o=t.APP.getResultPage(this.resultJSON[e])).settings.main;var i=/\d+/,a="Page"+(i.test(n)?" "+n.match(i):"");return o.settings.title=a,this.resultJSON[n]=this.applyFilter("addPage",o,n),this.fire("addedPage",n),{name:n,title:a}},removePage:function(e){return!!this.resultJSON[e]&&(this.fire("removePage",e),delete this.resultJSON[e],this.fire("removedPage",e),!0)},switchPage:function(n){return this.resultJSON[n]?(this.fire("switchPage",n),this.currentPage=n,this.loadPage(n).then((function(){t.render(),t.fire("switchedPage",n)}))):e.Deferred().reject().promise()},changePageSettings:function(e,t,n){if(this.fire("changePageSettings",e),"fileName"!==t)this.resultJSON[e].settings[t]=this.applyFilter("changePageSettings",n,t,e),this.fire("changedPageSettings",t,e);else{if(n=n.replace(/^[\.]+|["'\\\/\:\;<>]/g,"")){let e=n.split("."),t=e[e.length-1],o=["html","shtml","xml","php","asp","aspx","xhtml","htm","jsp","js"];(e.length<2||!o.includes(t))&&(n+=".html")}if(""!==n&&!this.resultJSON[n])return Object.defineProperty(this.resultJSON,n,Object.getOwnPropertyDescriptor(this.resultJSON,e)),delete this.resultJSON[e],this.currentPage==e&&(this.currentPage=this.applyFilter("changePageSettings",n,t,e)),this.fire("changedPageSettings",t,e),n}return""},getPagesList:function(e){var n="",o=1,r=t.APP.sortPagesByOrder(this.getPages());for(var i in r){var a="";e==i&&(a='selected="selected"',o=1);var s=t.APP.escapeHtml(r[i].settings.title?r[i].settings.title:i);n+='<option value="'+i+'" '+a+' data-text="'+s+'">'+s+"</option>"}return this.applyFilter("getPagesList",'<option value="" disabled="disabled" '+(o?'selected="selected"':"")+"></option>"+n,e)}},events:{rendered:function(e){o(e)},projectLoaded:function(){t.APP.on("hideComponents",(function(){t.$body.find(".placeholderPage__button").length&&t.$body.find(".placeholderPage__button").css({pointerEvents:""})}))},removedComponent:function(e){o(e)}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";e.fn.uncomment=function(t,n){e(this).contents().each((function(){if("IFRAME"===this.tagName);else if(t&&this.hasChildNodes())e(this).uncomment(t,n);else if(8==this.nodeType){if(n&&!RegExp(n,"g").test(this.nodeValue))return;e(this).remove()}}))};var n=function(e,t,o){var r=e.replace(t,o);return r===e?r:n(r,t,o)};t.regExtension({name:"cleaners",global:{cleanHTMLplease:function(t,o){var r="string"==typeof t,i="object"==typeof t&&!!t.jQuery;return r||i?((t=e("<div>").html(t)).find("b:not([class])").each((function(){e(this).replaceWith(e("<strong>"+this.innerHTML+"</strong>"))})),t.find("i:not([class])").each((function(){e(this).replaceWith(e("<em>"+this.innerHTML+"</em>"))})),t.find("[data-app-remove-it]").remove(),t.find("[data-app-edit], [data-app-btn]").removeAttr("data-app-edit contenteditable id"+(o?"":" data-app-btn data-app-list-item")).removeClass("note-air-editor note-editable"),t.find("*").each((function(){for(var t="",n=0,o=this.attributes,r=o.length;n<r;n++)/mbr-/g.test(o[n].nodeName)&&(t+=o[n].nodeName+" ");e(this).removeAttr(t)})),t.uncomment(!0,"rivets:"),o||(t.find(".mbr-menu-item").removeClass("mbr-menu-item"),t.find("[data-toolbar]").removeAttr("data-toolbar"),t.find("[data-app-placeholder]").removeAttr("data-app-placeholder"),t.find("[data-app-selector]").removeAttr("data-app-selector"),t.find("[data-multiline]").removeAttr("data-multiline")),t.find("[data-app-img-width], [data-app-img-height]").removeAttr("data-app-img-width data-app-img-height"),t=this.applyFilter("cleanHTMLplease",t,o),t=r?(t=t.html()).replace(/(<iframe\b[^>]*>)(.*?)(<\/iframe>)/g,(function(t,o,r,i){return r=n(r,/\&amp;/g,"&"),o+(r=e("<textarea/>").html(r).text())+i})):t.unwrap()):t},isSerializableObject:function(t){return"object"==typeof t&&(Array.isArray(t)||e.isPlainObject(t))},cleanJSONPlease:function(e,t){if(this.isSerializableObject(e))for(var n in e)/_id|_alwaysTop|_alwaysBottom|_positionAbsolute|_noDrag|_once|_group|_global|_autoPadding|_css|_js|_plugins/g.test(n)||"function"==typeof e[n]?t||delete e[n]:e[n]=this.cleanJSONPlease(e[n],t);else"string"==typeof e&&/data-app-btn=|contenteditable=|note-editable/g.test(e)&&(e=this.cleanHTMLplease(e,!0));return e}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";var n=e(['<div class="note-button-popover popover in bottom">','<div class="arrow"></div>','<div class="popover-content">','<div class="btn-group">','<button type="button" class="btn btn-default btn-sm" tabindex="-1" data-event="changeImage" data-media="image"><i class="mbr-icon-image"></i></button>','<button type="button" class="btn btn-default btn-sm" tabindex="-1" data-event="changeVideo" data-media="video"><i class="mbr-icon-youtube"></i></button>',"</div>","</div>","</div>"].join("\n")).hide().appendTo(e('<div class="note-popover note-air-layout">').appendTo("body"));t.regExtension({name:"plugin-media-editor",global:{showMediaPopover:function(t){n.mediaItem=t;var o=t.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),r=t.attr("mbr-media")||t.attr("mbr-pure-media"),i=this.getComponent(o),a=[];if(n.find("[data-media]").each((function(){var t=i[r][e(this).attr("data-media")];e(this)[t?"show":"hide"](),t&&a.push(e(this))})),1!=a.length){if(a.length){this.fire("showMediaPopover",n);o=t.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");var s={top:t.offset().top+t.height()/2,left:t.offset().left-n.width()/2+t.width()/2};n.css(s).show(),this.focusComponentBlock(o),this.fire("showedMediaPopover",n),this.fire("showedPopover")}}else a[0].click()},hideMediaPopover:function(){this.fire("hideMediaPopover",n),n.mediaItem=void 0,n.hide(),this.fire("hiddenMediaPopover",n)}},events:{load:function(){var t=this;t.$body.on("click","[mbr-media],[mbr-pure-media]",(function(n){n.stopPropagation(),n.preventDefault(),t.showMediaPopover(e(this))})),n.on("click","[data-event]",(function(o){o.preventDefault(),o.stopPropagation();var r=e(this).attr("data-event"),i=n.mediaItem;if(i){var a=i.attr("mbr-media")||i.attr("mbr-pure-media");if(a){var s=i.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),l=t.getComponent(s),c=e.extend({},l[a]);for(var u in c)"object"!=typeof c[u]&&(c[u]={});"changeImage"==r?t.APP.showMediaImageDialog(c,d,"","","",s):"changeVideo"==r&&t.APP.showMediaVideoDialog(c,d),t.fire("changeMediaItem",r,c,d,i.get(0)),t.fire("clickOnMediaItem",r,l,n),t.hideMediaPopover()}}function d(n){l[a]=n,t.fire("saveMedia",s,a,n),t.updateGlobalComponents(s,(function(t,n){if(a)return e.extend(!0,n[a],t[a]),n}))}})),e(window).on("resize",(function(){t.hideMediaPopover()})),t.on("summernoteFocus",(function(){t.hideMediaPopover()})),t.APP.on("componentClicked",(function(e){t.hideMediaPopover()}))}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";var n,o,r='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]',i=!0;t.regExtension({name:"plugin-summernote",global:{initSummernote:function(t){var i=this,a=(t=t||i.$template).is(r)?t:t.find(r);a.attr("contenteditable",!0),clearTimeout(n),n=setTimeout((function(){a=i.applyFilter("summernoteEditableItems",a,t,!1),o=a.get(0),a.filter(":not(.note-air-editor)").each((function(){if(!e(this).is(".note-air-editor")){var t;if(e(this).is("[data-app-btn]")){var n=e(this).parents("[data-app-edit]:eq(0)").attr("data-toolbar")||!1;n&&e(this).attr("data-toolbar",n)}e(this).is('[data-app-edit="full"]');t=[["font",["bold","italic"]],["mbrLink",["mbrLink"]],["mbrFonts",["mbrColor"],{optional:["mbrFonts","mbrFontSize"]}],["mbrAlign",["mbrAlign"]]],t=i.applyFilter("summernoteMakePopover",t,a),e(this).summernote(i.applyFilter("summernoteOptions",{airMode:!0,styleWithSpan:!1,focus:!0,airPopover:t,onFocus:function(e){i.APP.hideComponentParams(),i.fire("summernoteFocus",this,e)},onBlur:function(e){i.fire("summernoteBlur",this,e)},onPaste:function(t){var n=((t.originalEvent||t).clipboardData||window.clipboardData).getData("text/plain"),o=!0;e(this).is("p, span, a, .btn, button, strong, b, em, i, small, code, label")&&(n=n.replace(/\n/g,"<br>"),o=!1),t.preventDefault(),n=i.applyFilter("summernotePaste",n),document.execCommand(o?"insertText":"insertHTML",!1,n)},onKeydown:function(e){32==e.keyCode&&e.stopPropagation(),i.fire("summernoteKeydown",this,e)}},a)),i.fire("summernoteInited",this)}}))}),100)},destroySummernote:function(e){var t=(e=e||this.$template).is(r)?e:e.find(r);(t=this.applyFilter("summernoteEditableItems",t,e,!0)).filter("[contenteditable]").destroy(),o=void 0},changeSummernote:function(e){if(!e.is("[data-app-btn]")||e.attr("data-app-edit")||(e=e.parents("[data-app-edit]:eq(0)")).length){var t=this,n=e.parents(".app-component").attr("data-app-component-id");setTimeout((function(){t.updateGlobalComponents(n,(function(e,t){for(var n in t)("_customHTML"===n||"object"!=typeof t[n]&&"function"!=typeof t[n]&&!/^_/g.test(n))&&(t[n]=e[n])}))}),0)}}},events:{load:function(){var n,i,a,s,l=this;t.$template.on("mousedown",(function(n){let i=e(n.target);if(i.is(r)||(i=i.parents(r)),o&&o!=i[0]&&l.destroySummernote(),i[0]){if(e(n.target).is(".mbr-iconfont")){var a=e(n.target);return t.summernoteIconRequest(n.target,i[0],(function(e){arguments.length&&(e&&(i.is("[data-app-btn]")?i.prepend(e):a.after(e)),a.remove(),i.blur())})),!1}l.initSummernote(i)}})),t.APP.on("showedPopup",(function(){this.$body.find(".note-popover > *").attr("style","display: none;")})),n=e.summernote.eventHandler.modules.popover,a=function(t,n,o){setTimeout((function(){var o=e(n.range.sc).closest(r);l.fire("summernotePopoverUpdate",t.children(":visible").get(0),o.get(0),n)}),0)},s=n[i="update"],n[i]=function(){var e=Array.prototype.slice.call(arguments);s.apply(this,e);try{a.apply(this,e)}catch(e){}}},rendered:function(){},changedComponentParams:function(n){var o=e(t.getComponentBlock(n));this.destroySummernote(o)},removeComponent:function(e,t){this.destroySummernote(t)},clearBlocks:function(){this.destroySummernote()},rivetsBlur:function(t){this.changeSummernote(e(t))},showedPopover:function(){this.destroySummernote()},summernotePopoverUpdate:function(t,n){if(i){i=!1,setTimeout((function(){i=!0}),0);for(var o=[],r=e(t).find(".popover-content");r.width()>window.innerWidth;){var a=r.find("> .btn-group:visible:last > *:visible").parent().hide();o.push(a)}var s=r.find("> .btn-group:visible > *:visible").closest(".btn-group");o.length>0&&(r.append('<div class="btn-group note-show-more"><button data-toggle="tooltip" type="button" class="btn btn-default btn-sm" title="" tabindex="-1" data-original-title="Insert icon"><i class="mbr-icon-more-horizontal"></i></button></div>'),r.find(".note-show-more").click((function(e){r.find(".note-show-more").is(":first-child")?r.hide("slide",{direction:"right"},700,(function(){s.show(),o.forEach((function(e){e.hide()})),r.find(".note-show-more").appendTo(r),r.show("slide",{direction:"left"},700,(function(){}))})):r.hide("slide",{direction:"left"},700,(function(){s.hide(),o.forEach((function(e){e.show()})),r.find(".note-show-more").prependTo(r),r.show("slide",{direction:"right"},700,(function(){}))}))})))}}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";var n,o={class:"mbr-iconfont",linkInNewWindow:!1};function r(e){return t.APP.createIconFont(e)}function i(){for(var e in t.APP.iconFonts)return!0;return!1}for(var a in e.summernote.plugins)"iconFont"==e.summernote.plugins[a].name&&(n=e.summernote.plugins[a]);n?t.regExtension({name:"iconfont",global:{summernoteIconRequest:function(n,i,a){var s=function(e){return t.APP.extractIconFont(e)}(n);s.name||(n=0);var l=e(i).attr("data-app-btn");l&&(s.size=s.size||"",delete s.link,s.class="mbr-iconfont mbr-iconfont-btn"+("true"==l?"":"-"+l.replace(/\s+/,"_")));var c=e(n||i),u={size:c.attr("data-app-btn")?Math.round(c.outerHeight()/2):parseInt(c.css("font-size"))||12,color:c.css("color")};t.APP.runIconFontDialog(s,u,(function(t){a&&(arguments.length?(t=t&&e.extend({},o,t),a(t&&r(t))):a())}))},showMediaIconFontDialog:function(n,r,i){var a=e.extend({},n.iconFont),s={size:parseInt(e(i).height()),color:e(i).css("color"),name:a.name};delete a.name,t.fire("showMediaIconFontDialog");var l=e(i).attr("mbr-media")||e(i).attr("logo");function c(t,n){if(l){for(var o in e.extend(!0,n[l],t[l]),n[l])n[l][o].active=void 0;return n[l].iconFont.active=!0,n}}var u=t.APP.runIconFontDialog(a,s,(function(a){if(a){for(var s in n.iconFont=e.extend({},o,a),n)n[s].active=void 0;n.iconFont.active=!0,n=t.applyFilter("saveMediaIconFontDialog",n),t.fire("saveMediaIconFontDialog");var l=e(i).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");r(n),t.updateGlobalComponents(l,c),t.fire("savedMediaIconFontDialog",i,n,l)}}));t.fire("showedMediaIconFontDialog",u),t.APP.fire("showedPopup",u)}},events:{load:function(){if(i()){var t=e("[data-event=changeImage]").parent();t.each((function(){var o=e(this);if(!t.find("[data-event=changeIconfont]").length){var r=e.summernote.options,i=e.summernote.lang[r.lang];e(n.buttons.iconFont(i,r)).attr("data-event","changeIconfont").attr("data-media","iconFont").appendTo(o)}}))}},summernoteInited:function(t){if(i()){var n=e.summernote.core.dom.makeLayoutInfo(e(t)),o=n.editor().data("options");!e(t).attr("data-app-btn")||o.customToolbar&&"off"===o.customToolbar.iconFont||(e(t).summernote("popover.addGroup",["iconFont",["iconFont"],{optional:!0}]),n.popover().find("[data-event=insertIconFontDialog]").tooltip({container:"body",trigger:"hover",placement:"top"}))}},changeMediaItem:function(e,t,n,o){"changeIconfont"==e&&this.showMediaIconFontDialog(t,n,o)}}}):console.log("Error: iconFont summernote plugin not found")}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";mbrAppCore.regExtension({name:"plugin-tooltips",global:{initTooltips:function(){e.fn.tooltip&&this.$template.find('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each((function(){e(this).tooltipster({delay:0,speed:100,position:e(this).attr("data-tooltipster")||e(this).attr("data-placement")||"bottom"})}))},destroyTooltips:function(t){e.fn.tooltip&&(t=t||this.$template).find("[data-tooltipster].tooltipstered").tooltipster("destroy")}},events:{addedComponent:function(){this.initTooltips()},rendered:function(){this.initTooltips()},removeComponent:function(e,t){this.destroyTooltips(t)},removePage:function(){this.destroyTooltips()},switchPage:function(){this.destroyTooltips()}}})}(jQuery)},function(e,t){!function(e,t){"use strict";t.regExtension({name:"plugin-sortable",events:{load:function(){var n,o,r,i=!1;t.$template.sortable({axis:"y",items:"> div:not(.no-sortable)",handle:".sortable",placeholder:"ui-sortable-placeholder",scrollSpeed:50}).on("sortstart",(function(e,o){t.fire("startChangeComponentPosition"),t.focusComponentBlock("x"),i=!0,t.APP.$iframe.hasClass("desktop")&&(t.APP.$iframe.closest(".app-template").addClass("scaled sorting"),t.APP.$body.addClass("sorting"),t.$body.addClass("scaled"),t.$template.addClass("scaled")),t.APP.isAMP()||o.helper.find(".app-component-content > section").jarallax("destroy").css("position",""),n=o.item.prev(":not(.no-sortable)").data("app-component-id")})).on("sortstop",(function(e,r){i=!1,t.APP.$iframe.closest(".app-template").removeClass("scaled sorting"),t.APP.$body.removeClass("sorting"),t.$body.removeClass("scaled"),t.$template.removeClass("scaled"),t.APP.isAMP()||(r?r.item.find(".mbr-parallax-background").jarallax({speed:.6}).css("position","relative"):t.$template.find(".app-component > .mbr-parallax-background").jarallax({speed:.6}).css("position","relative")),r&&(o=r.item.prev(":not(.no-sortable)").data("app-component-id")),r&&n!==o&&t.fire("changeComponentPosition",r.item.data("app-component-id"),o,n)})),e.fn.scrollParent=(r=e.fn.scrollParent,function(){return this[0].parentNode===t.$template[0]?e(this[0].ownerDocument):r.apply(this,arguments)}),t.APP.$body.on("mouseup touchend",(function(e){i&&t.$template.trigger("sortstop")}))}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";function n(e){return e.is("[mbr-buttons], [mbr-menu]")}let o,r;function i(t){let n=e.summernote.eventHandler,o=e.summernote.core.dom.makeLayoutInfo(t);n.updateStyleInfo(n.modules.editor.currentStyle(o.editable()),o)}rivets.binders["class-var"]={bind:function(t,o){var r=this,i=e(t);i.off("blur.style").on("blur.style",n(i)?"a":null,(function(e){r.observer.setValue(i.attr("data-class-var"))}))},unbind:function(t,n){e(t).off("blur.style"),e(t).removeAttr("data-class-var")},routine:function(t,o){var r=this.getValue(t),i=e(t).attr("data-class-var",o);n(i)&&(i=i.find("a")),r&&i.removeClass(r),o&&i.addClass(o)},getValue:function(t){return e(t).attr("data-class-var")}};var a={name:"mbrStyle",className:"note-current-mbrStyle",title:"Font",label:"[...]",itemsHtml:"",onUpdate:function(a,s,l){if(a=e(a).closest("[mbr-class-var]"),!(l.range&&l.range.isCollapsed())&&!n(a))return s.hide(),void(!a.length||o===l.range.so&&r===l.range.eo||(i(a),o=l.range.so,r=l.range.eo));if(!function(e,n){if(e.find("li").length>1)return!0;var o="",r=0;if(t.eachStylesForNode(n,(function(e,n){o+='<li><a data-event="mbrStyle" href="javascript:void(0);"data-value="'+e+'"><span class="'+e+'">'+n+"</span>"+t.applyFilter("buttonFontSiteStyleIcon","")+"</a></li>",r=Math.max(r,n.length)})),!o)return!1;var i=Math.min(200,54+18*r/2+15),a=e.find("ul");return a.html(o),a.css("min-width",i+"px"),!0}(s,a))return s.hide(),void(!a.length||o===l.range.so&&r===l.range.eo||(i(a),o=l.range.so,r=l.range.eo));s.show();var c=a.attr("data-class-var");c||t.eachStylesForNode(a,(function(t){e(a).hasClass(t)&&(c=t)})),s.find("li").removeClass("selected");var u=s.find('li [data-value="'+c+'"]');u.parent().addClass("selected"),s.find(".mbr-icon-paint-brush").tooltip({container:"body",trigger:"hover",placement:"top"}),s.find(".note-current-mbrStyle").attr("class","note-current-mbrStyle "+c).html(u.text())},onAction:function(o,r,i){if(i.editable().focus(),e(o.target).is(".mbr-icon-paint-brush"))setTimeout((function(){var e=i.editor().closest("[data-class-var]").attr("data-class-var");t.APP.openThemeSettings(),t.APP.ToogleThemeSettings.target.$elm.find('.app-layer-group[data-group-name="'+e+'"]').addClass("selected")}),100);else{var a=e(o.target).closest("a").attr("data-value");a&&(!function(o,r){if((o=e(o).closest("[data-class-var]")).attr("data-class-var")==r)return;var i=n(o)?o.find("a"):o,a=[];t.eachStylesForNode(o,(function(e){a.push(e)})),a.length&&i.removeClass(a.join(" "));i.addClass(r),o.attr("data-class-var",r).trigger(e.Event("change-theme-style",{themeStyle:r}))}(i.editable(),a),setTimeout((function(){var t=e.summernote.eventHandler;t.updateStyleInfo(t.modules.editor.currentStyle(i.editable()),i)}),250))}}};var s=e.summernote.renderer.getTemplate();t.regExtension({name:"plugin-element-class",global:{registeredSummernoteButtons:[],regSummernoteButton:function(t){t.event=t.event||t.name;var n=t.name,o={name:t.name,buttons:{},events:{},langs:{"en-US":{}}};o.buttons[t.name]=function(e,o){var r='<span class="'+t.className+'">'+t.label+"</span>",i={title:e[n][t.name],hide:t.hide||!1,event:t.event,name:t.name};return"itemsHtml"in t&&(i.dropdown='<ul class="dropdown-menu note-check">'+t.itemsHtml+"</ul>"),t.onInit&&t.onInit(i),s.button(r,i)},o.events[t.name]=function(e,n,o){t.onAction&&t.onAction(e,n,o)},o.langs["en-US"][n]={},o.langs["en-US"][n][t.name]=t.title,e.summernote.addPlugin(o),this.registeredSummernoteButtons.push(t)},eachStylesForNode:function(t,n){t=e(t).closest("[mbr-class-var]");var o=function(e){e=e.split(".");for(var t=window,n=0;t&&n<e.length;n++)t=t[e[n]];return t}("window.mbrAppCore.APP.theme.params.theme.settings")||[],r=[];for(var i in o){var a=o[i];if(a&&"group"==a.type&&"rule"in a&&t.is(a.rule)){if(!a.name||r.indexOf(a.name)>=0){console.warn("Wrong name of theme style from theme.settings["+i+"]: {"+a.name+","+a.title+"}. Passed...");continue}r.push(a.name),n(a.name,a.title||a.name)}}}},events:{load:function(){t.addFilter("cleanHTMLplease",(function(e,t){return e.find("[data-class-var]").removeAttr("data-class-var"),e})),t.addFilter("summernoteMakePopover",(function(e,t){return e.unshift(["mbrStyle",["mbrStyle"]]),e})),t.addFilter("summernoteOptions",(function(t,n){return n.closest("[data-class-var]").length&&(t.customToolbar||(t.customToolbar={}),e.extend(t.customToolbar,{mbrFonts:"off",mbrFontSize:"off"})),n.hasClass("dropdown-toggle")&&(t.customToolbar=e.extend(t.customToolbar||{},{mbrLink:"off"})),t})),t.regSummernoteButton(a),t.APP.on("openThemeSettings",(function(){t.APP.ToogleThemeSettings.target.$elm.find("[data-group-name]").removeClass("selected")})),t.APP.on("change.Node.SecondaryComponent",(function(t){var n=t[0],o=t[1];if("buttons"==n.target.type||"menu"==n.target.type){var r=e(n.originalEvent.target).attr("data-class-var");r&&(t[1]=e("<div/>").append(o).find("a").removeClass(r).end().html())}}))},summernotePopoverUpdate:function(n,o,r){if(e(o).parent(".dropdown").parent(".nav-dropdown").length&&e(n).hasClass("bottom")){let o,r=e(n),i=r.height();o=t.APP.appSettings.fullscreenCanvas?parseInt(r.css("top"))-1.2*i:parseInt(r.css("top"))-1.5*i,r.css("top",o)}for(var i=0;i<this.registeredSummernoteButtons.length;i++){var a=this.registeredSummernoteButtons[i];if(a.onUpdate){var s=e(n).find('[data-name="'+a.name+'"]');s.length&&a.onUpdate(o,s,r)}}}}})}(jQuery,mbrAppCore)},function(e,t){!function(e,t){"use strict";var n;t.regExtension({name:"builder/migrate",global:{showMediaImageDialog:function(e,n,o){return console.warn("mbrAppCore.showMediaImageDialog is depricated, use mbrApp.showMediaImageDialog instead"),t.APP.showMediaImageDialog(e,n,o)},showMediaVideoDialog:function(e,n){return console.warn("mbrAppCore.showMediaVideoDialog is depricated, use mbrApp.showMediaVideoDialog instead"),t.APP.showMediaVideoDialog(e,n)}},events:{load:function(){t.APP.on("saveMediaImageDialog",(function(e){t.fire("saveMediaImageDialog",e)})),t.APP.on("openThemeSettings",(function(){"secondary"===t.APP.theme.type&&t.APP.hasThemeSettings(t.APP.theme.params)&&t.APP.$themeToggleBtn.css("visibility","visible")})),t.addFilter("loadingPageComponent",(function(e,t){if("menu"==e._name&&(e._params&&void 0!==e._params.brand&&(e.brand='<a href="#">'+e._params.brand+"</a>",delete e._params.brand),e._params&&void 0!==e._params.items)){var n="";for(var o in e._params.items)n+='<li><a href="'+e._params.items[o].href+'" data-app-btn="true" class="mbr-menu-item">'+e._params.items[o].title+"</a></li>";e.items='<ul class="nav nav-pills pull-right">'+n+"</ul>",delete e._params.items}e._anchor&&(e._anchor=e._anchor.replace(/\./i,"_"));var r={};for(var i in"menu"!=e._name&&"ext.menu"!=e._name&&"contacts1"!=e._name||e.logo&&"object"!=typeof e.logo&&(r.logo={image:{src:e.logo,class:"contacts1"==e._name?"mbr-contacts__img mbr-contacts__img--left":"mbr-navbar__brand-img mbr-brand__img",height:128}}),"features1"==e._name&&(e.img1&&"object"!=typeof e.img1&&(r.media1={image:{src:e.img1,width:600}},delete e.img1),e.img2&&"object"!=typeof e.img2&&(r.media2={image:{src:e.img2,width:600}},delete e.img2),e.img3&&"object"!=typeof e.img3&&(r.media3={image:{src:e.img3,width:600}},delete e.img3),e.img4&&"object"!=typeof e.img4&&(r.media4={image:{src:e.img4,width:600}},delete e.img4)),"msg-box5"!=e._name&&"msg-box4"!=e._name||e.image&&"object"!=typeof e.image&&(r.media={image:{src:e.image,class:"mbr-figure__img",width:1400}},e._params&&e._params.video&&(r.media.video={src:e._params.video.url,class:"mbr-figure__img",aspectratio:e._params.video.aspectratio,autoplay:e._params.video.autoplay,loop:e._params.video.loop},e._params.isVideo&&(r.media.video.active=!0)),delete e.image),"image1"!=e._name&&"video1"!=e._name&&"image2"!=e._name&&"video2"!=e._name||(e.image&&"object"!=typeof e.image||e._params&&e._params.video)&&(r.media={image:{src:e.image||"images/slide3.jpg",class:"mbr-figure__img",width:1400},video:{class:"mbr-figure__img",src:e._params&&e._params.video?e._params.video.url:"http://www.youtube.com/embed/sOSTC6FM6Bw"}},e._params&&e._params.video&&(r.media.video.active=!0),delete e.image),r)e[i]=r[i];return e})),t.addFilter("summernoteMakePopover",(function(e,t){if(void 0===n){var o=function(e){e=e.split(".");for(var t=window,n=0;t&&n<e.length;n++)t=t[e[n]];return t}("window.mbrAppCore.APP.theme.params.theme.settings");if(o){for(var r in n=!1,o){var i=o[r];if(i&&"group"==i.type&&"rule"in i){n=!0;break}}}}if(!n)for(var a=e.length;a>=0;a--)if(e[a]&&"mbrFonts"==e[a][0]){e[a][1]&&e[a][1].indexOf("mbrFonts")<0&&e[a][1].unshift("mbrFonts"),e[a][1]&&e[a][1].indexOf("mbrFontSize")<0&&e[a][1].unshift("mbrFontSize");break}return e})),t.addFilter("summernoteOptions",(function(e,o){return n||(e.shortMode=!0),e.isSecondaryComponent=t.APP.isSecondaryComponent(o.closest("[data-app-component-id]").attr("data-app-component-id")),e}))}}})}(jQuery,mbrAppCore)},function(e,t){e.exports=CodeMirror}]);